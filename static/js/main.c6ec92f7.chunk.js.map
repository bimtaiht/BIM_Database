{"version":3,"sources":["model/text/TextState.js","model/text/TextVM.js","model/text/TextVMUtil.js","model/input/InputView.js","util/apiUtil.js","model/main/entity/mass/MassType.js","model/main/entity/mass/item/MassItemField.js","util/generalUtil.js","model/main/entity/mass/table/MassColumn.js","model/text/TextView.js","model/main/single/model/CategoryData.js","model/main/single/model/CategoryDataUtil.js","model/main/entity/filter/FilterCategoryType.js","model/main/entity/filter/FilterValueType.js","model/main/entity/filter/StringFilterType.js","model/main/entity/filter/NumberFilterType.js","model/main/entity/filter/EntFilterUtil.js","model/main/entity/filter/EntFilter.js","model/main/entity/mass/table/rowgroup/MGI_I_CreateType.js","model/main/entity/mass/table/rowgroup/MGI_ItemUtil.js","model/main/entity/mass/table/rowgroup/MGI_Item.js","model/main/entity/mass/table/rowgroup/MassGroupItem.js","model/main/entity/mass/table/rowgroup/MassGroupComponent.js","model/main/entity/mass/table/rowgroup/MassGroupComponentUtil.js","model/main/entity/mass/table/rowgroup/MassGroupItemUtil.js","model/select/MultiSelectVMUtil.js","model/select/MultiSelectVM.js","model/select/MultiSelectView.js","model/hover/EntHoverVM.js","model/hover/EntHoverView.js","model/select/SelectVMUtil.js","model/select/SelectVM.js","model/float/FloatItemVM.js","model/float/FloatItemVMUtil.js","model/float/FloatItemView.js","model/select/SelectView.js","model/main/entity/mass/table/location/RRLF_LocationType.js","model/main/entity/mass/table/location/ReplaceRowLocationFactory.js","model/main/entity/mass/table/location/ReplaceRowLocationFactoryUtil.js","model/main/entity/mass/table/MassRow.js","model/main/entity/mass/table/MassRowUtil.js","model/main/entity/mass/table/MassCell.js","model/main/entity/mass/table/MassCellUtil.js","model/main/entity/mass/table/MassTableUtil.js","model/main/entity/setting/base/SettingType.js","model/main/entity/setting/base/Setting.js","model/main/entity/setting/massGroup/MassGroupSettingData.js","model/main/entity/mass/MassPropertyName.js","model/main/entity/setting/massGroup/MassGroupSettingDataUtil.js","model/main/entity/setting/massGroup/MassGroupSetting.js","model/main/entity/setting/massGroup/MassGroupSettingUtil.js","model/main/entity/workpackage/WorkpackageVM.js","model/main/entity/workpackage/WorkpackageVMUtil.js","model/checkbox/CheckboxVM.js","model/checkbox/CheckboxVMUtil.js","model/main/entity/workpackage/WorkpackageInputVM.js","model/main/entity/workpackage/WorkpackageInputVMUtil.js","model/main/entity/workpackage/Workpackage_DictVMUtil.js","model/main/entity/setting/elementFilter/ElementFilterSetting_DictVM.js","model/main/entity/setting/base/SettingVM.js","model/main/entity/setting/elementFilter/ElementFilterSettingVM.js","model/main/entity/filter/EntFilterVM.js","model/main/entity/filter/EntFilterVMUtil.js","model/main/entity/setting/elementFilter/ElementFilterSettingDataVM.js","model/main/entity/setting/elementFilter/ElementFilterSettingDataVMUtil.js","model/main/entity/setting/elementFilter/ElementFilterSettingVMUtil.js","model/main/entity/setting/base/SettingVMUtil.js","model/main/entity/setting/base/SettingInputVM.js","model/main/entity/setting/elementFilter/ElementFilterSettingInputVM.js","model/main/entity/setting/elementFilter/ElementFilterSetting_DictVMUtil.js","model/main/entity/setting/elementFilter/ElementFilterSettingInputVMUtil.js","model/main/entity/setting/massExport/exportSetting/MES_ValueSettingVM.js","model/main/entity/setting/massExport/exportSetting/MES_ValueSettingVMUtil.js","model/main/entity/setting/massExport/exportSetting/MES_ValueSetting.js","model/main/entity/setting/massExport/exportSetting/MES_ValueRetrieveType.js","model/main/entity/setting/massExport/exportSetting/MES_ValueSettingUtil.js","model/main/entity/setting/massExport/MassExportSettingDataVM.js","model/main/entity/setting/massExport/MassExportSettingDataVMUtil.js","model/main/entity/setting/massExport/MassExportSettingVM.js","model/main/entity/setting/massExport/MassExportSettingVMUtil.js","model/main/entity/setting/massExport/MassExportSettingInputVM.js","model/main/entity/setting/massExport/MassExportSetting_DictVM.js","model/main/entity/setting/massExport/MassExportSetting_DictVMUtil.js","model/main/entity/setting/massExport/MassExportSettingInputVMUtil.js","model/main/entity/setting/massGroup/MassGroupSetting_DictVM.js","model/main/entity/setting/massGroup/MassGroupSetting_DictVMUtil.js","model/main/entity/phase/PhaseVM.js","model/main/entity/phase/PhaseVMUtil.js","model/main/entity/state/StateType.js","model/main/entity/phase/Phase_DictVM.js","model/main/entity/phase/PhaseInputVM.js","model/main/entity/phase/Phase_DictVMUtil.js","model/main/entity/phase/PhaseInputVMUtil.js","model/main/entity/project/ProjectVM.js","model/input/NewInputView.js","model/main/entity/setting/typicallevel/pageItem/TLS_PageItemStateType.js","model/checkbox/CheckboxView.js","model/main/entity/setting/typicallevel/levelGroup/LevelGroupVM.js","model/main/entity/setting/typicallevel/levelGroup/LevelGroupVMUtil.js","model/main/entity/setting/typicallevel/filter/TLS_FilterValue_InputType.js","model/main/entity/setting/typicallevel/filter/TLS_FilterValueVM.js","model/main/entity/setting/typicallevel/filter/TLS_FilterValueVMUtil.js","model/main/entity/setting/typicallevel/filter/TLS_FilterVM.js","model/main/entity/setting/typicallevel/filter/TLS_FilterVMUtil.js","model/main/entity/setting/typicallevel/pageItem/TLS_PageItemVM.js","model/main/entity/setting/typicallevel/pageItem/TLS_PageItemVMUtil.js","model/main/entity/setting/typicallevel/TypicalLevelSettingDataVM.js","model/main/entity/setting/typicallevel/TypicalLevelSettingDataVMUtil.js","model/main/entity/setting/typicallevel/TypicalLevelSettingVM.js","model/main/entity/setting/typicallevel/TypicalLevelSettingVMUtil.js","model/main/entity/project/ProjectVMUtil.js","model/main/entity/project/Project_DictVM.js","model/main/entity/project/Project_DictVMUtil.js","model/main/entity/mass/result/MassResultCompVM.js","model/main/entity/mass/result/MassResultCompVMUtil.js","model/table/RenderState.js","model/table/RenderItem.js","model/table/RenderItemUtil.js","model/table/Render_Dict.js","model/table/TableColumn.js","model/table/TableColumnUtil.js","model/table/TableRow.js","model/table/TableCell.js","model/table/TableRowUtil.js","model/table/TableCellUtil.js","model/table/TableVM.js","model/table/TableVMUtil.js","model/main/entity/setting/workitemexport/WorkItemExportDataVM.js","model/main/entity/setting/workitemexport/WorkItemExportSettingVM.js","model/main/entity/setting/workitemexport/WorkItemExportSettingVMUtil.js","model/main/entity/setting/workitemexport/WorkItemExportDataVMUtil.js","model/main/entity/setting/workitemexport/WorkItemExportSetting.js","model/main/entity/setting/workitemexport/WorkItemExportSetting_DictVM.js","model/main/entity/setting/workitemexport/WorkItemExportSetting_DictVMUtil.js","model/main/single/form/PMDataVMUtil.js","model/main/single/form/PMDataVM.js","model/main/entity/setting/massGroup/field/MGS_FieldVM.js","model/main/entity/setting/massGroup/field/MGS_FieldVMUtil.js","model/main/entity/setting/massGroup/MassGroupSettingDataVM.js","model/main/entity/setting/massGroup/MassGroupSettingDataVMUtil.js","model/main/entity/setting/massGroup/MassGroupSettingVM.js","model/main/entity/setting/massGroup/MassGroupSettingVMUtil.js","model/main/entity/mass/table/MassTable.js","model/main/entity/mass/table/MassColumnUtil.js","model/main/entity/mass/item/MassItem_Dict.js","model/main/entity/mass/item/MassItem.js","model/main/entity/mass/item/MassItemUtil.js","model/main/entity/mass/result/MassResultComp.js","model/main/entity/mass/result/MassResultCompUtil.js","model/main/entity/mass/rebar/RebarMass_DictUtil.js","model/main/entity/value/ValueUnit.js","model/main/entity/mass/rebar/RebarMass_Dict.js","model/main/entity/phase/Phase.js","model/main/entity/phase/PhaseUtil.js","model/main/entity/phase/Phase_Dict.js","model/main/entity/phase/PhaseInput.js","model/main/entity/phase/Phase_DictUtil.js","model/main/entity/phase/PhaseInputUtil.js","model/main/entity/setting/typicallevel/levelGroup/LevelGroup.js","model/main/entity/setting/typicallevel/levelGroup/LevelGroupUtil.js","model/main/entity/setting/typicallevel/filter/TLS_Filter.js","model/main/entity/setting/typicallevel/filter/TLS_FilterUtil.js","model/main/entity/setting/typicallevel/pageItem/TLS_PageItem.js","model/main/entity/setting/typicallevel/pageItem/TLS_PageItemUtil.js","model/main/entity/setting/typicallevel/TypicalLevelSettingData.js","model/main/entity/setting/typicallevel/TypicalLevelSettingDataUtil.js","model/main/entity/setting/typicallevel/TypicalLevelSetting.js","model/main/entity/setting/typicallevel/TypicalLevelSettingUtil.js","model/main/entity/project/Project.js","model/main/entity/exportset/ExportSet.js","model/main/entity/exportset/ExportSetVersion.js","model/main/entity/exportset/ExportSetVersionUtil.js","model/main/entity/exportset/ExportSetUtil.js","model/main/entity/level/Level_Dict.js","model/main/entity/level/Level.js","model/main/entity/level/LevelUtil.js","model/main/entity/project/ProjectUtil.js","model/main/entity/value/ValueRetrieveFrom.js","model/main/entity/level/Level_DictUtil.js","model/main/entity/project/Project_Dict.js","model/main/entity/setting/elementFilter/ElementFilterSetting.js","model/main/entity/setting/elementFilter/ElementFilterSettingData.js","model/main/entity/setting/elementFilter/ElementFilterSettingDataUtil.js","model/main/entity/setting/elementFilter/ElementFilterSettingUtil.js","model/main/entity/setting/base/SettingInput.js","model/main/entity/setting/base/SettingInputUtil.js","model/main/entity/setting/elementFilter/ElementFilterSettingInput.js","model/main/entity/setting/elementFilter/ElementFilterSettingInputUtil.js","model/main/entity/setting/elementFilter/ElementFilterSetting_Dict.js","model/main/entity/setting/massExport/MassExportSettingData.js","model/main/entity/setting/massExport/MassExportSettingDataUtil.js","model/main/entity/setting/massExport/MassExportSetting.js","model/main/entity/setting/massExport/MassExportSettingUtil.js","model/main/entity/setting/massExport/MassExportSettingInput.js","model/main/entity/setting/massExport/MassExportSettingInputUtil.js","model/main/entity/setting/massExport/MassExportSetting_Dict.js","model/main/entity/setting/massGroup/MassGroupSetting_Dict.js","model/main/entity/setting/versionCompare/VCS_Item.js","model/main/entity/setting/versionCompare/VersionCompareSetting.js","model/main/entity/setting/versionCompare/VersionCompareSettingUtil.js","model/main/entity/setting/workitemexport/WorkItemExportSetting_Dict.js","model/main/entity/workpackage/WorkpackageInput.js","model/main/entity/workpackage/Workpackage_Dict.js","model/main/single/model/PMDataUtil.js","model/main/single/model/PMData.js","model/main/entity/workpackage/Workpackage.js","model/main/entity/workpackage/WorkpackageUtil.js","model/main/entity/workpackage/Workpackage_DictVM.js","model/main/entity/workpackage/Workpackage_DictView.js","model/main/entity/filter/EntFilterView.js","model/main/entity/setting/elementFilter/ElementFilterSettingDataView.js","model/main/entity/setting/elementFilter/ElementFilterSetting_DictView.js","model/main/entity/setting/massExport/exportSetting/MES_ValueSettingView.js","model/main/entity/setting/massExport/MassExportSettingDataView.js","model/main/entity/setting/massExport/MassExportSetting_DictView.js","model/main/entity/mass/table/MassCellView.js","model/main/entity/mass/table/MassRowView.js","model/main/entity/mass/table/MassTableView.js","model/main/entity/mass/result/MassResultCompView.js","model/table/TableView.js","model/main/entity/setting/workitemexport/WorkItemExportSetting_DictView.js","model/main/single/form/PMDataView.js","model/view/TestView.js","model/table/CellVM.js","model/table/ColumnVM.js","model/table/RowVM.js","model/main/entity/mass/detail/MassDetailTableUtil.js","model/main/entity/mass/detail/MassDetailTable.js","model/main/entity/mass/detail/MassDetailVM.js","model/main/entity/mass/detail/MassDetailTableView.js","model/main/entity/mass/detail/MassDetailView.js","model/main/entity/project/comp/ProjectCompVM.js","model/main/entity/project/comp/ProjectCompVMUtil.js","model/main/entity/phase/Phase_DictView.js","model/main/entity/mass/rebar/RebarMass_DictView.js","model/main/entity/level/Level_DictView.js","model/main/entity/setting/typicallevel/levelGroup/LevelGroupView.js","model/main/entity/setting/typicallevel/filter/TLS_FilterValueView.js","model/main/entity/setting/typicallevel/filter/TLS_FilterView.js","model/main/entity/setting/typicallevel/pageItem/TLS_PageItemView.js","model/main/entity/setting/typicallevel/TypicalLevelSettingDataView.js","model/main/entity/setting/typicallevel/TypicalLevelSettingView.js","model/main/entity/project/comp/ProjectCompView.js","App.js","reportWebVitals.js","index.js"],"names":["text","password","TextVM","content","undefined","placeholder","State","ts","makeObservable","this","observable","v","onSetContent","style","inputStyle","wrapper","position","get","q","qI","InputView","props","onChange","e","value","target","state","Content","store","textVMUtil","data","Password","Component","observer","http","timeout","axios","create","baseURL","Accept","handleResponse","response","success","status","message","statusText","callApi","action","a","err","error","timeout_default","url","config","put","payload","result","post","concrete","formwork","rebar","Project","Phase","Workpackage","Value","Unit","partition","rebarType","elementName","MassType","workItem","level","diameter","GetValueString","massFieldValue","field","Name","FullName","GetListForTypicalLevelFilter","randomId","Intl","DateTimeFormat","Math","random","toString","substr","newGUID","replace","c","crypto","getRandomValues","Uint8Array","UpdateFromModel","obj","M2VM","MoveItem","list","oldIndex","newIndex","temp","Remove","dict","key","index","findIndex","x","Key","splice","Add","func","isDelete","newfunc","push","MassColumn","Cells","_id","genUtil","Dict","Columns","indexOf","TextView","getWrapperContent","CategoryData","categoryNames","instance","category","family","parameter","bystring","bynumber","byequal","bycontain","bynotcontain","bysmaller","bybigger","bybetween","categoryType","EntFilter","ValueType","valueType","NumberFilterType","numberFilterType","StringFilterType","stringFilterType","Values","values","CategoryType","GetValueStorageList","fct","Instance","CategoryNames","PMData","ParameterNames","IsValid","filter","isValid","filterValues","fvt","sft","forEach","lowerVal","toLowerCase","includes","isNaN","nft","leftVal","rightVal","IsEqualLeft","IsEqualRight","valueStorageList","util","byuser","byauto","mgi","createType","MGI_Item","MassGroupItem","CreateType","ct","Title","Delete","Items","Index","title","newMGI","newMGI_id","SupComponent","AllItems","id","SubComponents","NotIncludeValues","AddNotIncludeValue","GetItem","item","itemUtil","OnIsFirstSetSupRow_Funcs","HandleCreatedByUserRows","mgii_ct","addRow","supRow","row","Table","GetRow","FullValue","IsCreatedByUser","handleRow","handleNonField","subMgcIndex","y","Filter","SupRow","replaceMgi","NewMGI","Handle_ReplaceMGI","map","items","ApiData","Field","subComponents","valueOrders","ValueOrders","notIncludeValues","IsFirstSetSupRow","isFirstSetSupRow","IsHaveMassItem","table","MassGroupComponent","originComponent","OriginComponent","AllSubItems","apply","supItem","filterUtil","SupItem","Clone","GetOriginComponent","subComps","supCom","getFromDb","compUtil","IsHaveValueOrder","GetTable","initialItems","MultiSelectVM","InitialItems","GetInitialIndexs","selectedIndexs","GetSelectedItems","SelectedIndexs","open","canOpen","InitialIndexs","initialIndexs","SelectedItems","selectedItems","OnSelectedItemChanged","titleRender","DisplayContent","OnSetOpen","Option","Select","MultiSelectView","onValueChange","onDropdownVisibleChange","Open","width","Placeholder","length","elems","displayContent","TitleRender","mode","optionFilterProp","filterOption","input","option","children","CanOpen","EntHoverVM","IsElementVisible","ShowElement","HideElement","EntHoverView","minWidth","onMouseEnter","onMouseLeave","Element","initialItem","SelectVM","InitialItem","GetInitialIndex","selectedIndex","GetSelectedItem","SelectedIndex","CanClear","Clear","InitialIndex","initialIndex","SelectedItem","selectedItem","padding","FloatItemVM","getClassName","className","location","loc","FloatItemView","floatItemVMUtil","SelectView","floatElem","floatItemStore","size","type","onClick","DivStyle","showSearch","inside","lower","ReplaceRowLocationFactory","Location","lt","ToggleLocation","backgroundColor","Color","border","MassRow","SubItems","isShowSub","rank","isHaveSub","IsToolVisible","GetCellByColumn","col","Column","UpdateData","Rank","IsHaveSub","ToggleSub","IsShowSub","SetSubFields","tempSubFields","TempSubFields","isSame","SubFields","i","supMgi","mgc","SubItem","subMgis","mgiUtil","SubMassGroupComponent","SubMassGroupItem","HandleItem","GetValue","ColumnField","MoveUp","CurrentList","orderItems","OrderMGI","OrderItems","orderValues","OrderValues","mgiIndex1","mgiIndex2","MoveDown","AddSub","SubCells","GetSubCells","totalValues","TotalValue","reduce","b","ContentVM","ValueString","ReplaceOK","factory","ReplaceFactory","refRow","ReferenceRow","rrlf_lt","Replace","oldMgi","newMgi","MainMGI","ReplaceMGI","IsShowSubFieldSelect","IsModalVisible","OpenModal","TitleVM","SubFieldSelectVM","locSelectVM","LocationSelectVM","LocationStorageList","ModalOK","ModalCancel","currentList","MainRows","concat","massGroupItem","subMassGroupItem","subFields","ToggleButtonContentVM","toggleButtonContent","toggleButtonContentVM","ToggleButtonContent","OnSetContent","subFieldSelectVM","AllRows","locationSelectVM","titleVM","replaceFactory","visible","onOk","onCancel","gutter","marginTop","flex","ButtonStyle","ToolElement","display","marginLeft","UpCircleOutlined","DownCircleOutlined","danger","GetRank","GetStyle","GetIsHaveSub","GetToggleButtonContent","GetSubFieldSelectVM","storageList","MassItemFields","multiSelectUtil","Order","sort","GetLocationSelectVM","selectUtil","GetSubMassGroupItem","subItems","GetSubFields","subMGI","mgis","lastValidIndex","isValidHandle","HaveMassItemSubComponents","currentIndex","CreateSubMassGroupItem","mgcIndex","list1","list2","isValidCheck","mgi_I","mgi_iUtil","MassCell","GetUnit","unit","OnGet_TotalValue_Func_Dict","totalValue","subRows","Row","AsString","console","log","IsHaveVCS_Item","VCS_Item","ValueColor","TDBgColor","ShowDetail","process","openTabFunc","window","getUrl","viewDetailId","GetViewDetailId","valueColor","tdBgColor","massIds","massType","handle","apiData","api","then","OnGet_TLS_LevelGroups_Func_Dict","isHaveWarning","tls_LevelGroup_Descriptions","unitVM","Get_TotalValue","contentVM","toFixed","subCells","isHaveVCS_Item","vcs_Item","color","fontWeight","tls_LevelGroups","Get_TLS_LevelGroups","pmData","GetIsHaveVCS_Item","mif","MassResultComp","Phases","ColumnIndex","GetValueColor","GetTDBgColor","GetVCS_Item","VersionCompareSetting","cells","compareIndex","compareItem","ratio","GetMassType","isPending","Handle_TLS_LevelGroups","handledCount","count","checkadd_Val","val","handle_Val","Array","isArray","TLS_LevelGroups","TLS_LevelGroup","OnGet_TLS_LevelGroup_Func_Dict","Handle_TotalValue","checkedList","totalVal","OnGet_FullValue_Func_Dict","GetIsHaveWarning","getWarningFunc","levelGroups","IsHaveWarning","Handle_TLS_LevelGroup_Descriptions","TLS_LevelGroup_Descriptions","getDescFunc","FullDescription","OnGetLevelStorageList_Func_Dict","OnGet_TLS_LevelGroups_Funcs","GetMassGroupName","MassGroupSetting","GetMainMGI","MainMGC","elementfilter","massexport","massgroup","Setting","OnDelete","Input","EditItemId","name","OnNameChanged","description","OnDescriptionChanged","OnDataChanged","projectId","settingType","SettingType","Description","Data","MassGroupSettingData","AddNewField","MassPropertyNames","Fields","fields","Category","GetDefaultFields","mpn","massGroupCompUtil","massGroupComponent","dataUtil","WorkpackageVM","code","fullName","WorkpackageVMs","Code","codeVM","nameVM","descriptionVM","OnCodeChanged","OnFullNameChanged","GetSupItem","supWp","PMDataVM","Workpackage_DictVM","CheckboxVM","Cancel","ischecked","isDisable","onCheckChange","WorkpackageInputVM","workpackageVMStorageList","isNew","commandName","IsNew","AddDatabase","WorkpackageInput","DeleteFunc","CodeVM","NameVM","DescriptionVM","IsNewVM","Ischecked","selectVM","SupItemSelectVM","supItemSelectVM","selectVMUtil","WorkpackageVMStorageList","CommandVM","workpackageVM","isNewVM","checkboxVMUtil","commandVM","CommandName","pmDataVM","GetCommandName","GetWorkpackageVMStorageList","GetWorkpackageInputVM","dictVM","OnGetItemsDone_Funcs","OnAddDatabaseDone","command","OnAdd","workpackageInputVMUtil","Workpackage_Dict","ElementFilterSetting_DictVM","ModelItem","OnGetItemsDone","currentItem","CurrentItem","EditItem","SettingVM","GetDataVM","OnGetDataVM","textUtil","dataVM","OnInitialSetDataVM","ElementFilterSettingVM","cateFilterVM","CategoryFilterVM","OnInitialData","famFilterVM","FamilyFilterVM","EntFilterVM","SetData","ValueTypeSelectVM","StringFilterTypeSelectVM","ValuesSelectVM","ValueStorageList","valueTypeSelectVM","FilterValueTypes","stringFilterTypeSelectVM","StringFilterTypes","valuesSelectVM","multiSelectVMUtil","ValueSelectPlaceholder","ElementFilterSettingDataVM","GetCategoryFilterVM","CategoryFilter","filterVMUtil","isHaveFamilyFilter","GetFamilyFilterVM","FamilyFilter","IsHaveFamilyFilter","IsHaveFamilyFilterVM","categoryFilterVM","familyFilterVM","isHaveFamilyFilterVM","DataVM","dataVMUtil","SettingInputVM","settingTypeVM","editItem","SettingTypeVM","ElementFilterSettingInputVM","GetItems","itemVMUtil","GetInput","inputVMUtil","MES_ValueSettingVM","ValueSettingVMs","RetrieveTypeSelectVM","RetrieveType","ValueFilterVM","WorkpackageSelectVM","MassTypeSelectVM","retrieveType","retrieveTypeSelectVM","RetrieveTypeStorageList","valueFilterVM","ValueFilter","modelItem","workpackageSelectVM","massTypeSelectVM","MassTypeStorageList","GetRetrieveTypeStorageList","ValueRetrieveTypes","GetWorkpackageVM","workpackage","GetMassTypeStorageList","MassTypes","MES_ValueSetting","ValueSettings","workpackageId","byparameter","GetDefault","vrt","valueFilter","GetWorkpackage","Workpackages","GetApiData","MassExportSettingDataVM","elementFilterVMStorageList","valueSettingVMs","AddNewValueSettingVM","AddNewValueSetting","itemView","valueSettingVMUtil","ElementFilterSelectVM","ElementFilterVM","elementFilterVM","ElementFilter","elementFilterSelectVM","ElementFilterVMStorageList","modelList","oldCount","newCount","delta","abs","originItemVM","valueSettingUtil","itemVM","GetElementFilterVMStorageList","GetElementFilterVM","elemFilter","GetValueSettingVMs","MassExportSettingVM","MassExportSettingInputVM","MassExportSetting_DictVM","MassGroupSetting_DictVM","PhaseVM","addversion","Phase_DictVM","AddVersion","stateType","OK","AddMassVersion","warning","PhaseInputVM","ProjectVM","typicalLevelSetting","typicalLevelSetting_ForEdit","phase_DictVM","rebarMass_Dict","RebarMass_Dict","InputExportSet","Level_Dict","Url","NewInputView","handleChange","contentEditable","React","createRef","fontFamily","innerRef","html","CheckboxView","onCheckedChange","checked","OnCheckChanging","disabled","LevelGroupVM","LevelGroups","Primary","primary","isSelectOpen","LevelStorageList","Levels","levelSelectVM","OnGetLevelStorageList_Funcs","triggerVM","IsSelectOpen","buttonTypeVM","addContentVM","trigger","GetDefaultPrimary","select","TLS_FilterValueVM","InputType","it","ToggleInputType","ValueVM","SwitchChecked_Funcs","valueVM","SelectOpen","selectOpen","PopoverState","popoverState","GetPopoverState","TLS_FilterVM","Filters","AddValue","valueUtil","FieldFilterStorageList","fieldSelectVM","FieldStorageList","GetValues","TLS_PageItemVM","st","ToggleState","NameOK","NameCancel","isLast","IsLast","PageItems","AllTabs","IsModelChangePageKey","CurrentPageKey","AddLevelGroup","levelGroupUtil","filters","AddFilter","delElem","InputToolElement","InputElement","GetLevelGroups","GetFilters","TypicalLevelSettingDataVM","pageItems","AddPageItem","pageItemUtil","IsHaveAddCommandTab","allTabs","currentPageKey","ChangePageKey","addCommandTab","TitleElement","AddCommandTab","GetPageItems","TypicalLevelSettingVM","Save","project","GetPhase_DictVM","GetItemsDone","phaseDictVMUtil","Phase_Dict","GetTypicalLevelSetting_Func","model","typicalLevelUtil","GetTypicalLevelSetting","tls","TypicalLevelSetting","OnGetTypicalLevelSetting_Funcs","GetTypicalLevelSetting_ForEdit","TypicalLevelSetting_ForEdit","Project_DictVM","MassResultCompVM","IsShowProjectSelect","CanHavePhase","isHavePhase","IsDataPending","handledRatio","GetMassData","HandledRatio","projects","Projects","projectVMs","projectVMStorageList","ProjectSelectVM","projectSelectOpen","ProjectPopoverState","projectPopoverState","projectSelectVM","ProjectVMStorageList","ProjectVMs","placement","href","ProjectSelectOpen","phases","phaseVMs","massItem_Dict","MassItem_Dict","phaseVMStorageList","PhaseSelectVM","phaseSelectVM","PhaseVMStorageList","PhaseVMs","IsHavePhase","isShowPhaseSelectVM","massGroupSettingStorageList","MassGroupSettingSelectVM","massGroupSettingSelectVM","MassGroupSettingStorageList","loadingSpinTipVM","LoadingSpinTip","LoadingSpinTipVM","isfetchProjects","GetProjectVMStorageList","massTable","MassTable","OnIsUpdateDataDone_Funcs","OnSetHandledRatio_Funcs","GetProjectVMs","GetPhaseVMs","GetMassGroupSettingStorageList","MassGroupSetting_Dict","GetProjectPopoverStateValue","_default","edit","RenderItem","render","Render","GetRender","rs","dataIndex","inputVM","Render_Dict","renderUtil","TableColumn","RenderState","render_Dict","renders","DataIndex","GetActionColumn","CanAdd","add","AddItem","cell","editElem","CanEdit","Edit","CanDelete","DeleteItem","TableRow","Item","TableCell","renderState","GetCells","cellUtil","TableVM","IsShowActionColumn","columns","dataSource","rows","OnGetItemForAdd","DataSource","rowUtil","Rows","OnDeleteItem","OnEditItem","colUtil","ElementName","Diameter","Weight","WorkItemExportDataVM","WorkItemExportSettingVM","IsCategoryChecked","categoryCheckboxVM","checkboxUtil","WorkItemExportSetting","WorkItemExportSetting_DictVM","tableVM","GetTableVM","nameCol","isCateCol","CategoryCheckboxVM","isSubWorkItemCol","GetWorkpackage_DictVM","OnGetWorkpackagesDone","workpackageVMUtil","workpackage_DictVMUtil","GetElementFilterSetting_DictVM","elementFilterSetting_DictVMUtil","ElementFilterSetting_Dict","GetMassExportSetting_DictVM","massExportSetting_DictVMUtil","MassExportSetting_Dict","GetMassGroupSetting_DictVM","massGroupSetting_DictVMUtil","GetProject_DictVM","project_DictVMUtil","Project_Dict","GetWorkItemExportSetting_Dict","wieDictVMUtil","WorkItemExportSetting_Dict","workpackage_DictVM","elementFilterSetting_DictVM","massExportSetting_DictVM","massGroupSetting_DictVM","project_DictVM","massResultCompVM","massResultCompVMUtil","filterValueTypes","stringFilterTypes","valueRetrieveTypes","parameterNames","massPropertyNames","massTypes","workItemExportSetting_Dict","MGS_FieldVM","FieldVMs","FieldSelectVM","GetFieldStorageList","MassGroupSettingDataVM","fieldVMs","AddNewFieldVM","fieldVMUtil","GetFieldVMs","MassGroupSettingVM","IsValidTable","columnField","FullRows","Init","GetColumn","GetCell","Build","colField","ValidPhasesByInput","IsHaveAsyncData","IsOnSaveMassGroup","HandledItems","AddHandledItems","IsUpdateDataDone","colFieldValue","initialRow","HandleRowFieldIndex","GetRow_Value_FieldIndex","rowFieldIndex","itemCount","lastRow","rowField","valueString","fullValue","Handle_AddRow","subMgcs","subIndex","r1","awaitGetSupRowForAdd","r2","SaveMassGroup","massGroupName","MassGroupInputOK","MassGroupName","mgsUtil","mgsVMUtil","MassGroupNameVM","MassGroupInputCancel","AddMainRow","massGroupSetting","mainMGC","mgi1","mainMGI","massGroupNameVM","MassItem","IsGetElement","OnGetElementDone_Funcs","massItem","isFromElement","mt","groupName","getValFunc","DeleteDatabase","Get_Count","IsGet_TLS_LevelGroup","elementId","exportSetId","exportSetVersionId","info","Info","tls_LevelGroup","Get_TLS_LevelGroup","Get_FullValue","Elements","GetProject","getByViewDetail","viewDetail","masses","GetPhases","exportSetVersionIds","GetValidPhasesByInput","inputPhases","GetTLS_LevelGroup","getLevelGroup_Func","pi","GetValidTLS_PageItem","GetValidTLS_LevelGroup","validPi","IsValidTLS_PageItem","pageItem","validLg","GetFullValue","IsGet_FullValue","getFullValue_Func","lg","Count","wp_Dict","IsDataChanged","RefreshData","projectIds","phaseIds","massItemUtil","setExportSetData","exportSet","currentVersion","CurrentVersion","OnGetCurrentVersionDone_Func","inputExportSet","OnGetInputExportSetDone_Funcs","OnGetExportSetVersions_Func","exportSetVersions","GetExportSetVersionData","ExportSetVersions","GetExportSetVersions","phaseId","addVersionFunc","PhaseInput","phaseUtil","inputUtil","LevelGroup","levels","getLevelStorageList","IsGet_LevelStorageList","GetLevelStorageList","min","LevelIndexs","max","MinLevel","MaxLevel","FilterDescription","TLS_Filter","arr","TLS_PageItem","TypicalLevelSettingData","fieldFilterStorageList","levelStorageList","phase","GetTest","GetFieldFilterStorageList","fieldUtil","SaveDatabase","level_Dict","getLevelsFunc","phase_Dict","phaseDictUtil","GetInputExportSetDone","getInputExportSetDone","IsOnGetDb_Async","resData","editData","ExportSet","GetCurrentVersionDone","ExportSetVersion","RetrieveFrom","retrieveFrom","GetCurrentVersion_Async","versionUtil","AddVersion_Async","addItem","Level","getAll","Elevation","elevation","GetRebarMass_Dict","rebarMassDictUtil","GetInputExportSet_Async","exportSetUtil","GetLevel_Dict","levelDictUtil","ElementFilterSetting","ElementFilterSettingData","categoryFilter","familyFilter","SettingInput","GetData","OnGetData","prefix","UrlPrefix","AddDatabaseDone","NewItem","GetEditItem","Update","urlPrefix","ElementFilterSettingInput","elementFilterSettingUtil","cateFilter","MassExportSettingData","elementFilter","elementFilterId","valueSettings","exportSettings","GetElementFilter","elemFilterId","GetDefaultValueSettings","MassExportSetting","MassExportSettingInput","massExportSettingUtil","WorkpackageId","supId","SupId","NewWorkpackage","workpackageUtil","wp","GetFullName","UpperList","LowerList","wps","GetWorkpackagesDone","workpackageInput","GetFilterValueTypes","GetStringFilterTypes","GetValueRetrieveTypes","GetMassPropertyNames","GetMassItemFields","GetMassTypes","DebugPoints","workpackage_Dict","elementFilterSetting_Dict","massExportSetting_Dict","massGroupSetting_Dict","project_Dict","massResultComp","categoryData","massItemFields","versionCompareSetting","upperList","lowerList","dbItem","GetSubItems","GetUpperList","GetLowerList","workpackageVMs","CurrentWorkpackage","workpackageInputVM","Workpackage_DictView","CurrentWorkpackageVM","searchName","SearchName","orientation","plain","margin","DeleteView","EntFilterView","test","ItemVMs","CurrentItemVM","ElementFilterSettingDataView","ElementFilterSetting_DictView","MES_ValueSettingView","borderRadius","MassExportSettingDataView","valueSettingElems","MassExportSetting_DictView","MassCellView","TDStyle","InfoCircleOutlined","AStyle","MassRowView","subElems","toggleButton","marginRight","scope","Style","HoverToolElement","ModalElement","j","MassTableView","thElems","tbodyElems","span","MassResultCompView","IsShowPhaseSelectVM","justifyContent","TableView","tableElem","theadElem","tbodyElem","WorkItemExportSetting_DictView","PMDataView","TestView","CellVM","OnGetValueString","ColumnVM","RowVM","GetFields","GetColumns","GetValueTitle","MassDetailTable","GetRows","parseFloat","setValueFunc","MassDetailVM","DetailTable","detailTable","MassDetailTableView","colElems","rowElems","cellElems","MassDetailView","match","params","withRouter","ProjectCompVM","projectVM","projectUtil","projectVMUtil","massResComp","setItemsFuncs","massResutlCompVMUtil","Phase_DictView","PlusCircleOutlined","RebarMass_DictView","Level_DictView","LevelGroupView","LevelSelectVM","DeleteFilled","TLS_FilterValueView","unCheckedChildren","checkedChildren","TLS_FilterView","TLS_PageItemView","Tabs","TabPane","TypicalLevelSettingDataView","onKeyDown","stopPropagation","activeKey","tab","TypicalLevelSettingView","SaveFilled","ProjectCompView","App","basename","exact","path","component","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","document","getElementById"],"mappings":"mfAAaA,EAAO,OACPC,EAAW,WCEXC,EAAb,WACE,aAAe,yBAQfC,aAAUC,EARI,KAmBdC,YAAc,sBAnBA,KAsCdC,MAAQC,EArCNC,YAAeC,KAAM,CACnBN,QAASO,IACTL,YAAcK,IACdJ,MAAQI,MALd,oDAWI,OAAOD,KAAKN,SAXhB,aAacQ,GACVF,KAAKN,QAAUQ,EACXF,KAAKG,cACPH,KAAKG,aAAaD,KAhBxB,gCAqBkBA,GACdF,KAAKJ,YAAcM,IAtBvB,4BAoCI,OAPKF,KAAKI,QACRJ,KAAKI,MAAQJ,KAAKK,WAAaL,KAAKK,WAAa,GAE7CL,KAAKM,UACPN,KAAKI,MAAMG,SAAW,aAGnBP,KAAKI,UApChB,KCDaI,EAAM,SAACC,EAAGb,GACrB,IAAIc,EAAK,IAAIjB,EAGb,OAFAiB,EAAGhB,QAAUe,EACbC,EAAGd,YAAcA,EACVc,GCCHC,E,kDACJ,WAAYC,GAAQ,IAAD,uBACjB,cAAMA,IAWRC,SAAW,SAACC,GAAO,IACXC,EAAUD,EAAEE,OAAZD,MACN,EAAKE,MAAMC,QAAUH,GAdJ,IAGXI,EAAU,EAAKP,MAAfO,MACN,GAAKA,EAIH,EAAKF,MAAQE,MAJH,CAEV,EAAKF,MAAQG,EADF,uBALI,S,qDAkBjB,IAAIC,EAAOrB,KAAKiB,MACVvB,EAAyB2B,EAAzB3B,QAASE,EAAgByB,EAAhBzB,YAEf,OACE,qCACGyB,EAAKxB,QAAUC,EACd,cAAC,IAAD,CAAOiB,MAAOrB,EAASmB,SAAUb,KAAKa,SACpCjB,YAAaA,IAAkB,GAClCyB,EAAKxB,QAAUC,EACd,cAAC,IAAMwB,SAAP,CAAgBP,MAAOrB,EAASmB,SAAUb,KAAKa,WAAe,U,GA5BhDU,aAkCTC,cAASb,G,4DC5BlBc,EAAO,SAACC,GAAD,OAAaC,IAAMC,OAAO,CACnCC,QAXmB,4BAYnBC,OAAQ,mBACR,eAAgB,mBAChBJ,aAUEK,EAAiB,SAACC,GAKtB,MAAO,CACLC,QAJcD,EAASE,QAAU,KAAOF,EAASE,OAAS,IAK1Db,KAJWW,EAASX,KAKpBc,QAJYH,EAASI,aAQZC,EAAO,uCAAG,WAAOC,GAAP,eAAAC,EAAA,+EAEID,EAFJ,cAEbN,EAFa,yBAGZD,EAAeC,IAHH,0DAnBKQ,EAwBE,EAAD,GAvB3BL,IAAQM,MAAR,iCAAwCD,IACjC,CACLP,SAAS,KAgBU,wEAnBI,IAACO,IAmBL,0BAAH,sDASPE,EAAkB,IAElBlC,EAAG,uCAAG,WAAOmC,EAAKC,EAAQlB,GAApB,SAAAa,EAAA,6DACjBb,EAAUA,GAAoBgB,EADb,kBAEVL,EAAQZ,EAAKC,GAASlB,IAAImC,EAAKC,KAFrB,2CAAH,0DAKHC,EAAG,uCAAG,WAAOF,EAAKG,EAASF,EAAQlB,GAA7B,eAAAa,EAAA,6DACjBb,EAAUA,GAAoBgB,EADb,SAEEL,EAAQZ,EAAKC,GAASmB,IAAIF,EAAKG,EAASF,IAF1C,cAEbG,EAFa,yBAGVA,GAHU,2CAAH,4DAMHC,EAAI,uCAAG,WAAOL,EAAKG,EAASF,EAAQlB,GAA7B,eAAAa,EAAA,6DAClBb,EAAUA,GAAoBgB,EADZ,SAECL,EAAQZ,EAAKC,GAASsB,KAAKL,EAAKG,EAASF,IAF1C,cAEdG,EAFc,yBAGXA,GAHW,2CAAH,4DC7DJE,EAAW,WACXC,EAAW,WACXC,EAAQ,QCARC,EAAU,UACVC,EAAQ,QACRC,EAAc,cACdC,EAAQ,QACRC,EAAO,OACPC,EAAY,YACZC,EAAY,YACZC,EAAc,cACdC,EAAW,WACXC,EAAW,WACXC,EAAQ,QACRC,GAAW,WAwDXC,GAAiB,SAACC,EAAgBC,GAC7C,IAAInD,OAAQpB,EAEZ,OAAQuE,GACN,KAAKd,EACL,KAAKC,EACHtC,EAAQkD,EAAeE,KACvB,MACF,KAAKb,EACHvC,EAAQkD,EAAeG,SACvB,MACF,QACErD,EAAQkD,EAIZ,OAAOlD,GAAgB,aAGZsD,GAA+B,WAC1C,MAAO,CAACR,IClFGS,IANS,IAAIC,KAAKC,eAAe,SAMtB,WAItB,OAAOC,KAAKC,SAASC,SAAS,IAAIC,OAAO,EAAG,KAGjCC,GAAU,WACrB,OAAQ,CAAC,MAAM,KAAK,KAAK,KAAK,MAAMC,QAAQ,UAAU,SAAAC,GAAC,OACpDA,EAAIC,OAAOC,gBAAgB,IAAIC,WAAW,IAAI,GAAK,IAAMH,EAAI,GAAGJ,SAAS,QAIjEQ,GAAkB,SAACC,EAAK9C,GACnC8C,EAAIC,MAAO,EACX/C,IACA8C,EAAIC,MAAO,GAGAC,GAAW,SAACC,EAAMC,EAAUC,GACvC,IAAkB,IAAdD,IAAiC,IAAdC,GACrBD,IAAaC,EADf,CAEA,IAAIC,EAAOH,EAAKC,GAChBD,EAAKC,GAAYD,EAAKE,GACtBF,EAAKE,GAAYC,IAoDNC,GAAS,SAACC,EAAMC,GAC3B,IAAIC,EAAQF,EAAKG,WAAU,SAAAC,GAAC,OAAIA,EAAEC,MAAQJ,KAC1C,GAAc,IAAVC,EACF,OAAOF,EAAKM,OAAOJ,EAAO,IAIjBK,GAAM,SAACP,EAAMQ,GAA2B,IAArBC,IAAoB,yDAC9CR,EAAMhB,KAENyB,EAAU,WACZF,IACIC,GACFV,GAAOC,EAAMC,IAIjBD,EAAKW,KAAK,CACRN,IAAKpB,KACLtB,MAAO+C,KCpGUE,G,iDAanBC,MAAQ,G,+CAPN,OAHKzG,KAAK0G,MACR1G,KAAK0G,IAAMC,MAEN3G,KAAK0G,M,4BAIZ,OAAO1G,KAAK4G,KAAKC,QAAQC,QAAQ9G,U,KCP/B+G,G,kDACJ,WAAYnG,GAAQ,IAAD,uBACjB,cAAMA,IAYRoG,kBAAoB,WAAO,IACnB1G,EAAY,EAAKW,MAAjBX,QACN,OAAKA,GAAgB,IAfJ,IAGXa,EAAU,EAAKP,MAAfO,MAHW,OASf,EAAKF,MALFE,GACU,CACXzB,QAAQ,iBANK,E,qDAmBT,IACFA,EAAYM,KAAKiB,MAAjBvB,QAEN,OACE,qCACGA,EACAM,KAAKgH,2B,GA1BSzF,aAgCRC,eAASuF,ICnCXE,GAAb,WACE,aAAe,oBADjB,0DAkBI,OAHKjH,KAAKkH,gBACRlH,KAAKkH,cCjBF,CAAC,SAAU,qBAAsB,QAAS,uBDmBxClH,KAAKkH,iBAlBhB,gCAUI,OAHKlH,KAAKmH,WACRnH,KAAKmH,SAAW,IAAIF,GAEfjH,KAAKmH,aAVhB,KEFaC,GAAW,WACXC,GAAS,SACTC,GAAY,YCFZC,GAAW,WACXC,GAAW,WCDXC,GAAU,UACVC,GAAY,YACZC,GAAe,eCFfF,GAAU,UACVG,GAAY,YAEZC,GAAW,WAEXC,GAAY,YCWZtH,GAAM,SAACC,EAAGsH,GACrB,IAAIrH,EAAK,IAAIsH,GAMb,OALAtH,EAAGuH,UAAYxH,EAAEyH,UACjBxH,EAAGyH,iBAAmB1H,EAAE2H,iBACxB1H,EAAG2H,iBAAmB5H,EAAE6H,iBACxB5H,EAAG6H,OAAS9H,EAAE+H,OACd9H,EAAG+H,aAAeV,EACXrH,GAcIgI,GAAsB,SAACjI,GAClC,IAAI8E,EAAO,GAEX,OAAQ9E,EAAEgI,cACR,KAAKE,GACHpD,EAjCG0B,GAAa2B,SAiCMC,cACtB,MACF,KAAKF,GACHpD,EAhCGuD,GAAOF,SAgCMG,eAIpB,OAAOxD,GAYIyD,GAAU,SAACC,EAAQlI,GAC9B,QAAcpB,IAAVoB,GAAiC,OAAVA,EAAgB,OAAO,EAElD,IAAImI,GAAU,EACVC,EAAeF,EAAOV,OAC1B,OAAQU,EAAOhB,WACb,KAAKmB,GACH,GAAqB,kBAAVrI,EAET,OADiBkI,EAAOZ,kBAEtB,KAAKgB,GACHF,EAAaG,SAAQ,SAAAtD,GACdkD,GAAWlD,IAAMjF,IACpBmI,GAAU,MAGd,MACF,KAAKG,GACH,IAAIE,EAAWxI,EAAMyI,cACrBL,EAAaG,SAAQ,SAAAtD,IACdkD,GAAWK,EAASE,SAASzD,EAAEwD,iBAClCN,GAAU,MAGd,MACF,KAAKG,GACCE,EAAWxI,EAAMyI,cACrBN,GAAU,EACVC,EAAaG,SAAQ,SAAAtD,GACfkD,GAAWK,EAASE,SAASzD,EAAEwD,iBACjCN,GAAU,MAMpB,MACF,KAAKE,GACH,IAAKM,MAAM3I,GAET,OADiBkI,EAAOd,kBAEtB,KAAKwB,GACH,OAAO5I,IAAUoI,EAAa,GAChC,KAAKQ,GACH,OAAO5I,EAAQoI,EAAa,GAC9B,IDxGsB,mBCyGpB,OAAOpI,GAASoI,EAAa,GAC/B,KAAKQ,GACH,OAAO5I,EAAQoI,EAAa,GAC9B,ID1GqB,kBC2GnB,OAAOpI,GAASoI,EAAa,GAC/B,KAAKQ,GACH,IAAIC,EAAUT,EAAa,GACvBU,EAAWV,EAAa,GAC5B,OAAQF,EAAOa,aAAeF,IAAY7I,GACxC6I,EAAU7I,GAASA,EAAQ8I,GACvBZ,EAAOc,cAAgBhJ,IAAU8I,GAOjD,OAAOX,GC1HIlB,GAAb,+FAUI,OAAOhI,KAAKwI,QAVhB,aAYatI,GACTF,KAAKwI,OAAStI,IAblB,uCAuBI,OAHKF,KAAKgK,mBACRhK,KAAKgK,iBAAmBC,GAAyBjK,OAE5CA,KAAKgK,mBAvBhB,8BA2BI,MDwBK,CACL9B,WAFuBzH,ECvBAT,MDyBViI,UACbG,iBAAkB3H,EAAE0H,iBACpBG,iBAAkB7H,EAAE4H,iBACpBG,OAAQ/H,EAAE8H,QALY,IAAC9H,MClD3B,KCFayJ,GAAS,SACTC,GAAS,SCGTvI,GAAS,SAACwI,EAAKC,GAC1B,IAAI3J,EAAK,IAAI4J,GAWb,OAVA5J,EAAG6J,cAAgBH,EAEdC,GAGH3J,EAAG8J,WAAaC,GAChB/J,EAAG6C,MAAQoD,KACXjG,EAAGgK,MAAQ,iCAJXhK,EAAG8J,WAAaC,GAOX/J,GCdY4J,G,4DAkDnBK,OAAS,WACP,EAAKJ,cAAcK,MAAM1E,OAAO,EAAK2E,MAAO,I,kDA/C5C,OAAO7K,KAAKuK,cAAcK,MAAM9D,QAAQ9G,Q,4BAQxC,OAHKA,KAAK8K,QACR9K,KAAK8K,MAAQ9K,KAAKuD,OAEbvD,KAAK8K,O,aAEJ5K,GACRF,KAAK8K,MAAQ5K,I,6BAYb,OAPKF,KAAK+K,SACR/K,KAAK+K,ODiBc,SAACtK,GACxB,IAAIiG,EAAMjG,EAAEuK,UACZ,GAAKtE,EAAL,CACA,IAAInB,EAAO9E,EAAE8J,cAAcU,aAAaC,SAEpCpF,EAAQP,EAAKQ,WAAU,SAAAC,GAAC,OAAIA,EAAEU,MAAQA,KAC1C,OAAkB,IAAXZ,EAAeP,EAAKO,QAASnG,GCvBlBsK,CAAejK,OAExBA,KAAK+K,QAAU/K,KAAKgL,YACvBhL,KAAKgL,eAAYrL,IAGdK,KAAK+K,Q,aAEH7K,GACTF,KAAK+K,OAAS7K,EACTA,GAAKA,IAAMF,KAAKuK,cAInBvK,KAAKgL,UAAY9K,EAAEiL,GAHnBnL,KAAKgL,eAAYrL,I,8BAUnB,MAAO,CACLoB,MAAQf,KAAKuD,MACbuH,MAAQ9K,KAAK0K,MACbM,UAAYhL,KAAKgL,UACjBX,WAAarK,KAAKwK,gB,KCzCHD,G,4DAEnBa,cAAgB,G,KAChBC,iBAAmB,G,KAKnBT,MAAQ,G,KAsCRU,mBAAqB,SAACpL,IAEL,IADH,EAAKmL,iBAAiBvE,QAAQ5G,IAExC,EAAKmL,iBAAiB9E,KAAKrG,I,KAI/BqL,QAAU,SAACrL,EAAG4K,GACZ,IAAIhF,EAAQ,EAAK8E,MAAM7E,WAAU,SAAAC,GAAC,OAAIA,EAAEzC,QAAUrD,KAClD,IAAe,IAAX4F,EAAc,CAChB,IAAI0F,EAAOC,GAAgB,GAI3B,OAHAD,EAAKjI,MAAQrD,EACbsL,EAAKd,MAAQI,EACb,EAAKF,MAAMrE,KAAKiF,GACTA,EAET,OAAO,EAAKZ,MAAM9E,I,KAepB4F,yBAA2B,G,KA0B3BC,wBAA0B,WACR,EAAKf,MAClB3B,QAAO,SAAAjD,GAAC,OAAIA,EAAEwE,aAAeoB,MAEtBtC,SAAQ,SAAAtD,GAChB,IAAIjF,EAAQiF,EAAEzC,MAERsI,EAAS,SAACC,GACd,IAAIC,EAAM,EAAKC,MAAMC,OAAOlL,EAAO+K,GAGnC,OAFAC,EAAIG,UAAYnL,EAChBgL,EAAII,iBAAkB,EACfJ,GAGHK,EAAY,SAACL,GACjBA,EAAIxB,cAAgB,EACpB8B,EAAeN,IAGXM,EAAiB,SAACN,GACtB,IAAIO,EAAc,EAAKlB,cAAcrF,WAAU,SAAAwG,GAAC,OAC9CA,EAAEC,OAAOjE,OAAOkB,SAASzD,EAAEzC,WACR,IAAjB+I,IACW,EAAKlB,cAAckB,GAAa1B,MAAM,GAC5C6B,OAASV,IAIhBW,EAAa1G,EAAE2G,OACfD,GACFA,EAAWnB,QAAQxK,GACnB,EAAKiL,MAAMY,kBAAkBF,EAAYb,EAAQO,IAEjDA,EAAUP,EAAO,EAAKY,a,+CAzH1B,OAHKzM,KAAK0G,MACR1G,KAAK0G,IAAMC,MAEN3G,KAAK0G,K,aAEPxG,GACLF,KAAK0G,IAAMxG,I,4BAIX,OAAOF,KAAKiL,aAAaL,MAAM9D,QAAQ9G,Q,iCAIvC,OAAOA,KAAK4K,Q,kCAIZ,OAAO5K,KAAK4K,MAAMiC,KAAI,SAAA7G,GAAC,OAAIA,EAAEzC,W,8BAI7B,IAAIuJ,EAAQ9M,KAAK4K,MAAMiC,KAAI,SAAA7G,GAAC,OAAIA,EAAE+G,WAElC,MAAO,CACLrG,IAAK1G,KAAKmL,GACVjH,MAAOlE,KAAKgN,MACZC,cAAejN,KAAKoL,cAAcyB,KAAI,SAAA7G,GAAC,OAAIA,EAAE+G,WAC7CG,YAAalN,KAAKmN,YAClBC,iBAAkBpN,KAAKqL,iBACvByB,W,6BAyBF,OAAO9M,KAAK8L,Q,aAEH5L,GACTF,KAAK8L,OAAS5L,EACTF,KAAKqN,mBACRrN,KAAKqN,kBAAmB,EACxBrN,KAAK2L,6B,uCAQP,OAAO3L,KAAKsN,kB,aAEOpN,GACnBF,KAAKsN,iBAAmBpN,EACxBF,KAAK0L,yBAAyBpC,SAAQ,SAAAtD,GAAC,OAAIA,S,gDAI3C,OAAOhG,KAAKoL,cAAcnC,QAAO,SAAAjD,GAAC,OAAIA,EAAEuH,oB,4BAQxC,OAHKvN,KAAKwN,QACRxN,KAAKwN,MAAQvD,GAAcjK,OAEtBA,KAAKwN,O,aAEJtN,GACRF,KAAKwN,MAAQtN,M,KCzGIuN,G,wGAUjB,OAHKzN,KAAK0N,kBACR1N,KAAK0N,gBAAkBzD,GAAwBjK,OAE1CA,KAAK0N,kB,8BAIZ,MAAO,CACLzE,OAASjJ,KAAKwM,OAASxM,KAAKwM,OAAOO,aAAUpN,EAC7CmN,MAAO9M,KAAK4K,MAAMiC,KAAI,SAAA7G,GAAC,OAAIA,EAAE+G,c,+BAK/B,OAAO/M,KAAK2N,gBAAgBC,c,kCAI5B,IAAIrI,EAAI,YAAOvF,KAAK4K,OAGpB,OAFA5K,KAAK4K,MAAMtB,SAAQ,SAAAtD,GAAC,OAClBA,EAAEoF,cAAc9B,SAAQ,SAAAiD,GAAC,OAAIhH,EAAKgB,KAAKsH,MAAMtI,EAAMgH,EAAEqB,mBAChDrI,M,KCrBE/E,GAAM,SAACa,EAAMyM,GACxB,IAAIpN,EAAK,IAAI+M,GAMb,OAJA/M,EAAG8L,OAASnL,EAAK4H,OAAS8E,GAAe1M,EAAK4H,aAAUtJ,EAExDe,EAAGkK,MAAQvJ,EAAKyL,MAAMD,KAAI,SAAA7G,GAAC,OAAIyF,GAAmBzF,EAAGtF,MACrDA,EAAGsN,QAAUF,EACNpN,GAGIuN,GAAQ,SAACxN,EAAGqN,GACvB,IAAKrN,EAAG,OAAOA,EACf,IAAIC,EAAK,IAAI+M,GAKb,OAJA/M,EAAG8L,OPIgB,SAAC/L,GACpB,IAAKA,EAAG,OAAOA,EACf,IAAIC,EAAK,IAAIsH,GAMb,OALAtH,EAAGuH,UAAYxH,EAAEwH,UACjBvH,EAAGyH,iBAAmB1H,EAAE0H,iBACxBzH,EAAG2H,iBAAmB5H,EAAE4H,iBACxB3H,EAAG6H,OAAH,YAAgB9H,EAAE8H,QAClB7H,EAAG+H,aAAehI,EAAEgI,aACb/H,EOZKqN,CAAiBtN,EAAE+L,QAE/B9L,EAAGkK,MAAQnK,EAAEmK,MAAMiC,KAAI,SAAA7G,GAAC,OAAIyF,GAAezF,EAAGtF,MAC9CA,EAAGsN,QAAUF,EACNpN,GAGIwN,GAAqB,SAACzN,GACjC,OAAOA,EAAEuN,QAAUvN,EAAEuN,QAAQ/C,aAAa0C,gBAAkBlN,GCrBjDD,GAAM,SAAC0D,EAAOiK,EAAUC,GACnC,IAAI1N,EAAK,IAAI6J,GAMb,OALA7J,EAAGsM,MAAQ9I,EACXxD,EAAGuK,aAAemD,EACdD,IACFzN,EAAG0K,cAAgB+C,GAEdzN,GAGI2N,GAAY,SAAChN,EAAM+M,GAC9B,IAAI1N,EAAK,IAAI6J,GAkBb,OAjBA7J,EAAGgG,IAAMrF,EAAKqF,IACdhG,EAAGsM,MAAQ3L,EAAK6C,MAChBxD,EAAGuK,aAAemD,EAClB1N,EAAG0K,cAAgB/J,EAAK4L,cAAgB5L,EAAK4L,cAAcJ,KAAI,SAAA7G,GAAC,OAAIsI,GAAatI,EAAGtF,MAChF,GAEAW,EAAKyL,OACPpM,EAAGkK,MAAQvJ,EAAKyL,MAAMD,KAAI,SAAA7G,GAAC,OLTN,SAAC3E,EAAM+I,GAC9B,IAAI1J,EAAK,IAAI4J,GAOb,OANA5J,EAAG6C,MAAQlC,EAAKN,MAChBL,EAAGgK,MAAQrJ,EAAKyJ,MAChBpK,EAAGsK,UAAY3J,EAAK2J,UACpBtK,EAAG6J,cAAgBH,EACnB1J,EAAG8J,WAAanJ,EAAKgJ,WAAahJ,EAAKgJ,WAAaI,GAE7C/J,EKC0B+K,CAAmBzF,EAAGtF,MAClDuI,QAAO,SAAAjD,GAAC,OAAIA,EAAEzC,SACjB7C,EAAG6N,kBAAmB,IAEtB7N,EAAGkK,MAAQ,GACXlK,EAAG6N,kBAAmB,GAGxB7N,EAAG2K,iBAAmBhK,EAAK+L,iBAAmB/L,EAAK+L,iBAAmB,GAE/D1M,GAGIuN,GAAQ,SAACxN,EAAG2N,GACvB,IAAK3N,EAAG,OAAOA,EACf,IAAIC,EAAK,IAAI6J,GAQb,OAPA7J,EAAGyK,GAAK1K,EAAE0K,GACVzK,EAAGsM,MAAQvM,EAAEuM,MACbtM,EAAGkK,MAAQnK,EAAEmK,MAAMiC,KAAI,SAAA7G,GAAC,OLhBL,SAACvF,EAAG2J,GACvB,IAAI1J,EAAK,IAAI4J,GAMb,OALA5J,EAAG6C,MAAQ9C,EAAE8C,MACb7C,EAAGgK,MAAQjK,EAAEiK,MACbhK,EAAGsK,UAAYvK,EAAEuK,UACjBtK,EAAG6J,cAAgBH,EACnB1J,EAAG8J,WAAa/J,EAAE+J,WACX9J,EKSqB+K,CAAezF,EAAGtF,MAC9CA,EAAG2K,iBAAH,YAA0B5K,EAAE4K,kBAC5B3K,EAAG6N,iBAAmB9N,EAAE8N,iBACxB7N,EAAGuK,aAAemD,EAClB1N,EAAG0K,cAAgB3K,EAAE2K,cAAcyB,KAAI,SAAA7G,GAAC,OAAIsI,GAAetI,EAAGtF,MACvDA,GAGI8N,GAAW,SAAC/N,GACvB,OAAOA,EAAEwK,aAAa+C,QAAQhC,O,oBCrDnBxL,GAAM,SAACsM,EAAO2B,GACzB,IAAI/N,EAAK,IAAIgO,GAGb,OAFAhO,EAAGkK,MAAQkC,EACXpM,EAAGiO,aAAeF,EACX/N,GCHIgO,GAAb,WACE,aAAe,IAAD,gCASd5B,WAAQnN,EATM,KAsCdiP,iBAAkB,WAChB,IAAIH,EAAe,EAAKE,aACxB,OAAKF,EACEA,EAAa5B,KAAI,SAAA7G,GAAC,OAAI,EAAK4E,MAAM9D,QAAQd,MAAIiD,QAAO,SAAAjD,GAAC,OAAW,IAAPA,KADtC,IAxCd,KA4Cd6I,eAAiB,GA5CH,KAmEdC,iBAAmB,WACjB,OAAO,EAAKC,eAAelC,KAAI,SAAA7G,GAAC,OAAI,EAAK4E,MAAM5E,OApEnC,KA6FdgJ,MAAO,EA7FO,KAwGdC,SAAU,EAvGRlP,YAAeC,KAAM,CACnB8M,MAAO7M,IACP4O,eAAgB5O,IAChB+O,KAAO/O,IACPgP,QAAUhP,MANhB,kDAYI,OAAOD,KAAK8M,OAZhB,aAcY5M,GACRF,KAAK8M,MAAQ5M,IAfjB,mCAoBI,OAAOF,KAAKyO,cApBhB,aAsBmBvO,GACfF,KAAKyO,aAAevO,EACpBF,KAAKkP,cAAgBlP,KAAK4O,mBAC1B5O,KAAK+O,eAAiB/O,KAAKkP,gBAzB/B,oCAiCI,OAHKlP,KAAKmP,gBACRnP,KAAKmP,cAAgBnP,KAAK4O,oBAErB5O,KAAKmP,eAjChB,aAmCoBjP,GAChBF,KAAKmP,cAAgBjP,IApCzB,qCA+CI,OAAOF,KAAK6O,gBA/ChB,aAiDqB3O,GACjBF,KAAK6O,eAAiB3O,EACtBF,KAAKoP,cAAgBpP,KAAK8O,qBAnD9B,oCA2DI,OAHK9O,KAAKqP,gBACRrP,KAAKqP,cAAgBrP,KAAK8O,oBAErB9O,KAAKqP,eA3DhB,aA6DoBnP,GAChBF,KAAKqP,cAAgBnP,EACjBF,KAAKsP,uBACPtP,KAAKsP,sBAAsBpP,KAhEjC,kCA6EI,OAHKF,KAAKJ,cACRI,KAAKJ,YAAc,+CAEdI,KAAKJ,aA7EhB,aA+EkBM,GACdF,KAAKJ,YAAcM,IAhFvB,kCAwFI,OAHKF,KAAKuP,cACRvP,KAAKuP,YD/EF,SAAC/D,GAAD,OAAUA,EAAKgE,eAAiBhE,EAAKgE,eAA3B,UAA+ChE,KCiFvDxL,KAAKuP,aAxFhB,aA0FmBrP,GACfF,KAAKuP,YAAcrP,IA3FvB,2BAgGI,OAAOF,KAAKgP,MAhGhB,aAkGW9O,GACPF,KAAKgP,KAAO9O,EACRF,KAAKyP,WACPzP,KAAKyP,UAAUvP,KArGrB,8BA2GI,OAAOF,KAAKiP,SA3GhB,aA4GgB/O,GACZF,KAAKiP,QAAU/O,MA7GnB,KCIQwP,GAAWC,IAAXD,OAEFE,G,kDACJ,WAAYhP,GAAQ,IAAD,uBACjB,cAAMA,IAURiP,cAAgB,SAAC3P,GACJ,EAAKe,MACX8N,eAAiB7O,GAbL,EAgBnB4P,wBAA0B,SAAC5P,GACd,EAAKe,MACX8O,KAAO7P,GAlBK,IAGXiB,EAAU,EAAKP,MAAfO,MAHW,OAOf,EAAKF,MAHFE,GACU,IAAIuN,GALF,E,qDAsBjB,IAAIrN,EAAOrB,KAAKiB,MACZb,EAAQJ,KAAKY,MAAMR,MAAQJ,KAAKY,MAAMR,MAAQ,CAAE4P,MAAO,QACrDC,EAAsD5O,EAAtD4O,YAAarF,EAAyCvJ,EAAzCuJ,MAAOmE,EAAkC1N,EAAlC0N,eAAgBG,EAAkB7N,EAAlB6N,cAEZ,IAA1BH,EAAemB,SACjBnB,EAAiBG,EACjB7N,EAAK6N,cAAgB,IAGvB,IAAIiB,EAAQvF,EAAQA,EAAMiC,KAAI,SAACrB,EAAM1F,GACnC,IAAIsK,EAAiB/O,EAAKgP,YAAY7E,GAElCL,OAAKxL,EAQT,OANEwL,OADWxL,IAAT6L,EACG7E,KACmB,kBAAT6E,GAAsB9B,MAAM8B,GAGtCA,EAAK9E,IAAM8E,EAAK9E,IAAM8E,EAAKL,GAF3BK,EAIA,cAACkE,GAAD,CAAiB3O,MAAO+E,EAAxB,SAAgCsK,GAAnBjF,MACjB,GAEL,OACE,mCACE,cAAC,IAAD,CAAQ/K,MAAOA,EACbkQ,KAAK,WACL1Q,YAAaqQ,EACbM,iBAAiB,WACjB1P,SAAUb,KAAK6P,cACf9O,MAAOgO,EACPyB,aAAc,SAACC,EAAOC,GAAR,OACZA,EAAOC,SAASnH,cAAc1C,QAAQ2J,EAAMjH,gBAAkB,GAEhEwF,KAAM3N,EAAKuP,SAAWvP,EAAK0O,KAC3BD,wBAAyB9P,KAAK8P,wBAVhC,SAYGK,U,GA5DmB5O,aAmEfC,eAASoO,IC1EHiB,GACnB,aAAe,IAAD,gCAMdC,kBAAmB,EANL,KAQdC,YAAc,WACZ,EAAKD,kBAAoB,GATb,KAYdE,YAAc,WACZ,EAAKF,kBAAoB,GAZzB/Q,YAAeC,KAAM,CACnB8Q,iBAAkB7Q,OCClBgR,G,kDACJ,WAAYrQ,GAAQ,IAAD,0BAGXO,GAFN,cAAMP,IAEeA,MAAfO,MAHW,OAOf,EAAKF,MAHFE,GACU,IAAI0P,GALF,E,qDAYjB,IAAIxP,EAAOrB,KAAKiB,MAChB,IAAKI,EAAKjB,MAAO,CACf,IAAIA,EAAQJ,KAAKY,MAAMR,MAAQJ,KAAKY,MAAMR,MAAQ,GAC7CA,EAAM8Q,WACT9Q,EAAM8Q,SAAW,KAEnB7P,EAAKjB,MAAQA,EAGf,OACE,mCACE,qBAAK+Q,aAAc9P,EAAK0P,YAAa3Q,MAAOiB,EAAKjB,MAC/CgR,aAAc/P,EAAK2P,YADrB,SAEG3P,EAAKyP,iBAAmBzP,EAAKgQ,QAAU,W,GA1BvB9P,aAiCZC,eAASyP,I,oBCrCXzQ,GAAM,SAACsM,EAAOwE,GACzB,IAAI5Q,EAAK,IAAI6Q,GAGb,OAFA7Q,EAAGkK,MAAQkC,EACXpM,EAAG8Q,YAAcF,EACV5Q,GCHI6Q,GAAb,WACE,aAAe,IAAD,gCAUdzE,WAAQnN,EAVM,KAqBd2R,iBAAc3R,EArBA,KA0Cd8R,gBAAkB,WAChB,IAAI3L,EAAQ,EAAK8E,MAAM9D,QAAQ,EAAK0K,aACpC,OAAkB,IAAX1L,EAAeA,EAAQ,MA5ClB,KA+Cd4L,mBAAgB/R,EA/CF,KAsEdgS,gBAAkB,WAChB,IAAI7L,EAAQ,EAAK8L,cACjB,IAAe,IAAX9L,EACJ,OAAO,EAAK8E,MAAM9E,IAzEN,KAuFd+L,UAAW,EAvFG,KAyFdC,MAAQ,WACN,EAAKF,cAAgB,MA1FT,KA+Gd5C,MAAO,EA/GO,KA0HdC,SAAU,EAzHRlP,YAAeC,KAAM,CACnB8M,MAAQ7M,IACRyR,cAAgBzR,IAChB4R,SAAU5R,IACV+O,KAAO/O,IACPgP,QAAUhP,MAPhB,kDAgBI,OAHKD,KAAK8M,QACR9M,KAAK8M,MAAQ,IAER9M,KAAK8M,OAhBhB,aAkBY5M,GACRF,KAAK8M,MAAQ5M,IAnBjB,kCAwBI,OAAOF,KAAKsR,aAxBhB,aA0BkBpR,GACdF,KAAKsR,YAAcpR,EACnBF,KAAK+R,aAAe/R,KAAKyR,kBACzBzR,KAAK4R,cAAgB5R,KAAK+R,eA7B9B,mCAqCI,OAHK/R,KAAKgS,eACRhS,KAAKgS,aAAehS,KAAKyR,mBAEpBzR,KAAKgS,cArChB,aAuCmB9R,GACfF,KAAKgS,aAAe9R,IAxCxB,oCAkDI,OAAOF,KAAK0R,eAlDhB,aAoDoBxR,GAChBF,KAAK0R,cAAgBxR,EACrBF,KAAKiS,aAAejS,KAAK2R,oBAtD7B,mCA8DI,OAHK3R,KAAKkS,eACRlS,KAAKkS,aAAelS,KAAK2R,mBAEpB3R,KAAKkS,cA9DhB,aAgEoBhS,GAChBF,KAAKkS,aAAehS,EAChBF,KAAKsP,uBACPtP,KAAKsP,sBAAsBpP,KAnEjC,kCAkFI,OAHKF,KAAKJ,cACRI,KAAKJ,YAAc,+CAEdI,KAAKJ,aAlFhB,aAoFkBM,GACdF,KAAKJ,YAAcM,IArFvB,+BA+FI,OAAOF,KAAK6R,SAAW,CACrBtR,SAAU,WACV4R,QAAS,cACP,KAlGR,kCA0GI,OAHKnS,KAAKuP,cACRvP,KAAKuP,YDjGF,SAAC/D,GAAD,OAAUA,EAAKgE,eAAiBhE,EAAKgE,eAA3B,UAA+ChE,KCmGvDxL,KAAKuP,aA1GhB,aA4GmBrP,GACfF,KAAKuP,YAAcrP,IA7GvB,2BAkHI,OAAOF,KAAKgP,MAlHhB,aAoHW9O,GACPF,KAAKgP,KAAO9O,EACRF,KAAKyP,WACPzP,KAAKyP,UAAUvP,KAvHrB,8BA6HI,OAAOF,KAAKiP,SA7HhB,aA8HgB/O,GACZF,KAAKiP,QAAU/O,MA/HnB,KCDqBkS,G,iDAInBC,aAAe,WAIb,OAHK,EAAKC,YACR,EAAKA,UAAL,gBAA0B,EAAKC,WAE1B,EAAKD,YCRH9R,GAAM,SAACgS,GAClB,IAAI9R,EAAK,IAAI0R,GAEb,OADA1R,EAAG6R,SAAWC,EACP9R,GCDH+R,G,kDACJ,WAAY7R,GAAQ,IAAD,uBACjB,cAAMA,IAURoG,kBAAoB,WAAO,IACnB1G,EAAY,EAAKW,MAAjBX,QACN,OAAKA,GAAgB,IAbJ,IAGXa,EAAU,EAAKP,MAAfO,MAHW,OAOf,EAAKF,MAHFE,GACUuR,GAAoB,aALlB,E,qDAkBjB,IAAIrR,EAAOrB,KAAKiB,MAEhB,OACE,mCACE,sBAAMqR,UAAWjR,EAAKgR,eAAtB,SAAuCrS,KAAKgH,4B,GAvBxBzF,aA6BbC,eAASiR,ICxBhB/C,GAAWC,IAAXD,OAEFiD,G,kDACJ,WAAY/R,GAAQ,IAAD,uBACjB,cAAMA,IAURiP,cAAgB,SAAC3P,GACJ,EAAKe,MACX2Q,cAAgB1R,GAbJ,EAgBnB4P,wBAA0B,SAAC5P,GACd,EAAKe,MACX8O,KAAO7P,GAlBK,IAGXiB,EAAU,EAAKP,MAAfO,MAHW,OAOf,EAAKF,MAHFE,GACU,IAAIoQ,GALF,E,qDAsBjB,IAAIlQ,EAAOrB,KAAKiB,MACZqR,EAAYtS,KAAKY,MAAM0R,UAAYtS,KAAKY,MAAM0R,UAAY,GAC1DlS,EAAQJ,KAAKY,MAAMR,MAAQJ,KAAKY,MAAMR,MAAQ,CAAE4P,MAAO,QACrDC,EAAoD5O,EAApD4O,YAAarF,EAAuCvJ,EAAvCuJ,MAAOgH,EAAgCvQ,EAAhCuQ,cAAeG,EAAiB1Q,EAAjB0Q,cAElB,IAAnBH,IACFA,EAAgBG,EAChB1Q,EAAK0Q,cAAgB,GAGvB,IAAI5B,EAAQvF,EAAQA,EAAMiC,KAAI,SAACrB,EAAM1F,GACnC,IAAIsK,EAAiB/O,EAAKgP,YAAY7E,GAElCL,OAAKxL,EAQT,OANEwL,OADWxL,IAAT6L,EACG7E,KACoB,kBAAT6E,GAAsB9B,MAAM8B,GAGvCA,EAAK9E,IAAM8E,EAAK9E,IAAM8E,EAAKL,GAF3BK,EAIA,cAAC,GAAD,CAAiBzK,MAAO+E,EAAxB,SAAgCsK,GAAnBjF,MACjB,GAEDyH,EAAY,GAChB,GAAIvR,EAAKwQ,SAAU,CACjB,IAAIgB,EAAiBH,GAAoB,SACzCG,EAAevS,QAAU,cAAC,IAAD,CAAQwS,KAAK,QAAQC,KAAK,UACjDC,QAAS3R,EAAKyQ,MADS,eAGzBc,EAAY,cAAC,GAAD,CAAezR,MAAO0R,IAGpC,OACE,mCACE,sBAAKP,UAAWA,EACdlS,MAAOiB,EAAK4R,SADd,UAEGL,EACD,cAAC,IAAD,CAAQxS,MAAOA,EACb8S,YAAU,EACVtT,YAAaqQ,EACbM,iBAAiB,WACjB1P,SAAUb,KAAK6P,cACf9O,MAAO6Q,EACPpB,aAAc,SAACC,EAAOC,GAAR,OACZA,EAAOC,SAASnH,cAAc1C,QAAQ2J,EAAMjH,gBAAkB,GAEhEwF,KAAM3N,EAAKuP,SAAWvP,EAAK0O,KAC3BD,wBAAyB9P,KAAK8P,wBAVhC,SAYGK,a,GAzEY5O,aAiFVC,eAASmR,IC5FXQ,GAAS,SACTC,GAAQ,QCQAC,G,WACnB,aAAe,IAAD,gCAOdC,SAAWC,GAPG,KAqBdC,eAAiB,WACf,OAAQ,EAAKF,UACX,KAAKC,GACH,EAAKD,SAAWC,GAChB,MACF,KAAKA,GACH,EAAKD,SAAWC,KA1BpBxT,YAAeC,KAAM,CACnBsT,SAAUrT,M,kDAQZ,OClBoB,SAACC,GACvB,OAAQA,EAAEoT,UACR,KAAKC,GACH,MAAO,UACT,KAAKA,GACH,MAAO,WDaFtJ,CAAcjK,Q,kCAIrB,MAAO,CACLgQ,MAAO,GACPyD,gBAAiBzT,KAAK0T,MACtBC,OAAQ,Y,KECOC,G,WACnB,aAAe,IAAD,gCAiDdC,SAAW,GAjDG,KA4DdpN,MAAQ,GA5DM,KAgHdqN,WAAY,EAhHE,KA6IdC,UAAOpU,EA7IO,KAyJdqU,eAAYrU,EAzJE,KAwKdsU,eAAgB,EAxKF,KAkLdnJ,WAAQnL,EAlLM,KAsNduU,gBAAkB,SAACC,GACjB,IAAIrO,EAAQ,EAAKW,MAAMV,WAAU,SAAAC,GAAC,OAAIA,EAAEoO,SAAWD,KACnD,OAAkB,IAAXrO,EAAe,EAAKW,MAAMX,QAASnG,GAxN9B,KA2Nd0U,WAAa,WACX,EAAKC,KAAOrK,GAAa,GACzB,EAAKsK,UAAYtK,GAAkB,GAEnC,EAAK4J,SAAW5J,GAAW,EAAK4J,UAChC,EAAKA,SAASvK,SAAQ,SAAAtD,GAAC,OAAIA,EAAEqO,iBAhOjB,KAmOdG,UAAY,WACV,EAAKC,WAAa,EAAKA,WApOX,KAuOdC,aAAe,WACb,IAAIC,EAAgB,EAAKC,cAAgB,EAAKA,cAAgB,GAE1DC,GAAS,EAUb,GATI,EAAKC,UAAU5E,SAAWyE,EAAczE,OAC1C2E,GAAS,EAET,EAAKC,UAAUxL,SAAQ,SAACtD,EAAG+O,GACrBF,GAAU7O,IAAM2O,EAAcI,KAChCF,GAAS,OAIXA,EAAJ,CACA,EAAKC,UAAYH,EAEjB,IAAI1L,EAAS,IAAIjB,GACjBiB,EAAOhB,UAAYmB,GACnBH,EAAOZ,iBAAmBgB,GAC1BJ,EAAOV,OAAS,CAAC,EAAK2D,WAEtB,IAAI8I,EAAS,EAAKzK,cAEd0K,EAAM,IAAIxH,GACdwH,EAAIC,QAAUF,EACdC,EAAIzI,OAASvD,EAEb,IAAIkM,EAAUF,EAAIrK,MAAQ+J,EAAc9H,KAAI,SAAA7G,GAAC,OAAIoP,GAAYpP,EAAG,KAAMiP,MAElE9G,EAAW6G,EAAO5J,cACtB,GAAI,EAAKiK,sBAAuB,CAC9B,IAAIvP,EAAQqI,EAASrH,QAAQ,EAAKuO,uBAClClH,EAASrI,GAASmP,OAElB9G,EAAS5H,KAAK0O,GAOhB,GAJA,EAAKI,sBAAwBJ,EAC7B,EAAKpB,SAAW,GAChB,EAAKyB,sBAAmB3V,EAED,IAAnBwV,EAAQjF,OAAc,CACxB,IAAI1C,EAAQ,EAAKxB,MACjB,EAAKpB,MAAMtB,SAAQ,SAAAtD,GACjBwH,EAAM+H,WAAWvP,EAAGA,EAAEwP,SAAShI,EAAMiI,aAAcR,EAAK,SAnRhD,KAwRdS,OAAS,WACP,IAAInQ,EAAO,EAAKoQ,YACZ7P,EAAQ,EAAK+E,MACjB,GAAI,IAAM/E,EAAV,CAEA,IAAI8P,EAAa,EAAKC,SAASC,WAC3BC,EAAc,EAAKF,SAASG,YAC5BC,EAAYF,EAAYjP,QAAQvB,EAAKO,GAAOoG,WAC5CgK,EAAYH,EAAYjP,QAAQvB,EAAKO,EAAQ,GAAGoG,WAEpDvF,GAAiBpB,EAAMO,EAAOA,EAAQ,GACtCa,GAAiBiP,EAAYK,EAAWC,KAnS5B,KAsSdC,SAAW,WACT,IAAI5Q,EAAO,EAAKoQ,YACZ7P,EAAQ,EAAK+E,MACjB,GAAItF,EAAK2K,OAAS,IAAMpK,EAAxB,CAEA,IAAI8P,EAAa,EAAKC,SAASC,WAC3BC,EAAc,EAAKF,SAASG,YAC5BC,EAAYF,EAAYjP,QAAQvB,EAAKO,GAAOoG,WAC5CgK,EAAYH,EAAYjP,QAAQvB,EAAKO,EAAQ,GAAGoG,WAEpDvF,GAAiBpB,EAAMO,EAAOA,EAAQ,GACtCa,GAAiBiP,EAAYK,EAAWC,KAjT5B,KAoTdE,OAAS,WACPnM,GAAS,EAAM,EAAK+B,QArTR,KAwTdrB,OAAS,WACP,IAAImD,EAAU,EAAKE,QACfzI,EAAO,EAAKoQ,YAEZ,EAAKxJ,gBACP,EAAK5B,cAAcgB,QAAQ,EAAKW,WAAWvB,SAE3C,EAAKJ,cAAce,mBAAmB,EAAKY,WAG7C3G,EAAKW,OAAO,EAAK2E,MAAO,GAEpBiD,GACFA,EAAQrH,MAAM6C,SAAQ,SAAAtD,GACpBA,EAAEqQ,SAAWrQ,EAAEsQ,cAEf,IAAIC,EAAcvQ,EAAEqQ,SAClBrQ,EAAEqQ,SAASxJ,KAAI,SAAA7G,GAAC,OAAIA,EAAEwQ,cAAYvN,QAAO,SAAAjD,GAAC,OAAIA,KAAK,GACrDA,EAAEwQ,WAAaD,EAAYE,QAAO,SAAClU,EAAGmU,GAAJ,OAAUnU,EAAImU,IAAG,GAEnD1Q,EAAE2Q,UAAUzV,QAAU8E,EAAE4Q,gBA5UhB,KAyVdC,UAAY,WACV,IAAIC,EAAU,EAAKC,eACfC,EAASF,EAAQG,aAErB,GAAKD,EAAL,CAEA,IAAIxE,EAAMsE,EAAQxD,SACb0D,IAAW,GAAQxE,IAAQ0E,IAC7BF,IAAW,EAAKhJ,SAAWwE,IAAQ0E,KAItC,EAAKC,QAAQH,EAAQxE,GAErBsE,EAAQxD,SAAW4D,MAvWP,KA0WdC,QAAU,SAACH,EAAQxE,GAEjB,IAAI4E,EAAS,EAAK7M,cACduB,OAASnM,EAGb,OAAQ6S,GACN,KAAK0E,GACHpL,EAASkL,EACT,MACF,KAAKE,GACHpL,EAASkL,EAAOhJ,QAKpB,IAAIqJ,EAASvL,EACVA,EAAOwJ,iBAAmBxJ,EAAOwJ,iBAChCrL,GAA4B6B,GAC5B,EAAKE,MAAMsL,QACfF,EAAO7L,QAAQ,EAAKW,WAAWS,OAAS0K,EAExC,EAAKE,WAAaF,EAClB,EAAK1B,YAAYzP,OAAO,EAAK2E,MAAO,GAEpC,EAAKmD,QAAUlC,EACJ,EAAK6J,YACXpP,KAAK,GAEV,EAAKiR,sBAAuB,GAvYhB,KA0YdC,gBAAiB,EA1YH,KA4YdC,UAAY,WACV,EAAKD,gBAAiB,EAEtB,EAAKE,QAAQzW,QAAU,EAAKwJ,MAEL,EAAKkN,iBACXjJ,aAAe,EAAKmG,UAErC,IAAI+C,EAAc,EAAKC,iBACvBD,EAAYjN,MAAQ,EAAKmN,oBACzBF,EAAYrG,iBAAc7R,GAtZd,KAyZdqY,QAAU,WACR,EAAKP,gBAAiB,EACtB,EAAK/C,eACL,EAAKmC,YAEL,IAAI/L,EAAQ,EAAK6M,QAAQzW,QACzB,EAAKwJ,MAAQI,EACb,EAAKP,cAAcgB,QAAQ,EAAKW,WAAWxB,MAAQI,GAhavC,KAmadmN,YAAc,WACZ,EAAKR,gBAAiB,GAnatB1X,YAAeC,KAAM,CACnB+T,KAAM9T,IACN6T,UAAW7T,IACX+T,UAAW/T,IACXgU,cAAehU,IACf4T,SAAU5T,IACVwX,eAAgBxX,IAChB6K,MAAO7K,M,+CAST,OAHKD,KAAK0G,MACR1G,KAAK0G,IAAMC,MAEN3G,KAAK0G,M,4BAIZ,OAAO1G,KAAK2V,YAAY7O,QAAQ9G,Q,8BAKhC,OAAOA,KAAK8N,S,aAEF5N,GACVF,KAAK8N,QAAU5N,EACfF,KAAK2V,iBAAchW,EACnBK,KAAKsU,UAAO3U,I,kCAQZ,OAHKK,KAAKkY,cACRlY,KAAKkY,YAAclY,KAAKgO,QAAUhO,KAAKgO,QAAQ6F,SAAW7T,KAAKgM,MAAMmM,UAEhEnY,KAAKkY,a,aAEEhY,GACdF,KAAKkY,YAAchY,I,4BAInB,OAAOF,KAAK4G,O,+BAMZ,IAAIrB,EAAO,GAKX,OAJAA,EAAKgB,KAAKvG,MACVA,KAAK6T,SAASvK,SAAQ,SAAAtD,GACpBT,EAAKgB,KAAKsH,MAAMtI,EAAMS,EAAEkF,aAEnB3F,I,4BAMP,OAAOvF,KAAKyG,MAAMgQ,QAAO,SAAClU,EAAGmU,GAAJ,OAAUnU,EAAE6V,OAAO1B,EAAE9L,SAAQ,M,oCAKtD,OAAO5K,KAAKqY,e,aAEInY,GAEhB,GADAF,KAAKqY,cAAgBnY,EACjBA,EAAG,CACL,IAAI4K,EAAQ5K,EAAEqL,QAAQvL,KAAKkM,WAAWxB,MACpC1K,KAAK0K,MAAQI,K,4BAKjB,OAAO9K,KAAKuK,cAAcyC,Q,+BAM1B,OAAOhN,KAAKuX,WAAavX,KAAKuX,WAAavX,KAAKuK,gB,uCAQhD,OAHKvK,KAAKsY,mBACRtY,KAAKsY,iBAAmBrO,GAAyBjK,OAE5CA,KAAKsY,kB,aAEOpY,GACnBF,KAAKsY,iBAAmBpY,I,gCAQxB,OAHKF,KAAKuY,YACRvY,KAAKuY,UAAYtO,GAAkBjK,OAE9BA,KAAKuY,W,aAEArY,GACZF,KAAKuY,UAAYrY,I,gCAOjB,OAAOF,KAAK8T,W,aAEA5T,GACZF,KAAK8T,UAAY5T,EACjBF,KAAKwY,sBAAsBtX,QAAU+I,GAA4BjK,Q,0CAQjE,OAHKA,KAAKyY,sBACRzY,KAAKyY,oBAAsBxO,GAA4BjK,OAElDA,KAAKyY,qB,aAEUvY,GACtBF,KAAKyY,oBAAsBvY,I,4CAIA,IAAD,OACrBF,KAAK0Y,yBACE1Y,KAAK0Y,sBAAwBtX,EAAepB,KAAK2Y,sBACvDC,aAAe,SAAC1Y,GAAD,OAAO,EAAKyY,oBAAsBzY,IAEvD,OAAOF,KAAK0Y,wB,2BAQZ,YAHkB/Y,IAAdK,KAAK+T,OACP/T,KAAK+T,KAAO9J,GAAajK,OAEpBA,KAAK+T,M,aAEL7T,GACPF,KAAK+T,KAAO7T,EACZF,KAAK6T,SAASvK,SAAQ,SAAAtD,GAAC,OAAIA,EAAEsO,UAAO3U,O,gCAQpC,OAHKK,KAAKgU,YACRhU,KAAKgU,UAAY/J,GAAkBjK,OAE9BA,KAAKgU,W,aAEA9T,GACZF,KAAKgU,UAAY9T,I,4BAIjB,OAAO+J,GAAcjK,Q,uCAUrB,OAHKA,KAAK6Y,mBACR7Y,KAAK6Y,iBAAmB5O,GAAyBjK,OAE5CA,KAAK6Y,mB,4BAQZ,OAAO7Y,KAAK8K,O,aAEJ5K,GACRF,KAAK8K,MAAQ5K,EACbF,KAAK2X,QAAQzW,QAAUhB,I,0CAIvB,OAAOF,KAAKgM,MAAM8M,U,uCAQlB,OAHK9Y,KAAK+Y,mBACR/Y,KAAK+Y,iBAAmB9O,GAAyBjK,OAE5CA,KAAK+Y,mB,8BAQZ,OAHK/Y,KAAKgZ,UACRhZ,KAAKgZ,QAAU5X,EAAepB,KAAK0K,MAAO,yBAErC1K,KAAKgZ,U,qCAuIZ,OAHKhZ,KAAKiZ,iBACRjZ,KAAKiZ,eAAiB,IAAI5F,IAErBrT,KAAKiZ,iB,mCAkFZ,IAAInC,EAAU9W,KAAK+W,eAEnB,OAAO,eAAC,KAAD,CAAOjM,MAAO9K,KAAK0K,MAAOwO,QAASlZ,KAAKyX,eAC7C0B,KAAMnZ,KAAKgY,QAASoB,SAAUpZ,KAAKiY,YAD9B,UAEL,eAAC,IAAD,CAAKoB,OAAQ,GAAIjZ,MAAO,CAAEkZ,UAAW,IAArC,UACE,cAAC,IAAD,CAAKC,KAAK,QAAV,SACE,yDAEF,cAAC,IAAD,CAAKA,KAAK,OAAV,SACE,cAAC,EAAD,CAAWpY,MAAOnB,KAAK2X,eAIzB3X,KAAKmM,gBAOE,GAPgB,eAAC,IAAD,CAAKkN,OAAQ,GAAIjZ,MAAO,CAAEkZ,UAAW,IAArC,UACvB,cAAC,IAAD,CAAKC,KAAK,QAAV,SACE,wEAEF,cAAC,IAAD,CAAKA,KAAK,OAAV,SACE,cAAC,GAAD,CAAiBpY,MAAOnB,KAAK4X,wBAIjC,eAAC,IAAD,CAAKyB,OAAQ,GAAIjZ,MAAO,CAAEkZ,UAAW,IAArC,UACE,cAAC,IAAD,CAAKC,KAAK,QAAV,SACE,iEAEF,cAAC,IAAD,CAAKA,KAAK,OAAV,SACE,eAAC,IAAD,WACE,cAAC,IAAD,CAAKA,KAAK,OAAV,SACE,cAAC,GAAD,CAAYpY,MAAOnB,KAAK8X,qBAE1B,cAAC,IAAD,UACE,cAAC,IAAD,CAAQ/E,KAAK,UAAUD,KAAK,QAC1B1S,MAAO0W,EAAQ0C,YAAaxG,QAAS8D,EAAQtD,eAD/C,SAEEsD,EAAQxD,0B,uCASpB,IAAIlO,EAAM,IAAIyL,GAEd,OADAzL,EAAIiM,QAAUrR,KAAKyZ,YACZ,cAAC,GAAD,CAActY,MAAOiE,EAAKhF,MAAO,CAAEsZ,QAAS,OAAQC,WAAY,Q,kCAIvE,OAAO,qCACL,cAAC,IAAD,CAAQ7G,KAAK,QAAQC,KAAK,UACxB3S,MAAO,CAAEqT,gBAAiB,UAAWE,OAAQ,QAC7CX,QAAShT,KAAK0V,OAFhB,SAGE,cAACkE,GAAA,EAAD,MAEF,cAAC,IAAD,CAAQ9G,KAAK,QAAQC,KAAK,UACxB3S,MAAO,CAAEqT,gBAAiB,UAAWE,OAAQ,QAC7CX,QAAShT,KAAKmW,SAFhB,SAGE,cAAC0D,GAAA,EAAD,MAGF,cAAC,IAAD,CAAQ9G,KAAK,UAAUD,KAAK,QAC1B1S,MAAO,CAAEqT,gBAAiB,UAAWE,OAAQ,QAC7CX,QAAShT,KAAK0X,UAFhB,iBAIA,cAAC,IAAD,CAAQ5E,KAAK,QAAQC,KAAK,UACxB3S,MAAO,CAAEqT,gBAAiB,UAAWE,OAAQ,QAC7CX,QAAShT,KAAKoW,OAFhB,eAGA,cAAC,IAAD,CAAQrD,KAAK,UAAUD,KAAK,QAAQgH,QAAM,EACxC9G,QAAShT,KAAK2K,OADhB,sB,KCtfOnK,GAAM,SAACC,EAAGmF,GACrB,IAAIlF,EAAK,IAAIkT,GAGb,OAFAlT,EAAGyD,KAAO1D,EACVC,EAAGkG,KAAOhB,EACHlF,GAGIqZ,GAAU,SAACtZ,GACtB,OAAOA,EAAEuN,QAAUvN,EAAEuN,QAAQsG,KAAO,EAAI,GAG7B0F,GAAW,SAACvZ,GACvB,MAAO,CACLiZ,QAAS,OACTC,WAAqB,GAATlZ,EAAE6T,OAIL2F,GAAe,SAACxZ,GAC3B,OAA6B,IAAtBA,EAAEoT,SAAS3D,QAGPgK,GAAyB,SAACzZ,GACrC,OAAOA,EAAEgU,UAAY,IAAM,KAGhB0F,GAAsB,SAAC1Z,GAClC,IAAI2Z,EA9BGtR,GAAOF,SA8BayR,eACvBjV,EAAMkV,GAAoBF,OAAaza,GAG3C,OAFAyF,EAAI6K,YAAc,4BAClB7K,EAAIkK,sBAAwB,SAACpP,GAAD,OAAOO,EAAEmU,cAAgB1U,GAC9CkF,GAGImV,GAAQ,SAAChV,GACpB,GAAoB,IAAhBA,EAAK2K,OAAc,OAAO3K,EAE9B,IACI6E,EADW7E,EAAK,GACDsQ,SACnB,IAAKzL,EAAImE,iBAAkB,OAAOhJ,EAElC,IAAIwQ,EAAc3L,EAAI4L,YACtB,OAAOzQ,EAAKiV,MAAK,SAACjY,EAAGmU,GACnB,OAAOX,EAAYjP,QAAQvE,EAAE2J,WAAa6J,EAAYjP,QAAQ4P,EAAExK,eAsDvDuO,GAAsB,SAACha,GAClC,IAAI2E,EAAMsV,GAAe,QAAI/a,GAa7B,OAZAyF,EAAI6K,YAAc,2BAClB7K,EAAIiL,YAAc,SAAC7E,GACjB,IAAImO,EAAyB,GAAZnO,EAAK8I,KACtB,OAAO,qBACLlU,MAAO,CAAEuZ,cADJ,SAEJnO,EAAKd,SAGVtF,EAAIkK,sBAAwB,SAACpP,GACbO,EAAEsW,eACRE,aAAe/W,GAElBkF,GAGIuV,GAAsB,SAACla,GAClC,IAAIma,EAAWna,EAAEoT,SACjB,GAAwB,IAApB+G,EAAS1K,OACb,OAAO0K,EAAS,GAAGrQ,eAGRsQ,GAAe,SAACpa,GAC3B,IAAIqa,EAASra,EAAE6U,iBACf,IAAKwF,EAAQ,MAAO,GACpB,IAAIC,EAAOD,EAAO7P,aAAaL,MAE3BoQ,GAAkB,EAClBC,GAAgB,EACpBF,EAAKzR,SAAQ,SAACtD,EAAG+O,GACXkG,GAAwD,IAAvCjV,EAAEkV,0BAA0BhL,OAC/C8K,EAAiBjG,EAEjBkG,GAAgB,KAIpB,IAAIE,EAAeJ,EAAKjU,QAAQrG,EAAE8J,eAClC,OAAwB,IAApByQ,EAA8B,CAACF,EAAO9N,OAC7B+N,EAAK9R,QAAO,SAACjD,EAAG+O,GAAJ,QACJ,IAAlBoG,GAAuBA,EAAepG,IACvCA,GAAKiG,KACJnO,KAAI,SAAA7G,GAAC,OAAIA,EAAEgH,UAIHoO,GAAyB,SAAC3a,GACrC,IAAIwI,EAAS,IAAIjB,GACjBiB,EAAOhB,UAAYmB,GACnBH,EAAOZ,iBAAmBgB,GAC1BJ,EAAOV,OAAS,CAAC9H,EAAEyL,WAEnB,IAAI8I,EAASvU,EAAE8J,cAEX0K,OAAMtV,EACN0b,EAAWrG,EAAO5J,cACnBrF,WAAU,SAAAC,GAAC,OjC7HY,SAACsV,EAAOC,GAClC,IAAIC,GAAe,EACf3G,GAAS,EAQb,OANAyG,EAAMhS,SAAQ,SAACtD,EAAE+O,GACXyG,IAAiBD,EAAM9R,SAASzD,KAClCwV,GAAe,EAAO3G,GAAS,MAI5BA,EiCmHWlO,CAAqBX,EAAEwG,OAAOjE,OAAQU,EAAOV,YAE7C,IAAd8S,EACFpG,EAAMD,EAAO5J,cAAciQ,KAE3BpG,EAAM,IAAIxH,IACNyH,QAAUF,EACdC,EAAIzI,OAASvD,EACb+L,EAAO5J,cAAc7E,KAAK0O,IAG5B,IAAI7K,EAAMgL,GAAY,KAAM,KAAMH,GAIlC,OAHAA,EAAIrK,MAAQ,CAACR,GAEb3J,EAAE6U,iBAAmBlL,EACdA,GAGIjE,GAAM,SAAC2F,EAAQ0B,GAC1B,IAAIpD,EAAM0B,EACPA,EAAOwJ,iBAAmBxJ,EAAOwJ,iBAChC8F,GAAuBtP,GACvB0B,EAAM8J,QAENmE,EAAQC,GAAiBtR,EAAKwB,IAClCxB,EAAIQ,MAAMrE,KAAKkV,GAEf,IAAI1P,EAAMvL,GAAIib,EAAMlY,MAAOiK,GAO3B,OANAzB,EAAIG,UAAYuP,EAAMlY,MACtBwI,EAAII,iBAAkB,EACtBJ,EAAIxB,cAAgBH,EAEpB2B,EAAIiC,QAAUlC,EACdC,EAAI4J,YAAYpP,KAAKwF,GACdA,GCnMY4P,G,WACnB,aAAe,IAAD,gCAsBd7O,MAAQ,GAtBM,KAyCd8O,QAAU,WACR,GAAI,EAAKvF,SAAU,CACjB,IAAIwF,OAAOlc,EAMX,OALA,EAAK0W,SAAS/M,SAAQ,SAAAtD,GAChBA,EAAExC,OACJqY,EAAO7V,EAAExC,SAGNqY,EAET,OAAO,EAAKjR,OAA+B,IAAtB,EAAKA,MAAMsF,OAAe,EAAKtF,MAAM,GAAGpH,UAAO7D,GAnDxD,KA+Ddmc,2BAA6B,GA/Df,KAoEdC,gBAAapc,EApEC,KA+Gd2W,YAAc,WACZ,IAAI0F,EAAU,EAAKC,IAAIpI,SACvB,GAAImI,GAA8B,IAAnBA,EAAQ9L,OAAc,CACnC,IAAIiE,EAAM,EAAKC,OACf,OAAO4H,EAAQnP,KAAI,SAAA7G,GAAC,OAAIA,EAAEkO,gBAAgBC,MACvClL,QAAO,SAAAjD,GAAC,YAAUrG,IAANqG,OApHL,KAmIdkW,SAAW,WACTC,QAAQC,IAAR,UAAe,EAAKhI,OAAOjQ,KAA3B,cAAqC,EAAK8X,IAAI9X,KAA9C,cAAwD,EAAKqS,cApIjD,KAuIdnC,WAAa,WACP,EAAK4H,IAAI9P,kBAIb,EAAKkK,SAAW,EAAKC,cAErB,EAAK9S,KAAO,EAAKoY,UACjB,EAAKhY,SAAWqG,GAAiB,GACjC,EAAKoS,eAAiBpS,GAAuB,GAEzC,EAAKoS,iBACP,EAAKC,SAAWrS,GAAiB,IAGnC,EAAKsS,WAAatS,GAAmB,GACrC,EAAKuS,UAAYvS,GAAkB,KAvJvB,KA0JdwS,WAAa,WACX,IACI9Z,EAAG,UAAM+Z,iBAAN,OAAwC,KAAxC,eAEHC,EAAc,SAACzc,GAAD,OAChB0c,OAAO5N,KAFI,SAAC9O,GAAD,gBAAUyC,EAAV,YAAiBzC,GAEhB2c,CAAO3c,GAAI,WAEpB,EAAK4c,aAMRH,EAAY,EAAKG,cALjB,EAAKC,iBAAgB,SAAA1b,GACnB,IAAIqF,EAAM,EAAKoW,aAAezb,EAAKqF,IACnCiW,EAAYjW,OApKJ,KA0MdsW,gBAAard,EA1MC,KAqNdsd,eAAYtd,EArNE,KA8OdoN,QAAU,WACR,IAAImQ,EAAU,EAAKhS,SAAS2B,KAAI,SAAA7G,GAAC,OAAIA,EAAEU,OACvC,MAAO,CACLyW,SAAU,EAAKvZ,SACfsZ,YAlPU,KAsPdH,gBAAkB,SAACK,GACjB,IAAIC,EAAU,EAAKtQ,UAEnBuQ,EADU,4CACGD,GAASE,MAAK,SAAAvb,GAAQ,OAAIA,EAASX,QAC7Ckc,MAAK,SAAAlc,GAAI,OAAI+b,EAAO/b,OA1PX,KA6Pdmc,gCAAkC,GA7PpB,KA6QdC,mBAAgB9d,EA7QF,KAuRd+d,iCAA8B/d,EAtR5BI,YAAeC,KAAM,CACnBgd,WAAY/c,IACZgd,UAAWhd,IACX8b,WAAY9b,IACZwd,cAAgBxd,IAChByd,4BAA8Bzd,M,+CAShC,OAHKD,KAAK0G,MACR1G,KAAK0G,IAAMC,MAEN3G,KAAK0G,M,kCAIZ,OAAO1G,KAAKoU,OAAOvJ,Q,4BAKnB,OAAO7K,KAAK8M,O,aAEJ5M,GACRF,KAAK8M,MAAQ5M,I,2BAQb,OAHKF,KAAK6b,OACR7b,KAAK6b,KAAO7b,KAAK4b,WAEZ5b,KAAK6b,M,aAEL3b,GACPF,KAAK6b,KAAO3b,I,6BAiBA,IAAD,OAKX,OAJKF,KAAK2d,SACR3d,KAAK2d,OAASvc,EAAepB,KAAKwD,MAClCxD,KAAK2d,OAAO/E,aAAe,SAAC1Y,GAAD,OAAO,EAAKsD,KAAOtD,IAEzCF,KAAK2d,S,mCAIKzd,GACjBF,KAAK8b,2BAA2BxS,SAAQ,SAAAtD,GAAC,OAAIA,EAAEzC,a,iCAU/C,OAHKvD,KAAK+b,YACR9R,GAAuBjK,MAElBA,KAAK+b,Y,aAEC7b,GACbF,KAAK+b,WAAa7b,EAClBF,KAAK4d,gBAAiB,EACtB5d,KAAK2W,UAAUzV,QAAUlB,KAAK4W,c,gCAQ9B,OAHK5W,KAAK6d,YACR7d,KAAK6d,UAAYzc,EAAepB,KAAK4W,cAEhC5W,KAAK6d,Y,kCAIZ,GAAI7d,KAAKic,IAAI9P,gBAAiB,MAAO,GACrC,IAAI4P,EAAa/b,KAAKwW,WACtB,IAAKuF,EAAY,MAAO,GAExB,IAAIF,EAAO7b,KAAKwD,KAAOxD,KAAKwD,KAAO,GACnC,MAAM,GAAN,OAAUuY,EAAW+B,QAAQ,GAA7B,YAAmCjC,K,+BAQnC,OAHK7b,KAAK+d,WACR/d,KAAK+d,SAAW/d,KAAKsW,eAEhBtW,KAAK+d,U,aAED7d,GACXF,KAAK+d,SAAW7d,I,+BAiBhB,OAHKF,KAAKmd,WACRnd,KAAKmd,SAAWlT,GAAiBjK,OAE5BA,KAAKmd,U,aAEDjd,GACXF,KAAKmd,SAAWjd,I,+BA8ChB,OAAIF,KAAKqW,SACArW,KAAKqW,SAASxJ,KAAI,SAAA7G,GAAC,OAAIA,EAAE4E,SAAO6L,QAAO,SAAClU,EAAGmU,GAAJ,OAAUnU,EAAE6V,OAAO1B,KAAI,IAEhE1W,KAAK4K,Q,qCAQZ,OAHK5K,KAAKge,iBACRhe,KAAKge,eAAiB/T,GAAuBjK,OAExCA,KAAKge,gB,aAEK9d,GACjBF,KAAKge,eAAiB9d,I,+BAQtB,OAHKF,KAAKie,WACRje,KAAKie,SAAWhU,GAAiBjK,OAE5BA,KAAKie,U,aAED/d,GACXF,KAAKie,SAAW/d,I,iCAQhB,OAHKF,KAAKgd,aACRhd,KAAKgd,WAAa/S,GAAmBjK,OAEhCA,KAAKgd,Y,aAEC9c,GACbF,KAAKgd,WAAa9c,I,gCAQlB,OAHKF,KAAKid,YACRjd,KAAKid,UAAYhT,GAAkBjK,OAE9BA,KAAKid,W,aAEA/c,GACZF,KAAKid,UAAY/c,I,6BAIjB,MAAO,CACLge,MAAOle,KAAKuc,WACZ4B,WAAY,U,8BAMd,MAAO,CACL1K,gBAAiBzT,KAAKwc,a,wCAoBFtc,GACtBF,KAAKwd,gCAAgClU,SAAQ,SAAAtD,GAAC,OAAIA,EAAEzC,a,sCAQpD,OAHKvD,KAAKoe,iBACRnU,GAA4BjK,MAEvBA,KAAKoe,iB,aACQle,GACpBF,KAAKoe,gBAAkBle,EACvBF,KAAKqe,qBAAsB,I,oCAQ3B,YAH2B1e,IAAvBK,KAAKyd,gBACPzd,KAAKyd,cAAgBxT,GAAsBjK,OAEtCA,KAAKyd,e,aACMvd,GAClBF,KAAKyd,cAAgBvd,I,kDAQrB,OAHKF,KAAK0d,6BACRzT,GAAwCjK,MAEnCA,KAAK0d,6B,aACoBxd,GAChCF,KAAK0d,4BAA8Bxd,M,KCpS1Boe,GAAS,WACpB,OAAOxV,GAAOF,UAeH2V,GAAoB,SAAC9d,GAChC,OAAOA,EAAEmG,KAAK6O,cAAgB+I,GACiB,IAA1CF,KAASG,eAAeC,OAAOxO,QACb,IAAlBzP,EAAEke,aAGIC,GAAgB,SAACne,GAC5B,OAAIA,EAAE4b,gBAAkB5b,EAAE6b,SACjB,UAEA,WAIEuC,GAAe,SAACpe,GAC3B,OAAIA,EAAE4b,gBAAkB5b,EAAE6b,SACjB7b,EAAE6b,SAAS5I,MAEX,WAIEoL,GAAc,SAACre,GAC1B,IAAI8E,EAAO+Y,KAASS,sBAAsBnU,MAEtCoU,EAAQve,EAAEwb,IAAIxV,MACdwY,EAAeD,EAAMjZ,WAAU,SAAAC,GAAC,OAAsB,IAAlBA,EAAE2Y,eACtCO,EAAcF,EAAMC,GACpBE,EAAQ1e,EAAE+V,WAAa0I,EAAY1I,WAEnC1Q,EAAQP,EACTQ,WAAU,SAAAC,GAAC,OAAI+H,GAAmB/H,EAAEwG,OAAQ2S,MAC/C,OAAkB,IAAXrZ,EAAeP,EAAKO,QAASnG,GAGzByf,GAAc,SAAC3e,GAC1B,IAAI0c,OAAWxd,EACf,GAAIc,EAAE4V,SAAU,CACd,IAAIgJ,GAAY,EAChB5e,EAAE4V,SAAS/M,SAAQ,SAAAtD,GACbqZ,GAAarZ,EAAEpC,WACjBuZ,EAAWnX,EAAEpC,SACbyb,GAAY,WAIZ5e,EAAEmK,OAASnK,EAAEmK,MAAMsF,OAAS,IAC9BiN,EAAW1c,EAAEmK,MAAM,GAAGhH,UAG1B,OAAOuZ,GAGImC,GAAyB,SAAC7e,GACrC,IAAI8E,EAAO,GACPga,EAAe,EACfC,EAAQ/e,EAAE4V,SACZ5V,EAAE4V,SAASnG,OAASzP,EAAEmK,MAAMsF,OAExBuP,EAAe,SAACC,EAAKna,IACqB,IAA1CA,EAAKQ,WAAU,SAAAC,GAAC,OAAIA,EAAEmF,KAAOuU,EAAIvU,OACnC5F,EAAKgB,KAAKmZ,IAIRC,EAAa,SAACD,GAClBH,IACIG,IACEE,MAAMC,QAAQH,GAChBA,EAAIpW,SAAQ,SAAAtD,GAAC,OAAIyZ,EAAazZ,EAAGT,MAEjCka,EAAaC,EAAKna,IAGlBga,IAAiBC,IACnB/e,EAAEqf,gBAAkBva,IAIpB9E,EAAE4V,SAEJ5V,EAAE4V,SAAS/M,SAAQ,SAAAtD,GACbA,EAAE8Z,gBACJH,EAAW3Z,EAAE8Z,iBAEbnZ,GAAYX,EAAEwX,iCACZ,kBAAMmC,EAAW3Z,EAAE+Z,sBAKzBtf,EAAEmK,MAAMtB,SAAQ,SAAAtD,GACVA,EAAE+Z,eACJJ,EAAW3Z,EAAE+Z,gBAEbpZ,GAAYX,EAAEga,gCACZ,kBAAML,EAAW3Z,EAAE+Z,uBAMhBE,GAAoB,SAACxf,GAChC,IAAIyf,EAAc,GACdC,EAAW,EACXZ,EAAe,EACfC,EAAQ/e,EAAE4V,SACZ5V,EAAE4V,SAASnG,OAASzP,EAAEmK,MAAMsF,OAExByP,EAAa,SAACD,GAClBH,IACAY,GAAYT,EACZQ,EAAY3Z,KAAKmZ,GACbH,IAAiBC,IACnB/e,EAAE+V,WAAa2J,IAIf1f,EAAE4V,SAEJ5V,EAAE4V,SAAS/M,SAAQ,SAAAtD,GACbA,EAAEwQ,WACJmJ,EAAW3Z,EAAEwQ,YAEb7P,GAAYX,EAAE8V,4BACZ,kBAAM6D,EAAW3Z,EAAEkG,iBAKzBzL,EAAEmK,MAAMtB,SAAQ,SAAAtD,GACVA,EAAEkG,UACJyT,EAAW3Z,EAAEkG,WAEbvF,GAAYX,EAAEoa,2BACZ,kBAAMT,EAAW3Z,EAAEkG,kBAMhBmU,GAAmB,SAAC5f,GAC/B,GAAIA,EAAEwb,IAAIjP,QAAUwR,EAClB,OAAO,EAEP,IAAM8B,EAAiB,SAACC,GACtB,OAA8B,IAAvBA,EAAYrQ,QAGrB,GAAIzP,EAAEqf,gBACJ,OAAOQ,EAAe7f,EAAEqf,iBAExBnZ,GAAYlG,EAAE+c,iCACZ,WACE/c,EAAE+f,cAAgBF,EAAe7f,EAAEqf,qBAMhCW,GAAqC,SAAChgB,GAErB,IAAxBA,EAAEwb,IAAIjO,QAAQnD,OAAepK,EAAEwb,IAAIjO,QAAQA,QAAQnD,MAIvD,IAAM8U,EAAa,SAACD,EAAKna,EAAMga,EAAcC,GAC3CD,KAC2B,IAAvBha,EAAKuB,QAAQ4Y,IACfna,EAAKgB,KAAKmZ,GAERH,IAAiBC,IACnB/e,EAAEigB,4BAA8Bnb,IAI9Bob,EAAc,SAACJ,GACnB,IAAIhb,EAAO,GAEPia,EAAQe,EAAYrQ,OAExBqQ,EAAYjX,SAAQ,SAAAtD,GACdA,EAAE4a,gBACJjB,EAAW3Z,EAAE4a,gBAAiBrb,EALf,EAKmCia,GAGlD7Y,GAAYX,EAAE6a,iCAAiC,WAC7ClB,EAAW3Z,EAAE4a,gBAAiBrb,EATjB,EASqCia,MACjD,OAKL/e,EAAEqf,gBACJa,EAAYlgB,EAAEqf,iBAEdrf,EAAEqgB,4BAA4Bva,MAAK,WACjCoa,EAAYlgB,EAAEqf,qBC1MPiB,GAAmB,SAACtgB,GAC/B,OAAOA,EAAEugB,iBAAmBvgB,EAAEugB,iBAAiB7c,KAC3C,IAWO8c,GAAa,SAACxgB,GAAO,IAAD,EAC3BC,EAAE,UAAGD,EAAEygB,eAAL,aAAG,EAAWtW,MAAM,GAG1B,OAFAlK,EAAGsL,MAAQvL,EACXC,EAAG+L,YAAS9M,EACLe,GCnCIygB,GAAgB,gBAChBC,GAAa,aACbC,GAAY,YCCJC,G,4DA4CnB3W,OAAS,WAAO,IACTjE,EAAO,EAAPA,IAIL4W,EADW,uCAFG,CAAC5W,QAGO6W,MAAK,SAAAvb,GAAQ,OAAIA,EAASX,QAC7Ckc,MAAK,SAAAlc,GAAI,OAAIc,IAAQF,QAAQ,kCAEhC,EAAK2E,KAAKgE,MAAM1E,OAAO,EAAK2E,MAAO,GAE/B,EAAK0W,UACP,EAAKA,WAGP,EAAK3a,KAAK4a,MAAMC,gBAAa9hB,G,iDAvD7B,OAAOK,KAAK0hB,M,aAELxhB,GACPF,KAAK0hB,KAAOxhB,EACRF,KAAK2hB,eACP3hB,KAAK2hB,cAAczhB,K,kCAMrB,OAAOF,KAAK4hB,a,aAEE1hB,GACdF,KAAK4hB,YAAc1hB,EACfF,KAAK6hB,sBACP7hB,KAAK6hB,qBAAqB3hB,K,2BAQ5B,OAAOF,KAAKqB,M,aAELnB,GACPF,KAAKqB,KAAOnB,EACRF,KAAK8hB,eACP9hB,KAAK8hB,cAAc5hB,K,qCAKrB,OAAOF,KAAKmE,O,4BAIZ,OAAOnE,KAAK4G,KAAKgE,MAAM9D,QAAQ9G,Q,8BAqB/B,MAAO,CACL0G,IAAM1G,KAAK0G,IACXqb,UAAY/hB,KAAKoD,QAAQsD,IACzBsb,YAAchiB,KAAKiiB,YACnBP,KAAO1hB,KAAKmE,KACZyd,YAAc5hB,KAAKkiB,YACnB7gB,KAAOrB,KAAKmiB,KAAKpV,a,KC9DFqV,G,4DAYnBC,YAAc,WACZ,IAAI7W,EAhBC1C,GAAOF,SAgBQ0Z,kBAAkB,GAEtC,OADA,EAAKC,OAAOhc,KAAKiF,GACVA,G,mDATP,OAHKxL,KAAKwiB,SACRxiB,KAAKwiB,OAASvY,GAAsBjK,OAE/BA,KAAKwiB,Q,aAEHtiB,GACTF,KAAKwiB,OAAStiB,M,KCjBLuiB,GAAW,WCmBXC,GAAmB,WAC9B,MAAO,CAAEC,KCnBU3B,G,4HAAyBM,ICOjC9gB,GAAM,SAACC,EAAGmF,GACrB,IAAIlF,EAAK,IAAIsgB,GASb,OAPAtgB,EAAGgG,IAAMjG,EAAEiG,IACXhG,EAAGyD,KAAO1D,EAAEihB,KACZhhB,EAAGwhB,YAAczhB,EAAEmhB,YACnBlhB,EAAGuhB,YAAcxhB,EAAEuhB,YACnBthB,EAAGyhB,KFPc,SAAC1hB,GAClB,IAAIC,EAAK,IAAI0hB,GAEb,OADA1hB,EAAG+M,mBAAqBmV,GAAsBniB,EAAEoiB,oBACzCniB,EEIGoiB,CAAariB,EAAEY,MACzBX,EAAGkG,KAAOhB,EAEHlF,GCfIqiB,GAAb,WACE,aAAe,IAAD,gCA+BdC,UAAOrjB,EA/BO,KA6Cd+hB,UAAO/hB,EA7CO,KA2DdiiB,iBAAcjiB,EA3DA,KAyEdsjB,cAAWtjB,EAzEG,KA0HdgL,OAAS,WACP,EAAK/D,KAAKsc,eAAehd,OAAO,EAAK2E,MAAO,IA3HhC,KA8HdqR,SAAW,WACTC,QAAQC,IAAI,EAAKjY,KAAM,EAAKgf,KAAM,EAAKjB,cA9HvCniB,YAAeC,KAAM,CACnBijB,SAAWhjB,MAHjB,gDAQI,OAAOD,KAAKsD,YAAYoD,MAR5B,4BAYI,OAAO1G,KAAK4G,KAAKsc,eAAepc,QAAQ9G,QAZ5C,2BAgBI,OAAOA,KAAKsD,YAAY+B,MAhB5B,aAkBWnF,GACPF,KAAKsD,YAAY+B,KAAOnF,IAnB5B,8BA6BI,OAHKF,KAAK8N,UACR9N,KAAK8N,QAAU7D,GAAgBjK,OAE1BA,KAAK8N,UA7BhB,2BAqCI,OAHK9N,KAAKgjB,OACRhjB,KAAKgjB,KAAOhjB,KAAKsD,YAAY6f,MAExBnjB,KAAKgjB,MArChB,aAuCW9iB,GACPF,KAAKgjB,KAAO9iB,EACPF,KAAKqF,OACRrF,KAAKsD,YAAY6f,KAAOjjB,KA1C9B,2BAmDI,OAHKF,KAAK0hB,OACR1hB,KAAK0hB,KAAO1hB,KAAKsD,YAAYa,MAExBnE,KAAK0hB,MAnDhB,aAqDWxhB,GACPF,KAAK0hB,KAAOxhB,EACPF,KAAKqF,OACRrF,KAAKsD,YAAYa,KAAOjE,KAxD9B,kCAiEI,OAHKF,KAAK4hB,cACR5hB,KAAK4hB,YAAc5hB,KAAKsD,YAAY4e,aAE/BliB,KAAK4hB,aAjEhB,aAmEkB1hB,GACdF,KAAK4hB,YAAc1hB,EACdF,KAAKqF,OACRrF,KAAKsD,YAAY4e,YAAchiB,KAtErC,+BA+EI,OAHKF,KAAKijB,WACRjjB,KAAKijB,SAAWjjB,KAAKsD,YAAYc,UAE5BpE,KAAKijB,UA/EhB,aAiFe/iB,GACXF,KAAKijB,SAAW/iB,IAlFpB,iCAsFI,OAAOF,KAAKoE,WAtFhB,qCA0FI,OAAOpE,KAAKoE,WA1FhB,6BA8FgB,IAAD,OACNpE,KAAKojB,UACEpjB,KAAKojB,OACbhiB,EAAepB,KAAKmjB,KAAM,eACxBhjB,aAAe,SAACD,GAAD,OAAO,EAAKijB,KAAOjjB,IAExC,OAAOF,KAAKojB,SApGhB,6BAwGgB,IAAD,OACNpjB,KAAKqjB,UACErjB,KAAKqjB,OACbjiB,EAAepB,KAAKmE,KAAM,0BACxBhE,aAAe,SAACD,GAAD,OAAO,EAAKiE,KAAOjE,IAExC,OAAOF,KAAKqjB,SA9GhB,oCAkHuB,IAAD,OACbrjB,KAAKsjB,iBACEtjB,KAAKsjB,cACbliB,EAAepB,KAAKkiB,YAAa,kBAC/B/hB,aAAe,SAACD,GAAD,OAAO,EAAKgiB,YAAchiB,IAE/C,OAAOF,KAAKsjB,kBAxHhB,KCGa9iB,GAAM,SAACC,EAAGmF,GACrB,IAAIlF,EAAK,IAAIqiB,GAgCb,OA/BAriB,EAAG4C,YAAc7C,EACjBC,EAAGkG,KAAOhB,EAEVnF,EAAE8iB,cAAgB,SAACrjB,GACbO,EAAE4E,OACJ3E,EAAGyiB,KAAOjjB,IAIdO,EAAEkhB,cAAgB,SAACzhB,GACbO,EAAE4E,OACJ3E,EAAGyD,KAAOjE,IAIdO,EAAEohB,qBAAuB,SAAC3hB,GACpBO,EAAE4E,OACJ3E,EAAGwhB,YAAchiB,IAIrBO,EAAE+iB,kBAAoB,SAACtjB,GACjBO,EAAE4E,OACJ3E,EAAG0D,SAAWlE,IAIlBO,EAAE8gB,SAAW,WACX7gB,EAAGiK,UAGEjK,GAGI+iB,GAAa,SAAChjB,GACzB,IAAIijB,EAAQjjB,EAAE6C,YAAY0K,QACtBzI,EAzCGoe,GAAS/a,SAyCMgb,mBAAmBV,eACrCpd,EAAQP,EAAKQ,WAAU,SAAAC,GAAC,OAAIA,EAAE1C,cAAgBogB,KAClD,OAAkB,IAAX5d,EAAeP,EAAKO,QAASnG,GC7CzBkkB,GAAb,WACE,aAAe,yBAYfC,QAAS,EAZK,KAcdC,eAAYpkB,EAdE,KAsBdqkB,WAAY,EArBVjkB,YAAeC,KAAM,CACnB+jB,UAAW9jB,IACX+jB,UAAY/jB,IACZ6jB,OAAS7jB,MALf,oDAgBgBC,GACZF,KAAK+jB,UAAY7jB,EACbF,KAAKikB,eACPjkB,KAAKikB,cAAc/jB,OAnBzB,KCAaM,GAAM,SAACkhB,EAAMqC,GACxB,IAAIrjB,EAAK,IAAImjB,GAGb,OAFAnjB,EAAGqjB,UAAYA,EACfrjB,EAAGghB,KAAOA,EACHhhB,GCCIwjB,GAAb,WACE,aAAe,IAAD,gCAQdlB,UAAOrjB,EARO,KAoBd+hB,UAAO/hB,EApBO,KAgCdiiB,iBAAcjiB,EAhCA,KA4CdmO,aAAUnO,EA5CI,KA0DdwkB,8BAA2BxkB,EA1Db,KAqFdykB,WAAQzkB,EArFM,KAkGd0kB,iBAAc1kB,EAlGA,KAgMduc,SAAW,2BAAS,EAAKiH,KAAd,YAAsB,EAAKhf,KAA3B,YAAmC,EAAK+d,YAAxC,YAAuD,EAAKoC,QAhMzD,KAkMdC,YAAc,WACZ,EAAKC,iBAAiBD,eAnMV,KA6MdE,WAAa,WACX,EAAK1B,cAAczf,YAAYqH,SAC/B,EAAKoY,mBAAgBpjB,GA/MT,KAkNdmS,MAAQ,WACN,EAAK4S,OAAOxjB,QAAU,KACtB,EAAKyjB,OAAOzjB,QAAU,KACtB,EAAK0jB,cAAc1jB,QAAU,KAC7B,EAAK2jB,QAAQC,WAAY,GArNzB/kB,YAAeC,KAAM,CACnBokB,MAAOnkB,MAHb,iDAcI,OAHKD,KAAKgjB,OACRhjB,KAAKgjB,KAAOhjB,KAAKwkB,iBAAiBrB,MAE7BnjB,KAAKgjB,MAdhB,aAgBW9iB,GACPF,KAAKgjB,KAAO9iB,EACZF,KAAKwkB,iBAAiBrB,KAAOjjB,IAlBjC,2BA0BI,OAHKF,KAAK0hB,OACR1hB,KAAK0hB,KAAO1hB,KAAKwkB,iBAAiBrgB,MAE7BnE,KAAK0hB,MA1BhB,aA4BWxhB,GACPF,KAAK0hB,KAAOxhB,EACZF,KAAKwkB,iBAAiBrgB,KAAOjE,IA9BjC,kCAsCI,OAHKF,KAAK4hB,cACR5hB,KAAK4hB,YAAc5hB,KAAKwkB,iBAAiBtC,aAEpCliB,KAAK4hB,aAtChB,aAwCkB1hB,GACdF,KAAK4hB,YAAc1hB,EACnBF,KAAKwkB,iBAAiBtC,YAAchiB,IA1CxC,8BA+CI,OAAOF,KAAK8N,SA/ChB,aAiDc5N,GACVF,KAAK8N,QAAU5N,EACf,IAAIuQ,EAAQzQ,KAAKwkB,iBAIf/T,EAAMzC,QAHH9N,EAGaA,EAAEoD,YAFFpD,IArDtB,+CAgEI,OAHKF,KAAKmkB,2BACRnkB,KAAKmkB,yBAA2Bla,GAAiCjK,OAE5DA,KAAKmkB,0BAhEhB,aAkE+BjkB,GAC3BF,KAAKmkB,yBAA2BjkB,EAEhC,IAAI6kB,EAAW/kB,KAAKglB,gBACpBD,EAASna,MAAQ1K,EACjB6kB,EAASvT,YAAcxR,KAAKgO,UAvEhC,sCA2EwB,IAAD,OACnB,IAAKhO,KAAKilB,gBAAgB,CACxB,IAAI7f,EAAMpF,KAAKilB,gBAAkBC,GAC9BllB,KAAKmlB,yBAA0BnlB,KAAKgO,SACvC5I,EAAI6K,YAAc,qBAClB7K,EAAIyM,UAAW,EACfzM,EAAIkK,sBAAwB,SAACpP,GAAD,OAAO,EAAK8N,QAAU9N,GAEpD,OAAOF,KAAKilB,kBAnFhB,4BA2FI,YAHmBtlB,IAAfK,KAAKokB,QACPpkB,KAAKokB,MAAQpkB,KAAKwkB,iBAAiBF,OAE9BtkB,KAAKokB,OA3FhB,aA6FYlkB,GACRF,KAAKokB,MAAQlkB,EACbF,KAAKolB,UAAUlkB,QAAU+I,GAAoBjK,MAC7CA,KAAKwkB,iBAAiBF,MAAQpkB,IAhGlC,kCAwGI,OAHKF,KAAKqkB,cACRrkB,KAAKqkB,YAAcpa,GAAoBjK,OAElCA,KAAKqkB,aAxGhB,aA0GkBnkB,GACdF,KAAKqkB,YAAcnkB,IA3GvB,oCAgHI,OAAOF,KAAKqlB,eAhHhB,aAkHoBnlB,GAGhB,GAFAF,KAAKqlB,cAAgBnlB,EAEhBA,EAIA,CACHF,KAAKwkB,iBAAiBlhB,YAAcpD,EAAEoD,YADnC,IAGG6f,EAAqCjjB,EAArCijB,KAAMhf,EAA+BjE,EAA/BiE,KAAM+d,EAAyBhiB,EAAzBgiB,YAAalU,EAAY9N,EAAZ8N,QAC/BhO,KAAK0kB,OAAOxjB,QAAUiiB,EACtBnjB,KAAK2kB,OAAOzjB,QAAUiD,EACtBnE,KAAK4kB,cAAc1jB,QAAUghB,EAE7BliB,KAAKglB,gBAAgBxT,YAAcxD,EAEnChO,KAAK6kB,QAAQC,WAAY,OAbzB9kB,KAAKwkB,iBAAiBlhB,YAAcpD,EACpCF,KAAK6kB,QAAQC,WAAY,IAvH/B,6BAwIgB,IAAD,OACN9kB,KAAKojB,UACEpjB,KAAKojB,OACbhiB,EAAepB,KAAKmjB,KAAM,eACxBhjB,aAAe,SAACD,GAAD,OAAO,EAAKijB,KAAOjjB,IAExC,OAAOF,KAAKojB,SA9IhB,6BAkJgB,IAAD,OACNpjB,KAAKqjB,UACErjB,KAAKqjB,OACbjiB,EAAepB,KAAKmE,KAAM,0BACxBhE,aAAe,SAACD,GAAD,OAAO,EAAKiE,KAAOjE,IAExC,OAAOF,KAAKqjB,SAxJhB,oCA4JuB,IAAD,OACbrjB,KAAKsjB,iBACEtjB,KAAKsjB,cACbliB,EAAepB,KAAKkiB,YAAa,kBAC/B/hB,aAAe,SAACD,GAAD,OAAO,EAAKgiB,YAAchiB,IAE/C,OAAOF,KAAKsjB,gBAlKhB,8BAsKiB,IAAD,OACZ,IAAKtjB,KAAKslB,QAAS,CACjB,IAAIlgB,EAAMpF,KAAKslB,QACXC,GAAmB,0BAAgBvlB,KAAKskB,OAE5Clf,EAAI4e,WAAY,EAChB5e,EAAI6e,cAAgB,SAAC/jB,GACnB,EAAKokB,MAAQpkB,EAEXkF,EAAI4e,YADF9jB,GAOR,OAAOF,KAAKslB,UArLhB,gCAyLmB,IAAD,OACTtlB,KAAKwlB,aACExlB,KAAKwlB,UAAYpkB,EAAepB,KAAKylB,cAC3CtlB,aAAe,SAACD,GAAD,OAAO,EAAKulB,YAAcvlB,IAE/C,OAAOF,KAAKwlB,YA9LhB,iCAyMI,OAAQxlB,KAAKskB,MAET,GADF,cAAC,IAAD,CAAQtR,QAAShT,KAAKykB,WAAtB,wBA1MN,KCHaiB,GAAW,WACtB,OAAO/B,GAAS/a,UAyBL+c,GAAiB,SAACjlB,GAE7B,OADYA,EAAG4jB,MACA,SAAW,QAGfsB,GAA8B,SAACnlB,GAC1C,OAAOilB,KAAW9B,mBAAmBV,gBCT1B2C,GAAuB,SAACC,GAEnC,ODrBiB,SAACrlB,EAAGmF,GACrB,IAAIlF,EAAK,IAAIwjB,GAkBb,OAjBAxjB,EAAG8jB,iBAAmB/jB,EACtBC,EAAGkG,KAAOhB,EAEV8f,KAAW9B,mBAAmBmC,qBAAqBxf,MAAK,WACtD7F,EAAGykB,yBAA2BS,GAA4BllB,MAG5DD,EAAEulB,kBAAoB,SAAC9lB,GACrB,IAAI+lB,EAAUvlB,EAAG+kB,YACjBtjB,IAAQF,QAAR,UAAmBgkB,EAAnB,+BAIFrgB,EAAKsgB,MAAQ,SAAChmB,GACZQ,EAAGqiB,cAAgB7iB,GAGdQ,ECEAylB,CADKL,EAAOM,iBAAiB5B,iBACKsB,IC1B9BO,GAAb,WACE,aAAe,IAAD,gCAmBdvZ,WAASnN,EAnBK,KAoDdwG,IAAM,SAACqF,GACL,EAAKZ,MAAMrE,KAAKiF,IApDhBzL,YAAeC,KAAM,CACnB8M,MAAQ7M,MAHd,iDAQI,OAAOD,KAAKsmB,UAAUjhB,MAR1B,aAUWnF,GACPF,KAAKsmB,UAAUjhB,KAAOnF,IAX1B,iCAcoBA,GACZF,KAAKumB,gBACPvmB,KAAKumB,eAAermB,KAhB1B,4BAyBI,OAHKF,KAAK8M,QACR9M,KAAK8M,MAAQ7C,GAAcjK,OAEtBA,KAAK8M,QAzBhB,kCAiCI,OAHK9M,KAAKwmB,cACRxmB,KAAKwmB,YAAcxmB,KAAKsmB,UAAUG,aAE7BzmB,KAAKwmB,aAjChB,aAmCkBtmB,GACdF,KAAKwmB,YAActmB,EACdA,GAGHF,KAAKsmB,UAAUG,YAAcvmB,EAAEomB,UAC/BtmB,KAAKwhB,MAAMkF,SAAWxmB,GAHtBF,KAAKsmB,UAAUG,YAAcvmB,IAtCnC,4BAkDI,OAHKF,KAAKyQ,QACRzQ,KAAKyQ,MAAQxG,GAAcjK,OAEtBA,KAAKyQ,UAlDhB,KCAakW,GAAb,WACE,aAAe,IAAD,gCAmBdjF,UAAO/hB,EAnBO,KAmHdinB,UAAY,WACV,GAAI,EAAKC,YACP,OAAO,EAAKA,eArHF,KA8Hdlc,OAAS,WACP,EAAK/D,KAAKgE,MAAM1E,OAAO,EAAK2E,MAAO,IA9HnC9K,YAAeC,KAAM,CACnB0hB,KAAMzhB,MAHZ,gDAQI,OAAOD,KAAKsmB,UAAU5f,MAR1B,2BAYI,OAAO1G,KAAKsmB,UAAUjhB,MAZ1B,aAcWnF,GACPF,KAAKsmB,UAAUjhB,KAAOnF,IAf1B,2BAyBI,OAHKF,KAAK0hB,OACR1hB,KAAK0hB,KAAO1hB,KAAKsmB,UAAUniB,MAEtBnE,KAAK0hB,MAzBhB,aA2BWxhB,GACPF,KAAK0hB,KAAOxhB,EACPF,KAAKqF,OACRrF,KAAKsmB,UAAUniB,KAAOjE,KA9B5B,6BAmCe,IAAD,OACLF,KAAKqjB,UACErjB,KAAKqjB,OAASyD,EAAa9mB,KAAKmE,KAAM,mCAC5ChE,aAAe,SAACD,GAAD,OAAO,EAAKiE,KAAOjE,IAExC,OAAOF,KAAKqjB,SAxChB,kCAgDI,OAHKrjB,KAAK4hB,cACR5hB,KAAK4hB,YAAc5hB,KAAKsmB,UAAUpE,aAE7BliB,KAAK4hB,aAhDhB,aAkDkB1hB,GACdF,KAAK4hB,YAAc1hB,EACdF,KAAKqF,OACRrF,KAAKsmB,UAAUpE,YAAchiB,KArDnC,kCA8DI,OAHKF,KAAKgiB,cACRhiB,KAAKgiB,YAAchiB,KAAKsmB,UAAUrE,aAE7BjiB,KAAKgiB,aA9DhB,aAgEkB9hB,GACdF,KAAKgiB,YAAc9hB,EACnBF,KAAKsmB,UAAUrE,YAAc/hB,IAlEjC,iCAsEI,OAAOF,KAAKmE,OAtEhB,qCA0EI,OAAOnE,KAAKmE,OA1EhB,2BAkFI,OAHKnE,KAAKqB,OACRrB,KAAKqB,KAAOrB,KAAKsmB,UAAUnE,MAEtBniB,KAAKqB,MAlFhB,aAoFWnB,GACPF,KAAKqB,KAAOnB,EACPF,KAAKqF,OACRrF,KAAKsmB,UAAUnE,KAAOjiB,KAvF5B,6BAgGI,OAHKF,KAAK+mB,SACR/mB,KAAK+mB,OAAS/mB,KAAK4mB,aAEd5mB,KAAK+mB,QAhGhB,aAkGa7mB,GACTF,KAAK+mB,OAAS7mB,EAGVA,GAAKF,KAAKgnB,oBACZhnB,KAAKgnB,mBAAmB9mB,GAGrBF,KAAKqF,OAKNrF,KAAKmiB,KAJFjiB,EAISA,EAAEomB,UAHFpmB,KA5GpB,4BA4HI,OAAOF,KAAK4G,KAAKgE,MAAM9D,QAAQ9G,UA5HnC,KCDqBinB,G,4MACnBD,mBAAqB,SAAC9mB,GACpB,IAAIgnB,EAAehnB,EAAEinB,iBACjBD,GACFA,EAAaE,gBAGf,IAAIC,EAAcnnB,EAAEonB,eAChBD,GACFA,EAAYD,iB,YATkCT,ICGvCY,GAAb,WACE,aAAe,IAAD,gCAyGdC,QAAU,SAACtnB,GACT,GAAKA,EAAL,CADe,IAGV+H,EAAyD/H,EAAzD+H,UAA6BI,GAA4BnI,EAA9CiI,iBAA8CjI,EAA5BmI,kBAAkBE,EAAUrI,EAAVqI,OACpD,EAAKkf,kBAAkBjW,YAAcvJ,EACrC,EAAKyf,yBAAyBlW,YAAcnJ,EAC5C,EAAKsf,eAAehZ,aAAepG,IA/GvB,KAkHd6e,cAAgB,WACE,EAAKnf,UACE,EAAKE,iBACL,EAAKE,iBACf,EAAKE,QArHlBxI,YAAeC,KAAM,IAFzB,qDAQoB,OAAO2jB,GAAS/a,WARpC,gCAeI,OAHK5I,KAAKkI,YACRlI,KAAKkI,UAAYlI,KAAKsmB,UAAUre,WAE3BjI,KAAKkI,WAfhB,aAiBgBhI,GACZF,KAAKkI,UAAYhI,EACjBF,KAAKsmB,UAAUre,UAAY/H,IAnB/B,uCA2BI,OAHKF,KAAKoI,mBACRpI,KAAKoI,iBAAmBpI,KAAKsmB,UAAUne,kBAElCnI,KAAKoI,kBA3BhB,aA6BuBlI,GACnBF,KAAKoI,iBAAmBlI,EACxBF,KAAKsmB,UAAUne,iBAAmBjI,IA/BtC,uCAuCI,OAHKF,KAAKsI,mBACRtI,KAAKsI,iBAAmBtI,KAAKsmB,UAAUje,kBAElCrI,KAAKsI,kBAvChB,aAyCuBpI,GACnBF,KAAKsI,iBAAmBpI,EACxBF,KAAKsmB,UAAUje,iBAAmBnI,IA3CtC,6BAmDI,OAHKF,KAAKwI,SACRxI,KAAKwI,OAASxI,KAAKsmB,UAAU/d,QAExBvI,KAAKwI,QAnDhB,aAqDatI,GACTF,KAAKwI,OAAStI,EACdF,KAAKsmB,UAAU/d,OAASrI,IAvD5B,uCA+DI,OAHKF,KAAKgK,mBACRhK,KAAKgK,iBAAmBhK,KAAKsmB,UAAUsB,kBAElC5nB,KAAKgK,mBA/DhB,wCAqE2B,IAAD,OACjBhK,KAAK6nB,qBACC7nB,KAAK6nB,kBAAoB3C,GAAiBllB,KAAK0lB,SAASoC,iBAAkB9nB,KAAKiI,YACpFqH,sBAAwB,SAACpP,GAC3B,EAAK+H,UAAY/H,IAGrB,OAAOF,KAAK6nB,oBA5EhB,+CAgFkC,IAAD,OACxB7nB,KAAK+nB,4BACE/nB,KAAK+nB,yBAA2B7C,GAAiBllB,KAAK0lB,SAASsC,kBAAmBhoB,KAAKqI,mBAC7FiH,sBAAwB,SAACpP,GAC3B,EAAKmI,iBAAmBnI,IAG5B,OAAOF,KAAK+nB,2BAvFhB,qCA2FwB,IAAD,OACnB,IAAK/nB,KAAKioB,eAAe,CACvB,IAAI7iB,EAAMpF,KAAKioB,eAAiBC,GAAsBloB,KAAK4nB,iBAAkB5nB,KAAKuI,QAE9EvI,KAAKmoB,yBACP/iB,EAAI6K,YAAcjQ,KAAKmoB,wBAGzB/iB,EAAIkK,sBAAwB,SAACpP,GAC3B,EAAKqI,OAASrI,GAGlB,OAAOF,KAAKioB,mBAvGhB,KCFaznB,GAAM,SAACC,GAClB,GAAKA,EAAL,CACA,IAAIC,EAAK,IAAI6mB,GAEb,OADA7mB,EAAG4lB,UAAY7lB,EACRC,ICHY0nB,G,WACnB,aAAe,IAAD,gCAiBdC,oBAAsB,WACpB,IAAIpf,EAAS,EAAKqd,UAAUgC,eAC5B,OAAOC,GAAiBtf,IAnBZ,KAsBduf,wBAAqB7oB,EAtBP,KA0Cd8oB,kBAAoB,WAClB,IAAIxf,EAAS,EAAKqd,UAAUoC,aAC5B,OAAOH,GAAiBtf,IA5CZ,KA4Ddue,QAAU,SAACtnB,GACT,EAAKinB,iBAAiBK,QAAQtnB,EAAEinB,kBAEhC,IAAIpD,GAAqC,IAAzB7jB,EAAEyoB,mBAClB,EAAKC,qBAAqB9D,UAAYf,EAEtC,EAAKuD,eAAeE,QAAQtnB,EAAEonB,iBAjE9BvnB,YAAeC,KAAM,CACnBwoB,mBAAqBvoB,M,6DAYvB,OAHKD,KAAK6oB,kBAAoB7oB,KAAKsmB,YACjCtmB,KAAK6oB,iBAAmB7oB,KAAKqoB,uBAExBroB,KAAK6oB,mB,yCAaZ,OAHK7oB,KAAKwoB,qBACRxoB,KAAKwoB,mBAAqBxoB,KAAKsmB,UAAUqC,oBAEpC3oB,KAAKwoB,oB,aAEStoB,GACrBF,KAAKwoB,mBAAqBtoB,EAC1BF,KAAKsmB,UAAUqC,mBAAqBzoB,I,qCAQpC,OAHKF,KAAK8oB,gBAAkB9oB,KAAKsmB,YAC/BtmB,KAAK8oB,eAAiB9oB,KAAKyoB,qBAEtBzoB,KAAK8oB,iB,2CASc,IAAD,OACpB9oB,KAAK+oB,wBACE/oB,KAAK+oB,qBACXxD,GAAmB,sCAAwBvlB,KAAK2oB,qBAEhD1E,cAAgB,SAAC/jB,GACnB,EAAKyoB,mBAAqBzoB,IAG9B,OAAOF,KAAK+oB,yB,KC5DHvoB,GAAM,SAACC,GAClB,IAAIC,EAAK,IAAI0nB,GAEb,OADA1nB,EAAG4lB,UAAY7lB,EACRC,GCFIF,GAAM,SAACC,EAAGmF,GACrB,IAAIlF,EAAK,IAAIumB,GA6Bb,OA3BAvmB,EAAG4lB,UAAY7lB,EACfC,EAAGkG,KAAOhB,EAEVnF,EAAEkhB,cAAgB,SAACzhB,GACbO,EAAE4E,OACJ3E,EAAGyD,KAAOjE,IAIdO,EAAEohB,qBAAuB,SAAC3hB,GACpBO,EAAE4E,OACJ3E,EAAGwhB,YAAchiB,IAIrBO,EAAEqhB,cAAgB,SAAC5hB,GACbO,EAAE4E,OACJ3E,EAAGyhB,KAAOjiB,EACVQ,EAAGsoB,OAAStoB,EAAGkmB,cAInBlmB,EAAGmmB,YAAc,WACf,IAAIxlB,EAAOZ,EAAE0hB,KACb,OAAO8G,GAAe5nB,IAGjBX,GCnBIilB,GAAiB,SAACjlB,GAE7B,OADYA,EAAG4jB,MACA,SAAW,QCVP4E,G,WACnB,aAAe,IAAD,gCA+EdnC,YAASpnB,EA/EK,KA4FdinB,UAAY,WACV,GAAI,EAAKC,YAEP,OADa,EAAKA,eA9FR,KA6HdzC,WAAQzkB,EA7HM,KA6Jd0kB,iBAAc1kB,EA7JA,KAyLd8kB,WAAa,WACX,EAAKiC,SAASJ,UAAU3b,SACxB,EAAK+b,SAAS/b,SACd,EAAK+b,cAAW/mB,GA5LJ,KA+Ld4kB,YAAc,WACZ,EAAK+B,UAAU/B,eA/LfxkB,YAAeC,KAAM,CACnB+mB,OAAS9mB,IACTmkB,MAAOnkB,M,iDAWT,OAHID,KAAK0hB,OACP1hB,KAAK0hB,KAAO1hB,KAAKsmB,UAAUniB,MAEtBnE,KAAK0hB,M,aAELxhB,GACPF,KAAK0hB,KAAOxhB,EACZF,KAAKsmB,UAAUniB,KAAOjE,I,kCAQtB,OAHKF,KAAK4hB,cACR5hB,KAAK4hB,YAAc5hB,KAAKsmB,UAAUpE,aAE7BliB,KAAK4hB,a,aAEE1hB,GACdF,KAAK4hB,YAAc1hB,EACnBF,KAAKsmB,UAAUpE,YAAchiB,I,kCAQ7B,OAHKF,KAAKgiB,cACRhiB,KAAKgiB,YAAchiB,KAAKsmB,UAAUrE,aAE7BjiB,KAAKgiB,a,aAEE9hB,GACdF,KAAKgiB,YAAc9hB,EACnBF,KAAKsmB,UAAUrE,YAAc/hB,I,iCAI7B,OAAOF,KAAKmE,O,6BAIA,IAAD,OACNnE,KAAKqjB,UACErjB,KAAKqjB,OACbjiB,EAAepB,KAAKmE,KAAM,4BACxBhE,aAAe,SAACD,GAAD,OAAO,EAAKiE,KAAOjE,IAExC,OAAOF,KAAKqjB,S,oCAIO,IAAD,OACbrjB,KAAKsjB,iBACEtjB,KAAKsjB,cACbliB,EAAepB,KAAKkiB,YAAa,kBAC/B/hB,aAAe,SAACD,GAAD,OAAO,EAAKgiB,YAAchiB,IAE/C,OAAOF,KAAKsjB,gB,oCAIO,IAAD,OACbtjB,KAAKmpB,iBACEnpB,KAAKmpB,cACb/nB,EAAepB,KAAKiiB,YAAa,kCAC/B9hB,aAAe,SAACD,GAAD,OAAO,EAAK+hB,YAAc/hB,IAE/C,OAAOF,KAAKmpB,gB,6BAQZ,OAHKnpB,KAAK+mB,SACR/mB,KAAK+mB,OAAS/mB,KAAK4mB,aAEd5mB,KAAK+mB,Q,aAEF7mB,GACNF,KAAKgpB,OAAOxB,SACdxnB,KAAKgpB,OAAOxB,QAAQtnB,K,+BActB,OAAOF,KAAKopB,U,aAEDlpB,GACXF,KAAKopB,SAAWlpB,EAEhB,IAAIuQ,EAAQzQ,KAAKsmB,UACjB,GAAKpmB,EAIA,CACHuQ,EAAMiW,SAAWxmB,EAAEomB,UADhB,IAGGniB,EAAmCjE,EAAnCiE,KAAM+d,EAA6BhiB,EAA7BgiB,YAAaD,EAAgB/hB,EAAhB+hB,YACzBjiB,KAAK2kB,OAAOzjB,QAAUiD,EACtBnE,KAAK4kB,cAAc1jB,QAAUghB,EAC7BliB,KAAKqpB,cAAcnoB,QAAU+gB,EAE7BjiB,KAAKgpB,OAAS9oB,EAAE8oB,OAChBhpB,KAAK6kB,QAAQC,WAAY,OAZzBrU,EAAMiW,SAAWxmB,EACjBF,KAAK6kB,QAAQC,WAAY,I,4BAoB3B,YAHmBnlB,IAAfK,KAAKokB,QACPpkB,KAAKokB,MAAQpkB,KAAKsmB,UAAUhC,OAEvBtkB,KAAKokB,O,aAEJlkB,GACRF,KAAKokB,MAAQlkB,EACbF,KAAKolB,UAAUlkB,QAAU+I,GAAoBjK,MAC7CA,KAAKsmB,UAAUhC,MAAQpkB,I,8BAIV,IAAD,OACZ,IAAKF,KAAKslB,QAAS,CACjB,IAAIlgB,EAAMpF,KAAKslB,QACXC,GAAmB,+BAAiBvlB,KAAKskB,OAE7Clf,EAAI4e,WAAY,EAChB5e,EAAI6e,cAAgB,SAAC/jB,GACnB,EAAKokB,MAAQpkB,EAEXkF,EAAI4e,YADF9jB,GAOR,OAAOF,KAAKslB,U,kCAQZ,OAHKtlB,KAAKqkB,cACRrkB,KAAKqkB,YAAcpa,GAAoBjK,OAElCA,KAAKqkB,a,aAEEnkB,GACdF,KAAKqkB,YAAcnkB,I,gCAIJ,IAAD,OACTF,KAAKwlB,aACExlB,KAAKwlB,UAAYpkB,EAAepB,KAAKylB,cAC3CtlB,aAAe,SAACD,GAAD,OAAO,EAAKulB,YAAcvlB,IAE/C,OAAOF,KAAKwlB,Y,iCAKZ,OAAQxlB,KAAKskB,MAET,GADF,cAAC,IAAD,CAAQtR,QAAShT,KAAKykB,WAAtB,wB,KCxLe6E,G,4HAAoCJ,ICiB5CK,GAAW,SAACzD,GACvB,IAAIhZ,EAAQgZ,EAAOQ,UAAU1b,MAC7B,GAAKkC,EACL,OAAOA,EAAMD,KAAI,SAAA7G,GAAC,OAAIwjB,GAAexjB,EAAG8f,OAG7B2D,GAAW,SAAC3D,GAEvB,OCvBiB,SAACrlB,EAAGmF,GACrB,IAAIlF,EAAK,IAAI4oB,GAcb,OAbA5oB,EAAG4lB,UAAY7lB,EACfC,EAAGkG,KAAOhB,EAEVnF,EAAEulB,kBAAoB,SAAC9lB,GACrB,IAAI+lB,EAAUvlB,EAAG+kB,YACjBtjB,IAAQF,QAAR,UAAmBgkB,EAAnB,0CAGFvlB,EAAGmmB,YAAc,WACf,IAAIxlB,EAAOZ,EAAE0hB,KACb,OAAO8G,GAAe5nB,IAGjBX,EDQAgpB,CADK5D,EAAOQ,UAAU9E,MACCsE,IEvBX6D,G,4DAwEnBxF,8BAA2BxkB,E,KAyD3BgL,OAAS,WACP,EAAK2b,UAAU3b,SACJ,EAAK/D,KAAKgjB,gBAChB1jB,OAAO,EAAK2E,MAAO,I,KAG1B2c,QAAU,SAACtnB,GACT,EAAK2pB,qBAAqBrY,YAActR,EAAE4pB,aAC1C,EAAKC,cAAcvC,QAAQtnB,EAAE6pB,eAC7B,EAAKC,oBAAoBxY,YAActR,EAAE6iB,cACzC,EAAKkH,iBAAiBzY,YAActR,EAAE0D,U,kDAnItC,OAAO5D,KAAK4G,KAAKgjB,gBAAgB9iB,QAAQ9G,Q,mCAQzC,OAHKA,KAAKkqB,eACRlqB,KAAKkqB,aAAelqB,KAAKsmB,UAAUwD,cAE9B9pB,KAAKkqB,c,aAEGhqB,GACfF,KAAKkqB,aAAehqB,EACpBF,KAAKsmB,UAAUwD,aAAe5pB,I,8CAI9B,OAAO+J,GAAgCjK,Q,2CAIb,IAAD,OACpBA,KAAKmqB,wBACEnqB,KAAKmqB,qBAAuBjF,GAAiBllB,KAAKoqB,wBAAyBpqB,KAAK8pB,eACtFxa,sBAAwB,SAACpP,GAAD,OAAO,EAAK4pB,aAAe5pB,IAEzD,OAAOF,KAAKmqB,uB,oCAKPnqB,KAAKqqB,iBACErqB,KAAKqqB,cAAgB9B,GAAiBvoB,KAAKsmB,UAAUgE,cAC3DnC,uBAAyB,6BAE/B,OAAOnoB,KAAKqqB,e,aAEInqB,GAChBF,KAAKqqB,cAAgBnqB,EAKnBF,KAAKsmB,UAAUgE,YAJZpqB,EAI0BA,EAAEomB,UAHFpmB,I,oCAY/B,OAHKF,KAAKqlB,gBACRrlB,KAAKqlB,cAAgBpb,GAAsBjK,OAEtCA,KAAKqlB,e,aAEInlB,GAChBF,KAAKqlB,cAAgBnlB,EACrB,IAAIqqB,EAAYvqB,KAAKsmB,UAChBpmB,EAIHF,KAAKsmB,UAAUhjB,YAAcpD,EAAEoD,YAH/BinB,EAAUjnB,YAAcpD,I,+CAY1B,OAHKF,KAAKmkB,2BACRnkB,KAAKmkB,yBAA2Bla,GAAiCjK,OAE5DA,KAAKmkB,0B,aAEejkB,GAC3BF,KAAKmkB,yBAA2BjkB,EAEhC,IAAI6kB,EAAW/kB,KAAKgqB,oBACpBjF,EAASna,MAAQ1K,EACjB6kB,EAASnT,eAAiB,I,0CAID,IAAD,OACxB,IAAK5R,KAAKwqB,oBAAqB,CAC7B,IAAIpQ,EAAcpa,KAAKmlB,yBACrBnlB,KAAKmlB,yBAA2B,GAE9B/f,EAAMpF,KAAKwqB,oBAAsBtF,GAClC9K,EAAapa,KAAK+iB,eACrB3d,EAAI6K,YAAc,2BAClB7K,EAAIkK,sBAAwB,SAACpP,GAAD,OAAO,EAAK6iB,cAAgB7iB,GAG1D,OAAOF,KAAKwqB,sB,+BAQZ,OAHKxqB,KAAKmd,WACRnd,KAAKmd,SAAWnd,KAAKsmB,UAAU1iB,UAE1B5D,KAAKmd,U,aAEDjd,GACXF,KAAKmd,SAAWjd,EAChBF,KAAKsmB,UAAU1iB,SAAW1D,I,0CAI1B,OAAO+J,GAA4BjK,Q,uCAIb,IAAD,OACrB,IAAKA,KAAKyqB,iBAAkB,CAC1B,IAAIrlB,EAAMpF,KAAKyqB,iBAAmBvF,GAAiBllB,KAAK0qB,oBACtD1qB,KAAK4D,UACPwB,EAAI6K,YAAc,sCAClB7K,EAAIkK,sBAAwB,SAACpP,GAAD,OAAO,EAAK0D,SAAW1D,GAErD,OAAOF,KAAKyqB,qB,KChIH/E,GAAW,WACtB,OAAO/B,GAAS/a,UAGLpI,GAAM,SAACC,EAAGmF,GACrB,IAAIlF,EAAK,IAAIipB,GAQb,OAPAjpB,EAAG4lB,UAAY7lB,EACfC,EAAGkG,KAAOhB,EAEV8f,KAAW9B,mBAAmBmC,qBAAqBxf,MAAK,SAACrG,GACvDQ,EAAGykB,yBAA2BS,GAA4BllB,MAGrDA,GAGIiqB,GAA6B,SAAClqB,GACzC,OAAOilB,KAAWkF,oBAGPC,GAAmB,SAACpqB,GAC/B,IAAIqqB,EAAcrqB,EAAE6lB,UAAUhjB,YAC9B,GAAKwnB,EAAL,CAEA,IAAIvlB,EAAOmgB,KAAW9B,mBAAmBV,eACzC,GAAK3d,EAAL,CAEA,IAAIO,EAAQP,EAAKQ,WAAU,SAAAC,GAAC,OAAIA,EAAE1C,cAAgBwnB,KAClD,OAAkB,IAAXhlB,EAAeP,EAAKO,QAASnG,KAGzBimB,GAA8B,SAACnlB,GAC1C,OAAOilB,KAAW9B,mBAAmBV,gBAG1B6H,GAAyB,SAACtqB,GACrC,OAAOilB,KAAWsF,WCrCCC,G,4DA8BnBtgB,OAAS,WACP,EAAK/D,KAAKskB,cAAchlB,OAAO,EAAK2E,MAAO,I,kDA7B3C,OAAO7K,KAAK4G,KAAKskB,cAAcpkB,QAAQ9G,Q,kCAgBvC,OAHKA,KAAK8qB,cACR9qB,KAAK8qB,YAAc7gB,GAAoBjK,OAElCA,KAAK8qB,a,aAEE5qB,GACdF,KAAK8qB,YAAc5qB,EAKjBF,KAAKmrB,cAJFjrB,EAIkBA,EAAEwG,SAHF/G,I,8BAYvB,OAAOsK,GAAgBjK,U,KCrCdorB,GAAc,cCuBdnd,GAAQ,SAACxN,EAAGmF,GACvB,IAAIlF,EAAK,IAAIuqB,GAMb,OALAvqB,EAAGopB,aAAerpB,EAAEqpB,aACpBppB,EAAGkD,SAAWnD,EAAEmD,SAChBlD,EAAG4pB,YAAc7pB,EAAE6pB,YACnB5pB,EAAG4C,YAAc7C,EAAE6C,YACnB5C,EAAGkG,KAAOhB,EACHlF,GAGI2qB,GAAa,SAACzlB,GACzB,IAAIlF,EAAK,IAAIuqB,GACbvqB,EAAGopB,aAAewB,GAClB5qB,EAAGkG,KAAOhB,EAEV,IAAI2lB,EAAc,IAAIvjB,GAQtB,OAPAujB,EAAY9iB,aAAeE,GAC3B4iB,EAAYtjB,UAAYmB,GACxBmiB,EAAYljB,iBAAmBgB,GAC/BkiB,EAAYhjB,OAAS,CAAE,UAEvB7H,EAAG4pB,YAAciB,EAEV7qB,GAGI8qB,GAAiB,SAAC/qB,GAC7B,IAAI0qB,EAAgB1qB,EAAE0qB,cACtB,GAAKA,EAAL,CAEA,IAAI5lB,EA3CGuD,GAAOF,SA2CMwd,iBAAiBqF,aACrC,GAAKlmB,EAAL,CAEA,IAAIO,EAAQP,EAAKQ,WAAU,SAAAC,GAAC,OAAIA,EAAEU,MAAQykB,KAC1C,OAAkB,IAAXrlB,EAAeP,EAAKO,QAASnG,KAGzB+rB,GAAa,SAACjrB,GACzB,MAAO,CACLypB,aAAezpB,EAAEqpB,aACjB3M,SAAW1c,EAAEmD,SACb2nB,YAAa9qB,EAAE6pB,YAAYvd,QAC3Boe,cAAgB1qB,EAAE0qB,gBCzDDQ,G,WACnB,aAAe,IAAD,gCA2BdC,gCAA6BjsB,EA3Bf,KAsDdksB,qBAAkBlsB,EAtDJ,KA4FdmsB,qBAAuB,WACrB,IAAItgB,EAAO,EAAK8a,UAAUyF,qBACtBC,EAAWC,GAAuBzgB,EAAM,GAE5C,OADA,EAAKoe,gBAAgBrjB,KAAKylB,GACnBA,GAhGK,KAmGdxE,QAAU,SAACtnB,GACT,EAAKgsB,sBAAsB1a,YAActR,EAAEisB,gBAC3C,EAAKvC,gBAAkB1pB,EAAE0pB,iBApGzB7pB,YAAeC,KAAM,CACnB6rB,gBAAiB5rB,M,4DAYnB,OAHKD,KAAKosB,kBACRpsB,KAAKosB,gBAAkBniB,GAAwBjK,OAE1CA,KAAKosB,iB,aAEMlsB,GAClBF,KAAKosB,gBAAkBlsB,EACvB,IAAIqqB,EAAYvqB,KAAKsmB,UAKnBiE,EAAU8B,cAJPnsB,EAIuBA,EAAEomB,UAHFpmB,I,iDAY5B,OAHKF,KAAK4rB,6BACR5rB,KAAK4rB,2BAA6B3hB,GAAmCjK,OAEhEA,KAAK4rB,4B,aAEiB1rB,GAC7BF,KAAK4rB,2BAA6B1rB,EAElC,IAAI6kB,EAAW/kB,KAAKksB,sBACpBnH,EAASna,MAAQ1K,EACjB6kB,EAASnT,cAAgB,I,4CAIE,IAAD,OAC1B,IAAK5R,KAAKssB,sBAAuB,CAC/B,IAAIlS,EAAcpa,KAAKusB,2BAA6BvsB,KAAKusB,2BAA6B,GAElFnnB,EAAMpF,KAAKssB,sBAAwBpH,GAAiB9K,EAAapa,KAAKmsB,iBAC1E/mB,EAAI6K,YAAc,6BAClB7K,EAAIkK,sBAAwB,SAACpP,GAAD,OAAO,EAAKisB,gBAAkBjsB,GAE5D,OAAOF,KAAKssB,wB,sCAQZ,OAHKtsB,KAAK6rB,kBACR7rB,KAAK6rB,gBAAkB5hB,GAAwBjK,OAE1CA,KAAK6rB,iB,aAEM3rB,GAClB,IAAIqF,EAAOvF,KAAK6rB,gBACZW,EAAYxsB,KAAKsmB,UAAU4E,cAE3BuB,EAAWlnB,EAAK2K,OAChBwc,EAAWxsB,EAAEgQ,OAEjB3K,EAAK+D,SAAQ,SAACtD,EAAG+O,GACXA,GAAK2X,GACT1mB,EAAEwhB,QAAQtnB,EAAE6U,OAGd,IAAI4X,EAAQloB,KAAKmoB,IAAIH,EAAWC,GAChC,GAAID,EAAWC,EACbnnB,EAAKW,OAAOwmB,EAAUC,GACtBH,EAAUtmB,OAAOwmB,EAAUC,QAExB,GAAIF,EAAWC,EAClB,IAAK,IAAI3X,EAAI,EAAGA,EAAI4X,EAAO5X,IAAK,CAC9B,IAAI8X,EAAe3sB,EAAEusB,EAAW1X,GAE5BvJ,EAAOshB,GACRD,EAAavG,UAAWtmB,KAAKsmB,WAChCkG,EAAUjmB,KAAKiF,GAEf,IAAIuhB,EAASd,GAAuBzgB,EAAMxL,MAC1CuF,EAAKgB,KAAKwmB,Q,KC5FLrH,GAAW,WACtB,OAAO/B,GAAS/a,UAGLpI,GAAM,SAACC,GAClB,IAAIC,EAAK,IAAIirB,GAOb,OANAjrB,EAAG4lB,UAAY7lB,EAEfilB,KAAWW,4BAA4BE,eAAiB,SAACrmB,GACvDQ,EAAG6rB,2BAA6BS,GAA8BtsB,IAGzDA,GAGIusB,GAAqB,SAACxsB,GACjC,IAAIysB,EAAazsB,EAAE6lB,UAAU+F,cAC7B,GAAKa,EAAL,CAEA,IAAI3nB,EAAOmgB,KAAWW,4BAA4Bzb,MAClD,GAAKrF,EAAL,CAEA,IAAIO,EAAQP,EAAKQ,WAAU,SAAAC,GAAC,OAAIA,EAAEsgB,YAAc4G,KAChD,OAAkB,IAAXpnB,EAAeP,EAAKO,QAASnG,KAGzBqtB,GAAgC,SAACvsB,GAC5C,OAAOilB,KAAWW,4BAA4Bzb,OAGnCuiB,GAAqB,SAAC1sB,GAEjC,OADoBA,EAAE6lB,UAAU4E,cACXre,KAAI,SAAA7G,GAAC,OAAIimB,GAAuBjmB,EAAGvF,OClCrC2sB,G,4MACnBpG,mBAAqB,SAAC9mB,GACEA,EAAE0pB,iB,YAFqBjD,ICCpCnmB,GAAM,SAACC,EAAGmF,GACrB,IAAIlF,EAAK,IAAI0sB,GA6Bb,OA3BA1sB,EAAG4lB,UAAY7lB,EACfC,EAAGkG,KAAOhB,EAEVnF,EAAEkhB,cAAgB,SAACzhB,GACbO,EAAE4E,OACJ3E,EAAGyD,KAAOjE,IAIdO,EAAEohB,qBAAuB,SAAC3hB,GACpBO,EAAE4E,OACJ3E,EAAGwhB,YAAchiB,IAIrBO,EAAEqhB,cAAgB,SAAC5hB,GACbO,EAAE4E,OACJ3E,EAAGyhB,KAAOjiB,EACVQ,EAAGsoB,OAAStoB,EAAGkmB,cAInBlmB,EAAGmmB,YAAc,WACf,IAAIxlB,EAAOZ,EAAE0hB,KACb,OAAO8G,GAAe5nB,IAGjBX,GC9BY2sB,G,4HAAiCnE,ICAzCoE,GAAb,WACE,aAAe,IAAD,gCAMdxgB,WAAOnN,EANO,KAuCdwG,IAAM,SAACqF,GACL,EAAKZ,MAAMrE,KAAKiF,IAvChBzL,YAAeC,KAAM,CACnB8M,MAAQ7M,MAHd,kDAYI,OAHKD,KAAK8M,QACR9M,KAAK8M,MAAQ7C,GAAcjK,OAEtBA,KAAK8M,QAZhB,kCAoBI,OAHK9M,KAAKwmB,cACRxmB,KAAKwmB,YAAcxmB,KAAKsmB,UAAUG,aAE7BzmB,KAAKwmB,aApBhB,aAsBkBtmB,GACdF,KAAKwmB,YAActmB,EACdA,GAGHF,KAAKsmB,UAAUG,YAAcvmB,EAAEomB,UAC/BtmB,KAAKwhB,MAAMkF,SAAWxmB,GAHtBF,KAAKsmB,UAAUG,YAAcvmB,IAzBnC,4BAqCI,OAHKF,KAAKyQ,QACRzQ,KAAKyQ,MAAQxG,GAAcjK,OAEtBA,KAAKyQ,UArChB,KCgBa8Y,GAAW,SAACzD,GACvB,IAAIhZ,EAAQgZ,EAAOQ,UAAU1b,MAC7B,GAAKkC,EACL,OAAOA,EAAMD,KAAI,SAAA7G,GAAC,OAAIwjB,GAAexjB,EAAG8f,OAG7B2D,GAAW,SAAC3D,GAEvB,OCtBiB,SAACrlB,EAAGmF,GACrB,IAAIlF,EAAK,IAAI2sB,GAcb,OAbA3sB,EAAG4lB,UAAY7lB,EACfC,EAAGkG,KAAOhB,EAEVnF,EAAEulB,kBAAoB,SAAC9lB,GACrB,IAAI+lB,EAAUvlB,EAAG+kB,YACjBtjB,IAAQF,QAAR,UAAmBgkB,EAAnB,2BAGFvlB,EAAGmmB,YAAc,WACf,IAAIxlB,EAAOZ,EAAE0hB,KACb,OAAO8G,GAAe5nB,IAGjBX,EDOAgpB,CADK5D,EAAOQ,UAAU9E,MACCsE,IExBnByH,GAAb,WACE,aAAe,IAAD,gCAMdzgB,WAAOnN,EANO,KA8BdwG,IAAM,SAACqF,GACL,EAAKZ,MAAMrE,KAAKiF,IA9BhBzL,YAAeC,KAAM,CACnB8M,MAAQ7M,MAHd,kDAYI,OAHKD,KAAK8M,QACR9M,KAAK8M,MAAQ7C,GAAcjK,OAEtBA,KAAK8M,QAZhB,kCAoBI,OAHK9M,KAAKwmB,cACRxmB,KAAKwmB,YAAcxmB,KAAKsmB,UAAUG,aAE7BzmB,KAAKwmB,aApBhB,aAsBkBtmB,GACdF,KAAKwmB,YAActmB,EAIjBF,KAAKsmB,UAAUG,YAHZvmB,EAG0BA,EAAEomB,UAFFpmB,MAzBnC,KCeaqpB,GAAW,SAACzD,GACvB,IAAIhZ,EAAQgZ,EAAOQ,UAAU1b,MAC7B,GAAKkC,EACL,OAAOA,EAAMD,KAAI,SAAA7G,GAAC,OAAIwjB,GAAexjB,EAAG8f,OCpBrB0H,G,4FAEjB,OAAOxtB,KAAKsmB,UAAU5f,M,2BAQtB,OAHI1G,KAAK0hB,OACP1hB,KAAK0hB,KAAO1hB,KAAKsmB,UAAUniB,MAEtBnE,KAAK0hB,M,aAELxhB,GACPF,KAAK0hB,KAAOxhB,EACZF,KAAKsmB,UAAUniB,KAAOjE,I,kCAQtB,OAHKF,KAAK4hB,cACR5hB,KAAK4hB,YAAc5hB,KAAKsmB,UAAUpE,aAE7BliB,KAAK4hB,a,aAEE1hB,GACdF,KAAK4hB,YAAc1hB,EACnBF,KAAKsmB,UAAUpE,YAAchiB,I,qCAI7B,MAAM,GAAN,OAAUF,KAAKmE,U,KC7BN3D,GAAM,SAACC,EAAGmF,GACrB,GAAKnF,EAAL,CACA,IAAIC,EAAK,IAAI8sB,GAKb,OAHA9sB,EAAG4lB,UAAY7lB,EACfC,EAAGkG,KAAOhB,EAEHlF,ICTI+sB,GAAa,aCKbC,GAAb,WACE,aAAe,IAAD,gCAOd5gB,WAAOnN,EAPO,KAedomB,qBAAuB,GAfT,KA6Bd9kB,WAAQtB,EA7BM,KAqCdwG,IAAM,SAACqF,GACL,EAAKZ,MAAMrE,KAAKiF,IAtCJ,KAyCdmiB,WAAa,WACX,EAAK9tB,MAAQ+tB,IA1CD,KA6Cd9J,OAAS,WACP,EAAKjkB,WAAQF,GA9CD,KAiDdkuB,GAAK,WACH,IAAInM,EAAO,EAAKF,MAAMrd,MAEP,IADH,EAAKyG,MAAM7E,WAAU,SAAAC,GAAC,OAAIA,EAAE7B,OAASud,MAMjD,EAAK7hB,WAAQF,EACb,EAAK2mB,UAAUwH,kBALb3rB,IAAQ4rB,QAAQ,iCApDlBhuB,YAAeC,KAAM,CACnB8M,MAAQ7M,IACRgB,MAAQhB,MAJd,kDAaI,OAHKD,KAAK8M,QACR9M,KAAK8M,MAAQ7C,GAAcjK,OAEtBA,KAAK8M,QAbhB,iCAkBoB5M,GAChBF,KAAK+lB,qBAAqBzc,SAAQ,SAAAtD,GAAC,OAAIA,SAnB3C,4BA2BI,OAHKhG,KAAKyQ,QACRzQ,KAAKyQ,MAAQxG,GAAcjK,OAEtBA,KAAKyQ,QA3BhB,4BAgCI,OAAOzQ,KAAKiB,OAhChB,aAkCYf,GACRF,KAAKiB,MAAQf,MAnCjB,KCHqB8tB,G,iDACnBtM,UAAO/hB,E,iDAKL,OAHKK,KAAK0hB,OACR1hB,KAAK0hB,KAAO1hB,KAAKsmB,UAAUniB,MAEtBnE,KAAK0hB,M,aAELxhB,GACPF,KAAK0hB,KAAOxhB,EACZF,KAAKsmB,UAAUniB,KAAOjE,I,kCAQtB,OAHKF,KAAK4hB,cACR5hB,KAAK4hB,YAAc5hB,KAAKsmB,UAAUpE,aAE7BliB,KAAK4hB,a,aAEE1hB,GACdF,KAAK4hB,YAAc1hB,EACnBF,KAAKsmB,UAAUpE,YAAchiB,I,6BAIjB,IAAD,OACNF,KAAKqjB,UACErjB,KAAKqjB,OACbjiB,EAAepB,KAAKmE,KAAM,mBACxBhE,aAAe,SAACD,GAAD,OAAO,EAAKiE,KAAOjE,IAExC,OAAOF,KAAKqjB,S,oCAIO,IAAD,OACbrjB,KAAKsjB,iBACEtjB,KAAKsjB,cACbliB,EAAepB,KAAKkiB,YAAa,kBAC/B/hB,aAAe,SAACD,GAAD,OAAO,EAAKgiB,YAAchiB,IAE/C,OAAOF,KAAKsjB,kB,KCxBHiG,GAAW,SAACzD,GACvB,IAAIhZ,EAAQgZ,EAAOQ,UAAU1b,MAC7B,GAAKkC,EACL,OAAOA,EAAMD,KAAI,SAAA7G,GAAC,OAAIwjB,GAAexjB,EAAG8f,OAG7B2D,GAAW,SAAChpB,GACvB,OCzBiB,SAACA,EAAGmF,GACrB,IAAIlF,EAAK,IAAIstB,GAIb,OAHAttB,EAAG4lB,UAAY7lB,EACfC,EAAGkG,KAAOhB,EAEHlF,EDoBAgpB,CAAgBjpB,EAAE6lB,UAAU9E,MAAO/gB,IExBvBwtB,G,WACnB,aAAe,yBA+DfC,yBAAsBvuB,EA/DR,KAyEdwuB,iCAA8BxuB,EAxE5BI,YAAeC,KAAM,CACnBkuB,oBAAqBjuB,IACrBkuB,4BAA6BluB,M,gDAK/B,OAAOD,KAAKsmB,UAAU5f,M,2BAQtB,OAHK1G,KAAK0hB,OACR1hB,KAAK0hB,KAAO1hB,KAAKsmB,UAAUniB,MAEtBnE,KAAK0hB,M,aAELxhB,GACPF,KAAK0hB,KAAOxhB,EACZF,KAAKsmB,UAAUniB,KAAOjE,I,2BAQtB,OAHKF,KAAKgjB,OACRhjB,KAAKgjB,KAAOhjB,KAAKsmB,UAAUnD,MAEtBnjB,KAAKgjB,M,aAEL9iB,GACPF,KAAKgjB,KAAO9iB,EACZF,KAAKsmB,UAAUnD,KAAOjjB,I,mCAQtB,OAHKF,KAAKouB,eACRpuB,KAAKouB,aAAenkB,GAAqBjK,OAEpCA,KAAKouB,e,qCAQZ,OAHKpuB,KAAKquB,iBACRruB,KAAKquB,eAAiBruB,KAAKsmB,UAAUgI,gBAEhCtuB,KAAKquB,iB,qCAIZ,OAAOruB,KAAKsmB,UAAUiI,iB,qCAItB,MAAM,GAAN,OAAUvuB,KAAKmjB,KAAf,cAAyBnjB,KAAKmE,Q,iCAI9B,OAAOnE,KAAKsmB,UAAUkI,a,0CAQtB,OAHKxuB,KAAKkuB,sBACRluB,KAAKkuB,oBAAsBjkB,GAA4BjK,OAElDA,KAAKkuB,qB,aACYhuB,GACxBF,KAAKkuB,oBAAsBhuB,I,kDAQ3B,OAHKF,KAAKmuB,8BACRnuB,KAAKmuB,4BAA8BlkB,GAAoCjK,OAElEA,KAAKmuB,6B,aACoBjuB,GAChCF,KAAKmuB,4BAA8BjuB,I,0BAInC,OAAOF,KAAKsmB,UAAUmI,Q,oCC/EpBC,G,kDACJ,WAAY9tB,GAAQ,IAAD,uBACjB,cAAMA,IAYR+tB,aAAe,SAAC7tB,GACH,EAAKG,MACXC,QAAUJ,EAAEE,OAAOD,OAZxB,EAAK6tB,gBAAkBC,IAAMC,YAHZ,IAIX3tB,EAAU,EAAKP,MAAfO,MACN,GAAKA,EAIH,EAAKF,MAAQE,MAJH,CAEV,EAAKF,MAAQG,EADF,uBANI,S,qDAmBjB,IAAIC,EAAOrB,KAAKiB,MACZC,EAAUG,EAAKH,QACfd,EAAQJ,KAAKY,MAAMR,MAAQJ,KAAKY,MAAMR,MAAQ,GAMlD,OALKA,EAAM8Q,WACT9Q,EAAM8Q,SAAW,IACjB9Q,EAAM2uB,WAAa,YAInB,qCACG1tB,EAAKxB,QAAUC,EACd,cAAC,KAAD,CAAiBwS,UAAU,YAAY0c,SAAUhvB,KAAK4uB,gBACpDhvB,YAAayB,EAAK4O,YAClB7P,MAAOA,EACP6uB,KAAM/tB,GAAoB,GAC1BL,SAAUb,KAAK2uB,eACf,GACHttB,EAAKxB,QAAUC,EACd,cAAC,IAAMwB,SAAP,CAAgBP,MAAOG,EAASL,SAAUb,KAAK2uB,eAAmB,U,GAtCjDptB,aA4CZC,eAASktB,ICrDXnvB,GAAO,OACPkR,GAAQ,QCKfye,I,yDACJ,WAAYtuB,GAAQ,IAAD,uBACjB,cAAMA,IAURuuB,gBAAkB,SAACruB,GACjB,IAAIO,EAAO,EAAKJ,MACVmuB,EAAYtuB,EAAEE,OAAdouB,QAEF/tB,EAAKguB,iBACPhuB,EAAKguB,gBAAgBD,GAGlB/tB,EAAKyiB,SACRziB,EAAKyjB,UAAYsK,IApBF,IAGXjuB,EAAU,EAAKP,MAAfO,MAHW,OAOf,EAAKF,MAHFE,GACUokB,IAAmB,GALjB,E,qDAwBT,IAAD,EAC8BvlB,KAAKiB,MAApC8iB,EADC,EACDA,UAAWrC,EADV,EACUA,KAAMsC,EADhB,EACgBA,UAEvB,OACE,mCACE,kCACE,uBAAOjR,KAAK,WACVqc,QAASrL,EACTljB,SAAUb,KAAKmvB,gBAAiBG,SAAUtL,IAC5C,sBAAM1R,UAAU,kBAAhB,SAAmCoP,a,GAlClBngB,cAyCZC,eAAS0tB,ICtCXK,GAAb,WACE,aAAe,IAAD,gCA6Fd5kB,OAAS,WACP,EAAK2b,UAAU3b,SACJ,EAAK/D,KAAK4oB,YAChBtpB,OAAO,EAAK2E,MAAO,GAExB,EAAK4kB,QAAUxlB,GAAuB,IAlG1B,KAqGdylB,aAAU/vB,EArGI,KA+GdgwB,kBAAehwB,EA9GbI,YAAeC,KAAM,CACnB0vB,QAASzvB,IACT0vB,aAAc1vB,MAJpB,+CASI,OAAOD,KAAKsmB,UAAUnb,KAT1B,uCAaI,OAAOnL,KAAK4G,KAAKgpB,mBAbrB,6BAiBI,OAAO5vB,KAAKsmB,UAAUuJ,QAjB1B,aAkBe3vB,GACXF,KAAKsmB,UAAUuJ,OAAS3vB,IAnB5B,gCAuBI,OAAOF,KAAK4G,KAAK+f,YAvBrB,oCA2BuB,IAAD,OAClB,IAAK3mB,KAAK8vB,cAAe,CACvB,IAAIvqB,EAAOvF,KAAK4vB,iBACXrqB,GACHvF,KAAK2mB,UAAUL,UAAUyJ,4BAA4BxpB,MAAK,WACxD,IAAInB,EAAM,EAAK0qB,cACf1qB,EAAIwF,MAAQ,EAAKglB,iBACjBxqB,EAAIuJ,aAAe,EAAKkhB,UAI5BtqB,EAAOA,GAAc,GACrB,IAAIH,EAAMpF,KAAK8vB,cAAgBxV,GAAoB/U,EAAMvF,KAAK6vB,QAC9DzqB,EAAI6K,YAAc,sBAElB7K,EAAIiL,YAAc,SAAC7E,GACjB,IAGIwkB,EAAYlJ,EAFP,EAAKmJ,cAAgB,EAAKR,UAAYjkB,EAAO,QAAU,SAO5D0kB,EAAepJ,EAFV,EAAK2I,UAAYjkB,EAAO,UAAY,UAOzC2kB,EAAerJ,EAFV,EAAK2I,UAAYjkB,EAAO,GAAK,OAQtC,OAAO,cAAC,KAAD,CAAS4kB,QAASJ,EAAU9uB,QACjCxB,QACE,iCACG,EAAK+vB,UAAYjkB,EAChB,sBAAM8G,UAAU,sBAAhB,SAAuC6d,EAAajvB,UAClD,GACJ,cAAC,IAAD,CAAQ4R,KAAK,QACXC,KAAMmd,EAAahvB,QACnB8R,QAAS,WACP,EAAKyc,QAAUjkB,GAHnB,wBANC,SAaL,sBAAM8G,UAhBC,EAAKmd,UAAYjkB,EAAO,sBAAwB,GAgBvD,SAAgCA,OAIpCpG,EAAIqK,UAAY,SAACvP,GAAD,OAAO,EAAK+vB,aAAe/vB,GAC3CkF,EAAIkK,sBAAwB,SAACpP,GAC3B,EAAK2vB,OAAS3vB,GAC6B,IAAvC,EAAK2vB,OAAO/oB,QAAQ,EAAK2oB,WAC3B,EAAKA,QAAUxlB,GAAuB,KAI5C,OAAOjK,KAAK8vB,gBAvFhB,4BA2FI,OAAO9vB,KAAK4G,KAAK4oB,YAAY1oB,QAAQ9G,QA3FzC,8BA2GI,OAHKA,KAAK0vB,UACR1vB,KAAK0vB,QAAU1vB,KAAKsmB,UAAUmJ,SAEzBzvB,KAAK0vB,SA3GhB,aA4GgBxvB,GACZF,KAAK0vB,QAAU1vB,KAAKsmB,UAAUmJ,QAAUvvB,IA7G5C,mCAkHI,OAAOF,KAAK2vB,cAlHhB,aAmHqBzvB,GACjBF,KAAK2vB,aAAezvB,MApHxB,KCPaM,GAAM,SAACC,EAAGmF,GACrB,IAAIlF,EAAK,IAAI6uB,GAGb,OAFA7uB,EAAG4lB,UAAY7lB,EACfC,EAAGkG,KAAOhB,EACHlF,GAII2vB,GAAoB,SAAC5vB,GAChC,GAAIA,EAAEovB,QAA8B,IAApBpvB,EAAEovB,OAAO3f,OACvB,OAAOzP,EAAEovB,OAAO,ICZPpf,GAAQ,QACR6f,GAAS,SCQTC,GAAb,WACE,aAAe,IAAD,gCAoDd5lB,OAAS,WACP,EAAK/D,KAAK0f,UAAU/d,OAAOrC,OAAO,EAAK2E,MAAO,GAC9C,EAAKjE,KAAK2B,OAAOrC,OAAO,EAAK2E,MAAO,IAtDxB,KAyDd2lB,UAAYC,GAzDE,KA2DdC,gBAAkB,WAChB,OAAQ,EAAKF,WACX,KAAKC,GACH,EAAKlf,SAASC,YAAc,EAAKjO,MACjC,EAAKA,MAAQ,EAAKgO,SAASU,aAC3B,EAAKue,UAAYC,GACjB,MACF,KAAKA,GACC,EAAKltB,MACP,EAAKotB,QAAQzvB,QAAU,EAAKqC,OAEvB,EAAKotB,QAAQzvB,UAChB,EAAKyvB,QAAQzvB,QAAU,SAEzB,EAAKqC,MAAO,EAAKotB,QAAQzvB,SAG3B,EAAKsvB,UAAYC,KA5ET,KAiFdG,oBAAsB,kBAAM,EAAKJ,YAAcC,IAhF7C1wB,YAAeC,KAAM,CACnBwwB,UAAWvwB,MAHjB,+CAYI,OAHKD,KAAK0G,MACR1G,KAAK0G,IAAMC,MAEN3G,KAAK0G,MAZhB,4BAgBI,OAAO1G,KAAK4G,KAAK2B,OAAOzB,QAAQ9G,QAhBpC,6BAoBI,OAAOA,KAAK4G,KAAK0f,UAAU/d,SApB/B,4BAwBI,OAAOvI,KAAKuI,OAAOvI,KAAK6K,QAxB5B,aA0BY3K,GACRF,KAAKuI,OAAOvI,KAAK6K,OAAS3K,IA3B9B,8BA+BiB,IAAD,OACPF,KAAK6wB,WACE7wB,KAAK6wB,QAAU/J,EAAa9mB,KAAKuD,QACvCpD,aAAe,SAACD,GAClB,EAAKqD,MAAQrD,IAGjB,OAAOF,KAAK6wB,UAtChB,+BA0CkB,IAAD,OACb,IAAK7wB,KAAK+kB,SAAU,CAClB,IACI3f,EAAMpF,KAAK+kB,SAAWrK,GADf,CAAC,WAAO,UAAQ,WAAO,UACa1a,KAAKuD,OACpD6B,EAAI6K,YAAc,MAClB7K,EAAIqK,UAAY,SAACvP,GAAD,OAAO,EAAK4wB,WAAa5wB,GACzCkF,EAAIkK,sBAAwB,SAACpP,GAAD,OAAO,EAAKqD,MAAQrD,GAElD,OAAOF,KAAK+kB,WAlDhB,mCAqFI,OAAQ/kB,KAAKwwB,WACX,KAAKC,GACH,OAAO,cAAC,GAAD,CAActvB,MAAOnB,KAAK2wB,QAASre,UAAU,6BACtD,KAAKme,GACH,OAAO,cAAC,GAAD,CAAYtvB,MAAOnB,KAAKuR,SAAUe,UAAU,iCAzF3D,iCAkGI,YAHwB3S,IAApBK,KAAK+wB,aACP/wB,KAAK+wB,WAAa/wB,KAAKuR,SAASxB,MAE3B/P,KAAK+wB,YAlGhB,aAoGiB7wB,GACbF,KAAK+wB,WAAa7wB,EAClBF,KAAKgxB,aAAa9vB,QAAU+I,GAAqBjK,QAtGrD,mCA8GI,OAHKA,KAAKixB,eACRjxB,KAAKixB,aAAenK,EAAa7c,GAAqBjK,QAEjDA,KAAKixB,iBA9GhB,KCPazwB,GAAM,SAACC,EAAGmF,GACrB,IAAIlF,EAAK,IAAI6vB,GAEb,OADA7vB,EAAGkG,KAAOhB,EACHlF,GAGIwwB,GAAkB,SAACzwB,GAC5B,OAAOA,EAAEqwB,WAAa,OAAS,SCJtBK,GAAb,WACE,aAAe,IAAD,gCAmCdxmB,OAAS,WACP,EAAK2b,UAAU3b,SACf,EAAK/D,KAAKwqB,QAAQlrB,OAAO,EAAK2E,MAAO,IArCzB,KAwCdrC,YAAS7I,EAxCK,KAgDd0xB,SAAW,WACT,IAAI7lB,EAAO8lB,GAAc,EAAKhL,UAAU+K,WAAW,GAEnD,OADA,EAAK9oB,OAAOhC,KAAKiF,GACVA,GAlDPzL,YAAeC,KAAM,CACnBwI,OAASvI,MAHf,+CAQI,OAAOD,KAAKsmB,UAAUnb,KAR1B,4BAYI,OAAOnL,KAAKsmB,UAAUtZ,OAZ1B,aAac9M,GACVF,KAAKsmB,UAAUtZ,MAAQ9M,IAd3B,uCAkBI,OAAOF,KAAK4G,KAAK2qB,yBAlBrB,oCAsBsB,IAAD,OACjB,IAAKvxB,KAAKwxB,cAAc,CACtB,IAAIpsB,EAAMpF,KAAKwxB,cACb9W,GAAe1a,KAAKyxB,iBAAkBzxB,KAAKgN,OAC7C5H,EAAI6K,YAAc,iCAClB7K,EAAIkK,sBAAwB,SAACpP,GAAD,OAAO,EAAK8M,MAAQ9M,GAElD,OAAOF,KAAKwxB,gBA7BhB,4BAiCI,OAAOxxB,KAAK4G,KAAKwqB,QAAQtqB,QAAQ9G,QAjCrC,6BA8CI,OAHKA,KAAKwI,SACRxI,KAAKwI,OAASyB,GAAejK,OAExBA,KAAKwI,WA9ChB,KCFahI,GAAM,SAACC,EAAGmF,GACrB,IAAIlF,EAAK,IAAIywB,GAGb,OAFAzwB,EAAG4lB,UAAY7lB,EACfC,EAAGkG,KAAOhB,EACHlF,GAGIgxB,GAAY,SAACjxB,GACxB,OAAOA,EAAE6lB,UAAU/d,OAAOsE,KAAI,SAAA7G,GAAC,OAAIsrB,GAActrB,EAAGvF,OCFzCkxB,GAAb,WACE,aAAe,IAAD,gCAgBdjQ,UAAO/hB,EAhBO,KA2BdE,MAAQ+xB,GA3BM,KA6BdC,YAAc,WACZ,OAAQ,EAAKhyB,OACX,KAAK+xB,GACH,EAAK/xB,MAAQ+xB,GACb,MACF,KAAKA,GACH,EAAKjN,OAAOzjB,QAAU,EAAKiD,KAC3B,EAAKtE,MAAQ+xB,KApCL,KAqDdE,OAAS,WACP,EAAKjyB,MAAQ+xB,GACb,EAAKztB,KAAO,EAAKwgB,OAAOzjB,SAvDZ,KA0Dd6wB,WAAa,WACX,EAAKlyB,MAAQ+xB,IA3DD,KA4GdjnB,OAAS,WACP,EAAK2b,UAAU3b,SAEf,IAAI7E,EAAQ,EAAK+E,MACbmnB,EAAS,EAAKC,OAEdrsB,EAAO,EAAKgB,KACZrB,EAAOK,EAAKssB,UAChB3sB,EAAKW,OAAOJ,EAAO,GACnBF,EAAKusB,QAAQjsB,OAAOJ,EAAO,GAEP,IAAhBP,EAAK2K,SACPtK,EAAKwsB,sBAAuB,EAC5BxsB,EAAKysB,gBAAkBL,EAASzsB,EAAKO,EAAQ,GAAKP,EAAKO,IAAQqF,KAzHrD,KAuIdoV,iBAAc5gB,EAvIA,KA+Id2yB,cAAgB,WACd,IAAI9mB,EAAO+mB,GAAmB,EAAKjM,UAAUgM,gBAAiB,GAE9D,OADA,EAAK9C,YAAYjpB,KAAKiF,GACfA,GAlJK,KA0JdgnB,aAAU7yB,EA1JI,KAkKd8yB,UAAY,WACV,IAAIjnB,EAAOuC,GAAe,EAAKuY,UAAUmM,YAAa,GAEtD,OADA,EAAKrB,QAAQ7qB,KAAKiF,GACXA,GApKPzL,YAAeC,KAAM,CACnB0hB,KAAMzhB,IACNJ,MAAOI,IACPsgB,YAAatgB,IACbuyB,QAASvyB,MANf,+CAUY,IAAD,EACP,iBAAOD,KAAKsmB,iBAAZ,aAAO,EAAgBnb,IAX3B,aAaSjL,GACLF,KAAK0G,IAAMxG,IAdf,2BAsBI,OAHKF,KAAK0hB,OACR1hB,KAAK0hB,KAAO1hB,KAAKsmB,UAAUniB,MAEtBnE,KAAK0hB,MAtBhB,aAwBWxhB,GACPF,KAAK0hB,KAAO1hB,KAAKsmB,UAAUniB,KAAOjE,IAzBtC,sCA2CI,OAAOF,KAAKH,QAAU+xB,GAAW,6BAA+B,KA3CpE,6BAmDI,OAHK5xB,KAAKqjB,SACRrjB,KAAKqjB,OAASyD,EAAa9mB,KAAKmE,OAE3BnE,KAAKqjB,SAnDhB,uCAgEI,OAAO,gCACL,cAAC,IAAD,CAAQtQ,KAAK,UAAUD,KAAK,QAC1BE,QAAShT,KAAK8xB,OADhB,gBAEA,cAAC,IAAD,CAAQ/e,KAAK,SAASD,KAAK,QACzBE,QAAShT,KAAK+xB,WADhB,yBAnEN,mCA0EI,OADU,cAAC,GAAD,CAAczf,UAAU,qBAAqBnR,MAAOnB,KAAK2kB,WAzEvE,mCA8EI,IAAI+N,EAAU,cAAC,IAAD,CAAQ3f,KAAK,UAAUD,KAAK,QAAQE,QAAShT,KAAK2K,OAC9D2H,UAAU,uBADE,eAGd,OAAQtS,KAAKH,OACX,KAAK+xB,GACH,OAAO,qCACL,+BAAO5xB,KAAKmE,OACZ,cAAC,IAAD,CAAQ4O,KAAK,UAAUD,KAAK,QAAQR,UAAU,qBAC5CU,QAAShT,KAAK6xB,YADhB,eAECa,KAEL,KAAKd,GACH,OAAO,qCACL,cAAC,KAAD,CAASlyB,QAASM,KAAK2yB,iBAAkBvC,QAAQ,QAAjD,SACE,+BACGpwB,KAAK4yB,iBAGTF,QAhGX,4BAsGI,OAAO1yB,KAAK4G,KAAKsrB,UAAUprB,QAAQ9G,QAtGvC,6BA0GI,OAAOA,KAAK4G,KAAKsrB,UAAUhiB,OAAS,IAAMlQ,KAAK6K,QA1GnD,gCAgII,OAAO7K,KAAK4G,KAAK+f,YAhIrB,uCAqII,OAAO3mB,KAAK4G,KAAKgpB,mBArIrB,kCA6II,OAHK5vB,KAAKugB,cACRvgB,KAAKugB,YAActW,GAAoBjK,OAElCA,KAAKugB,cA7IhB,6CAwJI,OAAOvgB,KAAK4G,KAAK2qB,yBAxJrB,8BAgKI,OAHKvxB,KAAKwyB,UACRxyB,KAAKwyB,QAAUvoB,GAAgBjK,OAE1BA,KAAKwyB,YAhKhB,KCLahyB,GAAM,SAACC,EAAGmF,GACrB,IAAIlF,EAAK,IAAIixB,GAGb,OAFAjxB,EAAG4lB,UAAY7lB,EACfC,EAAGkG,KAAOhB,EACHlF,GAGImyB,GAAiB,SAACpyB,GAC7B,OAAOA,EAAE6lB,UAAUkJ,YAAY3iB,KAAI,SAAA7G,GAAC,OAAIusB,GAAmBvsB,EAAGvF,OAGnDqyB,GAAa,SAACryB,GACzB,OAAOA,EAAE6lB,UAAU8K,QAAQvkB,KAAI,SAAA7G,GAAC,OAAI+H,GAAe/H,EAAGvF,OCV3CsyB,GAAb,WACE,aAAe,IAAD,gCAwBdC,eAAYrzB,EAxBE,KAgCdszB,YAAc,WACZ,IAAIznB,EAAO0nB,GAAiB,EAAK5M,UAAU2M,cAAe,GAC1D,EAAKf,UAAU3rB,KAAKiF,GAEpB,IAAIuJ,EAAI,EAAKoe,oBAAsB,EAAI,EAKvC,OAJA,EAAKhB,QAAQjsB,OAAO,EAAKisB,QAAQjiB,OAAS6E,EAAG,EAAGvJ,GAEhD,EAAK6mB,eAAiB7mB,EAAKL,GAEpBK,GAzCK,KAyDd2nB,qBAAsB,EAzDR,KA2DdC,aAAUzzB,EA3DI,KAuEd0zB,oBAAiB1zB,EAvEH,KAiFdyyB,sBAAuB,EAjFT,KAmFdkB,cAAgB,SAACpzB,GACX,EAAKkyB,qBACP,EAAKA,sBAAuB,EAE9B,EAAKC,eAAiBnyB,GAtFtBH,YAAeC,KAAM,CACnBgzB,UAAW/yB,IACXozB,eAAgBpzB,IAChBmzB,QAASnzB,MALf,sDAaI,OAAOD,KAAK4G,OAbhB,uCAiBI,OAAO5G,KAAK4G,KAAKgpB,mBAjBrB,6CAqBI,OAAO5vB,KAAK4G,KAAK2qB,yBArBrB,gCA8BI,OAHKvxB,KAAKgzB,YACRhzB,KAAKgzB,UAAY/oB,GAAkBjK,OAE9BA,KAAKgzB,YA9BhB,oCAuDI,OARKhzB,KAAKuzB,gBACRvzB,KAAKuzB,cAAgB,CACnBpoB,GAAI,MACJqoB,aAAc,cAAC,IAAD,CAAQlhB,UAAU,iBAC9BS,KAAK,OAAOD,KAAK,QACjBE,QAAShT,KAAKizB,YAFF,iBAKXjzB,KAAKuzB,gBAvDhB,8BA8DI,IAAKvzB,KAAKozB,QAAS,CACjB,IAAIhuB,EAAG,YAAOpF,KAAKkyB,WACflyB,KAAKmzB,qBACP/tB,EAAImB,KAAKvG,KAAKyzB,eAEhBzzB,KAAKozB,QAAUhuB,EAEjB,OAAOpF,KAAKozB,UArEhB,qCA6EI,OAHKpzB,KAAKqzB,iBACRrzB,KAAKqzB,eAAiBrzB,KAAKkyB,UAAU,GAAG/mB,IAEnCnL,KAAKqzB,gBA7EhB,aA8EuBnzB,GACnBF,KAAKqzB,eAAiBnzB,MA/E1B,KCUawzB,GAAe,SAACjzB,GAC3B,OAAOA,EAAE6lB,UAAU4L,UAAUrlB,KAAI,SAAA7G,GAAC,OAAIktB,GAAiBltB,EAAGvF,OCd/CkzB,GAAb,4MASEC,KAAO,WACL,EAAKtN,UAAUsN,QAVnB,+DAEI,OAAO5zB,KAAKsmB,UAAUsJ,mBAF1B,6CAMI,OAAO5vB,KAAKsmB,UAAUiL,2BAN1B,GAA2C5K,ICC9BnmB,GAAM,SAACC,EAAGozB,GACrB,GAAKpzB,EAAL,CAEA,IAAIC,EAAK,IAAIizB,GAwCb,OAtCAjzB,EAAG4lB,UAAY7lB,EACfC,EAAG0C,QAAUywB,EAabpzB,EAAEkhB,cAAgB,SAACzhB,GACbO,EAAE4E,OACJ3E,EAAGyD,KAAOjE,IAIdO,EAAEohB,qBAAuB,SAAC3hB,GACpBO,EAAE4E,OACJ3E,EAAGwhB,YAAchiB,IAIrBO,EAAEqhB,cAAgB,SAAC5hB,GACbO,EAAE4E,OACJ3E,EAAGyhB,KAAOjiB,EACVQ,EAAGsoB,OAAStoB,EAAGkmB,cAInBlmB,EAAGmmB,YAAc,WAEf,OFpCe,SAACpmB,EAAGmF,GACrB,IAAIlF,EAAK,IAAIqyB,GAIb,OAHAryB,EAAG4lB,UAAY7lB,EACfC,EAAGkG,KAAOhB,EAEHlF,EE+BEuoB,CADIxoB,EAAE0hB,KACezhB,IAGvBA,IC3CIF,GAAM,SAACC,EAAGmF,GACrB,GAAKnF,EAAL,CACA,IAAIC,EAAK,IAAIutB,GAKb,OAHAvtB,EAAG4lB,UAAY7lB,EACfC,EAAGkG,KAAOhB,EAEHlF,IAGIozB,GAAkB,SAACrzB,GAE9B,OnBZiB,SAACA,GAClB,IAAIC,EAAK,IAAIgtB,GAYb,OAXAhtB,EAAG4lB,UAAY7lB,EAEfA,EAAEslB,qBAAqBxf,MAAK,SAACrG,GACjBQ,EAAGkK,MACblK,EAAGqzB,cAAe,KAGpBtzB,EAAEylB,MAAQ,SAAChmB,GACTQ,EAAGyF,IAAIqjB,GAAetpB,EAAGQ,KAGpBA,EmBDAszB,CADSvzB,EAAE6lB,UAAU2N,aAIjBC,GAA8B,SAACC,EAAON,GACjD,OAAOO,GAAqBD,EAAON,IAGxBQ,GAAyB,SAAC5zB,GACrC,IAAIozB,EAAUpzB,EAAE6lB,UACZgO,EAAMT,EAAQU,oBAClB,GAAID,EACF,OAAOJ,GAA4BI,EAAK7zB,GAExCozB,EAAQW,+BAA+BjuB,MAAK,kBAC1C9F,EAAE8zB,oBAAsBL,GAA4BL,EAAQU,oBAAqB9zB,OAI1Eg0B,GAAiC,SAACh0B,GAC7C,IAAIozB,EAAUpzB,EAAE6lB,UACZgO,EAAMT,EAAQa,4BAClB,GAAIJ,EACF,OAAOJ,GAA4BI,EAAK7zB,GAExCozB,EAAQW,+BAA+BjuB,MAAK,WAC1C9F,EAAEi0B,4BAA8BR,GAA4BL,EAAQa,4BAA6Bj0B,OCtC1Fk0B,GAAb,WACE,aAAe,yBAMf7nB,WAAOnN,EALLI,YAAeC,KAAM,CACnB8M,MAAQ7M,MAHd,kDAYI,OAHKD,KAAK8M,QACR9M,KAAK8M,MAAQ7C,GAAcjK,OAEtBA,KAAK8M,OAZhB,aAcY5M,GACRF,KAAK8M,MAAQ5M,EACbF,KAAKsmB,UAAU1b,MAAQ1K,EAAE2M,KAAI,SAAA7G,GAAC,OAAIA,EAAEsgB,eAhBxC,iCAmBoBpmB,GACZF,KAAKumB,gBACPvmB,KAAKumB,eAAermB,OArB1B,KCYaqpB,GAAW,SAACzD,GACvB,IAAIhZ,EAAQgZ,EAAOQ,UAAU1b,MAC7B,GAAKkC,EACL,OAAOA,EAAMD,KAAI,SAAA7G,GAAC,OAAIwjB,GAAexjB,EAAG8f,OCTrB8O,G,WACnB,aAAe,IAAD,gCA8FdC,qBAAsB,EA9FR,KAyJdC,cAAe,EAzJD,KA2JdC,iBAAcp1B,EA3JA,KAuNdq1B,eAAgB,EAvNF,KAqOdC,aAAe,EArOD,KA+OdC,YAAc,WACZ,EAAKF,eAAgB,EACrB,EAAKG,aAAe,EACpB,EAAK7O,UAAU4O,eAjPfn1B,YAAeC,KAAM,CACnB60B,oBAAqB50B,IACrB60B,aAAc70B,IACd80B,YAAa90B,IACb+0B,cAAe/0B,M,qDASjB,OAHKD,KAAKo1B,WACRp1B,KAAKo1B,SAAWp1B,KAAKsmB,UAAU+O,UAE1Br1B,KAAKo1B,U,aAEDl1B,GACXF,KAAKo1B,SAAWl1B,EAChBF,KAAKsmB,UAAU+O,SAAWn1B,I,iCAQ1B,OAHKF,KAAKs1B,aACRt1B,KAAKs1B,WAAarrB,GAAmBjK,OAEhCA,KAAKs1B,Y,aAECp1B,GACbF,KAAKs1B,WAAap1B,EAClBF,KAAKq1B,SAAWn1B,EAAE2M,KAAI,SAAA7G,GAAC,OAAIA,EAAEsgB,e,2CAQ7B,OAHKtmB,KAAKu1B,uBACRv1B,KAAKu1B,qBAAuBtrB,GAA6BjK,OAEpDA,KAAKu1B,sB,aAEWr1B,GACvBF,KAAKu1B,qBAAuBr1B,EAE5BF,KAAKs1B,WAAarrB,GAAmBjK,MAErC,IAAI+kB,EAAW/kB,KAAKw1B,gBACpBzQ,EAASna,MAAQ1K,EACjB6kB,EAASpW,aAAe3O,KAAKs1B,a,wCAQ7B,YAH+B31B,IAA3BK,KAAKy1B,oBACPz1B,KAAKy1B,kBAAoBz1B,KAAKw1B,gBAAgBzlB,MAEzC/P,KAAKy1B,mB,aAEQv1B,GACpBF,KAAKy1B,kBAAoBv1B,EACzBF,KAAK01B,oBAAoBx0B,QAAU+I,GAAiCjK,Q,0CAQpE,OAHKA,KAAK21B,sBACR31B,KAAK21B,oBAAsB7O,EAAa7c,GAAiCjK,QAEpEA,KAAK21B,sB,sCAIS,IAAD,OACpB,IAAK31B,KAAK41B,gBAAiB,CACzB,IAAIrwB,EAAOvF,KAAK61B,qBAAuB71B,KAAK61B,qBAAuB,GAC/DzwB,EAAMpF,KAAK41B,gBAAkB1N,GAAsB3iB,EAAMvF,KAAK81B,YAClE1wB,EAAI6K,YAAc,0BAClB7K,EAAIiL,YAAc,SAAC7E,GAAD,OAAU,cAAC,KAAD,CAAS4kB,QAAS,EAAKsF,oBAAoBx0B,QACrE60B,UAAU,UACVr2B,QACE,mBAAGsB,OAAO,SAERg1B,KAAMxqB,EAAKijB,IAFb,0BAHwB,SASzBjjB,EAAKgE,kBAGRpK,EAAIkK,sBAAwB,SAACpP,GAAD,OAAO,EAAK41B,WAAa51B,GACrDkF,EAAIqK,UAAY,SAACvP,GAAD,OAAO,EAAK+1B,kBAAoB/1B,GAElD,OAAOF,KAAK41B,kB,6BAUZ,OAHK51B,KAAKk2B,SACRl2B,KAAKk2B,OAASl2B,KAAKsmB,UAAU5H,QAExB1e,KAAKk2B,Q,aAEHh2B,GACTF,KAAKk2B,OAASh2B,EACdF,KAAKsmB,UAAU5H,OAASxe,I,+BAQxB,OAHKF,KAAKm2B,WACRn2B,KAAKm2B,SAAWlsB,GAAiBjK,OAE5BA,KAAKm2B,U,aAEDj2B,GACXF,KAAKm2B,SAAWj2B,EAChBF,KAAK0e,OAASxe,EAAE2M,KAAI,SAAA7G,GAAC,OAAIA,EAAEsgB,e,oCAQ3B,OAHKtmB,KAAKo2B,gBACRp2B,KAAKo2B,cAAgBp2B,KAAKsmB,UAAU+P,eAE/Br2B,KAAKo2B,gB,yCAKZ,OAAOp2B,KAAKs2B,oB,aAESp2B,GACrBF,KAAKs2B,mBAAqBp2B,EAE1BF,KAAKm2B,SAAWlsB,GAAiBjK,MAEjC,IAAI+kB,EAAW/kB,KAAKu2B,cACpBxR,EAASna,MAAQ1K,EACjB6kB,EAASpW,aAAe3O,KAAKm2B,W,oCAIV,IAAD,OAClB,IAAKn2B,KAAKw2B,cAAe,CACvB,IAAIjxB,EAAOvF,KAAKy2B,mBAAqBz2B,KAAKy2B,mBAAqB,GAC3DrxB,EAAMpF,KAAKw2B,cAAgBtO,GAAsB3iB,EAAMvF,KAAK02B,UAChEtxB,EAAI6K,YAAc,oBAClB7K,EAAIkK,sBAAwB,SAACpP,GAAD,OAAO,EAAKw2B,SAAWx2B,GAErD,OAAOF,KAAKw2B,gB,kCAUZ,OAHKx2B,KAAK+0B,cACR/0B,KAAK+0B,YAAc/0B,KAAKsmB,UAAUqQ,aAE7B32B,KAAK+0B,a,aAEE70B,GACdF,KAAK+0B,YAAc70B,EACnBF,KAAKsmB,UAAUqQ,YAAcz2B,I,0CAIJ,IAAD,OACnBF,KAAK42B,uBACE52B,KAAK42B,oBACXrR,GAAmB,4BAAuBvlB,KAAK22B,cAE/C1S,cAAgB,SAAC/jB,GACnB,EAAKy2B,YAAcz2B,IAGvB,OAAOF,KAAK42B,sB,uCAIZ,OAAO52B,KAAKsmB,UAAUtF,kB,aAEH9gB,GACnBF,KAAKsmB,UAAUtF,iBAAmB9gB,I,kDAK7BF,KAAK62B,8BACR72B,KAAK62B,4BACH5sB,GAAoCjK,Q,aAGVE,GAC9BF,KAAK62B,4BAA8B32B,EAEpBF,KAAK82B,yBACXlsB,MAAQ1K,I,+CAIa,IAAD,OAC7B,IAAKF,KAAK+2B,yBAA0B,CAClC,IAAIxxB,EAAOvF,KAAKg3B,4BACdh3B,KAAKg3B,4BAA8B,GACjC5xB,EAAMpF,KAAK+2B,yBACb7R,GAAiB3f,GACnBH,EAAIyM,UAAW,EACfzM,EAAI6K,YAAc,kDAClB7K,EAAIkK,sBAAwB,SAACpP,GAAD,OAAO,EAAK8gB,iBAAmB9gB,GAE7D,OAAOF,KAAK+2B,2B,qCAMZ,MAAM,qBAAN,QAAiD,IAApB/2B,KAAKm1B,cAAoBrX,QAAQ,GAA9D,Q,uCAQA,OAHK9d,KAAKi3B,mBACRj3B,KAAKi3B,iBAAmBnQ,EAAa9mB,KAAKk3B,iBAErCl3B,KAAKi3B,mB,mCAKZ,OAAOj3B,KAAKi1B,c,aAEG/0B,GACfF,KAAKi1B,aAAe/0B,EACpBF,KAAKm3B,iBAAiBj2B,QAAUlB,KAAKk3B,mB,KChP5BxR,GAAW,WACtB,OAAO/B,GAAS/a,UAOLpI,GAAM,SAACC,GAA+B,IAA5B22B,IAA2B,yDAC5C12B,EAAK,IAAIk0B,GACbl0B,EAAG4lB,UAAY7lB,EAEX22B,IACF1R,KAAWiP,eAAepO,eAAiB,SAACrmB,GAC1CQ,EAAGm1B,qBAAuBwB,GAAwB32B,KAItDD,EAAEslB,qBAAqBxf,MAAK,WAC1BpE,IAAQF,QAAQ,iCAGlB,IAAIq1B,EAAY72B,EAAE41B,cAAckB,UAQhC,OAPAD,EAAUE,yBAAyBjxB,MAAK,WACtC7F,EAAGs0B,eAAgB,KAErBsC,EAAUG,wBAAwBlxB,MAAK,SAACrG,GACtCQ,EAAGy0B,aAAej1B,KAGbQ,GAGI22B,GAA0B,SAAC52B,GACtC,OAAOilB,KAAWiP,eAAe/pB,OAGtB8sB,GAAgB,SAACj3B,GAC5B,IAAI2Z,EAAc3Z,EAAEo1B,qBACpB,IAAKzb,EAAa,MAAO,GAEzB,IAAI7U,EAAO,GAUX,OARe9E,EAAE40B,SACR/rB,SAAQ,SAAAtD,GACf,IAAIF,EAAQsU,EAAYrU,WAAU,SAAAwG,GAAC,OAAIA,EAAE+Z,YAActgB,MACxC,IAAXF,GACFP,EAAKgB,KAAK6T,EAAYtU,OAInBP,GAGIoyB,GAAc,SAACl3B,GAC1B,IAAI2Z,EAAc3Z,EAAEg2B,mBACpB,IAAKrc,EAAa,MAAO,GAEzB,IAAI7U,EAAO,GAUX,OARa9E,EAAEie,OACRpV,SAAQ,SAAAtD,GACb,IAAIF,EAAQsU,EAAYrU,WAAU,SAAAwG,GAAC,OAAIA,EAAE+Z,YAActgB,MACxC,IAAXF,GACFP,EAAKgB,KAAK6T,EAAYtU,OAInBP,GAGIqyB,GAAiC,SAACn3B,GAC7C,IAAImF,EAnEGkD,GAAOF,SAmEMivB,sBAChB/qB,EAAQlH,EAAKgF,MAMjB,OALKkC,GACHlH,EAAKmgB,qBAAqBxf,MAAK,WAC7B9F,EAAEu2B,4BAA8BpxB,EAAKgF,SAGlCkC,GAIIgrB,GAA8B,SAACr3B,GAC1C,OAAOA,EAAEw1B,kBAAoB,OAAS,SCzF3B8B,GAAW,UACXC,GAAO,OCCCC,G,+FAMjB,OAHKj4B,KAAKk4B,SACRl4B,KAAKk4B,OAASjuB,GAAejK,OAExBA,KAAKk4B,Q,aAEHh4B,GACTF,KAAKk4B,OAASh4B,M,KCNLM,GAAM,SAACS,EAAOi3B,GACzB,IAAIx3B,EAAK,IAAIu3B,GAGb,OAFAv3B,EAAGb,MAAQoB,EACXP,EAAGy3B,OAASD,EACLx3B,GAGI03B,GAAY,SAAC33B,GACxB,OAAQA,EAAEZ,OACR,KAAKw4B,GACH,OAAO,SAAC3Y,GAAD,OAASA,GAClB,KAAK2Y,GACH,OAAO,SAACt3B,EAAOyK,EAAM8sB,GACnB,IAAKA,EAAW,OAAOv3B,EAEvB,IAAIw3B,EAAUzR,EAAa/lB,EAAO,SAE9BmP,EAASooB,EAAUpoB,OACnB9K,EAAMoG,EAKV,OAJA8sB,EAAUrvB,QAAO,SAACjD,EAAG+O,GAAJ,OAAUA,EAAI7E,EAAS,KACrC5G,SAAQ,SAACtD,GAAD,OAAOZ,EAAMA,EAAIY,MAE5BuyB,EAAQp4B,aAAe,SAACD,GAAD,OAAOkF,EAAIkzB,EAAUpoB,EAAO,IAAMhQ,GAClD,cAAC,EAAD,CAAWiB,MAAOo3B,KAE7B,QACE,SC7BeC,G,iDACnB5tB,MAAQ,G,KAERwtB,UAAY,SAACn3B,GACX,IAAIsE,EAAO,EAAKqF,MACZ9E,EAAQP,EAAKQ,WAAU,SAAAC,GAAC,OAAIA,EAAEnG,QAAUoB,KAC5C,IAAe,IAAX6E,EAAa,CACf,IAAI0F,EAAOitB,GAAex3B,GAE1B,OADAsE,EAAKgB,KAAKiF,GACHA,EAET,OAAOjG,EAAKO,KCRK4yB,G,WACnB,aAAe,yBAMfC,YAAcN,GANA,KAQd3tB,WAAQ/K,EAPNI,YAAeC,KAAM,CACnB0K,MAAQzK,M,wDAaV,OAHKD,KAAK44B,cACR54B,KAAK44B,YAAc,IAAIJ,IAElBx4B,KAAK44B,a,aAEE14B,GACdF,KAAK44B,YAAc14B,M,KClBVM,GAAM,SAACsK,EAAOwtB,EAAWO,EAASrrB,GAC7C,IAAI9M,EAAK,IAAIg4B,GACbh4B,EAAGgK,MAAQI,EACXpK,EAAGo4B,UAAYR,EACf53B,EAAGuF,IAAMU,KACTjG,EAAGsL,MAAQwB,EAEX,IAAI5H,EAAOlF,EAAG83B,YAOd,OANIK,GACFA,EAAQvvB,SAAQ,SAAAtD,GACdJ,EAAKwyB,UAAUpyB,EAAEnG,OAAOs4B,OAASnyB,EAAEmyB,UAIhCz3B,GAGIq4B,GAAkB,SAACvrB,GAC9B,IAAI1C,OAAQnL,EACZ,GAAI6N,EAAMwrB,OAAQ,CAChB,IAAIC,EAAMzrB,EAAM0rB,QAEhBpuB,EAAQ,cAAC,IAAD,CAAQiI,KAAK,UAAUD,KAAK,QAClCE,QAASimB,EADH,iBAIV,IAAIJ,EAAU,CACZJ,GAAeJ,IAAa,SAAC3Y,EAAKlU,EAAM8sB,EAAWa,EAAMptB,GACvD,IAAIqtB,EAAW,GACf,GAAI5rB,EAAM6rB,QAAS,CAEjBD,EAAW,cAAC,IAAD,CAAQrmB,KAAK,UAAUD,KAAK,QACrC1S,MAAO,CAAEqT,gBAAiB,UAAWE,OAAQ,QAC7CX,QAHS,kBAAMjH,EAAIutB,QACV,kBAKb,IAAI5G,EAAU,GACd,GAAIllB,EAAM+rB,UAAW,CAGnB7G,EAAU,cAAC,IAAD,CAAQ3f,KAAK,UAAU+G,QAAM,EAAChH,KAAK,QAC3CE,QAHQ,kBAAMxF,EAAMgsB,WAAWhuB,EAAMO,IAE7B,oBAGZ,OAAO,qCACJqtB,EAAU1G,QAGf+F,GAAeJ,IAAS,SAAC3Y,EAAKlU,EAAM8sB,EAAWa,EAAMptB,GAEnD,OAAO,cAAC,IAAD,CAAQgH,KAAK,UAAUD,KAAK,QACjCE,QAFO,kBAAMjH,EAAI8hB,MACZ,oBAKX,OAAOrtB,GAAIsK,EAAO,KAAM+tB,EAASrrB,ICvDdisB,G,4DAoBnBH,KAAO,WACL,EAAK7yB,MAAM6C,SAAQ,SAAAtD,GAAC,OAAIA,EAAE2yB,YAAcN,O,KAG1CxK,GAAK,WACH,EAAKpnB,MAAM6C,SAAQ,SAAAtD,GAAC,OAAIA,EAAE2yB,YAAcN,MACxC,EAAKrsB,MAAM0a,SAAS,EAAKgT,O,gDAjBzB,OANK15B,KAAK6F,MACR7F,KAAK6F,IAAM7F,KAAK05B,KAAKhzB,IAAM1G,KAAK05B,KAAKhzB,IAAM1G,KAAK05B,KAAKvuB,GAChDnL,KAAK6F,MACR7F,KAAK6F,IAAMc,OAGR3G,KAAK6F,M,4BAQZ,OAHK7F,KAAKgf,QACRhf,KAAKgf,MAAQ/U,GAAcjK,OAEtBA,KAAKgf,U,KCnBK2a,G,WACnB,aAAe,IAAD,gCAcdC,iBAAcj6B,EAdA,KAqCdw4B,OAAS,WACP,IAAIG,EAAY,EAAKQ,UACjBttB,EAAO,EAAKkuB,KAEZ34B,OAAQpB,EAUZ,OARI24B,IACFv3B,EAAQyK,EACR8sB,EAAUhvB,SAAQ,SAAAtD,GAChBjF,EAAQA,EAAMiF,OAIL,EAAKwyB,YAAYJ,UAAU,EAAKO,aAC/BR,OAAOp3B,EAAOyK,EAAM8sB,EAAW,EAAM,EAAKrc,MAlDxDlc,YAAeC,KAAM,CACnB45B,YAAa35B,M,gDAKf,MAAM,GAAN,OAAUD,KAAKoU,OAAOnO,IAAtB,YAA6BjG,KAAKic,IAAIhW,O,2BAItC,OAAOjG,KAAKic,IAAIyd,O,kCAQhB,OAHK15B,KAAK45B,cACR55B,KAAK45B,YAAc55B,KAAKoU,OAAOukB,aAE1B34B,KAAK45B,a,aAEE15B,GACdF,KAAK45B,YAAc15B,I,kCAQnB,OAHKF,KAAK44B,cACR54B,KAAK44B,YAAc54B,KAAKoU,OAAOokB,aAE1Bx4B,KAAK44B,c,gCAIZ,OAAO54B,KAAKoU,OAAO0kB,c,KCnCVt4B,GAAM,SAACgL,EAAMgC,GACxB,IAAI9M,EAAK,IAAI+4B,GAGb,OAFA/4B,EAAGg5B,KAAOluB,EACV9K,EAAGsL,MAAQwB,EACJ9M,GAGIm5B,GAAW,SAACp5B,GAEvB,OADcA,EAAEuL,MAAMnF,QACPgG,KAAI,SAAA7G,GAAC,OCVH,SAAC+F,EAAKoI,GACvB,IAAIzT,EAAK,IAAIi5B,GAGb,OAFAj5B,EAAGub,IAAMlQ,EACTrL,EAAG0T,OAASD,EACLzT,EDMiBo5B,CAAar5B,EAAGuF,OEArB+zB,G,WACnB,aAAe,IAAD,gCAYdf,QAAS,EAZK,KAadO,WAAY,EAbE,KAcdF,SAAU,EAdI,KAedW,oBAAqB,EAfP,KAiBdC,aAAUt6B,EAjBI,KAoCdu6B,gBAAav6B,EApCC,KA6Ddw6B,UAAOx6B,EA7DO,KAwEdu5B,QAAU,WACR,IAAI1tB,OAAO7L,EAET6L,EADE,EAAK4uB,gBACA,EAAKA,kBAEL,CACLn0B,IAAKU,MAGT,EAAK0zB,WAAW9zB,KAAKiF,GAErB,IAAIO,EAAMuuB,GAAY9uB,EAAM,GAC5B,EAAK+uB,KAAKh0B,KAAKwF,GACfA,EAAIutB,QArFQ,KAwFdE,WAAa,SAAChuB,EAAMO,GAClB,IAAIxG,EAAO,EAAK80B,WACZv0B,EAAQP,EAAKuB,QAAQ0E,GACzBjG,EAAKW,OAAOJ,EAAO,GACnB,EAAKy0B,KAAKr0B,OAAOJ,EAAO,GAEpB,EAAK00B,cACP,EAAKA,aAAahvB,IA/FR,KAmGdkb,SAAW,SAAClb,GACN,EAAKivB,YACP,EAAKA,WAAWjvB,IApGlBzL,YAAeC,KAAM,CACnBi6B,QAASh6B,IACTi6B,WAAYj6B,IACZk6B,KAAMl6B,IACN+4B,OAAQ/4B,IACRs5B,UAAWt5B,IACXo5B,QAASp5B,IACT+5B,mBAAoB/5B,M,oDAqBtB,OAVKD,KAAKi6B,UACRj6B,KAAKi6B,QAAU,CACbS,GAAY,4BAAgB,cAAe,KAAM16B,MACjD06B,GAAY,+BAAc,WAAY,KAAM16B,OAG1CA,KAAKg6B,oBACPh6B,KAAKi6B,QAAQ1zB,KAAKm0B,GAAwB16B,QAGvCA,KAAKi6B,S,aAEF/5B,GACVF,KAAKi6B,QAAU/5B,EACfF,KAAKu6B,UAAO56B,I,iCAqBZ,OAhBKK,KAAKk6B,aACRl6B,KAAKk6B,WAAa,CAChB,CACE/uB,GAAI,EACJwvB,YAAa,KACbC,SAAU,KACVC,OAAQ,MAEV,CACE1vB,GAAI,EACJwvB,YAAa,KACbC,SAAU,KACVC,OAAQ,SAIP76B,KAAKk6B,Y,aAECh6B,GACbF,KAAKk6B,WAAah6B,EAClBF,KAAKu6B,UAAO56B,I,2BCrEO,IAACc,ED6EpB,OAHKT,KAAKm6B,OACRn6B,KAAKm6B,MC3Ea15B,ED2EOT,MC1EpBq6B,WAAWxtB,KAAI,SAAA7G,GAAC,OAAIs0B,GAAYt0B,EAAGvF,OD4EnCT,KAAKm6B,M,aAELj6B,GACPF,KAAKm6B,KAAOj6B,M,KE/EH46B,GACX,aAAe,oBACb/6B,YAAeC,KAAM,KCFZ+6B,GAAb,4MACEC,mBAAoB,EADtB,iEAKI,IAAKh7B,KAAKi7B,mBAECj7B,KAAKi7B,mBACZC,QAAiBv7B,EAAWK,KAAKg7B,mBAErC,OAAOh7B,KAAKi7B,uBAVhB,GAA6CtU,ICAhCnmB,GAAM,SAACC,EAAGmF,GACrB,IAAIlF,EAAK,IAAIq6B,GA6Bb,OA3BAr6B,EAAG4lB,UAAY7lB,EACfC,EAAGkG,KAAOhB,EAEVnF,EAAEkhB,cAAgB,SAACzhB,GACbO,EAAE4E,OACJ3E,EAAGyD,KAAOjE,IAIdO,EAAEohB,qBAAuB,SAAC3hB,GACpBO,EAAE4E,OACJ3E,EAAGwhB,YAAchiB,IAIrBO,EAAEqhB,cAAgB,SAAC5hB,GACbO,EAAE4E,OACJ3E,EAAGyhB,KAAOjiB,EACVQ,EAAGsoB,OAAStoB,EAAGkmB,cAInBlmB,EAAGmmB,YAAc,WAEf,OCvBe,SAACpmB,GAClB,IAAIC,EAAK,IAAIo6B,GAGb,OAFAp6B,EAAG4lB,UAAY7lB,EAERC,EDmBEuoB,CADIxoB,EAAE0hB,OAIRzhB,GE/BIy6B,GAAb,4HAA2C7Z,ICG9B8Z,GAAb,WACE,aAAe,yBAMftuB,WAAQnN,EALNI,YAAeC,KAAM,CACnB8M,MAAO7M,MAHb,kDAcI,OALKD,KAAK8M,QACR9M,KAAK8M,MAAQ,CACXrB,GAAa,IAAI0vB,MAGdn7B,KAAK8M,QAdhB,8BAsBI,OAHK9M,KAAKq7B,UACRr7B,KAAKq7B,QAAUpxB,GAAgBjK,OAE1BA,KAAKq7B,YAtBhB,KCeaC,GAAa,SAAC76B,GACzB,IAAIC,EAAK,IAAIq5B,GAEbr5B,EAAG25B,WAAa55B,EAAEmK,MAElB,IAAI2wB,EAAUb,GAAY,6BAAiB,CAAC,QAAS,KAAMh6B,GACvD86B,EAAYd,GAAY,WAAY,KAAM,CAC5CjC,GAAeJ,IAAa,SAAC3Y,EAAKlU,GAEfA,EAAKiwB,mBACtB,OAAO,cAAC,GAAD,CAAct6B,MAAOqK,EAAKiwB,yBAElC/6B,GACCg7B,EAAmBhB,GAAY,8BAAgB,KAAM,CACvDjC,GAAeJ,IAAa,SAAC3Y,EAAKlU,GAChC,OAAO,cAAC,GAAD,QAER9K,GAWH,OATAA,EAAGmG,QAAU,CACX00B,EAASC,EAAWE,EACpBhB,GAAwBh6B,IAG1BA,EAAG05B,gBAAkB,WACnB,OAAO,IAAIW,IAGNr6B,GC5BI4d,GAAS,kBAAMxV,GAAOF,UAEtB+yB,GAAwB,SAACt6B,GACpC,O7EnBiB,SAACZ,GAClB,IAAIC,EAAK,IAAIkjB,GAab,OAZAljB,EAAG0lB,iBAAmB3lB,EAEtBA,EAAEm7B,sBAAwB,SAAC17B,GACfQ,EAAGwiB,eACbxiB,EAAGqzB,cAAe,GAGpBtzB,EAAEylB,MAAQ,SAAC1a,GACT,IAAIwgB,EAAW6P,GAAsBrwB,EAAM9K,GAC3CA,EAAGyF,IAAI6lB,IAGFtrB,E6EKAo7B,CAA2Bxd,KAAS8H,mBAGhC2V,GAAiC,SAAC16B,GAC7C,OjEvBiB,SAACZ,GAClB,IAAIC,EAAK,IAAI2lB,GAYb,OAXA3lB,EAAG4lB,UAAY7lB,EAEfA,EAAE8lB,eAAiB,SAACrmB,GACRQ,EAAGkK,MACblK,EAAGqzB,cAAe,GAGpBtzB,EAAEylB,MAAQ,SAAChmB,GACTQ,EAAGyF,IAAIqjB,GAAetpB,EAAGQ,KAGpBA,EiEUAs7B,CACJ1d,KAAS2d,4BAGDC,GAA8B,SAAC76B,GAC1C,OpD5BiB,SAACZ,GAClB,IAAIC,EAAK,IAAI4sB,GAWb,OAVA5sB,EAAG4lB,UAAY7lB,EAEfA,EAAE8lB,eAAiB,SAACrmB,GACRQ,EAAGkK,OAGfnK,EAAEylB,MAAQ,SAAChmB,GACTQ,EAAGyF,IAAIqjB,GAAetpB,EAAGQ,KAGpBA,EoDgBAy7B,CACJ7d,KAAS8d,yBAGDC,GAA6B,SAACh7B,GACzC,OjDlCiB,SAACZ,GAClB,IAAIC,EAAK,IAAI6sB,GAWb,OAVA7sB,EAAG4lB,UAAY7lB,EAEfA,EAAE8lB,eAAiB,SAACrmB,GACRQ,EAAGkK,OAGfnK,EAAEylB,MAAQ,SAAChmB,GACTQ,EAAGyF,IAAIqjB,GAAetpB,EAAGQ,KAGpBA,EiDsBA47B,CACJhe,KAASuZ,wBAGD0E,GAAoB,SAACl7B,GAChC,OtBvCiB,SAACZ,GAClB,IAAIC,EAAK,IAAIi0B,GAQb,OAPAj0B,EAAG4lB,UAAY7lB,EAEfA,EAAE8lB,eAAiB,SAACrmB,GACRQ,EAAGkK,MACblK,EAAGqzB,cAAe,GAGbrzB,EsB8BA87B,CACJle,KAASme,eAQDC,GAAgC,SAACr7B,GAC5C,OD5CiB,SAACZ,GAClB,IAAIC,EAAK,IAAI06B,GAOb,OANA16B,EAAG4lB,UAAY7lB,EAEfA,EAAEslB,qBAAqBxf,MAAK,SAACrG,GACjBQ,EAAGkK,SAGRlK,ECoCAi8B,CAAkBre,KAASse,6BChDvBjZ,GAAb,WACE,aAAe,oBADjB,mDAaI,OAAO7a,GAAOF,WAblB,yCAqBI,OAHK5I,KAAK68B,qBACR78B,KAAK68B,mBAAqB5yB,MAErBjK,KAAK68B,qBArBhB,kDA6BI,OAHK78B,KAAK88B,8BACR98B,KAAK88B,4BAA8B7yB,MAE9BjK,KAAK88B,8BA7BhB,+CAqCI,OAHK98B,KAAK+8B,2BACR/8B,KAAK+8B,yBAA2B9yB,MAE3BjK,KAAK+8B,2BArChB,8CA6CI,OAHK/8B,KAAKg9B,0BACRh9B,KAAKg9B,wBAA0B/yB,MAE1BjK,KAAKg9B,0BA7ChB,qCAqDI,OAHKh9B,KAAKi9B,iBACRj9B,KAAKi9B,eAAiBhzB,MAEjBjK,KAAKi9B,iBArDhB,uCA6DI,OAHKj9B,KAAKk9B,mBACRl9B,KAAKk9B,iBDhBFC,GACN7e,KAASG,iBCiBDze,KAAKk9B,kBA7DhB,aA+DuBh9B,GACnBF,KAAKk9B,iBAAmBh9B,EAMtBF,KAAKse,OAAOG,eALTve,EAK0BA,EAAEomB,UAHFpmB,IAnEnC,uCA+EI,OAHKF,KAAKo9B,mBACRp9B,KAAKo9B,iBAAmBp9B,KAAKse,OAAOwJ,kBAE/B9nB,KAAKo9B,mBA/EhB,wCAuFI,OAHKp9B,KAAKq9B,oBACRr9B,KAAKq9B,kBAAoBr9B,KAAKse,OAAO0J,mBAEhChoB,KAAKq9B,oBAvFhB,oCA+FI,OAHKr9B,KAAKkH,gBACRlH,KAAKkH,cAAgBlH,KAAKse,OAAOzV,eAE5B7I,KAAKkH,gBA/FhB,yCAuGI,OAHKlH,KAAKs9B,qBACRt9B,KAAKs9B,mBAAqBt9B,KAAKse,OAAOsM,oBAEjC5qB,KAAKs9B,qBAvGhB,qCA+GI,OAHKt9B,KAAKu9B,iBACRv9B,KAAKu9B,eAAiBv9B,KAAKse,OAAOvV,gBAE7B/I,KAAKu9B,iBA/GhB,wCAuHI,OAHKv9B,KAAKw9B,oBACRx9B,KAAKw9B,kBAAoBx9B,KAAKse,OAAOgE,mBAEhCtiB,KAAKw9B,oBAvHhB,gCA+HI,OAHKx9B,KAAKy9B,YACRz9B,KAAKy9B,UAAYz9B,KAAKse,OAAO0M,WAExBhrB,KAAKy9B,YA/HhB,iDAwII,OAJKz9B,KAAK09B,6BACR19B,KAAK09B,2BACHzzB,MAEGjK,KAAK09B,8BAxIhB,gCASI,OAHK19B,KAAKmH,WACRnH,KAAKmH,SAAW,IAAIwc,GAEf3jB,KAAKmH,aAThB,KCDqBw2B,G,4DA6BnBhzB,OAAS,WACP,IAAI7E,EAAQ,EAAK+E,MACjB,EAAK0X,OAAOrc,OAAOJ,EAAO,GAEf,EAAKc,KAAKg3B,SAChB13B,OAAOJ,EAAO,I,KAGrB0hB,QAAU,SAACtnB,GACT,EAAK29B,cAAcrsB,YAActR,EAAE8M,O,kDApCnC,OAAOhN,KAAK4G,KAAKg3B,SAAS92B,QAAQ9G,Q,6BAIlC,OAAOA,KAAK4G,KAAK0f,UAAU/D,S,4BAI3B,OAAOviB,KAAKuiB,OAAOviB,KAAK6K,Q,aAEhB3K,GACRF,KAAKuiB,OAAOviB,KAAK6K,OAAS3K,I,uCAI1B,OAAO+J,O,oCAIW,IAAD,OACZjK,KAAKwxB,iBACExxB,KAAKwxB,cAAgBtM,GAAiBllB,KAAKyxB,iBAAkBzxB,KAAKgN,QACxEsC,sBAAwB,SAACpP,GAAD,OAAO,EAAK8M,MAAQ9M,IAElD,OAAOF,KAAKwxB,kB,KCtBHhxB,GAAM,SAACC,EAAGmF,GACrB,IAAIlF,EAAK,IAAIi9B,GAEb,OADAj9B,EAAGkG,KAAOhB,EACHlF,GAGIo9B,GAAsB,WACjC,OAVOna,GAAS/a,SAUE0Z,mBCPCyb,G,WACnB,aAAe,IAAD,gCASdC,cAAWr+B,EATG,KA8Cds+B,cAAgB,WACH,EAAK3X,UAAUjE,cAA1B,IACI2J,EAAWkS,GAAgB1yB,EAAM,GAErC,OADA,EAAKoyB,SAASr3B,KAAKylB,GACZA,GAlDK,KAqDdxE,QAAU,SAACtnB,GACT,EAAK09B,SAAW19B,EAAE09B,UArDlB79B,YAAeC,KAAM,CACnBg+B,SAAW/9B,M,qDAYb,OAHKD,KAAKg+B,WACRh+B,KAAKg+B,SAAW/zB,GAAiBjK,OAE5BA,KAAKg+B,U,aAED99B,GACX,IAAIqF,EAAOvF,KAAKg+B,SACZxR,EAAYxsB,KAAKsmB,UAAU/D,OAE3BkK,EAAWlnB,EAAK2K,OAChBwc,EAAWxsB,EAAEgQ,OAEjB3K,EAAK+D,SAAQ,SAACtD,EAAG+O,GACXA,GAAK2X,GACT1mB,EAAEwhB,QAAQtnB,EAAE6U,OAGd,IAAI4X,EAAQloB,KAAKmoB,IAAIH,EAAWC,GAChC,GAAID,EAAWC,EACbnnB,EAAKW,OAAOwmB,EAAUC,GACtBH,EAAUtmB,OAAOwmB,EAAUC,QAExB,GAAIF,EAAWC,EAClB,IAAK,IAAI3X,EAAI,EAAGA,EAAI4X,EAAO5X,IAAK,CAC9B,IAEIvJ,EAFetL,EAAEusB,EAAW1X,GAER/H,MACxBwf,EAAUjmB,KAAKiF,GAEf,IAAIuhB,EAASmR,GAAgB1yB,EAAKxL,MAClCuF,EAAKgB,KAAKwmB,Q,KClCLoR,GAAc,SAAC19B,GAE1B,OADaA,EAAE6lB,UAAU/D,OACX1V,KAAI,SAAA7G,GAAC,OAAIk4B,GAAgBl4B,EAAGvF,OCfvB29B,G,4MACnBpX,mBAAqB,SAAC9mB,K,YADwBymB,ICCnCnmB,GAAM,SAACC,EAAGmF,GACrB,IAAIlF,EAAK,IAAI09B,GA6Bb,OA3BA19B,EAAG4lB,UAAY7lB,EACfC,EAAGkG,KAAOhB,EAEVnF,EAAEkhB,cAAgB,SAACzhB,GACbO,EAAE4E,OACJ3E,EAAGyD,KAAOjE,IAIdO,EAAEohB,qBAAuB,SAAC3hB,GACpBO,EAAE4E,OACJ3E,EAAGwhB,YAAchiB,IAIrBO,EAAEqhB,cAAgB,SAAC5hB,GACbO,EAAE4E,OACJ3E,EAAGyhB,KAAOjiB,EACVQ,EAAGsoB,OAAStoB,EAAGkmB,cAInBlmB,EAAGmmB,YAAc,WAEf,OFtBe,SAACpmB,GAClB,IAAIC,EAAK,IAAIq9B,GAGb,OAFAr9B,EAAG4lB,UAAY7lB,EAERC,EEkBEuoB,CADIxoB,EAAE0hB,OAIRzhB,GCfI4d,GAAS,WACpB,OAAOxV,GAAOF,UAOK2uB,G,WACnB,aAAe,IAAD,gCA4Bd8G,cAAe,EA5BD,KA8BdC,YAAc9f,EA9BA,KA+Ed3X,aAAUlH,EA/EI,KAgFd4+B,cAAW5+B,EAhFG,KAiFdwY,cAAWxY,EAjFG,KAkFd8G,WAAQ9G,EAlFM,KAoFd6+B,KAAO,WACL,EAAK33B,QAAU,GACf,EAAKsR,SAAW,GAChB,EAAKomB,SAAW,GAChB,EAAK93B,MAAQ,IAxFD,KA+Fdg4B,UAAY,SAACv+B,GACX,IAAIqF,EAAO,EAAKsB,QACZ2E,OAAO7L,EACPmG,EAAQP,EAAKQ,WAAU,SAAAC,GAAC,OAAIA,EAAE7B,OAASjE,KAC3C,OAAe,IAAX4F,GACF0F,EC7Ha,SAAC/K,EAAGmF,GACrB,IAAIlF,EAAK,IAAI8F,GAGb,OAFA9F,EAAGyD,KAAO1D,EACVC,EAAGkG,KAAOhB,EACHlF,EDyHIg6B,CAAYx6B,EAAG,GACtBqF,EAAKgB,KAAKiF,GACHA,GAGAjG,EAAKO,IAzGF,KA6GdmG,OAAS,SAAC/L,EAAG4N,GACX,IAAIvI,OAAO5F,EAOP6L,OAAO7L,EACPmG,GANFP,EADEuI,EACKA,EAAQ+F,SAER,EAAKsE,UAIGpS,WAAU,SAAAC,GAAC,OAAIA,EAAE7B,OAASjE,KAC3C,OAAe,IAAX4F,IACF0F,EAAO8uB,GAAYp6B,EAAG,IACjB8N,QAAUF,EAEfvI,EAAKgB,KAAKiF,GACV,EAAK+yB,SAASh4B,KAAKiF,GACZA,GAGAjG,EAAKO,IAhIF,KAoId44B,QAAU,SAACvqB,EAAKpI,GACd,IAAIxG,EAAO,EAAKkB,MACZ+E,OAAO7L,EACPmG,EAAQP,EAAKQ,WAAU,SAAAC,GAAC,OAAIA,EAAEoO,SAAWD,GAAOnO,EAAEiW,MAAQlQ,KAC9D,OAAe,IAAXjG,GACF0F,EpGzJa,SAAC2I,EAAKpI,EAAKnG,GAC5B,IAAIlF,EAAK,IAAIib,GAQb,OAPAjb,EAAG0T,OAASD,EACZzT,EAAGub,IAAMlQ,EACTrL,EAAGkG,KAAOhB,EAEVuO,EAAI1N,MAAMF,KAAK7F,GACfqL,EAAItF,MAAMF,KAAK7F,GAERA,EoGgJIo5B,CAAa3lB,EAAKpI,EAAK,GAC9BxG,EAAKgB,KAAKiF,GACHA,GAGAjG,EAAKO,IA9IF,KAmJd64B,MAAQ,WACN,IAAIC,EAAW,EAAKnpB,YAEhBmpB,IAAapgB,GACfF,KAASG,eAAeC,OAAOpV,SAAQ,SAAAtD,GAC3B,EAAKy4B,UAAUjgB,GAAmBxY,EAAG44B,OAInD,EAAKh0B,MAAMtB,SAAQ,SAAAtD,GACjB,OAAQ44B,GACN,KAAKpgB,EACHxY,EAAE64B,mBAAmBv1B,SAAQ,SAAAiD,GAC3B,EAAKgJ,WAAWvP,EAAGuG,MAErB,MACF,QACE,EAAKgJ,WAAWvP,EAAGA,EAAEwP,SAASopB,QAK/B,EAAKE,iBACR,EAAKzqB,cA1KK,KA8KdyqB,iBAAkB,EA9KJ,KA+KdC,mBAAoB,EA/KN,KAiLdC,aAAe,GAjLD,KAmLdvH,wBAA0B,GAnLZ,KA6LdwH,gBAAkB,SAACzzB,GACjB,EAAKwzB,aAAaz4B,KAAKiF,GACvB,EAAK2pB,aAAe,EAAK6J,aAAa9uB,OAAS,EAAKtF,MAAMsF,OAEtD,EAAK8uB,aAAa9uB,SAAW,EAAKtF,MAAMsF,SAC1C,EAAKmE,aACL,EAAK2qB,aAAe,KAnMV,KAuMd3qB,WAAa,WACX,EAAK8D,SAAS7O,SAAQ,SAAAtD,GAAC,OAAIA,EAAEqO,gBAC7B,EAAK8D,SAAWmiB,GAAc,EAAKniB,UAEnC,EAAK1R,MAAM6C,SAAQ,SAAAtD,GAAC,OAAIA,EAAEqO,gBAC1B,EAAK6qB,kBAAmB,GA5MZ,KA+Md1H,yBAA2B,GA/Mb,KAqNdjiB,WAAa,SAAC/J,EAAM2zB,EAAelqB,EAAKmqB,GACtC,IAAIjrB,EACF,EAAKsqB,UAAUjgB,GAAmB2gB,EAAe,EAAK1pB,cACpD0kB,EAAOiF,EAAa,CAACA,GAAc,GACnCnqB,EAAMA,GAAY,EAAKiM,QAE3B,EAAKme,oBAAoB7zB,EAAM2I,EAAKgmB,EAAMllB,EAAK,IA3NnC,KA+NdqqB,wBAA0B,SAAC9zB,EAAM2I,EAAKgmB,EAAMza,EAAKzK,EAAKsqB,GACpD,IAAIxkB,EAAO9F,EAAIrK,MACX40B,EAAYzkB,EAAK7K,OACjB9F,EAAM2Q,EAAKwkB,GAEXE,EAA0B,IAAhBtF,EAAKjqB,OAAeiqB,EAAKA,EAAKjqB,OAAS,QAAKvQ,EAC1DyK,EAAIqC,OAASgzB,EAEb,IAAIC,EAAWt1B,EAAI4C,MACnB,GAAK0yB,EAAL,CAKA,IAAIC,EAAcnhB,GAAmBkB,EAAKggB,GACtCE,EAAYH,EAAO,UAAMA,EAAQvzB,UAAd,aAA4ByzB,GAAgBA,EAEnE,GAAIv1B,EAAIiB,iBAAiB5B,SAASm2B,GAChC,EAAKX,gBAAgBzzB,OADvB,CAKA,IACMK,EAAS,SAACC,GACd,OAAO,EAAK+zB,cAAcD,EAAW9zB,IAGjCM,EAAY,SAACL,GACjBA,EAAIxB,cAAgBH,EACpB+vB,EAAK5zB,KAAKwF,GAEV,IAAI+zB,EAAU11B,EAAIgB,cACd20B,EAAWD,EAAQ/5B,WAAU,SAAAC,GAAC,OAChC+H,GAAmB/H,EAAEwG,OAAQozB,OACb,IAAdG,KACF9qB,EAAM6qB,EAAQC,IACVxyB,gBAAiB,EAErBgyB,GAAiB,EACjBC,EAAYvqB,EAAIrK,MAAMsF,OAEtBnE,EAAIsJ,sBAAwBJ,GAGnB,EAAKypB,QAAQvqB,EAAKpI,GACxBnB,MAAMrE,KAAKiF,GAEZ+zB,IAAkBC,EAAY,EAChC,EAAKP,gBAAgBzzB,GAErB,EAAK6zB,oBAAoB7zB,EAAM2I,EAAKgmB,EAAMllB,EAAKsqB,EAAgB,IAK/D7yB,EADUtC,EAAImB,QAAQq0B,EAAWD,GACZhzB,OACrBD,GAEFA,EAAWnB,QAAQq0B,EAAWD,GAE9B,EAAK/yB,kBAAkBF,EAAYb,EAAQO,IAG3CA,EADMP,EAAO4zB,UApDb,EAAKR,gBAAgBzzB,IAzOX,KAkSdq0B,cAAgB,SAACD,EAAW9zB,GAC1B,IAAIk0B,EAAK,EAAK/zB,OAAO2zB,EAAW9zB,GAEhC,OADAk0B,EAAG9zB,UAAY0zB,EACRI,GArSK,KAwSdpzB,kBAAoB,SAACF,EAAYb,EAAQO,GACvC,IAAM6zB,EAAuB,WAC3B,IAAIn0B,EAASY,EAAWD,OACpByzB,EAAKr0B,EAAOC,GAGhB,OAFAo0B,EAAG3oB,WAAa7K,EAETwzB,GAGLn0B,OAAMpM,EACN+M,EAAWW,kBACbtB,EAAMk0B,IACN7zB,EAAUL,IAEVW,EAAWhB,yBAAyBnF,MAAK,WACvCwF,EAAMk0B,IACN7zB,EAAUL,OAxTF,KA6TdszB,oBAAsB,SAAC7zB,EAAM2I,EAAKgmB,EAAMllB,EAAKsqB,GAC3C,IAAIG,EAAWzqB,EAAIrK,MAAM20B,GAAevyB,MAEpC0S,EAAMlU,EAAKgK,SAASkqB,GAAU,SAAChgB,GAAD,OAChC,EAAK4f,wBAAwB9zB,EAAM2I,EAAKgmB,EAAMza,EAAKzK,EAAKsqB,MACrD3f,MAAMC,QAAQH,GAGjB,EAAKof,iBAAkB,EAFvB,EAAKQ,wBAAwB9zB,EAAM2I,EAAKgmB,EAAMza,EAAKzK,EAAKsqB,IAnU9C,KAyUdY,cAAgB,WACd,EAAKpB,mBAAoB,GA1Ub,KA6UdqB,mBAAgBzgC,EA7UF,KAkWd0gC,iBAAmB,WACjB,IAAIvzB,EAAQwR,KAASuZ,sBAAsBjtB,MACvC9E,EAAQgH,EAAM/G,WAAU,SAAAC,GAAC,OAAIA,EAAE7B,OAAS,EAAKm8B,iBAC7C55B,OAAM/G,GACK,IAAXmG,IACFY,EAAMoG,EAAMhH,GAAOY,KAGrB,IAAI2W,EAAU,CACZ3W,MACAgb,KAAM,EAAK4e,cACXte,YAAa4P,GACbvwB,KAAM,CACJwhB,mBAAoB,EAAK3B,QAAQnU,UAIjCpK,EAAG,mCAEHsjB,EAAUvf,EAAM,OAAS,OACPA,EAAM4W,EAAA,UAAW3a,EAAX,YAAkBsjB,GAAW5I,GACvDC,EAAA,UAAY3a,EAAZ,YAAmBsjB,GAAW5I,IAEtBE,MAAK,SAAAvb,GAAQ,OAAIA,EAASX,QACjCkc,MAAK,SAAAlc,GACJ,IAAIuE,EAAO0Y,KAASuZ,sBAChBrsB,EAAO+0B,GAAYl/B,EAAMuE,GAC7BA,EAAKgF,MAAMrE,KAAKiF,GAEhB,IAAIsa,EAnYHnC,GAAS/a,SAmYc2kB,wBACpBR,EAASyT,GAAch1B,EAAMsa,GACjCA,EAAOlb,MAAMrE,KAAKwmB,GAElB5qB,IAAQF,QAAR,UAAmBgkB,EAAnB,+BAGJ,EAAK8Y,mBAAoB,EACzB,EAAK0B,gBAAgBv/B,QAAU+I,GAAsB,IAvYzC,KA0Ydy2B,qBAAuB,WACrB,EAAK3B,mBAAoB,EACzB,EAAK0B,gBAAgBv/B,QAAU+I,GAAsB,IA5YzC,KA+Yd02B,WAAa,WACX,OAAOrG,QAAY36B,EAAW,IA/Y9BI,YAAeC,KAAM,CACnBq+B,aAAcp+B,IACd4G,QAAS5G,IACTkY,SAAUlY,IACVwG,MAAOxG,IACPq+B,YAAar+B,IACb8+B,kBAAmB9+B,M,kDAOrB,OAAOD,KAAK8M,O,aAEJ5M,GACRF,KAAK8M,MAAQ5M,EAETA,GAAkB,IAAbA,EAAEgQ,QACTlQ,KAAK2+B,QACL3+B,KAAKq+B,cAAe,GAGpBr+B,KAAKq+B,cAAe,I,kCAQtB,OAAOr+B,KAAKs+B,a,aAEEp+B,GACdF,KAAKs+B,YAAcp+B,I,uCAKnB,OAAOF,KAAK4gC,kB,aAEO1gC,GACnBF,KAAK4gC,iBAAmB1gC,EAItBF,KAAKkhB,QAHFhhB,EAGYoO,GAAepO,EAAEiiB,KAAK1U,oBAFtBvN,I,8BAWjB,OAHKF,KAAK6gC,UACR7gC,KAAK6gC,QnGxEe,SAACpgC,GACzB,IAAIC,EAAK,IAAI+M,GAETqzB,EAAO1rB,GAAYoJ,GAGvB,OAFA9d,EAAGkK,MAAQ,CAACk2B,GAELpgC,EmGkEYuJ,IAEVjK,KAAK6gC,S,aAEF3gC,GACVF,KAAK6gC,QAAU3gC,EACfF,KAAKw+B,OAIHx+B,KAAKsX,QAHFpX,EAGY+J,GAAgBjK,WAFhBL,I,8BAWjB,OAHKK,KAAK+gC,UACR/gC,KAAK+gC,QAAU92B,GAAgBjK,OAE1BA,KAAK+gC,S,aAEF7gC,GACVF,KAAK+gC,QAAU7gC,I,8BAgBf,OnGhGsB,SAACO,GACzB,IAAI8E,EAAO,GAIX,OAHA9E,EAAE0X,SAAS7O,SAAQ,SAAAtD,GACjBT,EAAKgB,KAAKsH,MAAMtI,EAAMS,EAAEkF,aAEnB3F,EmG2FE0E,CAAgBjK,Q,mCA2FvB,OAAOA,KAAKi1B,c,aACI/0B,GAChBF,KAAKi1B,aAAe/0B,EACpBF,KAAKy3B,wBAAwBnuB,SAAQ,SAAAtD,GAAC,OAAIA,EAAE9F,Q,qCAuBzBA,GACnBF,KAAKw3B,yBAAyBluB,SAAQ,SAAAtD,GAAC,OAAIA,S,oCAgI3C,OAHKhG,KAAKogC,gBACRpgC,KAAKogC,cAAgBn2B,GAAsBjK,OAEtCA,KAAKogC,e,aAEIlgC,GAChBF,KAAKogC,cAAgBlgC,I,sCAIA,IAAD,OACfF,KAAKghC,mBACEhhC,KAAKghC,gBACbla,EAAa9mB,KAAKsgC,cAAe,yCAC/BngC,aAAe,SAACD,GAAD,OAAO,EAAKogC,cAAgBpgC,IAEjD,OAAOF,KAAKghC,oB,KExXK3K,G,8FAGjB,OAAOr2B,KAAK8M,O,aAEJ5M,GACRF,KAAK8M,MAAQ5M,EACbF,KAAKu3B,UAAU3sB,MAAQ1K,I,gCAQvB,OAHKF,KAAKs3B,YACRt3B,KAAKs3B,UAAY,IAAIC,IAEhBv3B,KAAKs3B,Y,qCAGOp3B,GACnBF,KAAKu3B,UAAUvW,iBAAmB9gB,M,KChBjB+gC,G,4DAoCnBC,cAAe,E,KAEfC,uBAAyB,G,KAMzB3rB,SAAW,SAACtR,GACV,GAAKA,EAAL,CAIA,IAAI7C,E3I3BqB,SAAC+/B,EAAUl9B,GACtC,OAAQA,GACN,KAAKd,EACL,KAAKG,EACL,KAAKC,EACL,KAAKI,EACH,MAAO,CACL4e,OAAQ,CAACte,GACTm9B,eAAe,GAEnB,KAAKx9B,EACL,KAAKF,EACL,KAAKD,EACL,KAAKD,EACL,KAAKK,EACL,KAAKC,GAEH,GADeq9B,EAAQ,WACNE,EACf,MAAO,CACL9e,OAAQ,CAAC,OAAQte,GACjBm9B,eAAe,GAGjB,IAAIE,OAAY5hC,EAEhB,OAAQuE,GACN,KAAKL,EACL,KAAKF,EACH49B,EAAY,WACZ,MACF,KAAKz9B,EACHy9B,EAAY,SAGhB,MAAO,CACL/e,OAAQ,CAAC,UAAW,OAAQ+e,EAAWr9B,GACvCm9B,eAAe,I2ITV7iB,CAAkB,EAAMta,GAC7Bse,EAA0BnhB,EAA1BmhB,OAmBN,OAnBgCnhB,EAAlBggC,eAmBQ,EAAKhwB,QAjBV,WACf,IAAIjM,EAAM,EACN8D,GAAU,EAYd,OAVAsZ,EAAOlZ,SAAQ,SAAAtD,GACb,GAAIkD,EAAS,CACX,IAAIxD,EAAON,EAAIY,QAEHrG,KADZyF,EAAMM,KAEJwD,GAAU,OAKT9D,EAIAo8B,QAEP,I,KAmBJjd,YAAc,SAACnH,GACb,IAAIC,EAAU,EAAKtQ,QACbrG,EAAQ2W,EAAR3W,IACF/D,EAAG,gCAEHsjB,EAAUvf,EAAM,OAAS,OACPA,EACpB4W,EAAA,UAAW3a,EAAX,YAAkBsjB,GAAW5I,GAAWC,EAAA,UAAY3a,EAAZ,YAAmBsjB,GAAW5I,IAE9DE,MAAK,SAAAvb,GAAQ,OAAIA,EAASX,QACjCkc,MAAK,SAAAlc,GACY,QAAZ4kB,IACF,EAAKvf,IAAMrF,EAAKqF,KAEd0W,GACFA,EAAO/b,GAETc,IAAQF,QAAR,UAAmBgkB,EAAnB,2B,KAINwb,eAAiB,SAACrkB,GAChB,IAAIC,EAAU,CACZ3W,IAAK,EAAKA,KAGU4W,EAAA,UADf,gCACe,WAAyBD,GAErCE,MAAK,SAAAvb,GAAQ,OAAIA,EAASX,QACjCkc,MAAK,SAAAlc,GACA+b,GACFA,EAAO/b,GAETc,IAAQF,QAAR,gC,KAINy/B,UAAY,E,KAEZC,sBAAuB,E,KACvB3hB,+BAAiC,G,KAiBjCI,0BAA4B,G,oDAzI1B,OAHKpgB,KAAK6zB,UACR7zB,KAAK6zB,QAAU5pB,GAAgBjK,OAE1BA,KAAK6zB,U,kCAUZ,OAHK7zB,KAAK8qB,cACR9qB,KAAK8qB,YAAc7gB,GAAoBjK,OAElCA,KAAK8qB,c,6BAQZ,OAHK9qB,KAAKk2B,SACRl2B,KAAKk2B,OAASjsB,GAAejK,OAExBA,KAAKk2B,S,yCAIZ,OAAOjsB,GAA2BjK,Q,mCAOjBE,GACjBF,KAAKmhC,uBAAuB73B,SAAQ,SAAAtD,GAAC,OAAIA,S,8BAoCzC,MAAO,CACLU,IAAK1G,KAAK0G,IACVqb,UAAW/hB,KAAK+hB,UAChB6f,UAAW5hC,KAAK4hC,UAChBzW,cAAenrB,KAAKmrB,cACpB0W,YAAa7hC,KAAK6hC,YAClBC,mBAAoB9hC,KAAK8hC,mBACzB/gC,MAAOf,KAAKuD,MACZsY,KAAM7b,KAAKwD,KACX2Z,SAAUnd,KAAK4D,SACfm+B,KAAM/hC,KAAKgiC,Q,uCA6CQ9hC,GACrBF,KAAKggB,+BAA+B1W,SAAQ,SAAAtD,GAAC,OAAIA,EAAEzC,WACnDvD,KAAK0hC,c,qCAQL,OAHK1hC,KAAKiiC,iBACRjiC,KAAKiiC,eAAiBh4B,GAAuBjK,OAExCA,KAAKiiC,gB,aACO/hC,GACnBF,KAAKiiC,eAAiB/hC,EACtBF,KAAKkiC,oBAAqB,I,kCAIVhiC,GAChBF,KAAKogB,0BAA0B9W,SAAQ,SAAAtD,GAAC,OAAIA,EAAEzC,a,gCAS9C,OAHKvD,KAAK4/B,YACR5/B,KAAK4/B,UAAY31B,GAAkBjK,OAE9BA,KAAK4/B,W,aACE1/B,GACdF,KAAK4/B,UAAY1/B,EACjBF,KAAKmiC,eAAgB,M,KC9JZ7jB,GAAS,WACpB,OAAOxV,GAAOF,UAIHpI,GAAM,SAACC,GAClB,IAAIC,EAAK,IAAIugC,GAab,OAXAvgC,EAAGgG,IAAMjG,EAAEiG,IACXhG,EAAG6C,MAAQ9C,EAAEM,MACbL,EAAG8C,KAAO/C,EAAEob,KACZnb,EAAGkD,SAAWnD,EAAE0c,SAChBzc,EAAGshC,KAAOvhC,EAAEshC,KACZrhC,EAAGqhB,UAAYthB,EAAEshB,UACjBrhB,EAAGyqB,cAAgB1qB,EAAE0qB,cACrBzqB,EAAGmhC,YAAcphC,EAAEohC,YACnBnhC,EAAGohC,mBAAqBrhC,EAAEqhC,mBAC1BphC,EAAG2Q,QAAU5Q,EAAE2hC,UAAkC,IAAtB3hC,EAAE2hC,SAASlyB,OAAezP,EAAE2hC,SAAS,QAAKziC,EAE9De,GAuCI2hC,GAAa,SAAC5hC,GACzB,IAAI8E,EAAO+Y,KAASme,aAAa7xB,MAC3BmX,EAActhB,EAAdshB,UACFjc,EAAQP,EAAKQ,WAAU,SAAAC,GAAC,OAAIA,EAAEU,MAAQqb,KAC1C,OAAkB,IAAXjc,EAAeP,EAAKO,QAASnG,GA6CzB2iC,GAAkB,SAAC57B,EAAK0W,GACnC,IAAIza,EAAG,uDAAmD+D,GAC1D4W,EAAQ3a,GAAK4a,MAAK,SAAAvb,GAAQ,OAAIA,EAASX,QACpCkc,MAAK,SAAAlc,GAAS,I7I/GU8b,E6IgHjBolB,EAAuBlhC,EAAvBkhC,WAAYC,EAAWnhC,EAAXmhC,OAEd11B,G7IlHmBqQ,E6IiHYolB,EAAWplB,SAClCqlB,EAAO31B,KAAI,SAAA7G,GAAC,OAAIxF,GAAIwF,OAC5BoX,GACFA,EAAOtQ,OAMF0e,GAAiB,SAAC/qB,GAC7B,IAAI8E,EAAO+Y,KAAS8H,iBAAiBqF,aAC/BN,EAAkB1qB,EAAlB0qB,cACFrlB,EAAQP,EAAKQ,WAAU,SAAAC,GAAC,OAAIA,EAAEU,MAAQykB,KAC1C,OAAkB,IAAXrlB,EAAeP,EAAKO,QAASnG,GAGzB8iC,GAAY,SAAChiC,GACxB,IAAI8E,EAAO,GACP2wB,EAAS5X,KAAS2V,WAAWrpB,MAC7Bk3B,EAAqBrhC,EAAEqhC,mBAM3B,OALA5L,EAAO5sB,SAAQ,SAAAtD,GACTA,EAAE08B,oBAAoBj5B,SAASq4B,IACjCv8B,EAAKgB,KAAKP,MAGPT,GAGIo9B,GAAwB,SAACliC,GACpC,IAAImiC,EAActkB,KAASG,eAAeC,OACtCwX,EAASz1B,EAAEie,OACXnZ,EAAO,GAMX,OALA2wB,EAAO5sB,SAAQ,SAAAtD,GACT48B,EAAYn5B,SAASzD,IACvBT,EAAKgB,KAAKP,MAGPT,GAgBIs9B,GAAoB,SAACpiC,GAChC,IAAIA,EAAEkhC,qBAAN,CACAlhC,EAAEkhC,sBAAuB,EAEzB,IAAI9N,EAAUpzB,EAAE2C,QAEV0/B,EAAqB,SAACxO,GAC1B,IAAIyO,EAAKC,GAAqBviC,EAAG6zB,EAAInS,MACrC,OAAO8gB,GAAuBxiC,EAAGsiC,IAG/BzO,EAAMT,EAAQU,oBAClB,GAAID,EACF,OAAOwO,EAAmBxO,GAE1BT,EAAQW,+BAA+BjuB,MAAK,WAC1C9F,EAAEsf,eAAiB+iB,EAAmBjP,EAAQU,0BAKvCyO,GAAuB,SAACviC,EAAG6zB,GACtC,GAAKA,EAAL,CACA,IAAI4O,OAAUvjC,EAOd,OANA20B,EAAIpC,UAAU5oB,SAAQ,SAAAtD,IACfk9B,GAAWC,GAAoB1iC,EAAGuF,KACrCk9B,EAAUl9B,MAIPk9B,IAGIC,GAAsB,SAAC1iC,EAAG2iC,GACrC,IAAI5Q,EAAU4Q,EAAShS,QACnBloB,GAAU,EAOd,OANAspB,EAAQlpB,SAAQ,SAAAtD,GACd,GAAIkD,EAAS,CACX,IAAIhF,EAAQ8B,EAAEgH,MACd9D,EAAUlD,EAAEuC,OAAOkB,SAAShJ,EAAE+U,SAAStR,QAGpCgF,GAGI+5B,GAAyB,SAACxiC,EAAG2iC,GACxC,GAAKA,EAAL,CACA,IAAIC,OAAU1jC,EAUd,OATAyjC,EAAS5T,YAAYlmB,SAAQ,SAAAtD,GAKtBq9B,GAAWr9B,EAAEypB,UAAYhvB,EAAE+U,SAASgJ,KACvC6kB,EAAUr9B,MAGPq9B,IAGIC,GAAe,SAAC7iC,GAC3B,IAAIA,EAAE8iC,gBAAN,CACA9iC,EAAE8iC,iBAAkB,EAEpB,IAAMC,EAAoB,SAACC,GACzB,IAAIjkB,EAAQikB,EAAKA,EAAGC,MAAQ,EAC5B,OAAOjjC,EAAE8C,MAAQic,GAGnB,GAAI/e,EAAEsf,eACJ,OAAOyjB,EAAkB/iC,EAAEsf,gBAE3BpZ,GAAYlG,EAAEuf,gCACZ,kBAAMvf,EAAEyL,UAAYs3B,EAAkB/iC,EAAEsf,qBC7OzBtB,G,4DACnB4W,SAAW,G,KAEX3W,OAAS,G,KAcTqH,qBAAuB,G,KAMvBgP,aAAc,E,KAadG,YAAc,WACZ,ID2BmB7X,EAASD,EC3BxBumB,EAxCC76B,GAAOF,SAwCWwd,iBACnBud,EAAQC,eACVD,EAAQE,cDyBSxmB,ECtBC,EAAKtQ,QDsBGqQ,ECtBM,SAACtQ,GACjC,IAAIlH,EAAO,EAAKywB,cAEhBzwB,EAAKob,iBAAmB,EAAKA,iBAC3B,EAAKA,sBAAmBrhB,EAC1BiG,EAAKgF,MAAQkC,EAEb,EAAKinB,cAAe,GDoBxBzW,EAJU,yCAIID,OAAS1d,EAAW,KAC/B4d,MAAK,SAAAvb,GAAQ,OAAIA,EAASX,QAC1Bkc,MAAK,SAAAlc,GAIJ,GAAKA,EAAL,CAKA,IAAIyL,EAAQzL,EAAKwL,KAAI,SAAA7G,GACnB,OAAOxF,GAAIwF,MAEToX,GACFA,EAAOtQ,QARPqP,QAAQC,IAAI,6B,oDCtEhB,MCfK,CACL0nB,YAFuBrjC,EDgBAT,MCdRq1B,SAASxoB,KAAI,SAAA7G,GAAC,OAAIA,EAAEU,OACnCq9B,SAAWtjC,EAAEk2B,YAAcl2B,EAAEie,OAAO7R,KAAI,SAAA7G,GAAC,OAAIA,EAAEU,YAAO/G,GAHhC,IAACc,I,oCDwBvB,OAHKT,KAAKo2B,gBACRp2B,KAAKo2B,cAAgB,IAAIC,IAEpBr2B,KAAKo2B,gB,iCAKIl2B,GAChBF,KAAK+lB,qBAAqBzc,SAAQ,SAAAtD,GAAC,OAAIA,S,kCAKvC,OAAOhG,KAAK+0B,a,aAEE70B,GACdF,KAAK+0B,YAAc70B,EAEnBF,KAAKq2B,cAAckB,UAAU9hB,YADzBvV,EACuCse,EAEEA,M,KEjCpChe,GAAM,SAACqzB,GAClB,IAAInzB,EAAK,IAAI4tB,GAQb,OAPA5tB,EAAG0C,QAAUywB,EHwFU,SAAC9R,EAAW3E,GACnC,GAAK2E,EAAL,CACA,IAAIpf,EAAG,yDAAqDof,GAC5DzE,EAAQ3a,GAAK4a,MAAK,SAAAvb,GAAQ,OAAIA,EAASX,QACpCkc,MAAK,SAAAlc,GACJ,IAAIyL,OAAQnN,EAINmN,EAHDzL,EAGSA,EAAKwL,KAAI,SAAA7G,GAAC,OAAIxF,GAAIwF,MAFtB,GAINoX,GACFA,EAAOtQ,OGjGbk3B,CADgBtjC,EAAGqhB,WACe,SAACjV,GACjCpM,EAAGkK,MAAQkC,KAGNpM,GAGI46B,GAAa,SAAC76B,GACzB,IAAIC,EAAK,IAAIq5B,GAoCb,OAlCAr5B,EAAG25B,WAAa55B,EAAEmK,MAClBlK,EAAGmG,QAAU,CACX6zB,GAAY,4BAAgB,CAAC,OAAQ,eACnC,CACEjC,GAAeJ,IAAa,SAAC3Y,EAAKlU,GAAN,OAAeA,EAAKw2B,KAAKr+B,gBACpDjD,GAELg6B,GAAY,qBAAY,CAAC,OAAQ,YAC/B,CACEjC,GAAeJ,IAAa,SAAC3Y,EAAKlU,GAAN,OAAeA,EAAKw2B,KAAKn+B,aACpDnD,GAELg6B,GAAY,+BAAc,CAAC,OAAQ,YACjC,CACEjC,GAAeJ,IAAa,SAAC3Y,EAAKlU,GAAN,OAAeA,EAAKw2B,KAAKj+B,aACpDrD,GAELg6B,GAAY,4BAAc,CAAC,SAAU,KAAMh6B,GAE3Cg6B,GAAwBh6B,IAG1BA,EAAG05B,gBAAkB,WACnB,OHhB+B,SAACvG,GAClC,IAAInzB,EAAK,IAAIugC,GAEbvgC,EAAG8C,KI/Ba,KJgChB9C,EAAGkD,SAAW09B,EACd5gC,EAAGshC,KAAO,GACVthC,EAAGqhB,UAAY8R,EAAQntB,IAEvB,IAAMu9B,EAAmB,SAACC,GACxBxjC,EAAGmhC,YAAcqC,EAAUx9B,IAE3B,IAAIy9B,EAAiBD,EAAUE,eAC1BD,EAMHzjC,EAAGohC,mBAAqBqC,EAAez9B,IALvCw9B,EAAUG,6BAA6B99B,MAAK,WAC1C49B,EAAiBD,EAAUE,eAC3B1jC,EAAGohC,mBAAqBqC,EAAez9B,QAOzC49B,EAAiBzQ,EAAQtF,eAW7B,OAVK+V,EAOHL,EAAiBK,GANjBzQ,EAAQ0Q,8BACLh+B,MAAK,WACJ+9B,EAAiBzQ,EAAQtF,eACzB0V,EAAiBK,MAMhB5jC,EGjBEsjC,CAAiCvjC,EAAE2C,UAG5C1C,EAAG+5B,WAAa,SAACjvB,GACfA,EAAK+Y,eAGP7jB,EAAG85B,aAAe,SAAChvB,GACjBA,EAAKi2B,kBAGA/gC,GExDY4tB,G,iDAYnBxhB,MAAQ,G,oDATN,OAAO9M,KAAK6zB,S,aAEF3zB,GACVF,KAAK6zB,QAAU3zB,EACfF,KAAK+hB,UAAY7hB,EAAEwG,M,4BAOnB,OAAO1G,KAAK8M,O,aAEJ5M,GACRF,KAAK8M,MAAQ5M,EACbF,KAAK+5B,QAAQM,WAAan6B,I,8BAQ1B,OAHKF,KAAKq7B,UACRr7B,KAAKq7B,QAAUpxB,GAAgBjK,OAE1BA,KAAKq7B,Y,KC3BKh4B,G,iDAUnBmhC,4BAA8B,G,8DAP5B,OAAOxkC,KAAKykC,mB,aAEQvkC,GACpBF,KAAKykC,kBAAoBvkC,EACzBF,KAAK0iC,oBAAsBxiC,EAAE2M,KAAI,SAAA7G,GAAC,OAAIA,EAAEU,S,yCAKjBxG,GACvBF,KAAKwkC,4BAA4Bl7B,SAAQ,SAAAtD,GAAC,OAAIA,W,KCXrCxF,GAAM,SAACC,EAAGmF,GACrB,GAAKnF,EAAL,CAEA,IAAIC,EAAK,IAAI2C,GAYb,OAVA3C,EAAGgG,IAAMjG,EAAEiG,IACXhG,EAAGyD,KAAO1D,EAAEihB,KACZhhB,EAAGwhB,YAAczhB,EAAEmhB,YACnBlhB,EAAGkG,KAAOhB,EAEV8+B,GAAwBjkC,EAAEiG,KAAK,SAACrF,GAC9BX,EAAGikC,kBAAoBtjC,EACvBX,EAAGkkC,sBAAuB,KAGrBlkC,IAaIgkC,GAA0B,SAACG,EAASznB,GAC/C,IAAIza,EAAG,0DAAsDkiC,GAC7DvnB,EAAQ3a,GAAK4a,MAAK,SAAAvb,GAAQ,OAAIA,EAASX,QACpCkc,MAAK,SAAAlc,GACA+b,GACFA,EAAO/b,OC/BF4yB,GAAb,4DAOElO,qBAAuB,GAPzB,KAqBE5f,IAAM,SAACqF,GACL,EAAKZ,MAAMrE,KAAKiF,GACZ,EAAK0a,OACP,EAAKA,MAAM1a,IAxBjB,KA4BEsiB,eAAiB,WACf,IAAIzQ,EAAU,EAAKmE,MAAMzU,QAGHuQ,EAAA,UAFf,oCAEe,aAA2BD,GAEvCE,MAAK,SAAAvb,GAAQ,OAAIA,EAASX,QACjCkc,MAAK,SAAAlc,GACJ,IAAImK,EAAOC,GAAapK,EAAM,GAC9B,EAAK8E,IAAIqF,GACTrJ,IAAQF,QAAQ,mCAIpB,IAAI6iC,EAAiB,SAACZ,GAAD,OAAeA,EAAUvW,cAE1CkG,EAAU,EAAKzwB,QACfkhC,EAAiBzQ,EAAQtF,eACxB+V,EAMHQ,EAAeR,GALfzQ,EAAQ0Q,8BAA8Bh+B,MAAK,WACzC+9B,EAAiBzQ,EAAQtF,eACzBuW,EAAeR,OAjDvB,oDAEI,OAAOtkC,KAAK4G,OAFhB,iCASoB1G,GAChBF,KAAK+lB,qBAAqBzc,SAAQ,SAAAtD,GAAC,OAAIA,SAV3C,4BAkBI,OAHKhG,KAAKyQ,QACRzQ,KAAKyQ,MAAQxG,GAAcjK,OAEtBA,KAAKyQ,UAlBhB,KCLqBs0B,G,gGAMjB,MAAO,CACLhjB,UALc/hB,KAAK4G,KAAKA,KAAKF,IAKlBgb,KAJF1hB,KAAKmE,KAIGyd,YAHD5hB,KAAKkiB,iB,KCAd1hB,GAAM,SAACqzB,GAClB,IAAInzB,EAAK,IAAIuzB,GAQb,OAPAvzB,EAAGkG,KAAOitB,EHegB,SAAC9R,EAAW3E,GACtC,IAAIza,EAAG,2DAAuDof,GAC9DzE,EAAQ3a,GAAK4a,MAAK,SAAAvb,GAAQ,OAAIA,EAASX,QACpCkc,MAAK,SAAAlc,GACA+b,GACFA,EAAO/b,MGlBb2jC,CAAuBnR,EAAQntB,KAAK,SAACrF,GACnCX,EAAGkK,MAAQvJ,EAAKwL,KAAI,SAAA7G,GAAC,OAAIg/B,GAAch/B,EAAGtF,MAC1CA,EAAGqzB,cAAe,KAGbrzB,GAGI+oB,GAAW,SAAChpB,GACvB,OCfiB,SAACmF,GAClB,IAAIlF,EAAK,IAAIqkC,GAKb,OAJArkC,EAAGkG,KAAOhB,EACVlF,EAAGyD,KAAO,YACVzD,EAAGwhB,YAAc,kCAEVxhB,EDSAukC,CAAcxkC,IEbVykC,GAAb,4DAaEv6B,OAAS,WACP,EAAK/D,KAAK4oB,YAAYtpB,OAAO,EAAK2E,MAAO,IAd7C,KA6BEgW,gCAAkC,GA7BpC,+CAMI,OAHK7gB,KAAK0G,MACR1G,KAAK0G,IAAMC,MAEN3G,KAAK0G,MANhB,4BAUI,OAAO1G,KAAK4G,KAAK4oB,YAAY1oB,QAAQ9G,QAVzC,8BAkBI,MAAO,CACLmlC,OAASnlC,KAAK6vB,OAAS7vB,KAAK6vB,OAAS,GACrCH,QAAS1vB,KAAKyvB,WApBpB,4BAyBI,OAAOzvB,KAAK6vB,OAAO3f,SAzBvB,0CA+BI,OAAOlQ,KAAKolC,qBA/BhB,aAiC0BllC,GACtBF,KAAKolC,oBAAsBllC,EAC3BF,KAAK6gB,gCAAgCvX,SAAQ,SAAAtD,GAAC,OAAIA,EAAEzC,aAnCxD,uCAwC0B,IAAD,OACjB6B,EAAMpF,KAAK4G,KAAKgpB,iBAOpB,OANKxqB,GAAQpF,KAAKqlC,yBAChBrlC,KAAKqlC,wBAAyB,EAC9BrlC,KAAKshB,QAAQyO,4BAA4BxpB,MAAK,WAC5C,EAAK++B,qBAAsB,MAGxBlgC,IAhDX,8BAoDI,OAAOpF,KAAK4G,KAAK0a,UApDrB,kCAuDoB,IAAD,OACf,OAAOthB,KAAK6vB,OAAOhjB,KAAI,SAAA7G,GAAC,OAAI,EAAK4pB,iBAAiB9oB,QAAQd,QAxD9D,+BA6DI,OADWhG,KAAK4vB,iBACJnrB,KAAK8gC,IAAI13B,MAAMpJ,KAAMzE,KAAKwlC,gBA7D1C,+BAkEI,OADWxlC,KAAK4vB,iBACJnrB,KAAKghC,IAAI53B,MAAMpJ,KAAMzE,KAAKwlC,gBAlE1C,kCAsEI,GAAKxlC,KAAK4vB,iBACV,MAAM,QAAN,OAAe5vB,KAAK0lC,SAApB,cAAkC1lC,KAAK2lC,SAAvC,aAAoD3lC,KAAK0jC,MAAzD,OAvEJ,sCA2EI,GAAK1jC,KAAKkiB,YACV,MAAM,GAAN,OAAUliB,KAAK4G,KAAKg/B,kBAApB,aAA0C5lC,KAAKkiB,YAA/C,OA5EJ,8BAoFI,OAHKliB,KAAK0vB,UACR1vB,KAAK0vB,QAAUzlB,GAAuBjK,OAEjCA,KAAK0vB,SApFhB,aAqFgBxvB,GACZF,KAAK0vB,QAAUxvB,MAtFnB,KCDaM,GAAM,SAACa,EAAMuE,GACxB,IAAIlF,EAAK,IAAIwkC,GAUb,OARItlB,MAAMC,QAAQxe,GAChBX,EAAGmvB,OAASxuB,GAEZX,EAAGmvB,OAASxuB,EAAK8jC,OACjBzkC,EAAG+uB,QAAUpuB,EAAKquB,SAGpBhvB,EAAGkG,KAAOhB,EACHlF,GAGI2qB,GAAa,SAACzlB,GACzB,IAAIlF,EAAK,IAAIwkC,GAEb,OADAxkC,EAAGkG,KAAOhB,EACHlF,GAII2vB,GAAoB,SAAC5vB,GAChC,GAAIA,EAAEovB,QAA8B,IAApBpvB,EAAEovB,OAAO3f,OACvB,OAAOzP,EAAEovB,OAAO,ICxBPgW,GAAb,4DAaEl7B,OAAS,WACP,EAAK/D,KAAKwqB,QAAQlrB,OAAO,EAAK2E,MAAO,IAdzC,KAiBEtC,OAAS,CAAE,YAjBb,KAmBE8oB,SAAW,WACT,IAAI7lB,OAAO7L,EAEX,OADA,EAAK4I,OAAOhC,KAAKiF,GACVA,GAtBX,+CAMI,OAHKxL,KAAK0G,MACR1G,KAAK0G,IAAMC,MAEN3G,KAAK0G,MANhB,4BAUI,OAAO1G,KAAK4G,KAAKwqB,QAAQtqB,QAAQ9G,QAVrC,4BA8BI,OAHKA,KAAKkE,QACRlE,KAAKkE,MAAQlE,KAAKyxB,iBAAiB,IAE9BzxB,KAAKkE,OA9BhB,aA+BchE,GACVF,KAAKkE,MAAQhE,IAhCjB,uCAoCI,OAAOF,KAAK4G,KAAK2qB,yBApCrB,8BA4CI,MAJU,CACRrtB,MAAQlE,KAAKgN,MACbxE,OAASxI,KAAKuI,OAAOU,QAAO,SAAAjD,GAAC,OAAIA,GAAkB,IAAbA,EAAEkK,aA1C9C,kCAgDI,IAAI9K,EAAOpF,KAAKuI,OAAOkO,QAAO,SAAClU,EAAEmU,EAAE3B,EAAE+wB,GAKnC,OAJuB,IAAnBA,EAAIh/B,QAAQ4P,KACdnU,GAAK,MAEPA,GAAKmU,IAEJ,IAEH,MAAM,GAAN,OAAU1W,KAAKgN,MAAf,aAAyB5H,OAxD7B,KCQaimB,GAAa,SAACzlB,GACzB,IAAIlF,EAAK,IAAImlC,GAEb,OADAnlC,EAAGkG,KAAOhB,EACHlF,GCRIqlC,GAAb,4DASE5hC,KAAO,iBATT,KAeEwG,OAAS,WACP,EAAK/D,KAAKsrB,UAAUhsB,OAAO,EAAK2E,MAAO,IAhB3C,KA2CEynB,cAAgB,WACd,IAAI9mB,EAAO+mB,GAA0B,GAErC,OADA,EAAK/C,YAAYjpB,KAAKiF,GACfA,GA9CX,KA4DEinB,UAAY,WACV,IAAIjnB,EAAOuC,GAAsB,GAEjC,OADA,EAAKqjB,QAAQ7qB,KAAKiF,GACXA,GA/DX,+CAMI,OAHKxL,KAAK0G,MACR1G,KAAK0G,IAAMC,MAEN3G,KAAK0G,MANhB,4BAYI,OAAO1G,KAAK4G,KAAKsrB,UAAUprB,QAAQ9G,QAZvC,6CAoBI,OAAOA,KAAK4G,KAAK2qB,yBApBrB,8BAyBI,OAAOvxB,KAAK4G,KAAK0a,UAzBrB,uCA8BI,OAAOthB,KAAK4G,KAAKgpB,mBA9BrB,kCAsCI,OAHK5vB,KAAKugB,cACRvgB,KAAKugB,YAActW,GAAoBjK,OAElCA,KAAKugB,aAtChB,aAuCoBrgB,GAChBF,KAAKugB,YAAcrgB,IAxCvB,8BAuDI,OAHKF,KAAKwyB,UACRxyB,KAAKwyB,QAAUvoB,GAAgBjK,OAE1BA,KAAKwyB,SAvDhB,aAwDgBtyB,GACZF,KAAKwyB,QAAUtyB,IAzDnB,wCA0EI,OAPUF,KAAKoxB,QAAQ3a,QAAO,SAAClU,EAAEmU,EAAE3B,EAAE+wB,GAKnC,OAJuB,IAAnBA,EAAIh/B,QAAQ4P,KACdnU,GAAK,MAEPA,GAAKmU,EAAEwL,cAEN,MAzEP,8BAmFI,MALU,CACRR,KAAM1hB,KAAKmE,KACXoc,YAAcvgB,KAAKwvB,YAAY3iB,KAAI,SAAA7G,GAAC,OAAIA,EAAE+G,WAAS9D,QAAO,SAAAjD,GAAC,OAAwB,IAApBA,EAAEm/B,OAAOj1B,UACxEsiB,QAAUxyB,KAAKoxB,QAAQvkB,KAAI,SAAA7G,GAAC,OAAIA,EAAE+G,gBAjFxC,KCAavM,GAAM,SAACa,EAAMuE,GACxB,IAAIlF,EAAK,IAAIqlC,GAMb,OALArlC,EAAGyD,KAAO9C,EAAKqgB,KACfhhB,EAAG0wB,QAAU/vB,EAAKmxB,QAAQ3lB,KAAI,SAAA7G,GAAC,OFNd,SAAC3E,EAAMuE,GACxB,IAAIlF,EAAK,IAAImlC,GAIb,OAHAnlC,EAAGsM,MAAQ3L,EAAK6C,MAChBxD,EAAG6H,OAASlH,EAAKmH,OACjB9H,EAAGkG,KAAOhB,EACHlF,EEC4BqN,CAAe/H,EAAGtF,MACrDA,EAAG8uB,YAAcnuB,EAAKkf,YAAclf,EAAKkf,YAAY1T,KAAI,SAAA7G,GAAC,OAAIusB,GAAmBvsB,EAAGtF,MAC/EW,EAAK8jC,OAAOt4B,KAAI,SAAA7G,GAAC,OAAIusB,GAAmBvsB,EAAGtF,MAChDA,EAAGkG,KAAOhB,EACHlF,GAGI2qB,GAAa,SAACzlB,GACzB,IAAIlF,EAAK,IAAIqlC,GAGb,OAFArlC,EAAGyD,KAAO,YACVzD,EAAGkG,KAAOhB,EACHlF,GAIImyB,GAAiB,SAACpyB,GAC7B,MAAO,CAAE8xB,GAA0B9xB,KAGxBqyB,GAAa,SAACryB,GACzB,MAAO,CAAEsN,GAAsBtN,KClBpBulC,GAAb,4DAyBE/S,YAAc,WACZ,IAAIznB,EAAO0nB,GAAwB,GAGnC,OAFA,EAAKhB,UAAU3rB,KAAKiF,GACpBA,EAAKrH,KAAL,kBAAuBqH,EAAKX,MAAO,GAC5BW,GA7BX,oDAGI,OAAOxL,KAAK4G,OAHhB,uCAOI,OAAO5G,KAAK4G,KAAKgpB,mBAPrB,gCAgBI,OAHK5vB,KAAKgzB,YACRhzB,KAAKgzB,UAAY/oB,GAAkBjK,OAE9BA,KAAKgzB,WAhBhB,aAiBkB9yB,GACdF,KAAKgzB,UAAY9yB,IAlBrB,6CAsBI,OAAOF,KAAK4G,KAAK2qB,yBAtBrB,8BAiCI,MAAO,CACLyB,UAAYhzB,KAAKkyB,UAAUrlB,KAAI,SAAA7G,GAAC,OAAIA,EAAE+G,gBAlC5C,KCWa2mB,GAAe,SAACjzB,GAC3B,MAAO,CAAEyyB,GAAwBzyB,K,SCnBtB8zB,GAAb,4MASEX,KAAO,WACL3pB,GAAA,kBAVJ,EAwBE8lB,4BAA8B,GAxBhC,qEAMI,OAHK/vB,KAAKimC,yBACRjmC,KAAKimC,uBAAyBh8B,MAEzBjK,KAAKimC,yBANhB,uCAkBI,OAHKjmC,KAAKkmC,mBACRlmC,KAAKkmC,iBAAmBj8B,GAAyBjK,OAE5CA,KAAKkmC,kBAlBhB,aAmByBhmC,GACrBF,KAAKkmC,iBAAmBhmC,EACxBF,KAAKslC,qBAAsB,IArB/B,wCA0B0BplC,GACtBF,KAAK+vB,4BAA4BzmB,SAAQ,SAAAtD,GAAC,OAAIA,WA3BlD,GAAyCsb,ICU5B9gB,GAAM,SAACa,EAAMwyB,EAASsS,GACjC,IAAIzlC,EAAK,IAAI6zB,GAUb,OARA7zB,EAAGgG,IAAMrF,EAAKqF,IACdhG,EAAGyD,KAAO9C,EAAKqgB,KACfhhB,EAAGwhB,YAAc7gB,EAAKugB,YACtBlhB,EAAGuhB,YAAc5gB,EAAK2gB,YACtBthB,EAAGyhB,KFZc,SAAC9gB,EAAMuE,GACxB,IAAIlF,EAAK,IAAIslC,GAGb,OAFAtlC,EAAGwxB,UAAY7wB,EAAK2xB,UAAUnmB,KAAI,SAAA7G,GAAC,OAAIktB,GAAiBltB,EAAGtF,MAC3DA,EAAGkG,KAAOhB,EACHlF,EEQGoiB,CAAazhB,EAAKA,KAAMX,GAClCA,EAAG0C,QAAUywB,EACbnzB,EAAG2C,MAAQ8iC,EAEJzlC,GAGI0lC,GAAU,SAACvS,GACtB,IAAInzB,EAAK,IAAI6zB,GAQb,OANA7zB,EAAGyD,KAAO,0BACVzD,EAAGwhB,YAAc,wCACjBxhB,EAAGuhB,Y3H7BuB,e2H8B1BvhB,EAAGyhB,KFlBkB,SAACvc,GACtB,IAAIlF,EAAK,IAAIslC,GAEb,OADAtlC,EAAGkG,KAAOhB,EACHlF,EEeGoiB,CAAiBpiB,GAC3BA,EAAG0C,QAAUywB,EAENnzB,GAuBI2lC,GAA4B,WACvC,OAAOC,MAIIC,GAAe,SAAC9lC,GAC3B,IAAIiG,EAAMjG,EAAEiG,IACR2W,EAAU5c,EAAEsM,QAGZpK,EAAG,wCADM,MAGTyhB,IAAQ1d,GACU0d,EACnB9G,EAAA,UAAW3a,EAAX,SAAuB0a,GAAWC,EAAA,UAAY3a,EAAZ,QAAuB0a,IAElDE,MAAK,SAAAvb,GAAQ,OAAIA,EAASX,QACjCkc,MAAK,SAAAlc,GACA+iB,IAAO3jB,EAAEiG,IAAMrF,EAAKqF,KACxBvE,IAAQF,QAAQ,iCAITqjC,GAAsB,SAAC7kC,GAClC,IAAI+lC,EAAa/lC,EAAE2C,QAAQorB,WAErBiY,EAAgB,SAAC35B,GACrB,OAAOA,EAAMD,KAAI,SAAA7G,GAAC,OAAIA,EAAE7B,SAG1B,GAAIqiC,EAAW57B,MACb,OAAO67B,IAEPD,EAAWzgB,qBAAqBxf,MAAK,WACnC9F,EAAEmvB,iBAAmB6W,EAAcD,EAAW57B,WCxF/BxH,G,iDA6BnBmhC,8BAAgC,G,KAmBhC/P,+BAAiC,G,uDA1C/B,OAHKx0B,KAAK0mC,aACR1mC,KAAK0mC,WAAaC,GAAkB3mC,OAE/BA,KAAK0mC,a,qCAQZ,OAHK1mC,KAAKquB,iBACRruB,KAAKquB,eAAiBpkB,GAAuBjK,OAExCA,KAAKquB,iB,qCAQZ,OAHKruB,KAAKskC,gBACRr6B,GAA6BjK,MAExBA,KAAKskC,gB,aAEKpkC,GACjBF,KAAKskC,eAAiBpkC,EACtBF,KAAK4mC,uBAAwB,I,4CAO7B,OAAO5mC,KAAK6mC,uB,aAEY3mC,GACxBF,KAAK6mC,sBAAwB3mC,EAC7BF,KAAKukC,8BAA8Bj7B,SAAQ,SAAAtD,GAAC,OAAIA,S,iCAQhD,OAHKhG,KAAKwmC,aACRxmC,KAAKwmC,WAAav8B,GAAmBjK,OAEhCA,KAAKwmC,a,2CAKatmC,GACzBF,KAAKw0B,+BAA+BlrB,SAAQ,SAAAtD,GAAC,OAAIA,S,0CAMxB,IAAD,OAWxB,OAVKhG,KAAKkuB,qBACHluB,KAAK8mC,kBACR9mC,KAAK8mC,iBAAkB,ED1BA,SAACjT,EAASsS,EAAO/oB,GAC9C,IAAIC,EAAU,CACZ0E,UAAY8R,EAAQntB,IACpBm+B,QAAO,OAAGsB,QAAH,IAAGA,OAAH,EAAGA,EAAOz/B,KAIf/D,EAAG,wCADM,MAGS2a,EAAA,UAAY3a,EAAZ,QAAuB0a,GAEnCE,MAAK,SAAAvb,GAAQ,OAAIA,EAASX,QACjCkc,MAAK,SAAAlc,GACJ,IAAI0lC,EAAU1lC,EAAOb,GAAIa,EAAMwyB,EAASsS,QAASxmC,EAC7CqnC,EAAWD,GAAoBX,GAAQvS,GAC3CzW,EAAO2pB,EAASC,MCYd5S,CAAiCp0B,KAAM,MAAM,SAAC+mC,EAASC,GACrD,EAAKzS,oBAAsBwS,EAC3B,EAAKrS,4BAA8BsS,EACnC,EAAK3S,wBAAyB,MAI7Br0B,KAAKkuB,qB,aAEUhuB,GACtBF,KAAKkuB,oBAAsBhuB,I,kDAQ3B,OAHKF,KAAKmuB,8BACRnuB,KAAKmuB,4BAA8BnuB,KAAKu0B,qBAEnCv0B,KAAKmuB,6B,aACoBjuB,GAChCF,KAAKmuB,4BAA8BjuB,I,0BAKnC,IAAKF,KAAK2C,IAAK,CACb,IACIyC,EAAG,UAAMsX,iBAAN,OAAwC,KAAxC,YACPtX,EAAG,UAAMA,EAAN,YAAapF,KAAK0G,KAErB1G,KAAK2C,IAAMyC,EAEb,OAAOpF,KAAK2C,Q,KChGHskC,GAAb,4DAaE5C,6BAA8B,GAbhC,KAmBE1W,WAAa,WACX1jB,GAAsB,IApB1B,2DAMI,OAHKjK,KAAKmkC,gBACRl6B,GAA6BjK,MAExBA,KAAKmkC,gBANhB,aAQqBjkC,GACjBF,KAAKmkC,eAAiBjkC,EACtBF,KAAKknC,sBAAwBhnC,IAVjC,0CAe4BA,GACxBF,KAAKqkC,6BAA6B/6B,SAAQ,SAAAtD,GAAC,OAAIA,WAhBnD,KCFamhC,GAAb,kCCGa3mC,GAAM,SAACa,GAClB,IAAIX,EAAK,IAAIymC,GAEb,OADAzmC,EAAGgG,IAAMrF,EAAKqF,IACPhG,GCFIF,GAAM,SAACa,GAClB,IAAIX,EAAK,IAAIumC,GAKb,OAJAvmC,EAAGgG,IAAMrF,EAAKqF,IACdhG,EAAGyD,KAAO9C,EAAKqgB,KACfhhB,EAAGwhB,YAAc7gB,EAAKugB,YACtBlhB,EAAG0mC,aAAe/lC,EAAKgmC,aAChB3mC,GAGI4mC,GAA0B,SAAC7mC,IDJH,SAACohC,EAAazkB,GACjD,GAAKykB,EAAL,CACA,IAAIl/B,EAAG,2DAAuDk/B,GAC9DvkB,EAAQ3a,GAAK4a,MAAK,SAAAvb,GAAQ,OAAIA,EAASX,QACpCkc,MAAK,SAAAlc,GACJ,IAAImK,EAAOnK,EAAOb,GAAIa,GAAQA,EAC9B+b,EAAO5R,OCCX+7B,CAFkB9mC,EAAEiG,KAE2B,SAAC8E,GACzCA,EAGH/K,EAAE2jC,eAAiB54B,EAFnBg8B,GAAiB/mC,OAOV+mC,GAAmB,SAAC/mC,IDNd,SAAC4c,EAASD,GAE3BE,EADO,sCACOD,GAASE,MAAK,SAAAvb,GAAQ,OAAIA,EAASX,QAC9Ckc,MAAK,SAAAlc,GACJ,IAAImK,EAAOhL,GAAIa,GACf+b,EAAO5R,MCQX+7B,CAJc,CACZ1F,YAHgBphC,EAAEiG,MAMK,SAAC+gC,GACxBhnC,EAAE2jC,eAAiBqD,MCjCVjZ,GAAb,iDAGEzI,qBAAuB,GAHzB,uDAKoB7lB,GAChBF,KAAK+lB,qBAAqBzc,SAAQ,SAAAtD,GAAC,OAAIA,WAN3C,KCAa0hC,GAAb,kCCWaC,GAAS,SAACtqB,EAASzX,EAAMwX,GAEpCE,EADU,qCACID,GAASE,MAAK,SAAAvb,GAAQ,OAAIA,EAASX,QAC9Ckc,MAAK,SAAAlc,GACCA,IAAMA,EAAO,IAClB,IAAIyL,EAAQzL,EAAKwL,KAAI,SAAA7G,GAAC,OAbT,SAAC3E,EAAMuE,GACxB,IAAIlF,EAAK,IAAIgnC,GAIb,OAHAhnC,EAAGyD,KAAO9C,EAAKqgB,KACfhhB,EAAGknC,UAAYvmC,EAAKwmC,UACpBnnC,EAAGkG,KAAOhB,EACHlF,EAQuBF,CAAIwF,EAAGJ,MAC7BwX,GACFA,EAAOtQ,OCTFtM,GAAM,SAACC,EAAGmF,GACrB,GAAKnF,EAAL,CAEA,IAAIC,EAAK,IAAI0C,GAOb,OALA1C,EAAGgG,IAAMjG,EAAEiG,IACXhG,EAAGyD,KAAO1D,EAAEihB,KACZhhB,EAAGyiB,KAAO1iB,EAAEuiB,KACZtiB,EAAGkG,KAAOhB,EAEHlF,IA2BIonC,GAAoB,SAACrnC,GAChC,OAAOsnC,GAAsBtnC,IAGlBunC,GAA0B,SAACvnC,GACtC,IAAIshB,EAAYthB,EAAEiG,KJdQ,SAACqb,EAAW3E,GACtC,GAAK2E,EAAL,CACA,IAAIpf,EAAG,yDAAqDof,GAC5DzE,EAAQ3a,GAAK4a,MAAK,SAAAvb,GAAQ,OAAIA,EAASX,QACpCkc,MAAK,SAAAlc,GACJ,IAAImK,EAAOnK,EAAOb,GAAIa,GAAQA,EAC9B+b,EAAO5R,OIUXy8B,CAA2BlmB,GAAW,SAACvW,GAChCA,EAWH/K,EAAE8tB,eAAiB/iB,EJlBN,SAAC6R,EAASD,GAE3BE,EADO,qCACOD,GAASE,MAAK,SAAAvb,GAAQ,OAAIA,EAASX,QAC9Ckc,MAAK,SAAAlc,GACJ,IAAImK,EAAOhL,GAAIa,GACf+b,EAAO5R,MISPy8B,CANc,CACZlmB,YACAL,KAAM,oDACNE,YAAa,kCACbylB,aC1Da,UD4DY,SAACI,GAC1BhnC,EAAE8tB,eAAiBkZ,SAQdS,GAAgB,SAACznC,GAC5B,OEpEiB,SAACozB,GAClB,IAAInzB,EAAK,IAAI8tB,GAQb,OAPA9tB,EAAG0C,QAAUywB,EAEbpoB,GAAgB,CAAEsW,UAAY8R,EAAQntB,KAAOhG,GAAI,SAACoM,GAChDpM,EAAGkK,MAAQkC,EAAM0N,MAAK,SAACjY,EAAEmU,GAAH,OAASnU,EAAEqlC,UAAYlxB,EAAEkxB,aAC/ClnC,EAAGqzB,cAAe,KAGbrzB,EF2DAynC,CAAkB1nC,IGrEdg8B,GAAb,WACE,aAAc,IHmBO72B,EAAMwX,EGnBd,2BHmBQxX,EGlBH5F,KHkBSod,EGlBH,SAACtQ,GACrB,EAAKlC,MAAQkC,EACb,EAAKinB,cAAe,GHkBxBzW,EADU,sCACGC,MAAK,SAAAvb,GAAQ,OAAIA,EAASX,QACpCkc,MAAK,SAAAlc,GACJ,IAAIyL,EAAQzL,EAAKwL,KAAI,SAAA7G,GAAC,OAAIxF,GAAIwF,EAAGJ,MAC7BwX,GACFA,EAAOtQ,MG1Bf,uDAUoB5M,GACZF,KAAKumB,gBACPvmB,KAAKumB,eAAermB,OAZ1B,KCAqBkoC,G,4HAA6B9mB,ICC7B+mB,G,gGAQjB,OAAOp+B,GAAgBjK,U,KCwBd0rB,GAAa,SAACjrB,GACzB,MAAO,CACL6nC,eAAiB7nC,EAAE6nB,eAAevb,QAClCw7B,aAAe9nC,EAAEkoB,mBACfloB,EAAEioB,aAAa3b,aAAUpN,ICnClBa,GAAM,SAACC,EAAGmF,GACrB,IAAIlF,EAAK,IAAI0nC,GASb,OAPA1nC,EAAGgG,IAAMjG,EAAEiG,IACXhG,EAAGyD,KAAO1D,EAAEihB,KACZhhB,EAAGwhB,YAAczhB,EAAEmhB,YACnBlhB,EAAGuhB,YAAcxhB,EAAEuhB,YACnBthB,EAAGyhB,KDJc,SAAC1hB,GAClB,IAAIC,EAAK,IAAI2nC,GAEb,OADA3nC,EAAG4nB,eAAiBva,GAAetN,EAAE6nC,gBAC9B5nC,ECCGoiB,CAAariB,EAAEY,MACzBX,EAAGkG,KAAOhB,EAEHlF,GCXY8nC,G,4DAgBnBC,QAAU,WACR,GAAI,EAAKC,UACP,OAAO,EAAKA,a,KAsBhBtkB,OAAQ,E,KAmBRG,YAAc,WACZ,IAAI7d,EAAM,EAAK+a,WACXC,EAAO,EAAKvd,KACZyd,EAAc,EAAKM,YACnBF,EAAc,EAAKC,YACnB5gB,EAAO,EAAK8gB,KAAKpV,QACjB47B,EAAS,EAAKC,UAEdvrB,EAAU,CACZ3W,MAAKgb,OAAME,cAAaI,cAAa3gB,QAEnCsB,EAAG,wCAAoCgmC,IAErBjiC,EACpB4W,EAAA,UAAW3a,EAAX,SAAuB0a,GAAWC,EAAA,UAAY3a,EAAZ,QAAuB0a,IAEjDE,MAAK,SAAAvb,GAAQ,OAAIA,EAASX,QACjCkc,MAAK,SAAAlc,GACJ,EAAKwnC,iBAAkB,EACvB,EAAKC,QAAU,EAAKC,YAAY1nC,EAAM,EAAKuF,MAC3C,EAAKA,KAAKoiC,a,iDArEd,OAHKhpC,KAAKqB,OACRrB,KAAKqB,KAAOrB,KAAKyoC,WAEZzoC,KAAKqB,M,aAELnB,GACPF,KAAKqB,KAAOnB,I,+BAYZ,OAAOF,KAAKopB,U,aAEDlpB,GACXF,KAAKopB,SAAWlpB,EAKdF,KAAKyhB,WAJFvhB,EAIeA,EAAEwG,SAHF/G,I,4BAYpB,OAAOK,KAAKokB,O,aAEJlkB,GACRF,KAAKokB,MAAQlkB,EACTA,IACFF,KAAK0mB,cAAW/mB,K,gCASlB,OAHKK,KAAKipC,YACRjpC,KAAKipC,UCvDiB,SAACxoC,GAC3B,IAAIkoC,OAAShpC,EACb,OAAQc,EAAEwhB,aACR,KAAK2P,GACH+W,EAAS,KACT,MACF,KAAK/W,GACH+W,EAAS,KACT,MACF,KAAK/W,GACH+W,EAAS,KAGb,OAAOA,ED0Cc1+B,CAAkBjK,OAE9BA,KAAKipC,Y,oCA2BM/oC,GACdF,KAAKgmB,mBACPhmB,KAAKgmB,kBAAkB9lB,O,KEpFRgpC,G,4MACnBH,YAAc,SAAC1nC,EAAMuE,GACnB,OAAOujC,GAA6B9nC,EAAMuE,I,YAFS4iC,ICA1ChoC,GAAM,SAACoF,GAClB,IAAIlF,EAAK,IAAIwoC,GAUb,OATAxoC,EAAGkG,KAAOhB,EACVlF,EAAGyD,KAAO,4BACVzD,EAAGwhB,YAAc,iCACjBxhB,EAAGuhB,YAAc2P,GAEjBlxB,EAAGgoC,UAAY,WACb,OLCsB,WACxB,IAAIhoC,EAAK,IAAI2nC,GAETe,EAAa,IAAIphC,GACrBohC,EAAW3gC,aAAeE,GAC1BygC,EAAWnhC,UAAYmB,GACvBggC,EAAW/gC,iBAAmBgB,GAC9B+/B,EAAW7gC,OAAS,CAAC,UACrB7H,EAAG4nB,eAAiB8gB,EAEpB1oC,EAAGioB,oBAAqB,EAExB,IAAI4f,EAAe,IAAIvgC,GAOvB,OANAugC,EAAa9/B,aAAeE,GAC5B4/B,EAAatgC,UAAYmB,GACzBm/B,EAAalgC,iBAAmBgB,GAChCk/B,EAAahgC,OAAS,GACtB7H,EAAGgoB,aAAe6f,EAEX7nC,EKpBEoiB,IAGFpiB,GCXIu7B,GAAb,WACE,aAAc,ILYOr2B,EAAMwX,EKZd,gCA6BbjX,IAAM,SAACqF,GACL,EAAKZ,MAAMrE,KAAKiF,GACZ,EAAK0a,OACP,EAAKA,MAAM1a,IAhCF,KAoCbw9B,OAAS,WACP,IAAIv4B,EAAQ,EAAK+Q,MAEjB,GAAK/Q,EAAM6T,MAUT,EAAKne,IAAIsK,EAAMq4B,aAVA,CACf,IAAIt9B,EAAOiF,EAAMiW,SAMjB/f,GAAwB6E,GALX,WACXA,EAAKrH,KAAOsM,EAAMtM,KAClBqH,EAAK0W,YAAczR,EAAMyR,YACzB1W,EAAK2W,KAAO1R,EAAM0R,ULhCHvc,EKXH5F,KLWSod,EKXH,SAACtQ,GACrB,EAAKlC,MAAQkC,EACb,EAAKinB,cAAe,GLWxBzW,EADU,yCACGC,MAAK,SAAAvb,GAAQ,OAAIA,EAASX,QACpCkc,MAAK,SAAAlc,GACJ,IAAIyL,EAAQzL,EAAKwL,KAAI,SAAA7G,GAAC,OAAIxF,GAAIwF,EAAGJ,MAC7BwX,GACFA,EAAOtQ,MKnBf,uDA2BI,OAAOm4B,GAAcjlC,QA3BzB,iCAUoBE,GACZF,KAAKumB,gBACPvmB,KAAKumB,eAAermB,KAZ1B,4BAuBI,OAHKF,KAAKyQ,QACRzQ,KAAKyQ,MAAQzQ,KAAKypB,YAEbzpB,KAAKyQ,UAvBhB,KCCqB44B,G,4DA+BnBtd,mBAAqB,WACnB,IAAIS,EAAY,EAAKtB,cACjB1f,EAAOshB,GAA4B,GAGvC,OAFAN,EAAUjmB,KAAKiF,GAERA,G,0DA5BP,OAHKxL,KAAKspC,gBACRtpC,KAAKspC,cAAgBr/B,GAAsBjK,OAEtCA,KAAKspC,e,aAEIppC,GAChBF,KAAKspC,cAAgBppC,EAKnBF,KAAKupC,gBAJFrpC,EAIoBA,EAAEwG,SAHF/G,I,oCAYzB,OAHKK,KAAKwpC,gBACRxpC,KAAKwpC,cAAgBv/B,GAA6BjK,OAE7CA,KAAKwpC,e,aAEItpC,GAChBF,KAAKwpC,cAAgBtpC,I,8BAYrB,OAAO+J,GAAgBjK,U,KCrCdQ,GAAM,SAACC,GAClB,IAAIC,EAAK,IAAI2oC,GAGb,OAFA3oC,EAAG6oC,gBAAkB9oC,EAAE8oC,gBACvB7oC,EAAGwqB,cAAgBzqB,EAAEgpC,eAAe58B,KAAI,SAAA7G,GAAC,OnHExB,SAACvF,EAAGmF,GACrB,IAAIlF,EAAK,IAAIuqB,GAMb,OALAvqB,EAAGopB,aAAerpB,EAAEypB,aACpBxpB,EAAGkD,SAAWnD,EAAE0c,SAChBzc,EAAG4pB,YAAcvc,GAAetN,EAAE8qB,YAAa5iB,IAC/CjI,EAAGyqB,cAAgB1qB,EAAE0qB,cACrBzqB,EAAGkG,KAAOhB,EACHlF,EmHTsCosB,CAAqB9mB,EAAGtF,MAC9DA,GAQIgpC,GAAmB,SAACjpC,GAC/B,IAAIkpC,EAAelpC,EAAE8oC,gBACrB,GAAKI,EAAL,CAEA,IAAIpkC,EAnBGuD,GAAOF,SAmBMqzB,0BAA0BrxB,MAC9C,GAAKrF,EAAL,CAEA,IAAIO,EAAQP,EAAKQ,WAAU,SAAAC,GAAC,OAAIA,EAAEU,MAAQijC,KAC1C,OAAkB,IAAX7jC,EAAeP,EAAKO,QAASnG,KAGzBiqC,GAA0B,SAACnpC,GACtC,MAAO,CAAEqsB,GAA4BrsB,KAG1BirB,GAAa,SAACjrB,GACzB,MAAO,CACL8oC,gBAAkB9oC,EAAE8oC,gBACpBE,eAAiBhpC,EAAEyqB,cAAcre,KAAI,SAAA7G,GAAC,OAAIA,EAAE+G,aCpC3B88B,G,4HAA0BvoB,ICElC9gB,GAAM,SAACC,EAAGmF,GACrB,IAAIlF,EAAK,IAAImpC,GASb,OAPAnpC,EAAGgG,IAAMjG,EAAEiG,IACXhG,EAAGyD,KAAO1D,EAAEihB,KACZhhB,EAAGwhB,YAAczhB,EAAEmhB,YACnBlhB,EAAGuhB,YAAcxhB,EAAEuhB,YACnBthB,EAAGyhB,KAAOW,GAAariB,EAAEY,MACzBX,EAAGkG,KAAOhB,EAEHlF,GCVYopC,G,4MACnBf,YAAc,SAAC1nC,EAAMuE,GACnB,OAAOmkC,GAA0B1oC,EAAMuE,I,YAFS4iC,ICAvChoC,GAAM,SAACoF,GAClB,IAAIlF,EAAK,IAAIopC,GAUb,OATAppC,EAAGkG,KAAOhB,EACVlF,EAAGyD,KAAO,sBACVzD,EAAGwhB,YAAc,oCACjBxhB,EAAGuhB,YAAc2P,GAEjBlxB,EAAGgoC,UAAY,WACb,OJIO,IAAIW,IIDN3oC,GCXI07B,GAAb,WACE,aAAc,IHYOx2B,EAAMwX,EGZd,gCA6BbjX,IAAM,SAACqF,GACL,EAAKZ,MAAMrE,KAAKiF,GACZ,EAAK0a,OACP,EAAKA,MAAM1a,IAhCF,KAoCbw9B,OAAS,WACP,IAAIv4B,EAAQ,EAAK+Q,MAEjB,GAAK/Q,EAAM6T,MAUT,EAAKne,IAAIsK,EAAMq4B,aAVA,CACf,IAAIt9B,EAAOiF,EAAMiW,SAMjB/f,GAAwB6E,GALX,WACXA,EAAKrH,KAAOsM,EAAMtM,KAClBqH,EAAK0W,YAAczR,EAAMyR,YACzB1W,EAAK2W,KAAO1R,EAAM0R,UHhCHvc,EGXH5F,KHWSod,EGXH,SAACtQ,GACrB,EAAKlC,MAAQkC,EACb,EAAKinB,cAAe,GHWxBzW,EADU,yCACGC,MAAK,SAAAvb,GAAQ,OAAIA,EAASX,QACpCkc,MAAK,SAAAlc,GACJ,IAAIyL,EAAQzL,EAAKwL,KAAI,SAAA7G,GAAC,OAAIxF,GAAIwF,EAAGJ,MAC7BwX,GACFA,EAAOtQ,MGnBf,uDA2BI,OAAOm4B,GAAcjlC,QA3BzB,iCAUoBE,GACZF,KAAKumB,gBACPvmB,KAAKumB,eAAermB,KAZ1B,4BAuBI,OAHKF,KAAKyQ,QACRzQ,KAAKyQ,MAAQzQ,KAAKypB,YAEbzpB,KAAKyQ,UAvBhB,KCDaonB,GAAb,WACE,aAAc,IlJkBOjyB,EAAMwX,EkJlBd,gCASb2I,qBAAuB,GATV,KAiBb5f,IAAM,SAACqF,GACL,EAAKZ,MAAMrE,KAAKiF,GACZ,EAAK0a,OACP,EAAKA,MAAM1a,IlJFM5F,EkJjBH5F,KlJiBSod,EkJjBH,SAACtQ,GACrB,EAAKlC,MAAQkC,EACb,EAAKinB,cAAe,GlJiBxBzW,EADU,yCACGC,MAAK,SAAAvb,GAAQ,OAAIA,EAASX,QACpCkc,MAAK,SAAAlc,GACJ,IAAIyL,EAAQzL,EAAKwL,KAAI,SAAA7G,GAAC,OAAIxF,GAAIwF,EAAGJ,MAC7BwX,GACFA,EAAOtQ,MkJzBf,uDAYoB5M,GAChBF,KAAK+lB,qBAAqBzc,SAAQ,SAAAtD,GAAC,OAAIA,WAb3C,KCFqBsW,G,kCCCAyC,G,8FAMjB,OAHK/e,KAAK8M,QACR9M,KAAK8M,MCDa,SAACrM,GACvB,IAAI8E,EAAO,GAGPiG,EAAO,IAAI8Q,GACf9Q,EAAKkI,MAAQ,UAEb,IAAIzK,EAAS,IAAIjB,GA4Hf,OA3HFiB,EAAOhB,UAAYmB,GACnBH,EAAOd,iBAAmBwB,GAC1BV,EAAOV,OAAS,CAAE,IAClBiD,EAAKgB,OAASvD,EAEd1D,EAAKgB,KAAKiF,IAGVA,EAAO,IAAI8Q,IACN5I,MAAQ,WAEbzK,EAAS,IAAIjB,IACNC,UAAYmB,GACnBH,EAAOd,iBAAmBwB,GAC1BV,EAAOa,aAAc,EACrBb,EAAOV,OAAS,CAAE,GAAM,KACxBiD,EAAKgB,OAASvD,EAEd1D,EAAKgB,KAAKiF,IAGTA,EAAO,IAAI8Q,IACN5I,MAAQ,WAEbzK,EAAS,IAAIjB,IACNC,UAAYmB,GACnBH,EAAOd,iBAAmBwB,GAC1BV,EAAOa,aAAc,EACrBb,EAAOV,OAAS,CAAE,IAAM,IACxBiD,EAAKgB,OAASvD,EAEd1D,EAAKgB,KAAKiF,IAGVA,EAAO,IAAI8Q,IACN5I,MAAQ,WAEbzK,EAAS,IAAIjB,IACNC,UAAYmB,GACnBH,EAAOd,iBAAmBwB,GAC1BV,EAAOa,aAAc,EACrBb,EAAOV,OAAS,CAAE,GAAK,KACvBiD,EAAKgB,OAASvD,EAEd1D,EAAKgB,KAAKiF,IAGVA,EAAO,IAAI8Q,IACN5I,MAAQ,WAEbzK,EAAS,IAAIjB,IACNC,UAAYmB,GACnBH,EAAOd,iBAAmBwB,GAC1BV,EAAOa,aAAc,EACrBb,EAAOV,OAAS,CAAE,IAAM,GACxBiD,EAAKgB,OAASvD,EAEd1D,EAAKgB,KAAKiF,IAGVA,EAAO,IAAI8Q,IACN5I,MAAQ,WAEbzK,EAAS,IAAIjB,IACNC,UAAYmB,GACnBH,EAAOd,iBAAmBwB,GAC1BV,EAAOc,cAAe,EACtBd,EAAOV,OAAS,CAAE,EAAG,MACrBiD,EAAKgB,OAASvD,EAEd1D,EAAKgB,KAAKiF,IAGVA,EAAO,IAAI8Q,IACN5I,MAAQ,WAEbzK,EAAS,IAAIjB,IACNC,UAAYmB,GACnBH,EAAOd,iBAAmBwB,GAC1BV,EAAOc,cAAe,EACtBd,EAAOV,OAAS,CAAE,KAAM,KACxBiD,EAAKgB,OAASvD,EAEd1D,EAAKgB,KAAKiF,IAGTA,EAAO,IAAI8Q,IACN5I,MAAQ,WAEbzK,EAAS,IAAIjB,IACNC,UAAYmB,GACnBH,EAAOd,iBAAmBwB,GAC1BV,EAAOc,cAAe,EACtBd,EAAOV,OAAS,CAAE,IAAM,MACxBiD,EAAKgB,OAASvD,EAEd1D,EAAKgB,KAAKiF,IAGVA,EAAO,IAAI8Q,IACN5I,MAAQ,WAEbzK,EAAS,IAAIjB,IACNC,UAAYmB,GACnBH,EAAOd,iBAAmBwB,GAC1BV,EAAOc,cAAe,EACtBd,EAAOV,OAAS,CAAE,KAAM,KACxBiD,EAAKgB,OAASvD,EAEd1D,EAAKgB,KAAKiF,IAGVA,EAAO,IAAI8Q,IACN5I,MAAQ,WAEbzK,EAAS,IAAIjB,IACNC,UAAYmB,GACnBH,EAAOd,iBAAmBwB,GAC1BV,EAAOV,OAAS,CAAE,KAClBiD,EAAKgB,OAASvD,EAEd1D,EAAKgB,KAAKiF,GAEHjG,EDlIQ0E,IAERjK,KAAK8M,U,KEPH8vB,GAAb,iDAGE7W,qBAAuB,GAHzB,uDAKoB7lB,GAChBF,KAAK+lB,qBAAqBzc,SAAQ,SAAAtD,GAAC,OAAIA,WAN3C,KCEawe,GAAb,4DAKEtC,YAAc,+BALhB,KAQEkC,OAAQ,EARV,KAyDEG,YAAc,WACZ,IAAI7d,EAAM,EAAKsjC,cACXhnB,EAAO,EAAKG,KACZzB,EAAO,EAAKvd,KACZyd,EAAc,EAAKM,YACnB+nB,EAAQ,EAAKC,MAEb7sB,EAAU,CACZ3W,MAAKgb,OAAMsB,OAAMpB,cAAaqoB,SAG5BtnC,EAAM,kCAEc+D,EACtB4W,EAAA,UAAW3a,EAAX,SAAuB0a,GAAWC,EAAA,UAAY3a,EAAZ,QAAuB0a,IAEjDE,MAAK,SAAAvb,GAAQ,OAAIA,EAASX,QACjCkc,MAAK,SAAAlc,GACJ,EAAKwnC,iBAAkB,EACvB,EAAKsB,eAAiBC,GAAoB/oC,EAAM,EAAKuF,MACrD,EAAKA,KAAKoiC,aA7ElB,kDAUI,OAAOhpC,KAAKokB,OAVhB,aAYYlkB,GACRF,KAAKokB,MAAQlkB,EACTA,IACFF,KAAKsD,iBAAc3D,KAfzB,kCAqBI,OAAOK,KAAK8qB,aArBhB,aAuBkB5qB,GACdF,KAAK8qB,YAAc5qB,EAKjBF,KAAKgqC,cAJF9pC,EAIkBA,EAAEwG,SAHF/G,IA1B3B,8BAqCI,OAAOK,KAAK8N,SArChB,aAuCc5N,GACVF,KAAK8N,QAAU5N,EAKbF,KAAKkqC,MAJFhqC,EAIUA,EAAEwG,SAHF/G,IA1CnB,oCAmDsBO,GACdF,KAAKgmB,mBACPhmB,KAAKgmB,kBAAkB9lB,OArD7B,KCCakmB,GAAb,WACE,aAAe,IAAD,gCA0BdjgB,IAAM,SAACqF,GACL,EAAKigB,aAAallB,KAAKiF,GACnB,EAAK0a,OACP,EAAKA,MAAM1a,IA7BD,KAiCdw9B,OAAS,WACP,IAAIv4B,EAAQ,EAAK+T,iBACb6lB,EAAK55B,EAAMnN,YAEf,GAAKmN,EAAM6T,MAUT,EAAKne,IAAIsK,EAAM05B,oBAVA,CAOfxjC,GAAwB0jC,GANX,WACXA,EAAGlnB,KAAO1S,EAAM0S,KAChBknB,EAAGlmC,KAAOsM,EAAMtM,KAChBkmC,EAAGnoB,YAAczR,EAAMyR,YACvBmoB,EAAGjmC,SAAWimC,EAAGC,iBAQrB,EAAK1G,eAAgB,GAlDT,KAuDdC,YAAc,WACZ,EAAKpY,aAAaniB,SAAQ,SAAAtD,GACxBA,EAAE6N,cAAWlU,EACbqG,EAAEukC,eAAY5qC,EACdqG,EAAEwkC,eAAY7qC,EACdqG,EAAEsO,UAAO3U,KAGX,EAAKikC,eAAgB,GA9DrBwG,GAAuBpqC,MAAM,SAACyqC,GAC5B,EAAKhf,aAAegf,EACpB,EAAKC,qBAAsB,KAJjC,8DAU0BxqC,GAClBF,KAAK47B,uBACP57B,KAAK47B,sBAAsB17B,KAZjC,uCAoBSF,KAAK2qC,oBACE3qC,KAAK2qC,iBAAmB,IAAInmB,IAClC5d,KAAO5G,MAEb,OAAOA,KAAK2qC,qBAxBhB,KCKaC,GAAsB,SAACvpC,GAClC,M9LNO,CAAEkG,GAAUC,K8LSRqjC,GAAuB,SAACxpC,GACnC,M7LTO,CAAEoG,GAASC,GAAWC,K6LYlBmjC,GAAwB,SAACzpC,GACpC,MjIbO,CAAC+pB,GAJgB,aACH,YiI2BV2f,GAAuB,SAAC1pC,GACnC,M5J1BO,CAJiB,aAIHohB,K4J6BVuoB,GAAoB,SAAC3pC,GAChC,MrMlBO,CAACuC,EAAUC,EAAUC,EAAOC,KqMqBxBknC,GAAe,SAAC5pC,GAC3B,MtMjCO,CAAE4B,EAAUC,EAAUC,IuMOlB2F,GAAb,WACE,aAAe,yBAmJfoiC,YAAc,GApJhB,yDAcI,OAAOjkC,GAAa2B,WAdxB,uCAsBI,OAHK5I,KAAKmrC,mBACRnrC,KAAKmrC,iBAAmB,IAAI/kB,IAEvBpmB,KAAKmrC,mBAtBhB,gDA8BI,OAHKnrC,KAAKorC,4BACRprC,KAAKorC,0BAA4B,IAAInP,IAEhCj8B,KAAKorC,4BA9BhB,6CAsCI,OAHKprC,KAAKqrC,yBACRrrC,KAAKqrC,uBAAyB,IAAIjP,IAE7Bp8B,KAAKqrC,yBAtChB,4CA8CI,OAHKrrC,KAAKsrC,wBACRtrC,KAAKsrC,sBAAwB,IAAIzT,IAE5B73B,KAAKsrC,wBA9ChB,mCAsDI,OAHKtrC,KAAKurC,eACRvrC,KAAKurC,aAAe,IAAI9O,IAEnBz8B,KAAKurC,eAtDhB,qCA8DI,OAHKvrC,KAAKwrC,iBACRxrC,KAAKwrC,eAAiB,IAAI/sB,IAErBze,KAAKwrC,gBA9DhB,aAgEqBtrC,GACjBF,KAAKwrC,eAAiBtrC,IAjE1B,uCAyEI,OAHKF,KAAKo9B,mBACRp9B,KAAKo9B,iBAAmBnzB,MAEnBjK,KAAKo9B,mBAzEhB,wCAiFI,OAHKp9B,KAAKq9B,oBACRr9B,KAAKq9B,kBAAoBpzB,MAEpBjK,KAAKq9B,oBAjFhB,yCAyFI,OAHKr9B,KAAKs9B,qBACRt9B,KAAKs9B,mBAAqBrzB,MAErBjK,KAAKs9B,qBAzFhB,oCAiGI,OAHKt9B,KAAKkH,gBACRlH,KAAKkH,cAAgBlH,KAAKyrC,aAAa5iC,eAElC7I,KAAKkH,gBAjGhB,qCAyGI,OAHKlH,KAAKu9B,iBACRv9B,KAAKu9B,eDzFF,CAAC,SAAU,sBC2FTv9B,KAAKu9B,iBAzGhB,wCAiHI,OAHKv9B,KAAKw9B,oBACRx9B,KAAKw9B,kBAAoBvzB,MAEpBjK,KAAKw9B,oBAjHhB,qCAyHI,OAHKx9B,KAAK0rC,iBACR1rC,KAAK0rC,eAAiBzhC,MAEjBjK,KAAK0rC,iBAzHhB,gCAiII,OAHK1rC,KAAKy9B,YACRz9B,KAAKy9B,UAAYxzB,MAEZjK,KAAKy9B,YAjIhB,4CAyII,OAHKz9B,KAAK2rC,wBACR3rC,KAAK2rC,sBAAwB,IAAI5sB,IAE5B/e,KAAK2rC,wBAzIhB,iDAiJI,OAHK3rC,KAAK09B,6BACR19B,KAAK09B,2BAA6B,IAAId,IAEjC58B,KAAK09B,8BAjJhB,gCAUI,OAHK19B,KAAKmH,WACRnH,KAAKmH,SAAW,IAAI2B,GAEf9I,KAAKmH,aAVhB,KCRa7D,GAAb,4DAgHEgnC,YAAc,WACZ,MAAM,GAAN,OAAU,EAAKnnB,KAAf,cAAyB,EAAKhf,OAjHlC,KAoHEwG,OAAS,WAAO,IACRjE,EAAQ,EAARA,IAIN4W,EADU,wCAFI,CAAE5W,QAGM6W,MAAK,SAAAvb,GAAQ,OAAIA,EAASX,QAC7Ckc,MAAK,SAAAlc,GAAI,OAAIc,IAAQF,QAAQ,sCAEhC,IAAI2D,EAAO,EAAKgB,KAChBhB,EAAK6lB,aAAavlB,OAAO,EAAK2E,MAAO,GACjC,EAAK0W,UACP,EAAKA,WAGP3b,EAAKg+B,eAAgB,GAlIzB,kDAEI,OAAO5jC,KAAK4G,KAAK6kB,aAAa3kB,QAAQ9G,QAF1C,8BAcI,OAHKA,KAAK8N,UACR9N,KAAK8N,QAAU7D,GAAgBjK,OAE1BA,KAAK8N,UAdhB,2BAmBI,OAAO9N,KAAKgjB,MAnBhB,aAqBW9iB,GACPF,KAAKgjB,KAAO9iB,EACRF,KAAKujB,eACPvjB,KAAKujB,cAAcrjB,KAxBzB,2BA8BI,OAAOF,KAAK0hB,MA9BhB,aAgCWxhB,GACPF,KAAK0hB,KAAOxhB,EACRF,KAAK2hB,eACP3hB,KAAK2hB,cAAczhB,KAnCzB,kCAyCI,OAAOF,KAAK4hB,aAzChB,aA2CkB1hB,GACdF,KAAK4hB,YAAc1hB,EACfF,KAAK6hB,sBACP7hB,KAAK6hB,qBAAqB3hB,KA9ChC,+BAuDI,OAHKF,KAAKijB,WACRjjB,KAAKijB,SAAWjjB,KAAKsqC,eAEhBtqC,KAAKijB,UAvDhB,aAyDe/iB,GACXF,KAAKijB,SAAW/iB,EACZF,KAAKwjB,mBACPxjB,KAAKwjB,kBAAkBtjB,KA5D7B,+BAqEI,OAHKF,KAAK4a,WACR5a,KAAK4a,SAAW3Q,GAAiBjK,OAE5BA,KAAK4a,UArEhB,aAuEe1a,GACXF,KAAK4a,SAAW1a,IAxEpB,gCAgFI,OAHKF,KAAK4rC,YACR5rC,KAAK4rC,UAAY3hC,GAAkBjK,OAE9BA,KAAK4rC,WAhFhB,aAkFgB1rC,GACZF,KAAK4rC,UAAY1rC,IAnFrB,gCA2FI,OAHKF,KAAK6rC,YACR7rC,KAAK6rC,UAAY5hC,GAAkBjK,OAE9BA,KAAK6rC,WA3FhB,aA6FgB3rC,GACZF,KAAK6rC,UAAY3rC,IA9FrB,2BAsGI,OAHKF,KAAK+T,OACR/T,KAAK+T,KAAO9J,GAAajK,OAEpBA,KAAK+T,MAtGhB,aAwGW7T,GACPF,KAAK+T,KAAO7T,IAzGhB,+BA6GI,OAAOF,KAAKwqC,UAAU39B,KAAI,SAAA7G,GAAC,OAAIA,EAAEU,WA7GrC,KCAa4X,GAAS,WACpB,OAAOxV,GAAOF,UAGHpI,GAAM,SAACsrC,EAAQlmC,GAAU,IAC9Bc,EAAwColC,EAAxCplC,IAAKgb,EAAmCoqB,EAAnCpqB,KAAMsB,EAA6B8oB,EAA7B9oB,KAAMpB,EAAuBkqB,EAAvBlqB,YAAaqoB,EAAU6B,EAAV7B,MAEhCvpC,EAAK,IAAI4C,GAQb,OAPA5C,EAAGgG,IAAMA,EACThG,EAAGyD,KAAOud,EACVhhB,EAAGyiB,KAAOH,EACVtiB,EAAGwhB,YAAcN,EACjBlhB,EAAGwpC,MAAQD,EACXvpC,EAAGkG,KAAOhB,EAEHlF,GAGI+iB,GAAa,SAAChjB,GACzB,IAAIwpC,EAAQxpC,EAAEypC,MACV3kC,EAAO+Y,KAAS8H,iBAAiBqF,aACjC3lB,EAAQP,EAAKQ,WAAU,SAAAC,GAAC,OAAIA,EAAEU,MAAQujC,KAC1C,OAAkB,IAAXnkC,EAAeP,EAAKO,QAASnG,GAGzBosC,GAAc,SAACtrC,GAC1B,IAAI0K,EAAK1K,EAAEiG,IAEX,OADW4X,KAAS8H,iBAAiBqF,aACzBxiB,QAAO,SAAAjD,GAAC,OAAIA,IAAMvF,GAAKuF,EAAEkkC,QAAU/+B,MAGpC6gC,GAAe,SAACvrC,GAC3B,IAAIqN,EAAUrN,EAAEuN,QAChB,GAAKF,EAEA,CACH,IAAIvI,EAAI,YAAOuI,EAAQy8B,WAEvB,OADAhlC,EAAKgB,KAAK9F,GACH8E,EAJP,MAAO,CAAC9E,IAQCwrC,GAAe,SAACxrC,GAC3B,IAAI8E,EAAO,CAAC9E,GAIZ,OAHAA,EAAEoT,SAASvK,SAAQ,SAACtD,EAAG+O,GACrBxP,EAAKgB,KAAKsH,MAAMtI,EAAMS,EAAEwkC,cAEnBjlC,GAGIwU,GAAU,SAACtZ,GACtB,IAAIqN,EAAUrN,EAAEuN,QAChB,OAAOF,EAAUA,EAAQwG,KAAM,EAAI,GAGxBqzB,GAAS,SAAC/hC,EAAMwX,GAE3BE,EADU,uCACGC,MAAK,SAAAvb,GAAQ,OAAIA,EAASX,QACpCkc,MAAK,SAAAlc,GACJ,IAAIopC,EAAMppC,EAAKwL,KAAI,SAAA7G,GAAC,OAAIxF,GAAIwF,EAAGJ,MAC3BwX,GACFA,EAAOqtB,OC7DF7mB,GAAb,WACE,aAAe,IAAD,gCAMdmC,qBAAuB,GANT,KAqBdmmB,oBAAiBvsC,EArBH,KA6CdwG,IAAM,SAAC6lB,GACL,EAAK9I,eAAe3c,KAAKylB,GACrB,EAAK9F,OACP,EAAKA,MAAM8F,IA/CbjsB,YAAeC,KAAM,CACnBksC,eAAgBjsC,MAHtB,uDASoBC,GAChBF,KAAK+lB,qBAAqBzc,SAAQ,SAAAtD,GAAC,OAAIA,SAV3C,2BAgBI,OAAOhG,KAAKomB,iBAAiB/gB,MAhBjC,aAkBWnF,GACPF,KAAKomB,iBAAiB/gB,KAAOnF,IAnBjC,qCA2BI,OAHKF,KAAKksC,iBACRlsC,KAAKksC,etJRsB,SAACpmB,GAChC,IAAI2kB,EAAM3kB,EAAOM,iBAAiBqF,aAClC,GAAKgf,EACL,OAAOA,EAAI59B,KAAI,SAAA7G,GAAC,OAAI61B,GAAsB71B,EAAG8f,MsJKnB7b,CAAuBjK,OAExCA,KAAKksC,iBA3BhB,yCA+B2BhsC,GACvBF,KAAKomB,iBAAmBlmB,EACxBF,KAAKomB,iBAAiB+lB,mBAAqBjsC,EAAEoD,YAE7CtD,KAAKkkB,mBAAmBnB,cAAgB7iB,IAnC5C,yCA2CI,OAHKF,KAAKosC,qBACRpsC,KAAKosC,mBAAqBniC,GAA2BjK,OAEhDA,KAAKosC,uBA3ChB,KCKQ18B,GAAWC,IAAXD,OAEF28B,G,kDACJ,WAAYzrC,GAAQ,IAAD,uBACjB,cAAMA,IAURiP,cAAgB,SAAC3P,GACf,IAAImB,EAAO,EAAKJ,MACZwpC,EAAMppC,EAAK6hB,eACN7hB,EAAKirC,qBAAuB7B,EAAIvqC,IAdxB,IAGXiB,EAAU,EAAKP,MAAfO,MAHW,OAOf,EAAKF,MAHFE,GACU,IAAIyiB,GALF,E,qDAkBjB,IAAIviB,EAAOrB,KAAKiB,MACZwpC,EAAMppC,EAAK6hB,eAEX/S,EAAQs6B,EAAMA,EAAI59B,KAAI,SAACrB,EAAM1F,GAC/B,IAAIymC,EAAa/gC,EAAKghC,WACtB,OAAO,cAAC,GAAD,CAAoBzrC,MAAO+E,EAA3B,SAAmCymC,GAAtBzmC,MACjB,GAEDyyB,EAAUl3B,EAAK6iB,mBACfsB,EAAY+S,EAAQnT,UAExB,OACE,qCACE,cAAC,IAAD,CAASqnB,YAAY,OAAOC,OAAK,EAAjC,SACE,iDAEF,cAAC,IAAD,CACEx5B,YAAU,EACV9S,MAAO,CAAE4P,MAAO,QAChBpQ,YAAY,wBACZ2Q,iBAAiB,WACjB1P,SAAUb,KAAK6P,cACf9O,MAAO,KACPyP,aAAc,SAACC,EAAOC,GAAR,OACZA,EAAOC,SAASnH,cAAc1C,QAAQ2J,EAAMjH,gBAAkB,GARlE,SAWG2G,IAGH,sBAAK/P,MAAO,CAAEkZ,UAAW,IAAzB,UACE,cAAC,EAAD,CAAWnY,MAAOo3B,EAAQ7T,SAC1B,cAAC,EAAD,CAAWvjB,MAAOo3B,EAAQ5T,SAC1B,cAAC,EAAD,CAAWxjB,MAAOo3B,EAAQ3T,gBAC1B,cAAC,GAAD,CAAYzjB,MAAOo3B,EAAQvT,kBAC3B,gCACE,cAAC,GAAD,CAAc7jB,MAAOo3B,EAAQ1T,UAC7B,cAAC,IAAD,CAAQzkB,MAAO,CAAEusC,OAAQ,IACvB35B,QAASulB,EAAQhU,YADnB,SACiCiB,EAAUtkB,UAC1Cq3B,EAAQqU,wB,GA1DcrrC,aAkEpBC,eAAS6qC,IClElBQ,IAFal9B,IAAXD,O,kDAGN,WAAY9O,GAAQ,IAAD,uBACjB,cAAMA,IAURksC,KAAO,WACL3wB,QAAQC,IAAI,gBAZK,EAenBvM,cAAgB,SAAC3P,GACf,IAAImB,EAAO,EAAKJ,MACZ6L,EAAQzL,EAAK0rC,QACR1rC,EAAK2rC,cAAgBlgC,EAAM5M,IAlBnB,IAGXiB,EAAU,EAAKP,MAAfO,MAHW,OAOf,EAAKF,MAHFE,GACU,IAAIomB,GALF,E,qDAsBjB,IAAIlmB,EAAOrB,KAAKiB,MAEhB,OACE,qCACE,8BACE,cAAC,GAAD,CAAYE,MAAOE,EAAKomB,sBAE1B,8BACE,cAAC,GAAD,CAAYtmB,MAAOE,EAAKqmB,6BAE1B,8BACE,cAAC,GAAD,CAAiBvmB,MAAOE,EAAKsmB,0B,GAlCXpmB,cAyCbC,eAASqrC,ICzClBI,IAFat9B,IAAXD,O,kDAGN,WAAY9O,GAAQ,IAAD,0BAGXO,GAFN,cAAMP,IAEeA,MAAfO,MAHW,OAOf,EAAKF,MAHFE,GACU,IAAIinB,GALF,E,qDAYjB,IAAI/mB,EAAOrB,KAAKiB,MACV0nB,EAAuBtnB,EAAvBsnB,mBAEN,OACE,qCACE,cAAC,IAAD,CAAS8jB,YAAY,OAAOC,OAAK,EAAjC,mDAGA,cAAC,GAAD,CAAevrC,MAAOE,EAAK8lB,mBAE3B,cAAC,IAAD,CAASslB,YAAY,OAAOC,OAAK,EAAjC,SAEE,cAAC,GAAD,CAAcvrC,MAAOE,EAAKunB,yBAE3BD,EAAoB,cAAC,GAAD,CAAexnB,MAAOE,EAAKimB,iBAAqB,U,GA3BlC/lB,cAiC5BC,eAASyrC,ICnChBv9B,GAAWC,IAAXD,OAEFw9B,G,kDACJ,WAAYtsC,GAAQ,IAAD,uBACjB,cAAMA,IAURksC,KAAO,WACL3wB,QAAQC,IAAI,gBAZK,EAenBvM,cAAgB,SAAC3P,GACf,IAAImB,EAAO,EAAKJ,MACZ6L,EAAQzL,EAAKuJ,MACRvJ,EAAKolB,YAAc3Z,EAAM5M,IAlBjB,IAGXiB,EAAU,EAAKP,MAAfO,MAHW,OAOf,EAAKF,MAHFE,GACU,IAAIklB,GALF,E,qDAsBjB,IAAIhlB,EAAOrB,KAAKiB,MAEZ6L,EAAQzL,EAAKuJ,MACbuF,EAAQrD,EAAQA,EAAMD,KAAI,SAACrB,EAAM1F,GACnC,IAAIymC,EAAa/gC,EAAKghC,WACtB,OAAO,cAAC,GAAD,CAAoBzrC,MAAO+E,EAA3B,SAAmCymC,GAAtBzmC,MACjB,GAED2K,EAAQpP,EAAKmgB,MAEjB,OACE,qCACE,cAAC,IAAD,CAASirB,YAAY,OAAOC,OAAK,EAAjC,SACE,iFAGF,cAAC,IAAD,CACEx5B,YAAU,EACV9S,MAAO,CAAE4P,MAAO,QAChBpQ,YAAY,0BACZ2Q,iBAAiB,WACjB1P,SAAUb,KAAK6P,cACf9O,MAAO,KACPyP,aAAc,SAACC,EAAOC,GAAR,OACZA,EAAOC,SAASnH,cAAc1C,QAAQ2J,EAAMjH,gBAAkB,GARlE,SAWG2G,IAGH,sBAAK/P,MAAO,CAACkZ,UAAU,IAAvB,UACE,cAAC,EAAD,CAAWnY,MAAOsP,EAAMkU,SACxB,cAAC,EAAD,CAAWxjB,MAAOsP,EAAMmU,gBAExB,cAAC,GAAD,CAA8BzjB,MAAOsP,EAAMuY,SAE3C,cAAC,GAAD,CAAc7nB,MAAOsP,EAAMoU,UAC3B,cAAC,IAAD,CAAQzkB,MAAO,CAACusC,OAAO,IACrB35B,QAASvC,EAAM8T,YADjB,SAC+B9T,EAAM2U,UAAUlkB,UAC9CuP,EAAMm8B,qB,GA9D2BrrC,aAqE7BC,eAAS0rC,ICjElBC,IAFax9B,IAAXD,O,kDAGN,WAAY9O,GAAQ,IAAD,0BAGXO,GAFN,cAAMP,IAEeA,MAAfO,MAHW,OAOf,EAAKF,MAHFE,GACU,IAAIwoB,GALF,E,qDAYjB,IAAItoB,EAAOrB,KAAKiB,MAEZ4R,EAAiBH,GAAoB,aAIzC,OAHAG,EAAevS,QAAU,cAAC,IAAD,CAAQwS,KAAK,QAAQC,KAAK,UACjDC,QAAS3R,EAAKsJ,OADS,eAIvB,mCACE,sBAAKvK,MAAO,CAAE+R,QAAS,sBAAuBw6B,OAAQ,WAAYh5B,OAAQ,cAAey5B,aAAc,OAAQ7sC,SAAS,YAAxH,UACE,cAAC,GAAD,CAAeY,MAAO0R,IACtB,cAAC,GAAD,CAAY1R,MAAOE,EAAKwoB,uBACxB,cAAC,GAAD,CAAY1oB,MAAOE,EAAK4oB,mBACxB,cAAC,GAAD,CAAe9oB,MAAOE,EAAK0oB,gBAC3B,cAAC,GAAD,CAAY5oB,MAAOE,EAAK2oB,+B,GA1BCzoB,cAiCpBC,eAAS2rC,IClClBE,IAFa19B,IAAXD,O,kDAGN,WAAY9O,GAAQ,IAAD,0BAGXO,GAFN,cAAMP,IAEeA,MAAfO,MAHW,OAOf,EAAKF,MAHFE,GACU,IAAIwqB,GALF,E,qDAYjB,IAAItqB,EAAOrB,KAAKiB,MAEZqsC,EAAoBjsC,EAAKuoB,gBAAgB/c,KAAI,SAAC7G,EAAG+O,GACnD,OAAO,cAAC,GAAD,CAA8B5T,MAAO6E,GAAV+O,MAGpC,OACE,qCACE,cAAC,GAAD,CAAY5T,MAAOE,EAAK6qB,wBACxB,eAAC,IAAD,CAASugB,YAAY,OAAOC,OAAK,EAAjC,gDAEE,cAAC,IAAD,CAAQ35B,KAAK,UAAUD,KAAK,QAAQE,QAAS3R,EAAKyqB,qBAChD1rB,MAAO,CAACuZ,WAAW,IADrB,kBAGD2zB,S,GA3B+B/rC,cAiCzBC,eAAS6rC,ICrChB39B,GAAWC,IAAXD,OAEF69B,G,kDACJ,WAAY3sC,GAAQ,IAAD,uBACjB,cAAMA,IAURiP,cAAgB,SAAC3P,GACf,IAAImB,EAAO,EAAKJ,MACZ6L,EAAQzL,EAAKuJ,MACRvJ,EAAKolB,YAAc3Z,EAAM5M,IAdjB,IAGXiB,EAAU,EAAKP,MAAfO,MAHW,OAOf,EAAKF,MAHFE,GACU,IAAImsB,GALF,E,qDAkBjB,IAAIjsB,EAAOrB,KAAKiB,MAEZ6L,EAAQzL,EAAKuJ,MACbuF,EAAQrD,EAAQA,EAAMD,KAAI,SAACrB,EAAM1F,GACnC,IAAIymC,EAAa/gC,EAAKghC,WACtB,OAAO,cAAC,GAAD,CAAoBzrC,MAAO+E,EAA3B,SAAmCymC,GAAtBzmC,MACjB,GAED2K,EAAQpP,EAAKmgB,MAEjB,OACE,qCACE,cAAC,IAAD,CAASirB,YAAY,OAAOC,OAAK,EAAjC,SACE,0FAGF,cAAC,IAAD,CACEx5B,YAAU,EACV9S,MAAO,CAAE4P,MAAO,QAChBpQ,YAAY,6BACZ2Q,iBAAiB,WACjB1P,SAAUb,KAAK6P,cACf9O,MAAO,KACPyP,aAAc,SAACC,EAAOC,GAAR,OACZA,EAAOC,SAASnH,cAAc1C,QAAQ2J,EAAMjH,gBAAkB,GARlE,SAWG2G,IAGH,sBAAK/P,MAAO,CAAEkZ,UAAW,IAAzB,UACE,cAAC,EAAD,CAAWnY,MAAOsP,EAAMkU,SACxB,cAAC,EAAD,CAAWxjB,MAAOsP,EAAMmU,gBAExB,cAAC,GAAD,CAA2BzjB,MAAOsP,EAAMuY,SAExC,gCACE,cAAC,GAAD,CAAc7nB,MAAOsP,EAAMoU,UAC3B,cAAC,IAAD,CAAQzkB,MAAO,CAAEusC,OAAQ,IACvB35B,QAASvC,EAAM8T,YADjB,SAC+B9T,EAAM2U,UAAUlkB,UAC9CuP,EAAMm8B,wB,GA3DsBrrC,aAmE1BC,eAAS+rC,I,6BClElBC,IAFa79B,IAAXD,O,kDAGN,WAAY9O,GAAQ,IAAD,0BAGXO,GAFN,cAAMP,IAEeA,MAAfO,MAHW,OAOf,EAAKF,MAHFE,GACU,IAAIwa,GALF,E,qDAYjB,IAAIta,EAAOrB,KAAKiB,MAEhB,OACE,mCACE,oBAAIb,MAAOiB,EAAKosC,QAAhB,SACE,qBAAKn7B,UAAU,gBAAf,SACE,sBAAKA,UAAU,kBAAf,UACGjR,EAAKmf,cACJ,cAAC,KAAD,CAAS4P,QAAQ,QACf1wB,QAAS,8BACN2B,EAAKqf,4BACJrf,EAAKqf,4BAA4B7T,KAAI,SAAA7G,GACnC,OAAO,+BAAeA,GAAJA,MAElB,KANR,SAQE,cAAC0nC,GAAA,EAAD,CAAoBp7B,UAAU,4BAE9B,GACJ,mBAAGlS,MAAOiB,EAAKssC,OACb36B,QAAS3R,EAAKob,WADhB,SAEE,cAAC,GAAD,CAAUtb,MAAOE,EAAKsV,2B,GAlCXpV,cA4CZC,eAASgsC,IC3ClBI,IAFaj+B,IAAXD,O,kDAGN,WAAY9O,GAAQ,IAAD,0BAGXO,GAFN,cAAMP,IAEeA,MAAfO,MAHW,OAOf,EAAKF,MAHFE,GACU,IAAIyS,GALF,E,qDAYjB,IAAIvS,EAAOrB,KAAKiB,MACZuM,EAAQnM,EAAKuF,KACbqzB,EAAUzsB,EAAM3G,QAEhBgnC,EAAWxsC,EAAKoT,UAAYpT,EAAKwS,SAAShH,KAAI,SAAC7G,EAAG+O,GACpD,OAAO,cAAC64B,EAAD,CAAazsC,MAAO6E,GAAQA,EAAEmF,OAClC,GAED2iC,EAAezsC,EAAKkT,UACtB,cAAC,IAAD,CAAQzB,KAAK,QAAQ1S,MAAO,CAAE2tC,YAAa,EAAG78B,SAAU,IAAM6B,KAAK,UACjEC,QAAS3R,EAAKmT,UADhB,SAEE,cAAC,GAAD,CAAUrT,MAAOE,EAAKmX,0BAEtB,qBAAKpY,MAAO,CAAE+R,QAAS,cAE3B,OACE,qCACE,+BACE,oBAAI67B,MAAM,MAAV,SACE,sBAAK5tC,MAAOiB,EAAK4sC,MAAjB,UACGH,EACAzsC,EAAKqJ,MAELrJ,EAAK6sC,iBACL7sC,EAAK8sC,kBAGTlU,EAAQptB,KAAI,SAACN,EAAG6hC,GACf,IAAIjV,EAAO3rB,EAAMkxB,QAAQnyB,EAAGlL,GAC5B,OAAO,cAAC,GAAD,CAA4BF,MAAOg4B,GAAhBA,EAAKhuB,UAGlC0iC,S,GA7CiBtsC,cAmDXC,eAASosC,ICpDlBS,IAFa1+B,IAAXD,O,kDAGN,WAAY9O,GAAQ,IAAD,0BAGXO,GAFN,cAAMP,IAEeA,MAAfO,MAHW,OAOf,EAAKF,MAHFE,GACU,IAAIo2B,GALF,E,qDAYjB,IAAIl2B,EAAOrB,KAAKiB,MAEZg5B,EAAU54B,EAAKwF,QACfszB,EAAO94B,EAAK8W,SAEZm2B,EAAUrU,EAAUA,EAAQptB,KAAI,SAAC7G,EAAG+O,GACtC,OAAO,oBAAIi5B,MAAM,MAAiB17B,UAAU,0BAArC,SAAgEtM,EAAE7B,MAA7C6B,EAAEmF,OAC3B,GAEDojC,EAAapU,EAAOA,EAAKttB,KAAI,SAAC7G,EAAG+O,GACnC,OAAO,cAAC,GAAD,CAAwB5T,MAAO6E,GAAbA,EAAEmF,OACxB,GAGL,OACE,mCACG9J,EAAKg9B,aACJ,qCACE,qBAAI/rB,UAAU,cAAd,mEAEA,cAAC,IAAD,CAAQS,KAAK,UAAUD,KAAK,QAAQ1S,MAAO,CAAEuZ,WAAY,IACrD2V,SAAUjuB,EAAK09B,kBACf/rB,QAAS3R,EAAK8+B,cAFlB,kBAKC9+B,EAAK09B,kBACJ,eAAC,IAAD,CAAK3+B,MAAO,CAAC+R,QAAQ,GAArB,UACE,cAAC,IAAD,CAAKq8B,KAAM,IACX,eAAC,IAAD,CAAKA,KAAM,GAAIpuC,MAAO,CAACsZ,QAAQ,QAA/B,UACE,cAAC,EAAD,CAAWvY,MAAOE,EAAKo/B,kBACvB,cAAC,IAAD,CAAQ1tB,KAAK,UAAUD,KAAK,QAC1B1S,MAAO,CAACuZ,WAAW,IACnB3G,QAAS3R,EAAKg/B,iBAFhB,gBAGA,cAAC,IAAD,CAAQttB,KAAK,UAAUD,KAAK,QAC1BE,QAAS3R,EAAKq/B,qBADhB,0BAGK,GAEX,wBAAQpuB,UAAU,gCAAlB,UACE,uBAAOA,UAAU,cAAjB,SACE,+BACE,oBAAI07B,MAAM,MAAM17B,UAAU,gBAA1B,SACE,cAAC,IAAD,CAAQU,QAAS3R,EAAKs/B,WAAY5tB,KAAK,UAAUD,KAAK,QACpD1S,MAAO,CAACqT,gBAAgB,UAAWE,OAAO,QAD5C,iBAGD26B,OAGL,gCACGC,UAGD,S,GAjEYhtC,cAwEbC,eAAS6sC,ICxElBI,IAFa9+B,IAAXD,O,kDAGN,WAAY9O,GAAQ,IAAD,0BAGXO,GAFN,cAAMP,IAEeA,MAAfO,MAHW,OAOf,EAAKF,MAHFE,GACU,IAAIyzB,GALF,E,qDAYjB,IAAIvzB,EAAOrB,KAAKiB,MAEhB,OACE,qCACE,cAAC,IAAD,CAASwrC,YAAY,OAAOC,OAAK,EAAjC,SACE,yEAEDrrC,EAAKwzB,oBACJ,cAAC,GAAD,CAAiB1zB,MAAOE,EAAKm0B,kBAAsB,GAEpDn0B,EAAKyzB,aACJ,qCACE,cAAC,GAAD,CAAc3zB,MAAOE,EAAKqtC,sBACzBrtC,EAAKs1B,YACJ,cAAC,GAAD,CAAiBx1B,MAAOE,EAAKk1B,gBAAoB,MAEnD,GAGJ,qBAAKn2B,MAAO,CAAEkZ,UAAW,GAAzB,SACE,cAAC,GAAD,CAAYnY,MAAOE,EAAKy1B,6BAG1B,cAAC,IAAD,CAAQ12B,MAAO,CAAEkZ,UAAW,GAAKtG,QAAS3R,EAAK6zB,YAC7CpiB,KAAK,SAASC,KAAK,UADrB,sBAEA,qBAAK3S,MAAO,CAAEkZ,UAAW,IAAzB,SACGjY,EAAK2zB,cACJ,qBAAK50B,MAAO,CAAEsZ,QAAS,OAAQi1B,eAAgB,UAA/C,SACE,gCACE,cAAC,KAAD,IACA,cAAC,GAAD,CAAUxtC,MAAOE,EAAK81B,wBAEjB,cAAC,GAAD,CAAeh2B,MAAOE,EAAKg1B,cAAckB,qB,GA7C7Bh2B,cAoDlBC,eAASitC,ICxDlBG,IAFaj/B,IAAXD,O,kDAGN,WAAY9O,GAAQ,IAAD,uBACjB,cAAMA,IAURiP,cAAgB,SAAC3P,GACJ,EAAKe,MACX2Q,cAAgB1R,GAbJ,IAGXiB,EAAU,EAAKP,MAAfO,MAHW,OAOf,EAAKF,MAHFE,GACU,IAAI44B,GALF,E,qDAiBjB,IAAI14B,EAAOrB,KAAKiB,MACZg5B,EAAU54B,EAAKwF,QAEfszB,EAAO94B,EAAKk5B,KACZsU,EAAY,GAChB,GAAI5U,GAAWE,EAAM,CACnB,IAAI2U,EAAY,uBAAOx8B,UAAU,cAAjB,SACd,6BACG2nB,EAAQptB,KAAI,SAAA7G,GACX,OAAO,oBAAIgoC,MAAM,MAAV,SAA6BhoC,EAAE0E,OAAV1E,EAAEC,YAKhC8oC,EAAY,gCACb5U,EAAKttB,KAAI,SAAA7G,GACR,OAAO,6BACJA,EAAES,MAAMoG,KAAI,SAAAN,GACX,OAAO,6BAAiBA,EAAE4rB,UAAV5rB,EAAEtG,SAFND,EAAEC,UAQtB4oC,EAAY,wBAAOv8B,UAAU,iBAAjB,UACTw8B,EAAWC,KAIhB,OACE,mCACGF,Q,GAjDettC,cAuDTC,eAASotC,ICvDlBI,IAFar/B,IAAXD,O,kDAGN,WAAY9O,GAAQ,IAAD,0BAGXO,GAFN,cAAMP,IAEeA,MAAfO,MAHW,OAOf,EAAKF,MAHFE,GACU,IAAIi6B,GALF,E,qDAYjB,IAAI/5B,EAAOrB,KAAKiB,MAEhB,OACE,qCACE,cAAC,IAAD,CAASwrC,YAAY,OAAOC,OAAK,EAAjC,SACE,mFAGF,cAAC,GAAD,CAAWvrC,MAAOE,EAAK04B,iB,GArBcx4B,cCEvC0tC,IDyBSztC,YAASwtC,I,uKCrBpB,IAAI3tC,EAAOrB,KAAK0lB,SAEhB,OACE,mCACE,eAAC,IAAD,CAAKrM,OAAQ,GAAIjZ,MAAO,CAAE+R,QAAS,IAAnC,UACE,cAAC,IAAD,CAAKq8B,KAAM,IACX,eAAC,IAAD,CAAKA,KAAM,EAAX,UACE,cAAC,GAAD,CAAsBrtC,MAAOE,EAAKuiB,qBAElC,cAAC,GAAD,CAA+BziB,MAAOE,EAAKglB,8BAE3C,cAAC,GAAD,CAA4BllB,MAAOE,EAAKisB,8BAE1C,cAAC,IAAD,CAAKkhB,KAAM,GAAX,SACE,cAAC,GAAD,CAAoBrtC,MAAOE,EAAKuzB,qBAElC,cAAC,IAAD,CAAK4Z,KAAM,W,+BAnBF,OAAO7qB,GAAS/a,a,GADVrH,cA2BVC,eAASytC,ICjClBC,G,uKAEF,OACE,mCACE,cAAC,GAAD,U,GAJe3tC,aAURC,eAAS0tC,I,kBCbHC,G,WACnB,aAAe,IAAD,gCAedxP,iBAAchgC,EAfA,KA0BdqE,eAAiB,WACf,OAAO,EAAKorC,oBA1BZrvC,YAAeC,KAAM,CACnB2/B,YAAc1/B,M,kDAMhB,OAAOD,KAAKe,O,aAEJb,GACRF,KAAKe,MAAQb,EACbF,KAAK4W,YAAc5W,KAAKgE,mB,kCAQxB,OAHKhE,KAAK2/B,cACR3/B,KAAK2/B,YAAc3/B,KAAKgE,kBAEnBhE,KAAK2/B,a,aAEEz/B,GACdF,KAAK2/B,YAAcz/B,M,KC1BFmvC,G,sCACnB5oC,MAAQ,ICCW6oC,G,sCACnB7oC,MAAQ,ICCG8oC,GAAY,SAAC9uC,GACxB,IAAI8E,EAAO9E,EAAEmK,MACb,IAAKrF,GAAwB,IAAhBA,EAAK2K,OAAc,MAAO,GAGvC,OADe3K,EAAK,GAAG3B,UAErB,KAAK09B,EACH,MAAO,CAAC9iB,EAAeA,EAAeA,EAAWA,GACnD,KAAK8iB,EACL,KAAKA,EACH,MAAO,CAAC9iB,EAAWA,EAAiBA,EAAWA,GACjD,QACE,MAAO,CAACA,EAAWA,GAEvB,MAAO,IAcIgxB,GAAa,SAAC/uC,GACzB,OAAOA,EAAE8hB,OAAO1V,KAAI,SAAA7G,GAClB,IAAImO,EAAM,IAAIk7B,GAKd,OAJAl7B,EAAIhQ,KAAO6B,EACXmO,EAAIzJ,MAAQ1E,IAAMwY,EAfO,SAAC/d,GAC5B,IAAI8E,EAAO9E,EAAEmK,MACb,OAAKrF,GAAwB,IAAhBA,EAAK2K,OAEH3K,EAAK,GAAG3B,SAFgB,GAaP6rC,CAAchvC,GACxCuF,EAEGmO,MChCUu7B,G,WACnB,aAAe,IAAD,gCAOd5iC,WAAQnN,EAPM,KAwBd0+B,cAAe,EAxBD,KA0Bd7b,YAAS7iB,EA1BK,KAsCds6B,aAAUt6B,EAtCI,KAiDdw6B,UAAOx6B,EAjDO,KA4DdgwC,QAAU,WACR,IAAI7iC,EAAQ,EAAKlC,MACjB,IAAKkC,EAAO,MAAO,GACnB,IAAI0V,EAAS,EAAKD,OAElB,OAAOzV,EAAMD,KAAI,SAAA7G,GACf,IAAI+F,EAAM,IAAIujC,GA8Bd,OA7BAvjC,EAAItF,MAAQ+b,EAAO3V,KAAI,SAAAN,GACrB,IAAI4sB,EAAO,IAAIgW,GACfhW,EAAKiW,iBAAmB,WACtB,IAAIruC,EAAQo4B,EAAK51B,MACjB,OAAImG,MAAM3I,GAGHA,EAFC6uC,WAAW7uC,GAAO+c,QAAQ,IAKpC,IAAM+xB,EAAe,kBAAM1W,EAAK51B,MAAQib,GAAmBxY,EAAEwP,SAASjJ,GAAIA,I7N7DzE,CAAC5I,G6N8D0B8F,SAAS8C,KAAOvG,EAAEqL,QAC5CrL,EAAEm7B,uBAAuB56B,MAAK,WAC5BspC,OAGFA,IAGF,IAAIv9B,EAAY,cAChB,OAAO/F,GACL,KAAKiS,EACHlM,EAAU,aAKd,OAFA6mB,EAAK7mB,UAAYA,EAEV6mB,KAEFptB,MA/FThM,YAAeC,KAAM,CACnB8M,MAAO7M,IACPk6B,KAAMl6B,M,kDAMR,OAAOD,KAAK8M,O,aAEJ5M,GACRF,KAAK8M,MAAQ5M,EAETA,GAAkB,IAAbA,EAAEgQ,OACTlQ,KAAKq+B,cAAe,EAGpBr+B,KAAKq+B,cAAe,EAEtBr+B,KAAKuiB,OAAStY,GAAejK,MAC7BA,KAAKu6B,KAAOv6B,KAAK2vC,Y,6BAUjB,OAHK3vC,KAAKwiB,SACRxiB,KAAKwiB,OAASvY,GAAejK,OAExBA,KAAKwiB,Q,aAEHtiB,GACTF,KAAKwiB,OAAStiB,EACdF,KAAK6G,QAAUoD,GAAgBjK,Q,8BAQ/B,OAHKA,KAAKi6B,UACRj6B,KAAKi6B,QAAUhwB,GAAgBjK,OAE1BA,KAAKi6B,S,aAEF/5B,GACVF,KAAKi6B,QAAU/5B,I,2BAQf,OAHKF,KAAKm6B,OACRn6B,KAAKm6B,KAAOn6B,KAAK2vC,WAEZ3vC,KAAKm6B,M,aAELj6B,GACPF,KAAKm6B,KAAOj6B,M,KC7DH4vC,GAAb,WACE,aAAe,yBAiBfhjC,WAAQnN,EAhBNI,YAAeC,KAAM,CACnB8M,MAAQ7M,MAHd,+CASI,OAAOD,KAAK0G,KAThB,aAWSxG,GAAG,IAAD,OACPF,KAAK0G,IAAMxG,EACX8jC,GAA6B9jC,GAAG,SAAC4M,GAC/B,EAAKlC,MAAQkC,OAdnB,4BAoBI,OAAO9M,KAAK8M,OApBhB,aAsBY5M,GACRF,KAAK8M,MAAQ5M,EACbF,KAAK+vC,YAAYnlC,MAAQ1K,IAxB7B,kCAgCI,OAHKF,KAAKgwC,cACRhwC,KAAKgwC,YAAc,IAAIN,IAElB1vC,KAAKgwC,gBAhChB,KCCMC,G,kDACJ,WAAYrvC,GAAQ,IAAD,0BAGXO,GAFN,cAAMP,IAEeA,MAAfO,MAHW,OAOf,EAAKF,MAHFE,GACU,IAAIuuC,GALF,E,qDAYjB,IAAIruC,EAAOrB,KAAKiB,MACZivC,EAAW7uC,EAAKwF,QAAQgG,KAAI,SAAC7G,EAAE+O,GACjC,OAAO,oBAAIi5B,MAAM,MAAc17B,UAAU,cAAlC,SAAiDtM,EAAE0E,OAA9BqK,MAG1Bo7B,EAAW9uC,EAAKk5B,KAAK1tB,KAAI,SAAC7G,EAAG+O,GAC/B,IAAIq7B,EAAYpqC,EAAES,MAAMoG,KAAI,SAACN,EAAG6hC,GAC9B,OAAO,oBAAY97B,UAAW/F,EAAE+F,UAAzB,SAAqC/F,EAAEqK,aAA9Bw3B,MAElB,OAAO,6BACJgC,GADar7B,MAKlB,OACE,mCACE,wBAAOzC,UAAU,gCAAjB,UACE,uBAAOA,UAAU,cAAjB,SACE,6BACE49B,MAGJ,gCACGC,a,GApCqB5uC,aA4CnBC,eAASyuC,IC1ClBI,G,kDACJ,WAAYzvC,GAAQ,IAAD,0BAGXO,GAFN,cAAMP,IAEeA,MAAfO,MAHW,OAOf,EAAKF,MAHFE,GACU,IAAI2uC,GALF,E,gEAYjB,IAAIzuC,EAAOrB,KAAKiB,MACVkK,EAAKnL,KAAKY,MAAM0vC,MAAMC,OAAOplC,GACnC9J,EAAK8J,GAAKA,I,+BAIV,IAAI9J,EAAOrB,KAAKiB,MAEhB,OACE,mCACE,cAAC,IAAD,CAAKoY,OAAQ,GAAIjZ,MAAO,CAAE+R,QAAS,IAAnC,SACE,eAAC,IAAD,CAAKq8B,KAAM,EAAX,UACE,oBAAIl8B,UAAU,cAAd,+DACA,8BACE,cAAC,GAAD,CAAqBnR,MAAOE,EAAK0uC,2B,GA3BlBxuC,aAoCdivC,gBAAWhvC,YAAS6uC,KCpCtB3qB,GAAW,WACtB,OAAO/B,GAAS/a,UAQG6nC,G,WACnB,aAAe,yBAiBfC,eAAY/wC,EAhBVI,YAAeC,KAAM,CACnB0wC,UAAWzwC,M,+CAMb,OAAOD,KAAK0G,K,aAEPxG,GAAI,IAAD,OACRF,KAAK0G,IAAMxG,EvDKQ,SAACwG,EAAK0W,GAC3B,GAAK1W,EAAL,CACA,IAAI/D,EAAG,+CAA2C+D,GAClD4W,EAAQ3a,GAAK4a,MAAK,SAAAvb,GAAQ,OAAIA,EAASX,QACpCkc,MAAK,SAAAlc,GACJ,IAAImK,EAAOhL,GAAIa,GACX+b,GACFA,EAAO5R,OuDXXmlC,CAAoBzwC,GAAG,SAACsL,GACtB,EAAKyiB,UAAY2iB,GAAkBplC,Q,gCAMrC,OAAOxL,KAAK0wC,W,aAEAxwC,GACZF,KAAK0wC,UAAYxwC,EAEjB,IAAIqF,EAAO,CAACrF,GACZwlB,KAAWiP,eAAe/pB,MAAQrF,EA9B7BuD,GAAOF,SA+BHqrB,WAAa/zB,EAAEomB,UAAU2N,WAElC,IAAI4c,EAAc7wC,KAAK40B,iBACvBic,EAAYhb,qBAAuBtwB,EACnCsrC,EAAYrb,gBAAgB7mB,aAAepJ,EAE3C,IAAIurC,EAAgB,kBAAMD,EAAYpa,mBAAqBrI,EAAaxjB,OAEpEwjB,EAAeluB,EAAEwtB,aACjBU,EAAaxjB,MACfkmC,IAEA1iB,EAAarI,qBAAqBxf,MAAK,WACrCuqC,S,uCAOJ,IAAK9wC,KAAKk9B,iBAAkB,CAC1B,IAAI93B,EAAMpF,KAAKk9B,iBC7Dc,SAACz8B,GAClC,IAAI2E,EAAM2rC,GAAyB,IAAItyB,IAAkB,GAGzD,OAFArZ,EAAIyvB,qBAAsB,EAC1BzvB,EAAI0vB,cAAe,EACZ1vB,EDyD+B6E,GAClCyb,KAAWkP,iBAAmBxvB,EAEhC,OAAOpF,KAAKk9B,qB,eExDV8T,IAFarhC,IAAXD,O,kDAGN,WAAY9O,GAAQ,IAAD,0BAGXO,GAFN,cAAMP,IAEeA,MAAfO,MAHW,OAOf,EAAKF,MAHFE,GACU,IAAIusB,GALF,E,qDAYjB,IAAIrsB,EAAOrB,KAAKiB,MACZwP,EAAQpP,EAAKmgB,MACbvgB,EAAQI,EAAKxB,MAEjB,OACE,qCACE,cAAC,IAAD,CAAS4sC,YAAY,OAAOC,OAAK,EAAjC,SACE,8EAEF,gCACE,eAAC,IAAD,CAAQ35B,KAAK,UAAUD,KAAK,SAASE,QAAS3R,EAAKssB,WACjD2B,SAAUruB,IAAU2sB,GADtB,UAEE,cAACqjB,GAAA,EAAD,IAFF,oDAKChwC,IAAU2sB,GAAuB,sBAAKtb,UAAU,OAAf,UAChC,cAAC,EAAD,CAAWnR,MAAOsP,EAAMkU,SACxB,cAAC,EAAD,CAAWxjB,MAAOsP,EAAMmU,gBACxB,sBAAKtS,UAAU,OAAf,UACE,cAAC,IAAD,CAAQS,KAAK,UAAUD,KAAK,QAAQE,QAAS3R,EAAKwsB,GAAlD,gBACA,cAAC,IAAD,CAAQ9a,KAAK,UAAUD,KAAK,QAAQE,QAAS3R,EAAKyiB,OAAlD,0BAEK,a,GAnCUviB,cA0CdC,eAASwvC,IC5ClBE,IAFavhC,IAAXD,O,kDAGN,WAAY9O,GAAQ,IAAD,0BAGXO,GAFN,cAAMP,IAEeA,MAAfO,MAHW,OAOf,EAAKF,MAHFE,GACU,IAAImtB,GALF,E,qDAYjB,IAAIjtB,EAAOrB,KAAKiB,MAEhB,OACE,qCACE,cAAC,IAAD,CAASwrC,YAAY,OAAOC,OAAK,EAAjC,SACE,4DAGF,cAAC,GAAD,CAAWvrC,MAAOE,EAAK04B,iB,GArBEx4B,cA2BlBC,eAAS0vC,IC/BlBC,G,kDACJ,WAAYvwC,GAAQ,IAAD,0BAGXO,GAFN,cAAMP,IAEeA,MAAfO,MAHW,OAOf,EAAKF,MAHFE,GACU,IAAIqtB,GALF,E,qDAYNxuB,KAAKiB,MAEhB,OACE,iC,GAhBuBM,a,IAuBdC,YAAS2vC,I,kBCpBlBC,I,yDACJ,WAAYxwC,GAAQ,IAAD,0BAGXO,GAFN,cAAMP,IAEeA,MAAfO,MAHW,OAOf,EAAKF,MAHFE,GACU,IAAIouB,GALF,E,qDAYjB,IAAIluB,EAAOrB,KAAKiB,MAEhB,OACE,mCACE,sBAAKqR,UAAU,wBAAf,UACE,cAAC,GAAD,CAAiBnR,MAAOE,EAAKgwC,gBAC7B,cAAC,IAAD,CAAQv+B,KAAK,QAAQC,KAAK,OACxBT,UAAU,2BACVU,QAAS3R,EAAKsJ,OAFhB,SAGE,cAAC2mC,GAAA,EAAD,CAAch/B,UAAU,sC,GAtBP/Q,cA8BdC,eAAS4vC,I,iCC/BlBG,I,yDACJ,WAAY3wC,GAAQ,IAAD,0BAGXO,GAFN,cAAMP,IAEeA,MAAfO,MAHW,OAOf,EAAKF,MAHFE,GACU,IAAIovB,GALF,E,qDAYjB,IAAIlvB,EAAOrB,KAAKiB,MAEhB,OACE,mCAEE,sBAAKqR,UAAU,oBAAf,UAEE,cAAC,KAAD,CACE8d,QAAS/uB,EAAK2vB,aAAa9vB,QAC3BxB,QACE,cAAC,KAAD,CAAQ8xC,kBAAkB,MAAMC,gBAAgB,MAC9CriB,QAAS/tB,EAAKuvB,sBAAuB/vB,SAAUQ,EAAKqvB,kBAJ1D,SAME,+BACGrvB,EAAKuxB,iBAKV,cAAC,IAAD,CAAQ7f,KAAK,UAAUD,KAAK,QAAQE,QAAS3R,EAAKsJ,OAChD2H,UAAU,4BADZ,wB,GAhCwB/Q,cAyCnBC,eAAS+vC,ICtClBG,G,kDACJ,WAAY9wC,GAAQ,IAAD,0BAGXO,GAFN,cAAMP,IAEeA,MAAfO,MAHW,OAOf,EAAKF,MAHFE,GACU,IAAIgwB,GALF,E,qDAYjB,IAAI9vB,EAAOrB,KAAKiB,MAEhB,OACE,mCACE,sBAAKqR,UAAU,kBAAf,UAEE,cAAC,GAAD,CAAYnR,MAAOE,EAAKw8B,gBAExB,sBAAKvrB,UAAU,gCAAf,UAEE,cAAC,IAAD,CAAQS,KAAK,UAAUD,KAAK,QAAQE,QAAS3R,EAAKgwB,SAChD/e,UAAU,kCADZ,eAIA,qBAAKA,UAAU,uBAAf,SACGjR,EAAKkH,OAAOsE,KAAI,SAAA7G,GACf,OAAO,cAAC,GAAD,CAAgC7E,MAAO6E,GAAbA,EAAEmF,YAKzC,cAAC,IAAD,CAAQ2H,KAAK,QAAQC,KAAK,OACxBT,UAAU,2BACVU,QAAS3R,EAAKsJ,OAFhB,SAGE,cAAC2mC,GAAA,EAAD,CAAch/B,UAAU,sC,GArCP/Q,aA6CdC,eAASkwC,IC3ClBC,IAFcC,KAAZC,Q,kDAGN,WAAYjxC,GAAQ,IAAD,0BAGXO,GAFN,cAAMP,IAEeA,MAAfO,MAHW,OAOf,EAAKF,MAHFE,GACU,IAAIwwB,GALF,E,qDAYjB,IAAItwB,EAAOrB,KAAKiB,MAEhB,OACE,mCACE,sBAAKqR,UAAU,yBAAf,UAEE,sBAAKA,UAAU,qBAAf,UACE,sBAAKA,UAAU,wBAAf,UAEE,cAAC,IAAD,CAAQS,KAAK,UAAUD,KAAK,QAAQE,QAAS3R,EAAKoxB,UAChDngB,UAAU,0BADZ,eAEA,+BAAM,0EAIPjR,EAAK+vB,QAAQvkB,KAAI,SAAA7G,GAChB,OAAO,cAAC,GAAD,CAA2B7E,MAAO6E,GAAbA,EAAEmF,UAKlC,sBAAKmH,UAAU,qBAAf,UACE,sBAAKA,UAAU,wBAAf,UAEE,cAAC,IAAD,CAAQS,KAAK,UAAUD,KAAK,QAAQE,QAAS3R,EAAKixB,cAChDhgB,UAAU,0BADZ,eAEA,+BAAM,+DAIPjR,EAAKmuB,YAAY3iB,KAAI,SAAA7G,GACpB,OAAO,cAAC,GAAD,CAA2B7E,MAAO6E,GAAbA,EAAEmF,mB,GA5Cb5J,cAqDhBC,eAASmwC,ICvDhBE,GAAYD,KAAZC,QAEFC,G,kDACJ,WAAYlxC,GAAQ,IAAD,uBACjB,cAAMA,IAURmxC,UAAY,SAAC7xC,GAEXA,EAAE8xC,mBAbe,IAGX7wC,EAAU,EAAKP,MAAfO,MAHW,OAOf,EAAKF,MAHFE,GACU,IAAI4xB,GALF,E,qDAiBjB,IAAI1xB,EAAOrB,KAAKiB,MAEhB,OACE,mCACE,8BACE,sBAAKqR,UAAU,iBAAf,UAEIjR,EAAK8xB,oBAGH,GAFJ,cAAC,IAAD,CAAQpgB,KAAK,UAAUD,KAAK,QAAQE,QAAS3R,EAAK4xB,YAChD3gB,UAAU,0BADZ,eAKA,cAAC,KAAD,CAAMS,KAAK,OAAOT,UAAU,YAC1BzR,SAAUQ,EAAKiyB,cACf2e,UAAW5wC,EAAKgxB,eAChB0f,UAAW/xC,KAAK+xC,UAHlB,SAIG1wC,EAAK8wB,QAAQtlB,KAAI,SAAA7G,GAChB,OAAO,cAAC,GAAD,CAASksC,IAAKlsC,EAAEwtB,aAAhB,SACL,cAAC,GAAD,CAAkBryB,MAAO6E,KADeA,EAAEmF,oB,GApClB5J,aAgD3BC,eAASswC,I,mBCnDlBK,G,kDACJ,WAAYvxC,GAAQ,IAAD,0BAGXO,GAFN,cAAMP,IAEeA,MAAfO,MAHW,OAOf,EAAKF,MAHFE,GACU,IAAIwyB,GALF,E,qDAYjB,IAAItyB,EAAOrB,KAAKiB,MAEhB,OACE,qCACE,eAAC,IAAD,CAASwrC,YAAY,OAAOC,OAAK,EAACp6B,UAAU,YAA5C,UACE,qFACA,cAAC,IAAD,CAAQS,KAAK,OAAOD,KAAK,QAAQR,UAAU,oBACzCU,QAAS3R,EAAKuyB,KADhB,SAEE,cAACwe,GAAA,EAAD,CAAY9/B,UAAU,mBAK1B,cAAC,GAAD,CAA6BnR,MAAOE,EAAK2nB,gB,GA1BXznB,aAgCvBC,eAAS2wC,IC9BlBE,G,kDACJ,WAAYzxC,GAAQ,IAAD,0BAGXO,GAFN,cAAMP,IAEeA,MAAfO,MAHW,OAOf,EAAKF,MAHFE,GACU,IAAIsvC,GALF,E,gEAYjB,IAAIpvC,EAAOrB,KAAKiB,MACVkK,EAAKnL,KAAKY,MAAM0vC,MAAMC,OAAOplC,GACnC9J,EAAK8J,GAAKA,I,+BAIV,IAAI9J,EAAOrB,KAAKiB,MACZyvC,EAAYrvC,EAAK4sB,UAErB,OACE,mCACE,qBAAK7tB,MAAO,CAAE+R,QAAS,IAAvB,SACE,eAAC,IAAD,CAAKkH,OAAQ,GAAb,UACE,cAAC,IAAD,CAAKm1B,KAAM,IAEX,cAAC,IAAD,CAAKA,KAAM,GAAX,SACGkC,EAAY,qCACX,qBAAIp+B,UAAU,cAAd,2BAAmCo+B,EAAUvsC,QAC7C,cAAC,GAAD,CAAgBhD,MAAOuvC,EAAUhjB,eAEjC,cAAC,GAAD,CAAoBvsB,MAAOE,EAAKuzB,mBAEhC,cAAC,GAAD,CAAoBzzB,MAAOuvC,EAAUpiB,iBAEpCoiB,EAAUhc,4BACX,cAAC,GAAD,CAAyBvzB,MAAOuvC,EAAUhc,8BACxC,MACE,KAER,cAAC,IAAD,CAAK8Z,KAAM,e,GA1COjtC,aAmDfivC,gBAAWhvC,YAAS6wC,KCtCpBC,G,uKAZX,OACE,cAAC,KAAD,CAAQC,SAAU71B,gBAAlB,SACE,eAAC,KAAD,WACE,cAAC,KAAD,CAAO81B,OAAK,EAACC,KAAK,IAAIC,UAAWxD,KACjC,cAAC,KAAD,CAAOsD,OAAK,EAACC,KAAK,kBAAkBC,UAAWrC,KAC/C,cAAC,KAAD,CAAOoC,KAAK,eAAeC,UAAWL,c,GAP9B9wC,aCEHoxC,GAZS,SAAAC,GAClBA,GAAeA,aAAuBC,UACxC,8BAAqBt1B,MAAK,YAAkD,IAA/Cu1B,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOF,GACPG,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAQN,OCDdO,IAASjb,OACP,cAAC,GAAD,IACAkb,SAASC,eAAe,SAM1BV,O","file":"static/js/main.c6ec92f7.chunk.js","sourcesContent":["export const text = 'text'\r\nexport const password = 'password'","import { makeObservable, observable, action } from 'mobx';\r\nimport * as ts from './TextState'\r\n\r\nexport class TextVM {\r\n  constructor() {\r\n    makeObservable(this, {\r\n      content: observable,\r\n      placeholder : observable,\r\n      State : observable\r\n    })\r\n  }\r\n\r\n  content = undefined\r\n  get Content(){\r\n    return this.content;\r\n  }\r\n  set Content(v) {\r\n    this.content = v;\r\n    if (this.onSetContent) {\r\n      this.onSetContent(v);\r\n    }\r\n  }\r\n\r\n  placeholder = \"nội dung input\"\r\n  set Placeholder(v) {\r\n    this.placeholder = v;\r\n  }\r\n\r\n  inputStyle\r\n\r\n  style\r\n  get Style() {\r\n    if (!this.style) {\r\n      this.style = this.inputStyle ? this.inputStyle : {};\r\n\r\n      if (this.wrapper) {\r\n        this.style.position = 'relative';\r\n      }\r\n    }\r\n    return this.style;\r\n  }\r\n\r\n  State = ts.text\r\n}","import { TextVM } from \"./TextVM\"\r\n\r\nexport const get = (q, placeholder) => {\r\n  var qI = new TextVM();\r\n  qI.content = q;\r\n  qI.placeholder = placeholder;\r\n  return qI;\r\n}","import { Component } from \"react\";\r\nimport { makeObservable, observable, action } from 'mobx';\r\nimport { observer } from 'mobx-react';\r\nimport { Button, Input } from \"antd\";\r\nimport * as textVMUtil from '../text/TextVMUtil'\r\nimport * as ts from '../text/TextState'\r\n\r\nclass InputView extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    var { store } = this.props;\r\n    if (!store) {\r\n      var content = `Nội dung input`\r\n      this.state = textVMUtil.get(content);\r\n    } else {\r\n      this.state = store;\r\n    }\r\n  }\r\n\r\n  onChange = (e) => {\r\n    var { value } = e.target;\r\n    this.state.Content = value;\r\n  }\r\n\r\n  render() {\r\n    var data = this.state;\r\n    var { content, placeholder } = data;\r\n\r\n    return (\r\n      <>\r\n        {data.State === ts.text ?\r\n          <Input value={content} onChange={this.onChange}\r\n            placeholder={placeholder} /> : ''}\r\n        {data.State === ts.password ?\r\n          <Input.Password value={content} onChange={this.onChange} /> : ''}\r\n      </>\r\n    )\r\n  }\r\n}\r\n\r\nexport default observer(InputView)","import axios from 'axios';\r\nimport { message } from 'antd';\r\n\r\nexport const API_URL = 'https://api.bimdev.vn/api';\r\n\r\n// const http = axios.create({\r\n//   baseURL: API_URL,\r\n//   Accept: 'application/json',\r\n//   'Content-Type': 'application/json',\r\n//   //timeout: 20000\r\n//   timeout: 20000000\r\n// });\r\n\r\nconst http = (timeout) => axios.create({\r\n    baseURL: API_URL,\r\n    Accept: 'application/json',\r\n    'Content-Type': 'application/json',\r\n    timeout\r\n  });\r\n\r\nconst handleNetworkError = (err) => {\r\n  message.error(`Error sending request: ${err}`);\r\n  return {\r\n    success: false\r\n  };\r\n}\r\n\r\nconst handleResponse = (response) => {\r\n  // Parse the axios response\r\n  const success = response.status >= 200 && response.status < 300;\r\n  const data = response.data;\r\n  let message = response.statusText;\r\n  return {\r\n    success,\r\n    data,\r\n    message\r\n  };\r\n}\r\n\r\nexport const callApi = async (action) => {\r\n  try {\r\n    const response = await action;\r\n    return handleResponse(response);\r\n  } catch (err) {\r\n    return handleNetworkError(err);\r\n  } finally { }\r\n}\r\n\r\nexport const timeout_default = 20000\r\n\r\nexport const get = async (url, config, timeout) => {\r\n  timeout = timeout ? timeout : timeout_default\r\n  return callApi(http(timeout).get(url, config));\r\n}\r\n\r\nexport const put = async (url, payload, config, timeout) => {\r\n  timeout = timeout ? timeout : timeout_default\r\n  var result = await callApi(http(timeout).put(url, payload, config));\r\n  return result;\r\n}\r\n\r\nexport const post = async (url, payload, config, timeout) => {\r\n  timeout = timeout ? timeout : timeout_default\r\n  var result = await callApi(http(timeout).post(url, payload, config));\r\n  return result;\r\n}\r\n\r\nexport const del = async (url, payload,timeout) => {\r\n  timeout = timeout ? timeout : timeout_default\r\n  var result = await callApi(http(timeout).delete(url, payload));\r\n  return result;\r\n}","export const concrete = \"concrete\";\r\nexport const formwork = \"formwork\";\r\nexport const rebar = \"rebar\";\r\n\r\nexport const GetAll = () => {\r\n  return [ concrete, formwork, rebar ];\r\n}\r\n\r\nexport const IsGetElement = (massType) => {\r\n  return massType === concrete || massType === formwork;\r\n}","import * as mt from '../MassType'\r\n\r\nexport const Project = 'Project'\r\nexport const Phase = 'Phase'\r\nexport const Workpackage = 'Workpackage'\r\nexport const Value = 'Value'\r\nexport const Unit = 'Unit'\r\nexport const partition = 'partition'\r\nexport const rebarType = 'rebarType'\r\nexport const elementName = 'elementName'\r\nexport const MassType = 'MassType'\r\nexport const workItem = 'workItem'\r\nexport const level = 'level'\r\nexport const diameter = 'diameter'\r\n\r\nexport const GetAll = () => {\r\n  return [MassType, workItem, level, diameter]\r\n}\r\n\r\nexport const GetDirectiveFields = () => {\r\n  return [Project, Workpackage, Value, Unit];\r\n}\r\n\r\nexport const GetIdentifyFields = () => {\r\n  return [elementName];\r\n}\r\n\r\nexport const GetFullFields = (massItem, field) => {\r\n  switch (field) {\r\n    case Project:\r\n    case Value:\r\n    case Unit:\r\n    case MassType:\r\n      return {\r\n        fields: [field],\r\n        isFromElement: false\r\n      };\r\n    case workItem:\r\n    case elementName:\r\n    case rebarType:\r\n    case partition:\r\n    case level:\r\n    case diameter:\r\n      var massType = massItem[MassType];\r\n      if (massType === mt.rebar) {\r\n        return {\r\n          fields: ['Info', field],\r\n          isFromElement: false\r\n        };\r\n      } else {\r\n        var groupName = undefined;\r\n        // kiểm tra các phân nhóm trong Element: identify, locate ...\r\n        switch (field) {\r\n          case workItem:\r\n          case elementName:\r\n            groupName = 'identify';\r\n            break;\r\n          case level:\r\n            groupName = 'locate';\r\n            break;\r\n        }\r\n        return {\r\n          fields: ['Element', 'info', groupName, field],\r\n          isFromElement: true\r\n        }\r\n      }\r\n  }\r\n}\r\n\r\nexport const GetValueString = (massFieldValue, field) => {\r\n  var value = undefined;\r\n\r\n  switch (field) {\r\n    case Project:\r\n    case Phase:\r\n      value = massFieldValue.Name;\r\n      break;\r\n    case Workpackage:\r\n      value = massFieldValue.FullName;\r\n      break;\r\n    default:\r\n      value = massFieldValue;\r\n      break;\r\n  }\r\n\r\n  return value ? value : 'undefined';\r\n}\r\n\r\nexport const GetListForTypicalLevelFilter = () => {\r\n  return [workItem]\r\n}\r\n\r\nexport const GetDefaultListValue = (field) => {\r\n  switch (field) {\r\n    case workItem:\r\n      return ['Dầm', 'Sàn', 'Cột', 'Vách'];\r\n    default:\r\n      return [];\r\n  }\r\n}","\r\nexport let dtFormat = new Intl.DateTimeFormat('en-GB');\r\n\r\nexport const deepClone = (q) => {\r\n  return JSON.parse(JSON.stringify(q));\r\n}\r\n\r\nexport const randomId = () => {\r\n  // Math.random should be unique because of its seeding algorithm.\r\n  // Convert it to base 36 (numbers + letters), and grab the first 9 characters\r\n  // after the decimal.\r\n  return Math.random().toString(36).substr(2, 9);\r\n};\r\n\r\nexport const newGUID = () => {\r\n  return ([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g, c =>\r\n    (c ^ crypto.getRandomValues(new Uint8Array(1))[0] & 15 >> c / 4).toString(16)\r\n  );\r\n}\r\n\r\nexport const UpdateFromModel = (obj, action) => {\r\n  obj.M2VM = true;\r\n  action();\r\n  obj.M2VM = false;\r\n}\r\n\r\nexport const MoveItem = (list, oldIndex, newIndex) => {\r\n  if (oldIndex === -1 || newIndex === -1 || \r\n    oldIndex === newIndex) return;\r\n  var temp = list[oldIndex];\r\n  list[oldIndex] = list[newIndex];\r\n  list[newIndex] = temp;\r\n}\r\n\r\nexport const IsEqual = (list1, list2) => {\r\n  if (list1.length !== list2.length) return false;\r\n  var isValidCheck = true;\r\n  var isEqual = true;\r\n\r\n  list1.forEach((x,i) => {\r\n    if (isValidCheck && x !== list2[i]){\r\n      isValidCheck = false; isEqual = false;\r\n    }\r\n  })\r\n\r\n  return isEqual;\r\n}\r\n\r\nexport const IsSameValues = (list1, list2) => {\r\n  var isValidCheck = true;\r\n  var isSame = true;\r\n\r\n  list1.forEach((x,i) => {\r\n    if (isValidCheck && !list2.includes(x)){\r\n      isValidCheck = false; isSame = false;\r\n    }\r\n  })\r\n\r\n  return isSame;\r\n}\r\n\r\nexport const GroupBy = function(xs, key) {\r\n  var groups = [];\r\n\r\n  xs.forEach(x => {\r\n    var val = x[key];\r\n    var group = undefined;\r\n    var index = groups.findIndex(y => val === y.Key);\r\n    if (index === -1){\r\n      group = {\r\n        Key : val,\r\n        Items : []\r\n      };\r\n      groups.push(group);\r\n    }else {\r\n      group = groups[index];\r\n    }\r\n    group.Items.push(x);\r\n  })\r\n\r\n  return groups;\r\n};\r\n\r\nexport const Remove = (dict, key) => {\r\n  var index = dict.findIndex(x => x.Key === key);\r\n  if (index !== 0){\r\n    return dict.splice(index, 1);\r\n  }\r\n}\r\n\r\nexport const Add = (dict, func, isDelete = true) => {\r\n  var key = newGUID();\r\n\r\n  var newfunc = () => {\r\n    func();\r\n    if (isDelete) {\r\n      Remove(dict, key);\r\n    }\r\n  }\r\n\r\n  dict.push({\r\n    Key: newGUID(),\r\n    Value: newfunc\r\n  });\r\n}","import * as genUtil from '../../../../../util/generalUtil'\r\n\r\nexport default class MassColumn {\r\n  _id\r\n  get id() {\r\n    if (!this._id){\r\n      this._id = genUtil.randomId();\r\n    }\r\n    return this._id;\r\n  }\r\n\r\n  get Index(){\r\n    return this.Dict.Columns.indexOf(this);\r\n  }\r\n\r\n  Cells = []\r\n}","import { Component } from \"react\";\r\nimport { makeObservable, observable, action } from 'mobx';\r\nimport { observer } from 'mobx-react';\r\nimport { Button } from \"antd\";\r\n\r\nclass TextView extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    var { store } = this.props;\r\n    if (!store) {\r\n      this.state = {\r\n        content: `Nội dung`\r\n      }\r\n    } else {\r\n      this.state = store;\r\n    }\r\n  }\r\n\r\n  getWrapperContent = () => {\r\n    var { wrapper } = this.state;\r\n    if (!wrapper) return '';\r\n    return wrapper;\r\n  }\r\n\r\n  render() {\r\n    var { content } = this.state;\r\n\r\n    return (\r\n      <>\r\n        {content}\r\n        {this.getWrapperContent()}\r\n      </>\r\n    )\r\n  }\r\n}\r\n\r\nexport default observer(TextView)","import * as util from './CategoryDataUtil'\r\n\r\nexport class CategoryData {\r\n  constructor() {\r\n    \r\n  }\r\n\r\n  static instance\r\n  static get Instance(){\r\n    if (!this.instance){\r\n      this.instance = new CategoryData();\r\n    }\r\n    return this.instance;\r\n  }\r\n\r\n  categoryNames;\r\n  get CategoryNames() {\r\n    if (!this.categoryNames){\r\n      this.categoryNames = util.GetCategoryNames();\r\n    }\r\n    return this.categoryNames;\r\n  }\r\n}","export const GetCategoryNames = (data) => {\r\n  return ['Floors', 'Structural Framing', 'Walls', 'Structural Columns']\r\n}","export const category = \"category\";\r\nexport const family = \"family\";\r\nexport const parameter = 'parameter'\r\n\r\nexport const GetAll = () => {\r\n  return [ category, family, parameter ];\r\n}","export const bystring = \"bystring\";\r\nexport const bynumber = \"bynumber\";\r\n\r\nexport const GetAll = () => {\r\n  return [ bystring, bynumber ];\r\n}","export const byequal = \"byequal\";\r\nexport const bycontain = \"bycontain\";\r\nexport const bynotcontain = \"bynotcontain\";\r\n\r\nexport const GetAll = () => {\r\n  return [ byequal, bycontain, bynotcontain ];\r\n}","export const byequal = \"byequal\";\r\nexport const bysmaller = \"bysmaller\";\r\nexport const bysmallerorequal = \"bysmallerorequal\";\r\nexport const bybigger = \"bybigger\";\r\nexport const bybiggerorequal = \"bybiggerorequal\";\r\nexport const bybetween = \"bybetween\";\r\n\r\nexport const GetAll = () => {\r\n  return [ byequal, bysmaller, bybigger, bybetween ];\r\n}","import { CategoryData } from \"../../single/model/CategoryData\"\r\nimport { PMData } from \"../../single/model/PMData\";\r\nimport { EntFilter } from \"./EntFilter\"\r\nimport * as fct from './FilterCategoryType'\r\nimport * as fvt from './FilterValueType'\r\nimport * as sft from './StringFilterType'\r\nimport * as nft from './NumberFilterType'\r\n\r\nexport const categoryData = () => {\r\n  return CategoryData.Instance;\r\n}\r\n\r\nexport const pmData = () => {\r\n  return PMData.Instance;\r\n}\r\n\r\nexport const get = (q, categoryType) => {\r\n  var qI = new EntFilter();\r\n  qI.ValueType = q.valueType;\r\n  qI.NumberFilterType = q.numberFilterType;\r\n  qI.StringFilterType = q.stringFilterType;\r\n  qI.Values = q.values;\r\n  qI.CategoryType = categoryType;\r\n  return qI;\r\n}\r\n\r\nexport const Clone = (q) => {\r\n  if (!q) return q;\r\n  var qI = new EntFilter();\r\n  qI.ValueType = q.ValueType;\r\n  qI.NumberFilterType = q.NumberFilterType;\r\n  qI.StringFilterType = q.StringFilterType;\r\n  qI.Values = [...q.Values];\r\n  qI.CategoryType = q.CategoryType;\r\n  return qI;\r\n}\r\n\r\nexport const GetValueStorageList = (q) => {\r\n  var list = [];\r\n\r\n  switch (q.CategoryType) {\r\n    case fct.category:\r\n      list = categoryData().CategoryNames;\r\n      break;\r\n    case fct.parameter:\r\n      list = pmData().ParameterNames;\r\n      break;\r\n  }\r\n\r\n  return list;\r\n}\r\n\r\nexport const GetApiData = (q) => {\r\n  return {\r\n    valueType: q.ValueType,\r\n    numberFilterType: q.NumberFilterType,\r\n    stringFilterType: q.StringFilterType,\r\n    values: q.Values\r\n  }\r\n}\r\n\r\nexport const IsValid = (filter, value) => {\r\n  if (value === undefined || value === null) return false;\r\n\r\n  var isValid = false;\r\n  var filterValues = filter.Values;\r\n  switch (filter.ValueType) {\r\n    case fvt.bystring:\r\n      if (typeof value === 'string') {\r\n        var filterType = filter.StringFilterType;\r\n        switch (filterType) {\r\n          case sft.byequal:\r\n            filterValues.forEach(x => {\r\n              if (!isValid && x === value) {\r\n                isValid = true;\r\n              }\r\n            })\r\n            break;\r\n          case sft.bycontain:\r\n            var lowerVal = value.toLowerCase();\r\n            filterValues.forEach(x => {\r\n              if (!isValid && lowerVal.includes(x.toLowerCase())) {\r\n                isValid = true;\r\n              }\r\n            })\r\n            break;\r\n          case sft.bynotcontain:\r\n            var lowerVal = value.toLowerCase();\r\n            isValid = true;\r\n            filterValues.forEach(x => {\r\n              if (isValid && lowerVal.includes(x.toLowerCase())) {\r\n                isValid = false;\r\n              }\r\n            })\r\n            break;\r\n        }\r\n      }\r\n      break;\r\n    case fvt.bynumber:\r\n      if (!isNaN(value)) {\r\n        var filterType = filter.NumberFilterType;\r\n        switch (filterType) {\r\n          case nft.byequal:\r\n            return value === filterValues[0];\r\n          case nft.bysmaller:\r\n            return value < filterValues[0];\r\n          case nft.bysmallerorequal:\r\n            return value <= filterValues[0];\r\n          case nft.bybigger:\r\n            return value > filterValues[0];\r\n          case nft.bybiggerorequal:\r\n            return value >= filterValues[0];\r\n          case nft.bybetween:\r\n            var leftVal = filterValues[0];\r\n            var rightVal = filterValues[1];\r\n            return (filter.IsEqualLeft && leftVal === value) ||\r\n              leftVal < value && value < rightVal\r\n              || (filter.IsEqualRight && value === rightVal);\r\n        }\r\n      }\r\n      break;\r\n  }\r\n\r\n  L1:\r\n  return isValid;\r\n}","import * as util from './EntFilterUtil'\r\n\r\nexport class EntFilter\r\n{\r\n  ValueType\r\n  NumberFilterType\r\n  StringFilterType\r\n  IsEqualLeft\r\n  IsEqualRight\r\n\r\n  values\r\n  get Values(){\r\n    return this.values;\r\n  }\r\n  set Values(v){\r\n    this.values = v;\r\n  }\r\n\r\n  CategoryType\r\n\r\n  valueStorageList\r\n  get ValueStorageList(){\r\n    if (!this.valueStorageList){\r\n      this.valueStorageList = util.GetValueStorageList(this);\r\n    }\r\n    return this.valueStorageList;\r\n  }\r\n\r\n  get ApiData() {\r\n    return util.GetApiData(this);\r\n  }\r\n}","export const byuser = 'byuser'\r\nexport const byauto = 'byauto'","import MGI_Item from \"./MGI_Item\";\r\nimport * as ct from './MGI_I_CreateType'\r\nimport * as genUtil from '../../../../../../util/generalUtil'\r\n\r\nexport const create = (mgi, createType) => {\r\n  var qI = new MGI_Item();\r\n  qI.MassGroupItem = mgi;\r\n\r\n  if (!createType) {\r\n    qI.CreateType = ct.byauto;\r\n  }else{\r\n    qI.CreateType = ct.byuser;\r\n    qI.Value = genUtil.newGUID();\r\n    qI.Title = 'Tên đầu mục';\r\n  }\r\n\r\n  return qI;\r\n}\r\n\r\nexport const getFromDb = (data, mgi) => {\r\n  var qI = new MGI_Item();\r\n  qI.Value = data.value;\r\n  qI.Title = data.title;\r\n  qI.newMGI_id = data.newMGI_id;\r\n  qI.MassGroupItem = mgi;\r\n  qI.CreateType = data.createType ? data.createType : ct.byauto\r\n\r\n  return qI;\r\n}\r\n\r\nexport const Clone = (q, mgi) => {\r\n  var qI = new MGI_Item();\r\n  qI.Value = q.Value;\r\n  qI.Title = q.Title;\r\n  qI.newMGI_id = q.newMGI_id;\r\n  qI.MassGroupItem = mgi;\r\n  qI.CreateType = q.CreateType;\r\n  return qI;\r\n}\r\n\r\nexport const GetNewMGI = (q) => {\r\n  var _id = q.newMGI_id;\r\n  if (!_id) return undefined;\r\n  var list = q.MassGroupItem.SupComponent.AllItems;\r\n  \r\n  var index = list.findIndex(x => x._id === _id);\r\n  return index !== -1 ? list[index] : undefined;\r\n}","import * as util from './MGI_ItemUtil'\r\n\r\nexport default class MGI_Item {\r\n  Value\r\n\r\n  get Index() {\r\n    return this.MassGroupItem.Items.indexOf(this);\r\n  }\r\n\r\n  title\r\n  get Title(){\r\n    if (!this.title){\r\n      this.title = this.Value;\r\n    }\r\n    return this.title;\r\n  }\r\n  set Title(v){\r\n    this.title = v;\r\n  }\r\n\r\n  newMGI\r\n  get NewMGI(){\r\n    if (!this.newMGI){\r\n      this.newMGI = util.GetNewMGI(this);\r\n\r\n      if (!this.newMGI && this.newMGI_id){\r\n        this.newMGI_id = undefined;\r\n      }\r\n    }\r\n    return this.newMGI;\r\n  }\r\n  set NewMGI(v){\r\n    this.newMGI = v;\r\n    if (!v || v === this.MassGroupItem){\r\n      this.newMGI_id = undefined;\r\n    }\r\n    else{\r\n      this.newMGI_id = v.id;\r\n    }\r\n  }\r\n\r\n  newMGI_id\r\n\r\n  get ApiData(){\r\n    return {\r\n      value : this.Value,\r\n      title : this.Title,\r\n      newMGI_id : this.newMGI_id,\r\n      createType : this.CreateType\r\n    }\r\n  }\r\n\r\n  Delete = () => {\r\n    this.MassGroupItem.Items.splice(this.Index, 1);\r\n  }\r\n}","import * as genUtil from '../../../../../../util/generalUtil'\r\nimport MGI_Item from './MGI_Item'\r\nimport * as itemUtil from './MGI_ItemUtil'\r\nimport * as mgii_ct from './MGI_I_CreateType'\r\nimport * as rowUtil from '../MassRowUtil'\r\nimport * as util from './MassGroupItemUtil'\r\n\r\nexport default class MassGroupItem {\r\n  Field\r\n  SubComponents = []\r\n  NotIncludeValues = []\r\n  IsHaveValueOrder\r\n  BindingRows\r\n  SupComponent\r\n\r\n  Items = []\r\n\r\n  _id\r\n  get id() {\r\n    if (!this._id) {\r\n      this._id = genUtil.newGUID();\r\n    }\r\n    return this._id;\r\n  }\r\n  set id(v) {\r\n    this._id = v;\r\n  }\r\n\r\n  get Index() {\r\n    return this.SupComponent.Items.indexOf(this);\r\n  }\r\n\r\n  get OrderItems() {\r\n    return this.Items;\r\n  }\r\n\r\n  get OrderValues() {\r\n    return this.Items.map(x => x.Value);\r\n  }\r\n\r\n  get ApiData() {\r\n    var items = this.Items.map(x => x.ApiData);\r\n\r\n    return {\r\n      _id: this.id,\r\n      field: this.Field,\r\n      subComponents: this.SubComponents.map(x => x.ApiData),\r\n      valueOrders: this.ValueOrders,\r\n      notIncludeValues: this.NotIncludeValues,\r\n      items\r\n    }\r\n  }\r\n\r\n  AddNotIncludeValue = (v) => {\r\n    var index = this.NotIncludeValues.indexOf(v);\r\n    if (index === -1) {\r\n      this.NotIncludeValues.push(v);\r\n    }\r\n  }\r\n\r\n  GetItem = (v, title) => {\r\n    var index = this.Items.findIndex(x => x.Value === v);\r\n    if (index === -1) {\r\n      var item = itemUtil.create(this)\r\n      item.Value = v;\r\n      item.Title = title;\r\n      this.Items.push(item);\r\n      return item;\r\n    }\r\n    return this.Items[index];\r\n  }\r\n\r\n  supRow\r\n  get SupRow() {\r\n    return this.supRow;\r\n  }\r\n  set SupRow(v) {\r\n    this.supRow = v;\r\n    if (!this.IsFirstSetSupRow) {\r\n      this.IsFirstSetSupRow = true;\r\n      this.HandleCreatedByUserRows();\r\n    }\r\n  }\r\n\r\n  OnIsFirstSetSupRow_Funcs = []\r\n\r\n  isFirstSetSupRow\r\n  get IsFirstSetSupRow() {\r\n    return this.isFirstSetSupRow;\r\n  }\r\n  set IsFirstSetSupRow(v) {\r\n    this.isFirstSetSupRow = v;\r\n    this.OnIsFirstSetSupRow_Funcs.forEach(x => x());\r\n  }\r\n\r\n  get HaveMassItemSubComponents() {\r\n    return this.SubComponents.filter(x => x.IsHaveMassItem);\r\n  }\r\n\r\n  table\r\n  get Table() {\r\n    if (!this.table) {\r\n      this.table = util.GetTable(this);\r\n    }\r\n    return this.table;\r\n  }\r\n  set Table(v) {\r\n    this.table = v;\r\n  }\r\n\r\n  HandleCreatedByUserRows = () => {\r\n    var userItems = this.Items\r\n      .filter(x => x.CreateType === mgii_ct.byuser);\r\n\r\n    userItems.forEach(x => {\r\n      var value = x.Value;\r\n\r\n      const addRow = (supRow) => {\r\n        var row = this.Table.GetRow(value, supRow);\r\n        row.FullValue = value;\r\n        row.IsCreatedByUser = true;\r\n        return row;\r\n      }\r\n\r\n      const handleRow = (row) => {\r\n        row.MassGroupItem = this;\r\n        handleNonField(row);\r\n      }\r\n\r\n      const handleNonField = (row) => {\r\n        var subMgcIndex = this.SubComponents.findIndex(y => \r\n          y.Filter.Values.includes(x.Value))\r\n        if (subMgcIndex !== -1){\r\n          var subMgi = this.SubComponents[subMgcIndex].Items[0];\r\n          subMgi.SupRow = row;\r\n        }\r\n      }\r\n\r\n      var replaceMgi = x.NewMGI;\r\n      if (replaceMgi) {\r\n        replaceMgi.GetItem(value);\r\n        this.Table.Handle_ReplaceMGI(replaceMgi, addRow, handleRow);\r\n      } else{\r\n        handleRow(addRow(this.SupRow));\r\n      }\r\n    })\r\n  }\r\n}","import * as util from './MassGroupComponentUtil'\r\n\r\nexport default class MassGroupComponent {\r\n  Filter\r\n  Items\r\n  SupItem\r\n\r\n  originComponent\r\n  get OriginComponent(){\r\n    if (!this.originComponent){\r\n      this.originComponent = util.GetOriginComponent(this);\r\n    }\r\n    return this.originComponent;\r\n  }\r\n\r\n  get ApiData() {\r\n    return {\r\n      filter : this.Filter ? this.Filter.ApiData : undefined,\r\n      items: this.Items.map(x => x.ApiData)\r\n    }\r\n  }\r\n\r\n  get AllItems(){\r\n    return this.OriginComponent.AllSubItems;\r\n  }\r\n\r\n  get AllSubItems(){\r\n    var list = [...this.Items];\r\n    this.Items.forEach(x => \r\n      x.SubComponents.forEach(y => list.push.apply(list, y.AllSubItems)));\r\n    return list;\r\n  }\r\n}","import MassGroupComponent from \"./MassGroupComponent\"\r\nimport * as filterUtil from '../../../filter/EntFilterUtil'\r\nimport * as itemUtil from './MassGroupItemUtil'\r\nimport { PMData } from \"../../../../single/model/PMData\"\r\n\r\nexport const pmData = () => {\r\n  return PMData.Instance;\r\n}\r\n\r\nexport const get = (data, supItem) => {\r\n  var qI = new MassGroupComponent();\r\n\r\n  qI.Filter = data.filter ? filterUtil.get(data.filter) : undefined;\r\n\r\n  qI.Items = data.items.map(x => itemUtil.getFromDb(x, qI));\r\n  qI.SupItem = supItem;\r\n  return qI;\r\n}\r\n\r\nexport const Clone = (q, supItem) => {\r\n  if (!q) return q;\r\n  var qI = new MassGroupComponent();\r\n  qI.Filter = filterUtil.Clone(q.Filter);\r\n\r\n  qI.Items = q.Items.map(x => itemUtil.Clone(x, qI));\r\n  qI.SupItem = supItem;\r\n  return qI;\r\n}\r\n\r\nexport const GetOriginComponent = (q) => {\r\n  return q.SupItem ? q.SupItem.SupComponent.OriginComponent : q;\r\n}","import MassGroupItem from \"./MassGroupItem\"\r\nimport * as compUtil from './MassGroupComponentUtil'\r\nimport * as itemUtil from './MGI_ItemUtil'\r\nimport { PMData } from \"../../../../single/model/PMData\";\r\n\r\nexport const pmData = () => {\r\n  return PMData.Instance;\r\n}\r\n\r\nexport const get = (field, subComps, supCom) => {\r\n  var qI = new MassGroupItem();\r\n  qI.Field = field;\r\n  qI.SupComponent = supCom;\r\n  if (subComps) {\r\n    qI.SubComponents = subComps;\r\n  }\r\n  return qI;\r\n}\r\n\r\nexport const getFromDb = (data, supCom) => {\r\n  var qI = new MassGroupItem();\r\n  qI._id = data._id;\r\n  qI.Field = data.field;\r\n  qI.SupComponent = supCom;\r\n  qI.SubComponents = data.subComponents ? data.subComponents.map(x => compUtil.get(x, qI))\r\n    : [];\r\n\r\n  if (data.items) {\r\n    qI.Items = data.items.map(x => itemUtil.getFromDb(x, qI))\r\n      .filter(x => x.Value);\r\n    qI.IsHaveValueOrder = true;\r\n  } else {\r\n    qI.Items = []\r\n    qI.IsHaveValueOrder = false;\r\n  }\r\n\r\n  qI.NotIncludeValues = data.notIncludeValues ? data.notIncludeValues : [];\r\n\r\n  return qI;\r\n}\r\n\r\nexport const Clone = (q, supCom) => {\r\n  if (!q) return q;\r\n  var qI = new MassGroupItem();\r\n  qI.id = q.id;\r\n  qI.Field = q.Field;\r\n  qI.Items = q.Items.map(x => itemUtil.Clone(x, qI));\r\n  qI.NotIncludeValues = [...q.NotIncludeValues];\r\n  qI.IsHaveValueOrder = q.IsHaveValueOrder;\r\n  qI.SupComponent = supCom;\r\n  qI.SubComponents = q.SubComponents.map(x => compUtil.Clone(x, qI));\r\n  return qI;\r\n}\r\n\r\nexport const GetTable = (q) => {\r\n  return q.SupComponent.SupItem.Table;\r\n}","import { MultiSelectVM } from \"./MultiSelectVM\";\r\n\r\nexport const get = (items, initialItems) => {\r\n  var qI = new MultiSelectVM();\r\n  qI.Items = items;\r\n  qI.InitialItems = initialItems;\r\n  return qI;\r\n}\r\n\r\nexport const GetTitleRender = (q) => {\r\n  return (item) => item.DisplayContent ? item.DisplayContent : `${item}`;\r\n}","import { makeObservable, observable, action } from 'mobx';\r\nimport * as util from './MultiSelectVMUtil'\r\n\r\nexport class MultiSelectVM {\r\n  constructor() {\r\n    makeObservable(this, {\r\n      items: observable,\r\n      selectedIndexs: observable,\r\n      open : observable,\r\n      canOpen : observable\r\n    })\r\n  }\r\n\r\n  items = undefined\r\n  get Items() {\r\n    return this.items;\r\n  }\r\n  set Items(v) {\r\n    this.items = v;\r\n  }\r\n\r\n  initialItems;\r\n  get InitialItems() {\r\n    return this.initialItems;\r\n  }\r\n  set InitialItems(v){\r\n    this.initialItems = v;\r\n    this.InitialIndexs = this.GetInitialIndexs();\r\n    this.SelectedIndexs = this.InitialIndexs;\r\n  }\r\n\r\n  initialIndexs;\r\n  get InitialIndexs() {\r\n    if (!this.initialIndexs) {\r\n      this.initialIndexs = this.GetInitialIndexs();\r\n    }\r\n    return this.initialIndexs;\r\n  }\r\n  set InitialIndexs(v){\r\n    this.initialIndexs = v;\r\n  }\r\n\r\n  GetInitialIndexs =() => {\r\n    var initialItems = this.InitialItems;\r\n    if (!initialItems) return [];\r\n    return initialItems.map(x => this.Items.indexOf(x)).filter(x => x !== -1);\r\n  }\r\n\r\n  selectedIndexs = []\r\n  get SelectedIndexs() {\r\n    return this.selectedIndexs;\r\n  }\r\n  set SelectedIndexs(v) {\r\n    this.selectedIndexs = v;\r\n    this.SelectedItems = this.GetSelectedItems();\r\n  }\r\n\r\n  selectedItems\r\n  get SelectedItems() {\r\n    if (!this.selectedItems) {\r\n      this.selectedItems = this.GetSelectedItems();\r\n    }\r\n    return this.selectedItems;\r\n  }\r\n  set SelectedItems(v) {\r\n    this.selectedItems = v;\r\n    if (this.OnSelectedItemChanged) {\r\n      this.OnSelectedItemChanged(v);\r\n    }\r\n  }\r\n\r\n  GetSelectedItems = () => {\r\n    return this.SelectedIndexs.map(x => this.Items[x]);\r\n  }\r\n\r\n  placeholder\r\n  get Placeholder() {\r\n    if (!this.placeholder) {\r\n      this.placeholder = \"chọn đối tượng ...\";\r\n    }\r\n    return this.placeholder;\r\n  }\r\n  set Placeholder(v) {\r\n    this.placeholder = v;\r\n  }\r\n\r\n  titleRender\r\n  get TitleRender() {\r\n    if (!this.titleRender){\r\n      this.titleRender = util.GetTitleRender(this);\r\n    }\r\n    return this.titleRender;\r\n  }\r\n  set TitleRender (v){\r\n    this.titleRender = v;\r\n  }\r\n\r\n  open = false\r\n  get Open(){\r\n    return this.open;\r\n  }\r\n  set Open(v){\r\n    this.open = v;\r\n    if (this.OnSetOpen){\r\n      this.OnSetOpen(v);\r\n    }\r\n  }\r\n\r\n  canOpen = true\r\n  get CanOpen(){\r\n    return this.canOpen;\r\n  } set CanOpen(v){\r\n    this.canOpen = v;\r\n  }\r\n}","import { Component } from \"react\";\r\nimport { makeObservable, observable, action } from 'mobx';\r\nimport { observer } from 'mobx-react';\r\nimport { Button, Select } from \"antd\";\r\nimport { MultiSelectVM } from \"./MultiSelectVM\";\r\nimport * as genUtil from '../../util/generalUtil'\r\n\r\nconst { Option } = Select;\r\n\r\nclass MultiSelectView extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    var { store } = this.props;\r\n    if (!store) {\r\n      this.state = new MultiSelectVM();\r\n    } else {\r\n      this.state = store;\r\n    }\r\n  }\r\n\r\n  onValueChange = (v) => {\r\n    var data = this.state;\r\n    data.SelectedIndexs = v;\r\n  }\r\n\r\n  onDropdownVisibleChange = (v) => {\r\n    var data = this.state;\r\n    data.Open = v;\r\n  }\r\n\r\n  render() {\r\n    var data = this.state;\r\n    var style = this.props.style ? this.props.style : { width: '100%' }; \r\n    var { Placeholder, Items, SelectedIndexs, InitialIndexs } = data;\r\n\r\n    if (SelectedIndexs.length === 0) {\r\n      SelectedIndexs = InitialIndexs;\r\n      data.InitialIndexs = [];\r\n    }\r\n\r\n    var elems = Items ? Items.map((item, index) => {\r\n      var displayContent = data.TitleRender(item);\r\n\r\n      var id = undefined;\r\n      if (item === undefined){\r\n        id = genUtil.randomId();\r\n      }else if (typeof item === 'string' || !isNaN(item)) {\r\n        id = item;\r\n      } else {\r\n        id = item._id ? item._id : item.id;\r\n      }\r\n      return <Option key={id} value={index}>{displayContent}</Option>\r\n    }) : \"\";\r\n\r\n    return (\r\n      <>\r\n        <Select style={style}\r\n          mode=\"multiple\"\r\n          placeholder={Placeholder}\r\n          optionFilterProp=\"children\"\r\n          onChange={this.onValueChange}\r\n          value={SelectedIndexs}\r\n          filterOption={(input, option) =>\r\n            option.children.toLowerCase().indexOf(input.toLowerCase()) >= 0\r\n          }\r\n          open={data.CanOpen && data.Open}\r\n          onDropdownVisibleChange={this.onDropdownVisibleChange}\r\n        >\r\n          {elems}\r\n        </Select>\r\n      </>\r\n    )\r\n  }\r\n}\r\n\r\nexport default observer(MultiSelectView)","import { makeObservable, observable, action } from 'mobx';\r\n\r\nexport default class EntHoverVM {\r\n  constructor() {\r\n    makeObservable(this, {\r\n      IsElementVisible: observable,\r\n    })\r\n  }\r\n\r\n  IsElementVisible = false;\r\n\r\n  ShowElement = () => {\r\n    this.IsElementVisible =  true;\r\n  }\r\n\r\n  HideElement = () => {\r\n    this.IsElementVisible =  false;\r\n  }\r\n}","import React, { Component } from \"react\";\r\nimport ReactDOM from 'react-dom'\r\nimport { makeObservable, observable, action } from 'mobx';\r\nimport { observer } from 'mobx-react';\r\nimport EntHoverVM from \"./EntHoverVM\";\r\n\r\nclass EntHoverView extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    var { store } = this.props;\r\n    if (!store) {\r\n      this.state = new EntHoverVM();\r\n    } else {\r\n      this.state = store;\r\n    }\r\n  }\r\n\r\n  render() {\r\n    var data = this.state;\r\n    if (!data.style) {\r\n      var style = this.props.style ? this.props.style : {};\r\n      if (!style.minWidth) {\r\n        style.minWidth = 150;\r\n      }\r\n      data.style = style;\r\n    }\r\n\r\n    return (\r\n      <>\r\n        <div onMouseEnter={data.ShowElement} style={data.style}\r\n          onMouseLeave={data.HideElement}>\r\n          {data.IsElementVisible ? data.Element : ''}\r\n        </div>\r\n      </>\r\n    )\r\n  }\r\n}\r\n\r\nexport default observer(EntHoverView)","import { SelectVM } from \"./SelectVM\";\r\n\r\nexport const get = (items, initialItem) => {\r\n  var qI = new SelectVM();\r\n  qI.Items = items;\r\n  qI.InitialItem = initialItem;\r\n  return qI;\r\n}\r\n\r\nexport const GetTitleRender = (q) => {\r\n  return (item) => item.DisplayContent ? item.DisplayContent : `${item}`;\r\n}","import { makeObservable, observable, action } from 'mobx';\r\nimport * as util from './SelectVMUtil'\r\n\r\nexport class SelectVM {\r\n  constructor() {\r\n    makeObservable(this, {\r\n      items : observable,\r\n      selectedIndex : observable,\r\n      CanClear :observable,\r\n      open : observable,\r\n      canOpen : observable\r\n    })\r\n  }\r\n\r\n  items = undefined\r\n  get Items(){\r\n    if (!this.items){\r\n      this.items = [];\r\n    }\r\n    return this.items;\r\n  }\r\n  set Items(v){\r\n    this.items = v;\r\n  }\r\n\r\n  initialItem = undefined\r\n  get InitialItem() {\r\n    return this.initialItem;\r\n  }\r\n  set InitialItem(v){\r\n    this.initialItem = v;\r\n    this.InitialIndex = this.GetInitialIndex();\r\n    this.SelectedIndex = this.InitialIndex;\r\n  }\r\n\r\n  initialIndex\r\n  get InitialIndex(){\r\n    if (!this.initialIndex){\r\n      this.initialIndex = this.GetInitialIndex();\r\n    }\r\n    return this.initialIndex;\r\n  }\r\n  set InitialIndex(v){\r\n    this.initialIndex = v;\r\n  }\r\n\r\n  GetInitialIndex = () => {\r\n    var index = this.Items.indexOf(this.InitialItem);\r\n    return index !== -1 ? index : null;\r\n  }\r\n\r\n  selectedIndex = undefined\r\n  get SelectedIndex(){\r\n    return this.selectedIndex;\r\n  }\r\n  set SelectedIndex(v){\r\n    this.selectedIndex = v;\r\n    this.SelectedItem = this.GetSelectedItem();\r\n  }\r\n\r\n  selectedItem\r\n  get SelectedItem (){\r\n    if (!this.selectedItem){\r\n      this.selectedItem = this.GetSelectedItem();\r\n    }\r\n    return this.selectedItem;\r\n  }\r\n  set SelectedItem (v) {\r\n    this.selectedItem = v;\r\n    if (this.OnSelectedItemChanged){\r\n      this.OnSelectedItemChanged(v);\r\n    }\r\n  }\r\n\r\n  GetSelectedItem = () => {\r\n    var index = this.SelectedIndex;\r\n    if (index === -1) return undefined;\r\n    return this.Items[index];\r\n  }\r\n\r\n  placeholder\r\n  get Placeholder(){\r\n    if (!this.placeholder){\r\n      this.placeholder = \"chọn đối tượng ...\";\r\n    }\r\n    return this.placeholder;\r\n  }\r\n  set Placeholder(v){\r\n    this.placeholder = v;\r\n  }\r\n\r\n  CanClear = false\r\n\r\n  Clear = () => {\r\n    this.SelectedIndex = null\r\n  }\r\n  \r\n  get DivStyle() {\r\n    return this.CanClear ? { \r\n      position: 'relative', \r\n      padding: '0 22px 0 0' \r\n    } : {};\r\n  }\r\n\r\n  titleRender\r\n  get TitleRender() {\r\n    if (!this.titleRender){\r\n      this.titleRender = util.GetTitleRender(this);\r\n    }\r\n    return this.titleRender;\r\n  }\r\n  set TitleRender (v){\r\n    this.titleRender = v;\r\n  }\r\n\r\n  open = false\r\n  get Open(){\r\n    return this.open;\r\n  }\r\n  set Open(v){\r\n    this.open = v;\r\n    if (this.OnSetOpen){\r\n      this.OnSetOpen(v);\r\n    }\r\n  }\r\n\r\n  canOpen = true\r\n  get CanOpen(){\r\n    return this.canOpen;\r\n  } set CanOpen(v){\r\n    this.canOpen = v;\r\n  }\r\n}","import { makeObservable, observable, action } from 'mobx';\r\n\r\nexport default class FloatItemVM {\r\n  location\r\n\r\n  className\r\n  getClassName = () => {\r\n    if (!this.className){\r\n      this.className = `float ${this.location}`;\r\n    }\r\n    return this.className\r\n  }\r\n}","import FloatItemVM from \"./FloatItemVM\";\r\n\r\nexport const get = (loc) => {\r\n  var qI = new FloatItemVM();\r\n  qI.location = loc;\r\n  return qI;\r\n}","import React, { Component } from 'react';\r\nimport { observer } from 'mobx-react';\r\nimport * as floatItemVMUtil from './FloatItemVMUtil'\r\n\r\nclass FloatItemView extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    var { store } = this.props;\r\n    if (!store) {\r\n      this.state = floatItemVMUtil.get('top right', 'Test')\r\n    }else{\r\n      this.state = store;\r\n    }\r\n  }\r\n\r\n  getWrapperContent = () => {\r\n    var { wrapper } = this.state;\r\n    if (!wrapper) return '';\r\n    return wrapper;\r\n  }\r\n\r\n  render() {\r\n    var data = this.state;\r\n\r\n    return (\r\n      <>\r\n        <span className={data.getClassName()}>{this.getWrapperContent()}</span>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default observer(FloatItemView);\r\n","import { Component } from \"react\";\r\nimport { makeObservable, observable, action } from 'mobx';\r\nimport { observer } from 'mobx-react';\r\nimport { Button, Select } from \"antd\";\r\nimport { SelectVM } from \"./SelectVM\";\r\nimport * as floatItemVMUtil from '../float/FloatItemVMUtil'\r\nimport FloatItemView from \"../float/FloatItemView\";\r\nimport * as genUtil from '../../util/generalUtil'\r\n\r\nconst { Option } = Select;\r\n\r\nclass SelectView extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    var { store } = this.props;\r\n    if (!store) {\r\n      this.state = new SelectVM();\r\n    } else {\r\n      this.state = store;\r\n    }\r\n  }\r\n\r\n  onValueChange = (v) => {\r\n    var data = this.state;\r\n    data.SelectedIndex = v;\r\n  }\r\n\r\n  onDropdownVisibleChange = (v) => {\r\n    var data = this.state;\r\n    data.Open = v;\r\n  }\r\n\r\n  render() {\r\n    var data = this.state;\r\n    var className = this.props.className ? this.props.className : ''\r\n    var style = this.props.style ? this.props.style : { width: '100%' };\r\n    var { Placeholder, Items, SelectedIndex, InitialIndex } = data;\r\n\r\n    if (SelectedIndex === -1) {\r\n      SelectedIndex = InitialIndex;\r\n      data.InitialIndex = -1;\r\n    }\r\n\r\n    var elems = Items ? Items.map((item, index) => {\r\n      var displayContent = data.TitleRender(item);\r\n\r\n      var id = undefined;\r\n      if (item === undefined) {\r\n        id = genUtil.randomId();\r\n      } else if (typeof item === 'string' || !isNaN(item)) {\r\n        id = item;\r\n      } else {\r\n        id = item._id ? item._id : item.id;\r\n      }\r\n      return <Option key={id} value={index}>{displayContent}</Option>\r\n    }) : \"\";\r\n\r\n    var floatElem = ''\r\n    if (data.CanClear) {\r\n      var floatItemStore = floatItemVMUtil.get('right')\r\n      floatItemStore.wrapper = <Button size='small' type='primary'\r\n        onClick={data.Clear}>x</Button>\r\n\r\n      floatElem = <FloatItemView store={floatItemStore} />;\r\n    }\r\n\r\n    return (\r\n      <>\r\n        <div className={className}\r\n          style={data.DivStyle} >\r\n          {floatElem}\r\n          <Select style={style}\r\n            showSearch\r\n            placeholder={Placeholder}\r\n            optionFilterProp=\"children\"\r\n            onChange={this.onValueChange}\r\n            value={SelectedIndex}\r\n            filterOption={(input, option) =>\r\n              option.children.toLowerCase().indexOf(input.toLowerCase()) >= 0\r\n            }\r\n            open={data.CanOpen && data.Open}\r\n            onDropdownVisibleChange={this.onDropdownVisibleChange}\r\n          >\r\n            {elems}\r\n          </Select>\r\n        </div>\r\n      </>\r\n    )\r\n  }\r\n}\r\n\r\nexport default observer(SelectView)","export const inside = 'inside'\r\nexport const lower = 'lower'","import { makeObservable, observable, action } from 'mobx';\r\nimport * as util from './ReplaceRowLocationFactoryUtil'\r\nimport { PMData } from '../../../../single/model/PMData';\r\nimport * as lt from './RRLF_LocationType'\r\n\r\nexport const pmData = () => {\r\n  return PMData.Instance\r\n}\r\n\r\nexport default class ReplaceRowLocationFactory {\r\n  constructor() {\r\n    makeObservable(this, {\r\n      Location: observable,\r\n    })\r\n  }\r\n\r\n  ReferenceRow\r\n  Location = lt.inside\r\n\r\n  get Color(){\r\n    return util.GetColor(this);\r\n  }\r\n\r\n  get ButtonStyle(){\r\n    return {\r\n      width: 50,\r\n      backgroundColor: this.Color,\r\n      border: 'none'\r\n    };\r\n  }\r\n\r\n  ToggleLocation = () =>{\r\n    switch (this.Location) {\r\n      case lt.inside:\r\n        this.Location = lt.lower;\r\n        break;\r\n      case lt.lower:\r\n        this.Location = lt.inside;\r\n        break;\r\n    }\r\n  }\r\n}","import * as lt from './RRLF_LocationType'\r\n\r\nexport const GetColor = (v) => {\r\n  switch (v.Location) {\r\n    case lt.inside:\r\n      return \"#52c41a\";\r\n    case lt.lower:\r\n      return \"#faad14\";\r\n  }\r\n}","import { makeObservable, observable, action } from 'mobx';\r\nimport TextView from '../../../../text/TextView';\r\nimport * as textVMUtil from '../../../../text/TextVMUtil';\r\nimport * as util from './MassRowUtil'\r\nimport * as genUtil from '../../../../../util/generalUtil'\r\nimport { EntFilter } from '../../filter/EntFilter';\r\nimport * as fvt from '../../filter/FilterValueType'\r\nimport * as sft from '../../filter/StringFilterType'\r\nimport * as mgiUtil from './rowgroup/MassGroupItemUtil'\r\nimport MassGroupComponent from './rowgroup/MassGroupComponent';\r\nimport Modal from 'antd/lib/modal/Modal';\r\nimport MultiSelectView from '../../../../select/MultiSelectView';\r\nimport { Col, Row, Space, Button } from 'antd';\r\nimport EntHoverVM from '../../../../hover/EntHoverVM';\r\nimport EntHoverView from '../../../../hover/EntHoverView';\r\nimport { DownCircleOutlined, EnterOutlined, UpCircleOutlined } from '@ant-design/icons';\r\nimport SelectView from '../../../../select/SelectView';\r\nimport ReplaceRowLocationFactory from './location/ReplaceRowLocationFactory';\r\nimport * as rrlf_lt from './location/RRLF_LocationType';\r\nimport { PMData } from '../../../single/model/PMData';\r\nimport InputView from '../../../../input/InputView';\r\nimport * as mif from '../item/MassItemField'\r\n\r\nexport const pmData = () => {\r\n  return PMData.Instance;\r\n}\r\n\r\n\r\nexport default class MassRow {\r\n  constructor() {\r\n    makeObservable(this, {\r\n      rank: observable,\r\n      isShowSub: observable,\r\n      isHaveSub: observable,\r\n      IsToolVisible: observable,\r\n      SubItems: observable,\r\n      IsModalVisible: observable,\r\n      title: observable\r\n    })\r\n  }\r\n\r\n  _id\r\n  get id() {\r\n    if (!this._id) {\r\n      this._id = genUtil.randomId();\r\n    }\r\n    return this._id;\r\n  }\r\n\r\n  get Index() {\r\n    return this.CurrentList.indexOf(this);\r\n  }\r\n\r\n  supItem\r\n  get SupItem() {\r\n    return this.supItem;\r\n  }\r\n  set SupItem(v) {\r\n    this.supItem = v;\r\n    this.CurrentList = undefined;\r\n    this.Rank = undefined;\r\n  }\r\n\r\n  currentList\r\n  get CurrentList() {\r\n    if (!this.currentList) {\r\n      this.currentList = this.SupItem ? this.SupItem.SubItems : this.Table.MainRows;\r\n    }\r\n    return this.currentList;\r\n  }\r\n  set CurrentList(v) {\r\n    this.currentList = v;\r\n  }\r\n\r\n  get Table() {\r\n    return this.Dict;\r\n  }\r\n\r\n  SubItems = []\r\n\r\n  get AllItems() {\r\n    var list = [];\r\n    list.push(this);\r\n    this.SubItems.forEach(x => {\r\n      list.push.apply(list, x.AllItems)\r\n    });\r\n    return list;\r\n  }\r\n\r\n  Cells = []\r\n\r\n  get Items() {\r\n    return this.Cells.reduce((a, b) => a.concat(b.Items), []);\r\n  }\r\n\r\n  massGroupItem\r\n  get MassGroupItem() {\r\n    return this.massGroupItem;\r\n  }\r\n  set MassGroupItem(v) {\r\n    this.massGroupItem = v;\r\n    if (v) {\r\n      var title = v.GetItem(this.FullValue).Title;\r\n        this.Title = title;\r\n    }\r\n  }\r\n\r\n  get Field() {\r\n    return this.MassGroupItem.Field;\r\n  }\r\n\r\n  ReplaceMGI\r\n\r\n  get OrderMGI() {\r\n    return this.ReplaceMGI ? this.ReplaceMGI : this.MassGroupItem;\r\n  }\r\n\r\n  subMassGroupItem\r\n  get SubMassGroupItem() {\r\n    if (!this.subMassGroupItem) {\r\n      this.subMassGroupItem = util.GetSubMassGroupItem(this);\r\n    }\r\n    return this.subMassGroupItem\r\n  }\r\n  set SubMassGroupItem(v) {\r\n    this.subMassGroupItem = v;\r\n  }\r\n\r\n  subFields\r\n  get SubFields() {\r\n    if (!this.subFields) {\r\n      this.subFields = util.GetSubFields(this);\r\n    }\r\n    return this.subFields;\r\n  }\r\n  set SubFields(v) {\r\n    this.subFields = v;\r\n  }\r\n\r\n  TempSubFields\r\n\r\n  isShowSub = true\r\n  get IsShowSub() {\r\n    return this.isShowSub;\r\n  }\r\n  set IsShowSub(v) {\r\n    this.isShowSub = v;\r\n    this.ToggleButtonContentVM.Content = util.GetToggleButtonContent(this);\r\n  }\r\n\r\n  toggleButtonContent\r\n  get ToggleButtonContent() {\r\n    if (!this.toggleButtonContent) {\r\n      this.toggleButtonContent = util.GetToggleButtonContent(this);\r\n    }\r\n    return this.toggleButtonContent;\r\n  }\r\n  set ToggleButtonContent(v) {\r\n    this.toggleButtonContent = v;\r\n  }\r\n\r\n  toggleButtonContentVM\r\n  get ToggleButtonContentVM() {\r\n    if (!this.toggleButtonContentVM) {\r\n      var obj = this.toggleButtonContentVM = textVMUtil.get(this.ToggleButtonContent);\r\n      obj.OnSetContent = (v) => this.ToggleButtonContent = v;\r\n    }\r\n    return this.toggleButtonContentVM;\r\n  }\r\n\r\n  rank = undefined\r\n  get Rank() {\r\n    if (this.rank === undefined) {\r\n      this.rank = util.GetRank(this);\r\n    }\r\n    return this.rank;\r\n  }\r\n  set Rank(v) {\r\n    this.rank = v;\r\n    this.SubItems.forEach(x => x.Rank = undefined);\r\n  }\r\n\r\n  isHaveSub = undefined\r\n  get IsHaveSub() {\r\n    if (!this.isHaveSub) {\r\n      this.isHaveSub = util.GetIsHaveSub(this);\r\n    }\r\n    return this.isHaveSub;\r\n  }\r\n  set IsHaveSub(v) {\r\n    this.isHaveSub = v;\r\n  }\r\n\r\n  get Style() {\r\n    return util.GetStyle(this);\r\n  }\r\n\r\n  IsToolVisible = false\r\n\r\n  subFieldSelectVM\r\n  get SubFieldSelectVM() {\r\n    if (!this.subFieldSelectVM) {\r\n      this.subFieldSelectVM = util.GetSubFieldSelectVM(this);\r\n    }\r\n    return this.subFieldSelectVM;\r\n  }\r\n\r\n  title = undefined\r\n  get Title() {\r\n    // if (!this.title) {\r\n    //   util.Handle_Title(this);\r\n    // }\r\n    return this.title;\r\n  }\r\n  set Title(v) {\r\n    this.title = v;\r\n    this.TitleVM.Content = v;\r\n  }\r\n\r\n  get LocationStorageList() {\r\n    return this.Table.AllRows;\r\n  }\r\n\r\n  locationSelectVM\r\n  get LocationSelectVM() {\r\n    if (!this.locationSelectVM) {\r\n      this.locationSelectVM = util.GetLocationSelectVM(this);\r\n    }\r\n    return this.locationSelectVM;\r\n  }\r\n\r\n  titleVM\r\n  get TitleVM() {\r\n    if (!this.titleVM) {\r\n      this.titleVM = textVMUtil.get(this.Title, 'tiêu đề');\r\n    }\r\n    return this.titleVM;\r\n  }\r\n\r\n  // Value lồng giữa Row hiện tại và SupRow\r\n  // Ví dụ: concrete__Tầng 6__Dầm\r\n  FullValue\r\n\r\n  GetCellByColumn = (col) => {\r\n    var index = this.Cells.findIndex(x => x.Column === col);\r\n    return index !== -1 ? this.Cells[index] : undefined;\r\n  }\r\n\r\n  UpdateData = () => {\r\n    this.Rank = util.GetRank(this);\r\n    this.IsHaveSub = util.GetIsHaveSub(this);\r\n\r\n    this.SubItems = util.Order(this.SubItems);\r\n    this.SubItems.forEach(x => x.UpdateData());\r\n  }\r\n\r\n  ToggleSub = () => {\r\n    this.IsShowSub = !this.IsShowSub;\r\n  }\r\n\r\n  SetSubFields = () => {\r\n    var tempSubFields = this.TempSubFields ? this.TempSubFields : [];\r\n\r\n    var isSame = true;\r\n    if (this.SubFields.length !== tempSubFields.length) {\r\n      isSame = false;\r\n    } else {\r\n      this.SubFields.forEach((x, i) => {\r\n        if (isSame && x !== tempSubFields[i]) {\r\n          isSame = false;\r\n        }\r\n      })\r\n    }\r\n    if (isSame) return;\r\n    this.SubFields = tempSubFields;\r\n\r\n    var filter = new EntFilter();\r\n    filter.ValueType = fvt.bystring;\r\n    filter.StringFilterType = sft.byequal;\r\n    filter.Values = [this.FullValue];\r\n\r\n    var supMgi = this.MassGroupItem;\r\n\r\n    var mgc = new MassGroupComponent();\r\n    mgc.SubItem = supMgi;\r\n    mgc.Filter = filter;\r\n\r\n    var subMgis = mgc.Items = tempSubFields.map(x => mgiUtil.get(x, null, mgc));\r\n\r\n    var subComps = supMgi.SubComponents;\r\n    if (this.SubMassGroupComponent) {\r\n      var index = subComps.indexOf(this.SubMassGroupComponent);\r\n      subComps[index] = mgc;\r\n    } else {\r\n      subComps.push(mgc);\r\n    }\r\n\r\n    this.SubMassGroupComponent = mgc;\r\n    this.SubItems = [];\r\n    this.SubMassGroupItem = undefined;\r\n\r\n    if (subMgis.length !== 0) {\r\n      var table = this.Table;\r\n      this.Items.forEach(x => {\r\n        table.HandleItem(x, x.GetValue(table.ColumnField), mgc, this);\r\n      })\r\n    }\r\n  }\r\n\r\n  MoveUp = () => {\r\n    var list = this.CurrentList;\r\n    var index = this.Index;\r\n    if (0 === index) return;\r\n\r\n    var orderItems = this.OrderMGI.OrderItems;\r\n    var orderValues = this.OrderMGI.OrderValues;\r\n    var mgiIndex1 = orderValues.indexOf(list[index].FullValue);\r\n    var mgiIndex2 = orderValues.indexOf(list[index - 1].FullValue);\r\n\r\n    genUtil.MoveItem(list, index, index - 1);\r\n    genUtil.MoveItem(orderItems, mgiIndex1, mgiIndex2);\r\n  }\r\n\r\n  MoveDown = () => {\r\n    var list = this.CurrentList;\r\n    var index = this.Index;\r\n    if (list.length - 1 === index) return;\r\n\r\n    var orderItems = this.OrderMGI.OrderItems;\r\n    var orderValues = this.OrderMGI.OrderValues;\r\n    var mgiIndex1 = orderValues.indexOf(list[index].FullValue);\r\n    var mgiIndex2 = orderValues.indexOf(list[index + 1].FullValue);\r\n\r\n    genUtil.MoveItem(list, index, index + 1);\r\n    genUtil.MoveItem(orderItems, mgiIndex1, mgiIndex2);\r\n  }\r\n\r\n  AddSub = () => {\r\n    util.Add(this, this.Table);\r\n  }\r\n\r\n  Delete = () => {\r\n    var supItem = this.SupItem;\r\n    var list = this.CurrentList;\r\n\r\n    if (this.IsCreatedByUser) {\r\n      this.MassGroupItem.GetItem(this.FullValue).Delete();\r\n    } else {\r\n      this.MassGroupItem.AddNotIncludeValue(this.FullValue);\r\n    }\r\n\r\n    list.splice(this.Index, 1);\r\n\r\n    if (supItem) {\r\n      supItem.Cells.forEach(x => {\r\n        x.SubCells = x.GetSubCells();\r\n\r\n        var totalValues = x.SubCells ?\r\n          x.SubCells.map(x => x.TotalValue).filter(x => x) : [];\r\n        x.TotalValue = totalValues.reduce((a, b) => a + b, 0);\r\n\r\n        x.ContentVM.Content = x.ValueString;\r\n      })\r\n    }\r\n  }\r\n\r\n  replaceFactory\r\n  get ReplaceFactory() {\r\n    if (!this.replaceFactory) {\r\n      this.replaceFactory = new ReplaceRowLocationFactory();\r\n    }\r\n    return this.replaceFactory;\r\n  }\r\n\r\n  ReplaceOK = () => {\r\n    var factory = this.ReplaceFactory;\r\n    var refRow = factory.ReferenceRow;\r\n\r\n    if (!refRow) return;\r\n\r\n    var loc = factory.Location;\r\n    if ((refRow === this && loc === rrlf_lt.lower) ||\r\n      (refRow === this.SupItem && loc === rrlf_lt.inside)) {\r\n      return\r\n    }\r\n\r\n    this.Replace(refRow, loc);\r\n\r\n    factory.Location = rrlf_lt.inside;\r\n  }\r\n\r\n  Replace = (refRow, loc) => {\r\n    // Save data\r\n    var oldMgi = this.MassGroupItem;\r\n    var supRow = undefined;\r\n    var newMgi = undefined;\r\n\r\n    switch (loc) {\r\n      case rrlf_lt.inside:\r\n        supRow = refRow;\r\n        break;\r\n      case rrlf_lt.lower:\r\n        supRow = refRow.SupItem;\r\n        break;\r\n    }\r\n\r\n    //var newMgi = supRow ? supRow.SubMassGroupItem : this.Table.MainMGI;\r\n    var newMgi = supRow ?\r\n      (supRow.SubMassGroupItem ? supRow.SubMassGroupItem :\r\n        util.CreateSubMassGroupItem(supRow))\r\n      : this.Table.MainMGI;\r\n    oldMgi.GetItem(this.FullValue).NewMGI = newMgi;\r\n\r\n    this.ReplaceMGI = newMgi;\r\n    this.CurrentList.splice(this.Index, 1);\r\n\r\n    this.SupItem = supRow;\r\n    var list = this.CurrentList;\r\n    list.push(this);\r\n\r\n    this.IsShowSubFieldSelect = false;\r\n  }\r\n\r\n  IsModalVisible = false\r\n\r\n  OpenModal = () => {\r\n    this.IsModalVisible = true\r\n\r\n    this.TitleVM.Content = this.Title;\r\n\r\n    var subFieldSelectVM = this.SubFieldSelectVM;\r\n    subFieldSelectVM.InitialItems = this.SubFields;\r\n\r\n    var locSelectVM = this.LocationSelectVM;\r\n    locSelectVM.Items = this.LocationStorageList\r\n    locSelectVM.InitialItem = undefined;\r\n  }\r\n\r\n  ModalOK = () => {\r\n    this.IsModalVisible = false;\r\n    this.SetSubFields();\r\n    this.ReplaceOK();\r\n\r\n    var title = this.TitleVM.Content;\r\n    this.Title = title;\r\n    this.MassGroupItem.GetItem(this.FullValue).Title = title;\r\n  }\r\n\r\n  ModalCancel = () => {\r\n    this.IsModalVisible = false;\r\n  }\r\n\r\n  get ModalElement() {\r\n    var factory = this.ReplaceFactory;\r\n\r\n    return <Modal title={this.Title} visible={this.IsModalVisible}\r\n      onOk={this.ModalOK} onCancel={this.ModalCancel}>\r\n      <Row gutter={15} style={{ marginTop: 10 }}>\r\n        <Col flex=\"165px\">\r\n          <b> Tiêu đề:</b>\r\n        </Col>\r\n        <Col flex=\"auto\">\r\n          <InputView store={this.TitleVM} />\r\n        </Col>\r\n      </Row>\r\n\r\n      {!this.IsCreatedByUser ? <Row gutter={15} style={{ marginTop: 10 }}>\r\n        <Col flex=\"165px\">\r\n          <b> Thiết lập phân nhóm:</b>\r\n        </Col>\r\n        <Col flex=\"auto\">\r\n          <MultiSelectView store={this.SubFieldSelectVM} />\r\n        </Col>\r\n      </Row> : ''}\r\n\r\n      <Row gutter={15} style={{ marginTop: 10 }}>\r\n        <Col flex=\"165px\">\r\n          <b> Đổi vị trí:</b>\r\n        </Col>\r\n        <Col flex=\"auto\">\r\n          <Row>\r\n            <Col flex='auto'>\r\n              <SelectView store={this.LocationSelectVM} />\r\n            </Col>\r\n            <Col>\r\n              <Button type='primary' size='small'\r\n                style={factory.ButtonStyle} onClick={factory.ToggleLocation}\r\n              >{factory.Location}</Button>\r\n            </Col>\r\n          </Row>\r\n        </Col>\r\n      </Row>\r\n    </Modal>\r\n  }\r\n\r\n  get HoverToolElement() {\r\n    var obj = new EntHoverVM();\r\n    obj.Element = this.ToolElement;\r\n    return <EntHoverView store={obj} style={{ display: 'flex', marginLeft: 20 }} />\r\n  }\r\n\r\n  get ToolElement() {\r\n    return <>\r\n      <Button size='small' type='primary'\r\n        style={{ backgroundColor: '#52c41a', border: 'none' }}\r\n        onClick={this.MoveUp}>\r\n        <UpCircleOutlined />\r\n      </Button>\r\n      <Button size='small' type='primary'\r\n        style={{ backgroundColor: '#52c41a', border: 'none' }}\r\n        onClick={this.MoveDown}>\r\n        <DownCircleOutlined />\r\n      </Button>\r\n\r\n      <Button type='primary' size='small'\r\n        style={{ backgroundColor: '#faad14', border: 'none' }}\r\n        onClick={this.OpenModal}>...</Button>\r\n\r\n      <Button size='small' type='primary'\r\n        style={{ backgroundColor: '#52c41a', border: 'none' }}\r\n        onClick={this.AddSub}>+</Button>\r\n      <Button type='primary' size='small' danger\r\n        onClick={this.Delete}>x</Button>\r\n    </>\r\n  }\r\n}","import { PMData } from \"../../../single/model/PMData\";\r\nimport MassRow from \"./MassRow\";\r\nimport * as multiSelectUtil from '../../../../select/MultiSelectVMUtil';\r\nimport * as selectUtil from '../../../../select/SelectVMUtil';\r\nimport * as rrlf_lt from './location/RRLF_LocationType';\r\nimport * as mgiUtil from './rowgroup/MassGroupItemUtil'\r\nimport * as mgi_iUtil from './rowgroup/MGI_ItemUtil'\r\nimport * as mgii_ct from './rowgroup/MGI_I_CreateType'\r\nimport * as genUtil from '../../../../../util/generalUtil';\r\nimport { EntFilter } from \"../../filter/EntFilter\";\r\nimport MassGroupComponent from \"./rowgroup/MassGroupComponent\";\r\nimport * as fvt from '../../filter/FilterValueType'\r\nimport * as sft from '../../filter/StringFilterType'\r\nimport * as mif from '../item/MassItemField'\r\n\r\nexport const pmData = () => {\r\n  return PMData.Instance;\r\n}\r\n\r\nexport const get = (q, dict) => {\r\n  var qI = new MassRow();\r\n  qI.Name = q;\r\n  qI.Dict = dict;\r\n  return qI;\r\n}\r\n\r\nexport const GetRank = (q) => {\r\n  return q.SupItem ? q.SupItem.Rank + 1 : 0;\r\n}\r\n\r\nexport const GetStyle = (q) => {\r\n  return {\r\n    display: 'flex',\r\n    marginLeft: q.Rank * 20\r\n  }\r\n}\r\n\r\nexport const GetIsHaveSub = (q) => {\r\n  return q.SubItems.length !== 0;\r\n}\r\n\r\nexport const GetToggleButtonContent = (q) => {\r\n  return q.IsShowSub ? '-' : '+';\r\n}\r\n\r\nexport const GetSubFieldSelectVM = (q) => {\r\n  var storageList = pmData().MassItemFields;\r\n  var obj = multiSelectUtil.get(storageList, undefined);\r\n  obj.Placeholder = 'chọn phân nhóm'\r\n  obj.OnSelectedItemChanged = (v) => q.TempSubFields = v;\r\n  return obj;\r\n}\r\n\r\nexport const Order = (list) => {\r\n  if (list.length === 0) return list;\r\n\r\n  var firstRow = list[0]\r\n  var mgi = firstRow.OrderMGI;\r\n  if (!mgi.IsHaveValueOrder) return list;\r\n\r\n  var orderValues = mgi.OrderValues;\r\n  return list.sort((a, b) => {\r\n    return orderValues.indexOf(a.FullValue) - orderValues.indexOf(b.FullValue);\r\n  });\r\n}\r\n\r\n// export const GetTitle = (q) => {\r\n//   // Kiểm tra thông tin tầng điển hình trong Cells\r\n\r\n//   return q.Name;\r\n// }\r\n\r\nexport const Handle_Title = (q) => {\r\n  var field = q.MassGroupItem.Field;\r\n  if (field !== mif.level) {\r\n    q.Title = q.Name;\r\n  } else {\r\n    // Xử lý phần tiêu đề của Row dựa trên Name và thông tin Tầng điển hình\r\n    var list = [];\r\n    var handledCount = 0;\r\n    var count = q.Cells.length;\r\n\r\n    const handle_LS = (ls) => {\r\n      if (ls.Description) {\r\n        q.Title = ls.Description;\r\n      } else {\r\n        ls.OnGetLevelStorageList_Funcs.push(() => {\r\n          q.Title = ls.Description;\r\n        })\r\n      }\r\n    }\r\n\r\n    const handle_Val = (val) => {\r\n      handledCount++;\r\n      list.push.apply(list, val);\r\n      if (handledCount === count) {\r\n        if (list.length === 1) {\r\n          handle_LS(list[0]);\r\n        } else {\r\n          q.Title = q.Name;\r\n        }\r\n      }\r\n    }\r\n\r\n    q.Cells.forEach(x => {\r\n      if (x.TLS_LevelGroups) {\r\n        handle_Val(x.TLS_LevelGroups);\r\n      } else {\r\n        x.OnGet_TLS_LevelGroups_Funcs.push(() => {\r\n          handle_Val(x.TLS_LevelGroups);\r\n        })\r\n      }\r\n    })\r\n  }\r\n}\r\n\r\nexport const GetLocationSelectVM = (q) => {\r\n  var obj = selectUtil.get([], undefined);\r\n  obj.Placeholder = 'chọn vị trí'\r\n  obj.TitleRender = (item) => {\r\n    var marginLeft = item.Rank * 15;\r\n    return <div\r\n      style={{ marginLeft }}>\r\n      {item.Title}\r\n    </div>\r\n  }\r\n  obj.OnSelectedItemChanged = (v) => {\r\n    var factory = q.ReplaceFactory;\r\n    factory.ReferenceRow = v;\r\n  }\r\n  return obj;\r\n}\r\n\r\nexport const GetSubMassGroupItem = (q) => {\r\n  var subItems = q.SubItems;\r\n  if (subItems.length === 0) return undefined;\r\n  return subItems[0].MassGroupItem;\r\n}\r\n\r\nexport const GetSubFields = (q) => {\r\n  var subMGI = q.SubMassGroupItem;\r\n  if (!subMGI) return [];\r\n  var mgis = subMGI.SupComponent.Items;\r\n\r\n  var lastValidIndex = -1;\r\n  var isValidHandle = true\r\n  mgis.forEach((x, i) => {\r\n    if (isValidHandle && x.HaveMassItemSubComponents.length === 0) {\r\n      lastValidIndex = i;\r\n    } else {\r\n      isValidHandle = false;\r\n    }\r\n  })\r\n\r\n  var currentIndex = mgis.indexOf(q.MassGroupItem);\r\n  if (lastValidIndex === -1) return [subMGI.Field];\r\n  var fields = mgis.filter((x, i) =>\r\n    (currentIndex === -1 || currentIndex < i) &&\r\n    i <= lastValidIndex)\r\n    .map(x => x.Field);\r\n  return fields;\r\n}\r\n\r\nexport const CreateSubMassGroupItem = (q) => {\r\n  var filter = new EntFilter();\r\n  filter.ValueType = fvt.bystring;\r\n  filter.StringFilterType = sft.byequal;\r\n  filter.Values = [q.FullValue];\r\n\r\n  var supMgi = q.MassGroupItem;\r\n\r\n  var mgc = undefined;\r\n  var mgcIndex = supMgi.SubComponents\r\n    .findIndex(x => genUtil.IsSameValues(x.Filter.Values, filter.Values));\r\n\r\n  if (mgcIndex !== -1) {\r\n    mgc = supMgi.SubComponents[mgcIndex]\r\n  } else {\r\n    mgc = new MassGroupComponent();\r\n    mgc.SubItem = supMgi;\r\n    mgc.Filter = filter;\r\n    supMgi.SubComponents.push(mgc);\r\n  }\r\n\r\n  var mgi = mgiUtil.get(null, null, mgc);\r\n  mgc.Items = [mgi];\r\n\r\n  q.SubMassGroupItem = mgi;\r\n  return mgi;\r\n}\r\n\r\nexport const Add = (supRow, table) => {\r\n  var mgi = supRow ?\r\n    (supRow.SubMassGroupItem ? supRow.SubMassGroupItem :\r\n      CreateSubMassGroupItem(supRow))\r\n    : table.MainMGI;\r\n\r\n  var mgi_I = mgi_iUtil.create(mgi, mgii_ct.byuser);\r\n  mgi.Items.push(mgi_I);\r\n\r\n  var row = get(mgi_I.Value, table);\r\n  row.FullValue = mgi_I.Value;\r\n  row.IsCreatedByUser = true;\r\n  row.MassGroupItem = mgi;\r\n\r\n  row.SupItem = supRow;\r\n  row.CurrentList.push(row);\r\n  return row;\r\n}","import { makeObservable, observable, action } from 'mobx';\r\nimport * as textVMUtil from '../../../../text/TextVMUtil'\r\nimport * as api from '../../../../../util/apiUtil'\r\nimport * as genUtil from '../../../../../util/generalUtil'\r\nimport * as mif from '../item/MassItemField'\r\nimport { PMData } from '../../../single/model/PMData';\r\nimport * as util from './MassCellUtil'\r\n\r\nexport const pmData = () => {\r\n  return PMData.Instance;\r\n}\r\n\r\nexport default class MassCell {\r\n  constructor() {\r\n    makeObservable(this, {\r\n      valueColor: observable,\r\n      tdBgColor: observable,\r\n      totalValue: observable,\r\n      isHaveWarning : observable, \r\n      tls_LevelGroup_Descriptions : observable\r\n    })\r\n  }\r\n\r\n  _id\r\n  get id() {\r\n    if (!this._id) {\r\n      this._id = genUtil.randomId();\r\n    }\r\n    return this._id;\r\n  }\r\n\r\n  get ColumnIndex() {\r\n    return this.Column.Index;\r\n  }\r\n\r\n  items = []\r\n  get Items() {\r\n    return this.items;\r\n  }\r\n  set Items(v) {\r\n    this.items = v;\r\n  }\r\n\r\n  unit\r\n  get Unit() {\r\n    if (!this.unit) {\r\n      this.unit = this.GetUnit();\r\n    }\r\n    return this.unit;\r\n  }\r\n  set Unit(v) {\r\n    this.unit = v;\r\n  }\r\n\r\n  GetUnit = () => {\r\n    if (this.SubCells) {\r\n      var unit = undefined;\r\n      this.SubCells.forEach(x => {\r\n        if (x.Unit) {\r\n          unit = x.Unit;\r\n        }\r\n      })\r\n      return unit;\r\n    }\r\n    return this.Items && this.Items.length !== 0 ? this.Items[0].Unit : undefined;\r\n  }\r\n\r\n  unitVM\r\n  get UnitVM() {\r\n    if (!this.unitVM) {\r\n      this.unitVM = textVMUtil.get(this.Unit);\r\n      this.unitVM.OnSetContent = (v) => this.Unit = v;\r\n    }\r\n    return this.unitVM;\r\n  }\r\n\r\n  OnGet_TotalValue_Func_Dict = []\r\n  set Get_TotalValue(v) {\r\n    this.OnGet_TotalValue_Func_Dict.forEach(x => x.Value());\r\n  }\r\n\r\n  totalValue = undefined\r\n  get TotalValue() {\r\n    // Chỉnh sửa Value thành FullValue (chứa khối lượng tầng điển hình)\r\n    //this.TotalValue = this.GetTotalValue();\r\n    if (!this.totalValue) {\r\n      util.Handle_TotalValue(this);\r\n    }\r\n    return this.totalValue;\r\n  }\r\n  set TotalValue(v) {\r\n    this.totalValue = v;\r\n    this.Get_TotalValue = true;\r\n    this.ContentVM.Content = this.ValueString;\r\n  }\r\n\r\n  contentVM\r\n  get ContentVM() {\r\n    if (!this.contentVM) {\r\n      this.contentVM = textVMUtil.get(this.ValueString);\r\n    }\r\n    return this.contentVM;\r\n  }\r\n\r\n  get ValueString() {\r\n    if (this.Row.IsCreatedByUser) return '';\r\n    var totalValue = this.TotalValue;\r\n    if (!totalValue) return '';\r\n\r\n    var unit = this.Unit ? this.Unit : '';\r\n    return `${totalValue.toFixed(2)} ${unit}`;\r\n  }\r\n\r\n  subCells\r\n  get SubCells() {\r\n    if (!this.subCells) {\r\n      this.subCells = this.GetSubCells();\r\n    }\r\n    return this.subCells;\r\n  }\r\n  set SubCells(v) {\r\n    this.subCells = v;\r\n  }\r\n\r\n  GetSubCells = () => {\r\n    var subRows = this.Row.SubItems;\r\n    if (subRows && subRows.length !== 0) {\r\n      var col = this.Column;\r\n      return subRows.map(x => x.GetCellByColumn(col))\r\n        .filter(x => x !== undefined);\r\n    }\r\n  }\r\n\r\n  massType\r\n  get MassType() {\r\n    if (!this.massType) {\r\n      this.massType = util.GetMassType(this);\r\n    }\r\n    return this.massType;\r\n  }\r\n  set MassType(v) {\r\n    this.massType = v;\r\n  }\r\n\r\n  AsString = () => {\r\n    console.log(`${this.Column.Name} - ${this.Row.Name} - ${this.TotalValue}`)\r\n  }\r\n\r\n  UpdateData = () => {\r\n    if (this.Row.IsCreatedByUser) {\r\n      return;\r\n    }\r\n\r\n    this.SubCells = this.GetSubCells();\r\n\r\n    this.Unit = this.GetUnit();\r\n    this.MassType = util.GetMassType(this);\r\n    this.IsHaveVCS_Item = util.GetIsHaveVCS_Item(this);\r\n\r\n    if (this.IsHaveVCS_Item) {\r\n      this.VCS_Item = util.GetVCS_Item(this);\r\n    }\r\n\r\n    this.ValueColor = util.GetValueColor(this);\r\n    this.TDBgColor = util.GetTDBgColor(this);\r\n  }\r\n\r\n  ShowDetail = () => {\r\n    var isHash = true;\r\n    var url = `${process.env.PUBLIC_URL}${isHash ? '/#' : ''}/massdetail`;\r\n    var getUrl = (v) => `${url}/${v}`;\r\n    var openTabFunc = (v) =>\r\n      window.open(getUrl(v), \"_blank\");\r\n\r\n    if (!this.viewDetailId) {\r\n      this.GetViewDetailId(data => {\r\n        var _id = this.viewDetailId = data._id;\r\n        openTabFunc(_id);\r\n      })\r\n    } else {\r\n      openTabFunc(this.viewDetailId);\r\n    }\r\n  }\r\n\r\n  viewDetailId\r\n\r\n  get AllItems() {\r\n    if (this.SubCells) {\r\n      return this.SubCells.map(x => x.Items).reduce((a, b) => a.concat(b), []);\r\n    }\r\n    return this.Items;\r\n  }\r\n\r\n  isHaveVCS_Item\r\n  get IsHaveVCS_Item() {\r\n    if (!this.isHaveVCS_Item) {\r\n      this.isHaveVCS_Item = util.GetIsHaveVCS_Item(this);\r\n    }\r\n    return this.isHaveVCS_Item;\r\n  }\r\n  set IsHaveVCS_Item(v) {\r\n    this.isHaveVCS_Item = v;\r\n  }\r\n\r\n  vcs_Item\r\n  get VCS_Item() {\r\n    if (!this.vcs_Item) {\r\n      this.vcs_Item = util.GetVCS_Item(this);\r\n    }\r\n    return this.vcs_Item;\r\n  }\r\n  set VCS_Item(v) {\r\n    this.vcs_Item = v;\r\n  }\r\n\r\n  valueColor = undefined\r\n  get ValueColor() {\r\n    if (!this.valueColor) {\r\n      this.valueColor = util.GetValueColor(this);\r\n    }\r\n    return this.valueColor;\r\n  }\r\n  set ValueColor(v) {\r\n    this.valueColor = v\r\n  }\r\n\r\n  tdBgColor = undefined\r\n  get TDBgColor() {\r\n    if (!this.tdBgColor) {\r\n      this.tdBgColor = util.GetTDBgColor(this);\r\n    }\r\n    return this.tdBgColor;\r\n  }\r\n  set TDBgColor(v) {\r\n    this.tdBgColor = v;\r\n  }\r\n\r\n  get AStyle() {\r\n    return {\r\n      color: this.ValueColor,\r\n      fontWeight: 'bold'\r\n    }\r\n  }\r\n\r\n\r\n  get TDStyle() {\r\n    return {\r\n      backgroundColor: this.TDBgColor\r\n    }\r\n  }\r\n\r\n  ApiData = () => {\r\n    var massIds = this.AllItems.map(x => x._id);\r\n    return {\r\n      massType: this.MassType,\r\n      massIds\r\n    };\r\n  }\r\n\r\n  GetViewDetailId = (handle) => {\r\n    var apiData = this.ApiData();\r\n    var url = \"https://api.bimdev.vn/api/hbdv/updatemass\";\r\n    api.put(url, apiData).then(response => response.data)\r\n      .then(data => handle(data))\r\n  }\r\n\r\n  OnGet_TLS_LevelGroups_Func_Dict = []\r\n  set Get_TLS_LevelGroups(v) {\r\n    this.OnGet_TLS_LevelGroups_Func_Dict.forEach(x => x.Value());\r\n  }\r\n\r\n  tls_LevelGroups\r\n  get TLS_LevelGroups() {\r\n    if (!this.tls_LevelGroups) {\r\n      util.Handle_TLS_LevelGroups(this);\r\n    }\r\n    return this.tls_LevelGroups;\r\n  } set TLS_LevelGroups(v) {\r\n    this.tls_LevelGroups = v;\r\n    this.Get_TLS_LevelGroups = true;\r\n  }\r\n\r\n  isHaveWarning = undefined\r\n  get IsHaveWarning(){\r\n    if (this.isHaveWarning === undefined){\r\n      this.isHaveWarning = util.GetIsHaveWarning(this);\r\n    }\r\n    return this.isHaveWarning;\r\n  } set IsHaveWarning(v){\r\n    this.isHaveWarning = v;\r\n  }\r\n\r\n  tls_LevelGroup_Descriptions = undefined\r\n  get TLS_LevelGroup_Descriptions(){\r\n    if (!this.tls_LevelGroup_Descriptions){\r\n      util.Handle_TLS_LevelGroup_Descriptions(this);\r\n    }\r\n    return this.tls_LevelGroup_Descriptions;\r\n  } set TLS_LevelGroup_Descriptions(v){\r\n    this.tls_LevelGroup_Descriptions = v;\r\n  }\r\n}","import Column from \"antd/lib/table/Column\";\r\nimport { PMData } from \"../../../single/model/PMData\";\r\nimport MassCell from \"./MassCell\"\r\nimport * as mif from '../item/MassItemField'\r\nimport * as filterUtil from '../../filter/EntFilterUtil'\r\nimport * as genUtil from '../../../../../util/generalUtil'\r\n\r\nexport const pmData = () => {\r\n  return PMData.Instance;\r\n}\r\n\r\nexport const get = (col, row, dict) => {\r\n  var qI = new MassCell();\r\n  qI.Column = col;\r\n  qI.Row = row;\r\n  qI.Dict = dict;\r\n\r\n  col.Cells.push(qI);\r\n  row.Cells.push(qI);\r\n\r\n  return qI;\r\n}\r\n\r\nexport const GetIsHaveVCS_Item = (q) => {\r\n  return q.Dict.ColumnField === mif.Phase\r\n    && pmData().MassResultComp.Phases.length === 2\r\n    && q.ColumnIndex === 1;\r\n}\r\n\r\nexport const GetValueColor = (q) => {\r\n  if (q.IsHaveVCS_Item && q.VCS_Item) {\r\n    return '#FFFFFF';\r\n  } else {\r\n    return '#1890ff';\r\n  }\r\n}\r\n\r\nexport const GetTDBgColor = (q) => {\r\n  if (q.IsHaveVCS_Item && q.VCS_Item) {\r\n    return q.VCS_Item.Color;\r\n  } else {\r\n    return '#FFFFFF';\r\n  }\r\n}\r\n\r\nexport const GetVCS_Item = (q) => {\r\n  var list = pmData().VersionCompareSetting.Items;\r\n\r\n  var cells = q.Row.Cells;\r\n  var compareIndex = cells.findIndex(x => x.ColumnIndex === 0);\r\n  var compareItem = cells[compareIndex];\r\n  var ratio = q.TotalValue / compareItem.TotalValue;\r\n\r\n  var index = list\r\n    .findIndex(x => filterUtil.IsValid(x.Filter, ratio));\r\n  return index !== -1 ? list[index] : undefined;\r\n}\r\n\r\nexport const GetMassType = (q) => {\r\n  var massType = undefined\r\n  if (q.SubCells) {\r\n    var isPending = true;\r\n    q.SubCells.forEach(x => {\r\n      if (isPending && x.MassType) {\r\n        massType = x.MassType;\r\n        isPending = false;\r\n      }\r\n    })\r\n  } else {\r\n    if (q.Items && q.Items.length > 0) {\r\n      massType = q.Items[0].MassType;\r\n    }\r\n  }\r\n  return massType;\r\n}\r\n\r\nexport const Handle_TLS_LevelGroups = (q) => {\r\n  var list = [];\r\n  var handledCount = 0;\r\n  var count = q.SubCells ?\r\n    q.SubCells.length : q.Items.length;\r\n\r\n  const checkadd_Val = (val, list) => {\r\n    if (list.findIndex(x => x.id === val.id) === -1) {\r\n      list.push(val);\r\n    }\r\n  }\r\n\r\n  const handle_Val = (val) => {\r\n    handledCount++;\r\n    if (val) {\r\n      if (Array.isArray(val)) {\r\n        val.forEach(x => checkadd_Val(x, list));\r\n      } else {\r\n        checkadd_Val(val, list)\r\n      }\r\n    }\r\n    if (handledCount === count) {\r\n      q.TLS_LevelGroups = list;\r\n    }\r\n  }\r\n\r\n  if (q.SubCells) {\r\n    // Tồn tại sub cells\r\n    q.SubCells.forEach(x => {\r\n      if (x.TLS_LevelGroups) {\r\n        handle_Val(x.TLS_LevelGroups);\r\n      } else {\r\n        genUtil.Add(x.OnGet_TLS_LevelGroups_Func_Dict,\r\n          () => handle_Val(x.TLS_LevelGroup));\r\n      }\r\n    })\r\n  } else {\r\n    // Không có sub cells\r\n    q.Items.forEach(x => {\r\n      if (x.TLS_LevelGroup) {\r\n        handle_Val(x.TLS_LevelGroup);\r\n      } else {\r\n        genUtil.Add(x.OnGet_TLS_LevelGroup_Func_Dict,\r\n          () => handle_Val(x.TLS_LevelGroup));\r\n      }\r\n    })\r\n  }\r\n}\r\n\r\nexport const Handle_TotalValue = (q) => {\r\n  var checkedList = [];\r\n  var totalVal = 0;\r\n  var handledCount = 0;\r\n  var count = q.SubCells ?\r\n    q.SubCells.length : q.Items.length;\r\n\r\n  const handle_Val = (val) => {\r\n    handledCount++;\r\n    totalVal += val;\r\n    checkedList.push(val);\r\n    if (handledCount === count) {\r\n      q.TotalValue = totalVal;\r\n    }\r\n  }\r\n\r\n  if (q.SubCells) {\r\n    // Tồn tại sub cells\r\n    q.SubCells.forEach(x => {\r\n      if (x.TotalValue) {\r\n        handle_Val(x.TotalValue)\r\n      } else {\r\n        genUtil.Add(x.OnGet_TotalValue_Func_Dict,\r\n          () => handle_Val(x.FullValue));\r\n      }\r\n    })\r\n  } else {\r\n    // Không có sub cells\r\n    q.Items.forEach(x => {\r\n      if (x.FullValue) {\r\n        handle_Val(x.FullValue)\r\n      } else {\r\n        genUtil.Add(x.OnGet_FullValue_Func_Dict,\r\n          () => handle_Val(x.FullValue));\r\n      }\r\n    })\r\n  }\r\n}\r\n\r\nexport const GetIsHaveWarning = (q) => {\r\n  if (q.Row.Field !== mif.level) {\r\n    return false\r\n  } else {\r\n    const getWarningFunc = (levelGroups) => {\r\n      return levelGroups.length !== 0;\r\n    }\r\n\r\n    if (q.TLS_LevelGroups) {\r\n      return getWarningFunc(q.TLS_LevelGroups);\r\n    } else {\r\n      genUtil.Add(q.OnGet_TLS_LevelGroups_Func_Dict,\r\n        () => {\r\n          q.IsHaveWarning = getWarningFunc(q.TLS_LevelGroups)\r\n        });\r\n    }\r\n  }\r\n}\r\n\r\nexport const Handle_TLS_LevelGroup_Descriptions = (q) => {\r\n  var isDebug = false;\r\n  if (q.Row.SupItem.Index === 2 && q.Row.SupItem.SupItem.Index === 1){\r\n    isDebug = true;\r\n  }\r\n\r\n  const handle_Val = (val, list, handledCount, count) => {\r\n    handledCount++;\r\n    if (list.indexOf(val) === -1) {\r\n      list.push(val);\r\n    }\r\n    if (handledCount === count) {\r\n      q.TLS_LevelGroup_Descriptions = list;\r\n    }\r\n  }\r\n\r\n  const getDescFunc = (levelGroups) => {\r\n    var list = [];\r\n    var handledCount = 0;\r\n    var count = levelGroups.length\r\n\r\n    levelGroups.forEach(x => {\r\n      if (x.FullDescription) {\r\n        handle_Val(x.FullDescription, list, handledCount, count);\r\n      } else {\r\n        // Để false, xử lý nhiều Funcs hơn, nhưng thực thi thành công :v\r\n        genUtil.Add(x.OnGetLevelStorageList_Func_Dict, () => {\r\n          handle_Val(x.FullDescription, list, handledCount, count)\r\n        }, false)\r\n      }\r\n    })\r\n  }\r\n\r\n  if (q.TLS_LevelGroups) {\r\n    getDescFunc(q.TLS_LevelGroups)\r\n  } else {\r\n    q.OnGet_TLS_LevelGroups_Funcs.push(() => {\r\n      getDescFunc(q.TLS_LevelGroups)\r\n    })\r\n  }\r\n}","import * as mif from '../item/MassItemField'\r\nimport { EntFilter } from '../../filter/EntFilter'\r\nimport * as fvt from '../../filter/FilterValueType'\r\nimport * as sft from '../../filter/StringFilterType'\r\nimport * as mt from '../MassType'\r\nimport MassGroupComponent from './rowgroup/MassGroupComponent'\r\nimport MassGroupItem from './rowgroup/MassGroupItem'\r\nimport * as mgiUtil from './rowgroup/MassGroupItemUtil'\r\n\r\nexport const GetMainMGC = (q) => {\r\n  var qI = new MassGroupComponent();\r\n\r\n  var mgi1 = mgiUtil.get(mif.MassType);\r\n  qI.Items = [mgi1];\r\n\r\n  return qI;\r\n}\r\n\r\nexport const GetMassGroupName = (q) => {\r\n  return q.MassGroupSetting ? q.MassGroupSetting.Name\r\n    : '';\r\n}\r\n\r\nexport const GetAllRows = (q) => {\r\n  var list = [];\r\n  q.MainRows.forEach(x => {\r\n    list.push.apply(list, x.AllItems)\r\n  });\r\n  return list;\r\n}\r\n\r\nexport const GetMainMGI = (q) => {\r\n  var qI = q.MainMGC?.Items[0];\r\n  qI.Table = q;\r\n  qI.SupRow = undefined;\r\n  return qI;\r\n}","export const elementfilter = \"elementfilter\";\r\nexport const massexport = \"massexport\";\r\nexport const massgroup = \"massgroup\";\r\nexport const typicallevel = \"typicallevel\";","import { message } from 'antd'\r\nimport * as api from '../../../../../util/apiUtil'\r\n\r\nexport default class Setting{\r\n  name\r\n  get Name(){\r\n    return this.name;\r\n  }\r\n  set Name(v){\r\n    this.name = v;\r\n    if (this.OnNameChanged){\r\n      this.OnNameChanged(v);\r\n    }\r\n  }\r\n\r\n  description\r\n  get Description(){\r\n    return this.description;\r\n  }\r\n  set Description(v){\r\n    this.description = v;\r\n    if (this.OnDescriptionChanged){\r\n      this.OnDescriptionChanged(v);\r\n    }\r\n  }\r\n\r\n  SettingType\r\n\r\n  data\r\n  get Data(){\r\n    return this.data;\r\n  }\r\n  set Data(v){\r\n    this.data = v;\r\n    if (this.OnDataChanged){\r\n      this.OnDataChanged(v);\r\n    }\r\n  }\r\n\r\n  get DisplayContent() {\r\n    return this.Name;\r\n  }\r\n\r\n  get Index() {\r\n    return this.Dict.Items.indexOf(this);\r\n  }\r\n\r\n  Delete = () => {\r\n    var {_id} = this;\r\n    var apiData = {_id};\r\n\r\n    var  url = \"https://api.bimdev.vn/api/hbs/delete\";\r\n    api.put(url, apiData).then(response => response.data)\r\n      .then(data => message.success('Delete setting successfully'))\r\n\r\n    this.Dict.Items.splice(this.Index, 1);\r\n\r\n    if (this.OnDelete){\r\n      this.OnDelete();\r\n    }\r\n\r\n    this.Dict.Input.EditItemId = undefined;\r\n  }\r\n\r\n  get ApiData() {\r\n    return {\r\n      _id : this._id,\r\n      projectId : this.Project._id,\r\n      settingType : this.SettingType,\r\n      name : this.Name,\r\n      description : this.Description,\r\n      data : this.Data.ApiData\r\n    }\r\n  }\r\n}","import Setting from \"../base/Setting\";\r\nimport * as util from './MassGroupSettingDataUtil'\r\nimport { reaction } from \"mobx\";\r\nimport { PMData } from \"../../../single/model/PMData\";\r\n\r\nexport const pmData = () => {\r\n  return PMData.Instance;\r\n}\r\n\r\nexport default class MassGroupSettingData {\r\n  fields\r\n  get Fields(){\r\n    if (!this.fields){\r\n      this.fields = util.GetDefaultFields(this);\r\n    }\r\n    return this.fields;\r\n  }\r\n  set Fields(v){\r\n    this.fields = v;\r\n  }\r\n\r\n  AddNewField = () => {\r\n    var item = pmData().MassPropertyNames[0];\r\n    this.Fields.push(item);\r\n    return item;\r\n  }\r\n}","export const Discipline = \"Discipline\";\r\nexport const Category = \"Category\";\r\n\r\nexport const GetAll = () => {\r\n  return [ Discipline, Category ];\r\n}","import { PMData } from '../../../single/model/PMData';\r\nimport MassGroupSettingData from './MassGroupSettingData';\r\nimport * as mpn from '../../../entity/mass/MassPropertyName'\r\nimport * as massGroupCompUtil from '../../mass/table/rowgroup/MassGroupComponentUtil'\r\n\r\nexport const pmData = ()  =>{\r\n  return PMData.Instance;\r\n}\r\n\r\nexport const get = (q) => {\r\n  var qI = new MassGroupSettingData();\r\n  qI.MassGroupComponent = massGroupCompUtil.get(q.massGroupComponent);\r\n  return qI;\r\n}\r\n\r\nexport const GetDefault = () => {\r\n  var qI = new MassGroupSettingData();\r\n  return qI;\r\n}\r\n\r\nexport const GetDefaultFields = () => {\r\n  return [ mpn.Category ]\r\n}","import Setting from \"../base/Setting\";\r\n\r\nexport default class MassGroupSetting extends Setting {\r\n  \r\n}","import * as api from '../../../../../util/apiUtil'\r\nimport * as dataUtil from './MassGroupSettingDataUtil'\r\nimport MassGroupSetting from './MassGroupSetting';\r\nimport { PMData } from '../../../single/model/PMData';\r\n\r\nexport const pmData = () => {\r\n  return PMData.Instance;\r\n}\r\n\r\nexport const get = (q, dict) => {\r\n  var qI = new MassGroupSetting();\r\n\r\n  qI._id = q._id;\r\n  qI.Name = q.name;\r\n  qI.Description = q.description;\r\n  qI.SettingType = q.settingType;\r\n  qI.Data = dataUtil.get(q.data);\r\n  qI.Dict = dict;\r\n\r\n  return qI;\r\n}\r\n\r\nexport const getAll = (dict, handle) => {\r\n  var url = \"https://api.bimdev.vn/api/hbs/mg/list\";\r\n  api.get(url).then(response => response.data)\r\n    .then(data => {\r\n      var items = data.map(x => get(x, dict))\r\n      if (handle) {\r\n        handle(items);\r\n      }\r\n    });\r\n}","import { makeObservable, observable, action } from 'mobx';\r\nimport * as textVMUtil from '../../../text/TextVMUtil'\r\nimport * as util from './WorkpackageVMUtil'\r\n\r\nexport class WorkpackageVM {\r\n  constructor() {\r\n    makeObservable(this, {\r\n      fullName : observable\r\n    })\r\n  }\r\n\r\n  get _id(){\r\n    return this.Workpackage._id;\r\n  }\r\n\r\n  get Index(){\r\n    return this.Dict.WorkpackageVMs.indexOf(this);\r\n  }\r\n\r\n  get M2VM() {\r\n    return this.Workpackage.M2VM;\r\n  }\r\n  set M2VM(v) {\r\n    this.Workpackage.M2VM = v;\r\n  }\r\n\r\n  Workpackage\r\n\r\n  supItem\r\n  get SupItem(){\r\n    if (!this.supItem){\r\n      this.supItem = util.GetSupItem(this);\r\n    }\r\n    return this.supItem;\r\n  }\r\n\r\n  code = undefined\r\n  get Code() {\r\n    if (!this.code) {\r\n      this.code = this.Workpackage.Code;\r\n    }\r\n    return this.code\r\n  }\r\n  set Code(v) {\r\n    this.code = v;\r\n    if (!this.M2VM) {\r\n      this.Workpackage.Code = v;\r\n    }\r\n  }\r\n\r\n  name = undefined\r\n  get Name() {\r\n    if (!this.name) {\r\n      this.name = this.Workpackage.Name;\r\n    }\r\n    return this.name\r\n  }\r\n  set Name(v) {\r\n    this.name = v;\r\n    if (!this.M2VM) {\r\n      this.Workpackage.Name = v;\r\n    }\r\n  }\r\n\r\n  description = undefined\r\n  get Description() {\r\n    if (!this.description) {\r\n      this.description = this.Workpackage.Description;\r\n    }\r\n    return this.description\r\n  }\r\n  set Description(v) {\r\n    this.description = v;\r\n    if (!this.M2VM) {\r\n      this.Workpackage.Description = v;\r\n    }\r\n  }\r\n\r\n  fullName = undefined\r\n  get FullName() {\r\n    if (!this.fullName) {\r\n      this.fullName = this.Workpackage.FullName;\r\n    }\r\n    return this.fullName;\r\n  }\r\n  set FullName(v) {\r\n    this.fullName = v;\r\n  }\r\n\r\n  get SearchName() {\r\n    return this.FullName;\r\n  }\r\n\r\n  get DisplayContent() {\r\n    return this.FullName;\r\n  }\r\n\r\n  codeVM\r\n  get CodeVM() {\r\n    if (!this.codeVM) {\r\n      var obj = this.codeVM =\r\n        textVMUtil.get(this.Code, \"mã code\");\r\n      obj.onSetContent = (v) => this.Code = v;\r\n    }\r\n    return this.codeVM;\r\n  }\r\n\r\n  nameVM\r\n  get NameVM() {\r\n    if (!this.nameVM) {\r\n      var obj = this.nameVM =\r\n        textVMUtil.get(this.Name, \"tên công tác\");\r\n      obj.onSetContent = (v) => this.Name = v;\r\n    }\r\n    return this.nameVM;\r\n  }\r\n\r\n  descriptionVM\r\n  get DescriptionVM() {\r\n    if (!this.descriptionVM) {\r\n      var obj = this.descriptionVM =\r\n        textVMUtil.get(this.Description, \"mô tả\");\r\n      obj.onSetContent = (v) => this.Description = v;\r\n    }\r\n    return this.descriptionVM;\r\n  }\r\n\r\n  Delete = () => {\r\n    this.Dict.WorkpackageVMs.splice(this.Index, 1);\r\n  }\r\n\r\n  AsString = () => {\r\n    console.log(this.Name, this.Code, this.Description);\r\n  }\r\n}","import { WorkpackageVM } from \"./WorkpackageVM\";\r\nimport { PMDataVM } from '../../single/form/PMDataVM'\r\n\r\nexport const pmDataVM = () => {\r\n  return PMDataVM.Instance;\r\n}\r\n\r\nexport const get = (q, dict) => {\r\n  var qI = new WorkpackageVM();\r\n  qI.Workpackage = q;\r\n  qI.Dict = dict;\r\n\r\n  q.OnCodeChanged = (v) => {\r\n    if (q.M2VM){\r\n      qI.Code = v;\r\n    }\r\n  }\r\n\r\n  q.OnNameChanged = (v) => {\r\n    if (q.M2VM){\r\n      qI.Name = v;\r\n    }\r\n  }\r\n\r\n  q.OnDescriptionChanged = (v) => {\r\n    if (q.M2VM){\r\n      qI.Description = v;\r\n    }\r\n  }\r\n\r\n  q.OnFullNameChanged = (v) => {\r\n    if (q.M2VM){\r\n      qI.FullName = v;\r\n    }\r\n  }\r\n\r\n  q.OnDelete = () => {\r\n    qI.Delete();\r\n  }\r\n\r\n  return qI;\r\n}\r\n\r\nexport const GetSupItem = (q) => {\r\n  var supWp = q.Workpackage.SupItem;\r\n  var list = pmDataVM().Workpackage_DictVM.WorkpackageVMs;\r\n  var index = list.findIndex(x => x.Workpackage === supWp);\r\n  return index !== -1 ? list[index] : undefined;\r\n}","import { makeObservable, observable, action } from 'mobx';\r\n\r\nexport class CheckboxVM {\r\n  constructor() {\r\n    makeObservable(this, {\r\n      ischecked: observable,\r\n      isDisable : observable,\r\n      Cancel : observable\r\n    })\r\n  }\r\n\r\n  name\r\n\r\n  OnCheckChanging\r\n\r\n  Cancel = false;\r\n\r\n  ischecked = undefined\r\n  set Ischecked(v) {\r\n    this.ischecked = v;\r\n    if (this.onCheckChange) {\r\n      this.onCheckChange(v);\r\n    }\r\n  }\r\n\r\n  isDisable = false\r\n}","import { CheckboxVM } from \"./CheckboxVM\"\r\n\r\nexport const get = (name, ischecked) => {\r\n  var qI = new CheckboxVM();\r\n  qI.ischecked = ischecked;\r\n  qI.name = name;\r\n  return qI;\r\n}","import { makeObservable, observable, action } from 'mobx';\r\nimport * as textVMUtil from '../../../text/TextVMUtil'\r\nimport * as checkboxVMUtil from '../../../checkbox/CheckboxVMUtil'\r\nimport * as selectVMUtil from '../../../select/SelectVMUtil'\r\nimport * as util from './WorkpackageInputVMUtil'\r\nimport { Button } from 'antd';\r\n\r\nexport class WorkpackageInputVM {\r\n  constructor() {\r\n    makeObservable(this, {\r\n      isNew: observable\r\n    })\r\n  }\r\n\r\n  WorkpackageInput\r\n\r\n  code = undefined\r\n  get Code() {\r\n    if (!this.code) {\r\n      this.code = this.WorkpackageInput.Code;\r\n    }\r\n    return this.code\r\n  }\r\n  set Code(v) {\r\n    this.code = v;\r\n    this.WorkpackageInput.Code = v;\r\n  }\r\n\r\n  name = undefined\r\n  get Name() {\r\n    if (!this.name) {\r\n      this.name = this.WorkpackageInput.Name;\r\n    }\r\n    return this.name\r\n  }\r\n  set Name(v) {\r\n    this.name = v;\r\n    this.WorkpackageInput.Name = v;\r\n  }\r\n\r\n  description = undefined\r\n  get Description() {\r\n    if (!this.description) {\r\n      this.description = this.WorkpackageInput.Description;\r\n    }\r\n    return this.description\r\n  }\r\n  set Description(v) {\r\n    this.description = v;\r\n    this.WorkpackageInput.Description = v;\r\n  }\r\n\r\n  supItem = undefined\r\n  get SupItem(){\r\n    return this.supItem;\r\n  }\r\n  set SupItem(v){\r\n    this.supItem = v;\r\n    var input = this.WorkpackageInput;\r\n    if (!v) {\r\n      input.SupItem = v;\r\n    }else{\r\n      input.SupItem = v.Workpackage;\r\n    }\r\n  }\r\n\r\n  workpackageVMStorageList = undefined\r\n  get WorkpackageVMStorageList(){\r\n    if (!this.workpackageVMStorageList){\r\n      this.workpackageVMStorageList = util.GetWorkpackageVMStorageList(this);\r\n    }\r\n    return this.workpackageVMStorageList;\r\n  }\r\n  set WorkpackageVMStorageList(v){\r\n    this.workpackageVMStorageList = v;\r\n\r\n    var selectVM = this.SupItemSelectVM;\r\n    selectVM.Items = v;\r\n    selectVM.InitialItem = this.SupItem;\r\n  }\r\n\r\n  supItemSelectVM\r\n  get SupItemSelectVM(){\r\n    if (!this.supItemSelectVM){\r\n      var obj = this.supItemSelectVM = selectVMUtil.get\r\n        (this.WorkpackageVMStorageList, this.SupItem);\r\n      obj.Placeholder = 'công tác cha'\r\n      obj.CanClear = true;\r\n      obj.OnSelectedItemChanged = (v) => this.SupItem = v;\r\n    }\r\n    return this.supItemSelectVM;\r\n  }\r\n\r\n  isNew = undefined\r\n  get IsNew() {\r\n    if (this.isNew === undefined) {\r\n      this.isNew = this.WorkpackageInput.IsNew;\r\n    }\r\n    return this.isNew;\r\n  }\r\n  set IsNew(v) {\r\n    this.isNew = v;\r\n    this.CommandVM.Content = util.GetCommandName(this);\r\n    this.WorkpackageInput.IsNew = v;\r\n  }\r\n\r\n  commandName = undefined\r\n  get CommandName() {\r\n    if (!this.commandName) {\r\n      this.commandName = util.GetCommandName(this);\r\n    }\r\n    return this.commandName;\r\n  }\r\n  set CommandName(v) {\r\n    this.commandName = v;\r\n  }\r\n\r\n  workpackageVM\r\n  get WorkpackageVM() {\r\n    return this.workpackageVM;\r\n  }\r\n  set WorkpackageVM(v) {\r\n    this.workpackageVM = v;\r\n\r\n    if (!v) {\r\n      this.WorkpackageInput.Workpackage = v;\r\n      this.IsNewVM.Ischecked = true;\r\n    }\r\n    else {\r\n      this.WorkpackageInput.Workpackage = v.Workpackage;\r\n\r\n      var { Code, Name, Description, SupItem } = v;\r\n      this.CodeVM.Content = Code;\r\n      this.NameVM.Content = Name;\r\n      this.DescriptionVM.Content = Description;\r\n\r\n      this.SupItemSelectVM.InitialItem = SupItem;\r\n\r\n      this.IsNewVM.Ischecked = false;\r\n    }\r\n  }\r\n\r\n  codeVM\r\n  get CodeVM() {\r\n    if (!this.codeVM) {\r\n      var obj = this.codeVM =\r\n        textVMUtil.get(this.Code, \"mã code\");\r\n      obj.onSetContent = (v) => this.Code = v;\r\n    }\r\n    return this.codeVM;\r\n  }\r\n\r\n  nameVM\r\n  get NameVM() {\r\n    if (!this.nameVM) {\r\n      var obj = this.nameVM =\r\n        textVMUtil.get(this.Name, \"tên công tác\");\r\n      obj.onSetContent = (v) => this.Name = v;\r\n    }\r\n    return this.nameVM;\r\n  }\r\n\r\n  descriptionVM\r\n  get DescriptionVM() {\r\n    if (!this.descriptionVM) {\r\n      var obj = this.descriptionVM =\r\n        textVMUtil.get(this.Description, \"mô tả\");\r\n      obj.onSetContent = (v) => this.Description = v;\r\n    }\r\n    return this.descriptionVM;\r\n  }\r\n\r\n  isNewVM\r\n  get IsNewVM() {\r\n    if (!this.isNewVM) {\r\n      var obj = this.isNewVM\r\n        = checkboxVMUtil.get(\"Công tác mới\", this.IsNew);\r\n\r\n      obj.isDisable = true;\r\n      obj.onCheckChange = (v) => {\r\n        this.IsNew = v;\r\n        if (v) {\r\n          obj.isDisable = true;\r\n        } else {\r\n          obj.isDisable = false;\r\n        }\r\n      };\r\n    }\r\n    return this.isNewVM;\r\n  }\r\n\r\n  commandVM\r\n  get CommandVM() {\r\n    if (!this.commandVM) {\r\n      var obj = this.commandVM = textVMUtil.get(this.CommandName);\r\n      obj.onSetContent = (v) => this.CommandName = v;\r\n    }\r\n    return this.commandVM;\r\n  }\r\n\r\n  AsString = () => `${this.Code} ${this.Name} ${this.Description} ${this.IsNew}`\r\n\r\n  AddDatabase = () => {\r\n    this.WorkpackageInput.AddDatabase();\r\n  }\r\n\r\n  deleteView\r\n  get DeleteView() {\r\n    return !this.IsNew ?\r\n      <Button onClick={this.DeleteFunc}>Delete</Button>\r\n      : \"\";\r\n  }\r\n\r\n  DeleteFunc = () => {\r\n    this.WorkpackageVM.Workpackage.Delete();\r\n    this.WorkpackageVM = undefined;\r\n  }\r\n\r\n  Clear = () => {\r\n    this.CodeVM.Content = null;\r\n    this.NameVM.Content = null;\r\n    this.DescriptionVM.Content = null;\r\n    this.IsNewVM.Ischecked = true;\r\n  }\r\n}","import { message } from \"antd\";\r\nimport { PMDataVM } from \"../../single/form/PMDataVM\";\r\nimport { WorkpackageInputVM } from \"./WorkpackageInputVM\";\r\n\r\nexport const pmDataVM = () => {\r\n  return PMDataVM.Instance;\r\n}\r\n\r\nexport const get = (q, dict) => {\r\n  var qI = new WorkpackageInputVM();\r\n  qI.WorkpackageInput = q;\r\n  qI.Dict = dict;\r\n\r\n  pmDataVM().Workpackage_DictVM.OnGetItemsDone_Funcs.push(() => {\r\n    qI.WorkpackageVMStorageList = GetWorkpackageVMStorageList(qI);\r\n  })\r\n\r\n  q.OnAddDatabaseDone = (v) => {\r\n    var command = qI.CommandName;\r\n    message.success(`${command} workpackage successfully`);\r\n    //qI.clear();\r\n  }\r\n\r\n  dict.OnAdd = (v) => {\r\n    qI.WorkpackageVM = v;\r\n  }\r\n\r\n  return qI;\r\n}\r\n\r\nexport const GetCommandName = (qI) => {\r\n  var isNew = qI.IsNew;\r\n  return isNew ? \"Create\" : \"Edit\";\r\n}\r\n\r\nexport const GetWorkpackageVMStorageList = (q) => {\r\n  return pmDataVM().Workpackage_DictVM.WorkpackageVMs;\r\n}","import { Workpackage_DictVM } from \"./Workpackage_DictVM\";\r\nimport * as workpackageVMUtil from './WorkpackageVMUtil';\r\nimport * as workpackageInputVMUtil from './WorkpackageInputVMUtil';\r\n\r\nexport const get = (q) => {\r\n  var qI = new Workpackage_DictVM();\r\n  qI.Workpackage_Dict = q;\r\n\r\n  q.OnGetWorkpackagesDone = (v) => {\r\n    var obj = qI.WorkpackageVMs;\r\n    qI.GetItemsDone = true;\r\n  }\r\n\r\n  q.OnAdd = (item) => {\r\n    var itemView = workpackageVMUtil.get(item, qI);\r\n    qI.Add(itemView);\r\n  }\r\n\r\n  return qI;\r\n}\r\n\r\nexport const GetWorkpackageVMs = (dictVM) => {\r\n  var wps = dictVM.Workpackage_Dict.Workpackages;\r\n  if (!wps) return undefined;\r\n  return wps.map(x => workpackageVMUtil.get(x, dictVM));\r\n}\r\n\r\nexport const GetWorkpackageInputVM= (dictVM) => {\r\n  var input = dictVM.Workpackage_Dict.WorkpackageInput;\r\n  return workpackageInputVMUtil.get(input, dictVM);\r\n}","import { makeObservable, observable, action } from 'mobx';\r\nimport * as util from './ElementFilterSetting_DictVMUtil'\r\n\r\nexport class ElementFilterSetting_DictVM {\r\n  constructor() {\r\n    makeObservable(this, {\r\n      items : observable\r\n    })\r\n  }\r\n\r\n  get M2VM() {\r\n    return this.ModelItem.M2VM;\r\n  }\r\n  set M2VM(v) {\r\n    this.ModelItem.M2VM = v;\r\n  }\r\n\r\n  set GetItemsDone (v){\r\n    if (this.OnGetItemsDone){\r\n      this.OnGetItemsDone(v);\r\n    }\r\n  }\r\n\r\n  items  = undefined\r\n  get Items(){\r\n    if (!this.items){\r\n      this.items = util.GetItems(this);\r\n    }\r\n    return this.items;\r\n  }\r\n\r\n  currentItem\r\n  get CurrentItem(){\r\n    if (!this.currentItem){\r\n      this.currentItem = this.ModelItem.CurrentItem;\r\n    }\r\n    return this.currentItem;\r\n  }\r\n  set CurrentItem(v){\r\n    this.currentItem = v;\r\n    if (!v){\r\n      this.ModelItem.CurrentItem = v;\r\n    }else{\r\n      this.ModelItem.CurrentItem = v.ModelItem;\r\n      this.Input.EditItem = v;\r\n    }\r\n  }\r\n\r\n  input\r\n  get Input(){\r\n    if (!this.input){\r\n      this.input = util.GetInput(this);\r\n    }\r\n    return this.input;\r\n  }\r\n\r\n  Add = (item) => {\r\n    this.Items.push(item);\r\n  }\r\n}","import { makeObservable, observable, action } from 'mobx';\r\nimport * as textUtil from '../../../../text/TextVMUtil';\r\n\r\nexport class SettingVM {\r\n  constructor() {\r\n    makeObservable(this, {\r\n      name: observable\r\n    })\r\n  }\r\n\r\n  get _id(){\r\n    return this.ModelItem._id;\r\n  }\r\n\r\n  get M2VM() {\r\n    return this.ModelItem.M2VM;\r\n  }\r\n  set M2VM(v) {\r\n    this.ModelItem.M2VM = v;\r\n  }\r\n\r\n  ModelItem\r\n\r\n  name = undefined\r\n  get Name() {\r\n    if (!this.name) {\r\n      this.name = this.ModelItem.Name;\r\n    }\r\n    return this.name;\r\n  }\r\n  set Name(v) {\r\n    this.name = v;\r\n    if (!this.M2VM) {\r\n      this.ModelItem.Name = v;\r\n    }\r\n  }\r\n\r\n  nameVM\r\n  get NameVM(){\r\n    if (!this.nameVM){\r\n      var obj = this.nameVM = textUtil.get(this.Name, 'tên thiết lập ...');\r\n      obj.onSetContent = (v) => this.Name = v;\r\n    }\r\n    return this.nameVM;\r\n  }\r\n\r\n  description\r\n  get Description() {\r\n    if (!this.description) {\r\n      this.description = this.ModelItem.Description;\r\n    }\r\n    return this.description;\r\n  }\r\n  set Description(v) {\r\n    this.description = v;\r\n    if (!this.M2VM) {\r\n      this.ModelItem.Description = v;\r\n    }\r\n  }\r\n\r\n  settingType\r\n  get SettingType() {\r\n    if (!this.settingType) {\r\n      this.settingType = this.ModelItem.SettingType;\r\n    }\r\n    return this.settingType;\r\n  }\r\n  set SettingType(v) {\r\n    this.settingType = v;\r\n    this.ModelItem.SettingType = v;\r\n  }\r\n\r\n  get SearchName() {\r\n    return this.Name;\r\n  }\r\n\r\n  get DisplayContent() {\r\n    return this.Name;\r\n  }\r\n\r\n  data\r\n  get Data(){\r\n    if (!this.data){\r\n      this.data = this.ModelItem.Data;\r\n    }\r\n    return this.data;\r\n  }\r\n  set Data(v) {\r\n    this.data = v;\r\n    if (!this.M2VM){\r\n      this.ModelItem.Data = v;\r\n    }\r\n  }\r\n\r\n  dataVM\r\n  get DataVM() {\r\n    if (!this.dataVM) {\r\n      this.dataVM = this.GetDataVM();\r\n    }\r\n    return this.dataVM;\r\n  }\r\n  set DataVM(v) {\r\n    this.dataVM = v;\r\n\r\n    // Gọi hàm để đổ dữ liệu về\r\n    if (v && this.OnInitialSetDataVM){\r\n      this.OnInitialSetDataVM(v);\r\n    }\r\n\r\n    if (!this.M2VM) {\r\n      if (!v) {\r\n        this.Data = v;\r\n      }\r\n      else {\r\n        this.Data = v.ModelItem;\r\n      }\r\n    }\r\n  }\r\n\r\n  GetDataVM = () => {\r\n    if (this.OnGetDataVM) {\r\n      return this.OnGetDataVM();\r\n    }\r\n    return undefined;\r\n  }\r\n\r\n  get Index() {\r\n    return this.Dict.Items.indexOf(this);\r\n  }\r\n\r\n  Delete = () => {\r\n    this.Dict.Items.splice(this.Index, 1);\r\n  }\r\n}","import { SettingVM } from \"../base/SettingVM\";\r\n\r\nexport default class ElementFilterSettingVM extends SettingVM {\r\n  OnInitialSetDataVM = (v) => {\r\n    var cateFilterVM = v.CategoryFilterVM;\r\n    if (cateFilterVM) {\r\n      cateFilterVM.OnInitialData();\r\n    }\r\n\r\n    var famFilterVM = v.FamilyFilterVM;\r\n    if (famFilterVM) {\r\n      famFilterVM.OnInitialData();\r\n    }\r\n  }\r\n}","import { makeObservable, observable, action } from 'mobx';\r\nimport { PMDataVM } from '../../single/form/PMDataVM'\r\nimport * as selectVMUtil from '../../../select/SelectVMUtil'\r\nimport * as multiSelectVMUtil from '../../../select/MultiSelectVMUtil'\r\n\r\nexport class EntFilterVM {\r\n  constructor() {\r\n    makeObservable(this, {\r\n    })\r\n  }\r\n\r\n  ModelItem\r\n\r\n  get pmDataVM () { return PMDataVM.Instance};\r\n\r\n  valueType\r\n  get ValueType() {\r\n    if (!this.valueType) {\r\n      this.valueType = this.ModelItem.ValueType;\r\n    }\r\n    return this.valueType;\r\n  }\r\n  set ValueType(v) {\r\n    this.valueType = v;\r\n    this.ModelItem.ValueType = v;\r\n  }\r\n\r\n  numberFilterType\r\n  get NumberFilterType() {\r\n    if (!this.numberFilterType) {\r\n      this.numberFilterType = this.ModelItem.NumberFilterType;\r\n    }\r\n    return this.numberFilterType;\r\n  }\r\n  set NumberFilterType(v) {\r\n    this.numberFilterType = v;\r\n    this.ModelItem.NumberFilterType = v;\r\n  }\r\n\r\n  stringFilterType\r\n  get StringFilterType() {\r\n    if (!this.stringFilterType) {\r\n      this.stringFilterType = this.ModelItem.StringFilterType;\r\n    }\r\n    return this.stringFilterType;\r\n  }\r\n  set StringFilterType(v) {\r\n    this.stringFilterType = v;\r\n    this.ModelItem.StringFilterType = v;\r\n  }\r\n\r\n  values\r\n  get Values() {\r\n    if (!this.values) {\r\n      this.values = this.ModelItem.Values;\r\n    }\r\n    return this.values;\r\n  }\r\n  set Values(v) {\r\n    this.values = v;\r\n    this.ModelItem.Values = v;\r\n  }\r\n\r\n  valueStorageList\r\n  get ValueStorageList() {\r\n    if (!this.valueStorageList){\r\n      this.valueStorageList = this.ModelItem.ValueStorageList;\r\n    }\r\n    return this.valueStorageList;\r\n  }\r\n\r\n  ValueSelectPlaceholder\r\n\r\n  valueTypeSelectVM\r\n  get ValueTypeSelectVM() {\r\n    if (!this.valueTypeSelectVM) {\r\n      var obj =this.valueTypeSelectVM = selectVMUtil.get(this.pmDataVM.FilterValueTypes, this.ValueType);\r\n      obj.OnSelectedItemChanged = (v) => {\r\n        this.ValueType = v;\r\n      }\r\n    }\r\n    return this.valueTypeSelectVM;\r\n  }\r\n\r\n  stringFilterTypeSelectVM\r\n  get StringFilterTypeSelectVM() {\r\n    if (!this.stringFilterTypeSelectVM){\r\n      var obj = this.stringFilterTypeSelectVM = selectVMUtil.get(this.pmDataVM.StringFilterTypes, this.StringFilterType);\r\n      obj.OnSelectedItemChanged = (v) => {\r\n        this.StringFilterType = v;\r\n      }\r\n    }\r\n    return this.stringFilterTypeSelectVM;\r\n  }\r\n\r\n  valuesSelectVM\r\n  get ValuesSelectVM() {\r\n    if (!this.valuesSelectVM){\r\n      var obj = this.valuesSelectVM = multiSelectVMUtil.get(this.ValueStorageList, this.Values);\r\n\r\n      if (this.ValueSelectPlaceholder){\r\n        obj.Placeholder = this.ValueSelectPlaceholder;\r\n      }\r\n\r\n      obj.OnSelectedItemChanged = (v) => {\r\n        this.Values = v;\r\n      }\r\n    }\r\n    return this.valuesSelectVM;\r\n  }\r\n\r\n  SetData = (v) => {\r\n    if (!v) return;\r\n\r\n    var {ValueType, NumberFilterType, StringFilterType, Values} = v;\r\n    this.ValueTypeSelectVM.InitialItem = ValueType;\r\n    this.StringFilterTypeSelectVM.InitialItem = StringFilterType;\r\n    this.ValuesSelectVM.InitialItems = Values;\r\n  }\r\n\r\n  OnInitialData = () => {\r\n    var valueType = this.ValueType;\r\n    var numberFilterType = this.NumberFilterType;\r\n    var stringFilterType = this.StringFilterType;\r\n    var values = this.Values;\r\n  }\r\n}","import { SettingVM } from \"../setting/base/SettingVM\";\r\nimport { EntFilterVM } from \"./EntFilterVM\";\r\n\r\nexport const get = (q) => {\r\n  if (!q) return undefined;\r\n  var qI = new EntFilterVM();\r\n  qI.ModelItem = q;\r\n  return qI;\r\n}","import { makeObservable, observable, action } from 'mobx';\r\nimport * as filterVMUtil from '../../filter/EntFilterVMUtil'\r\nimport * as checkboxVMUtil from '../../../../checkbox/CheckboxVMUtil'\r\n\r\nexport default class ElementFilterSettingDataVM {\r\n  constructor() {\r\n    makeObservable(this, {\r\n      isHaveFamilyFilter : observable\r\n    })\r\n  }\r\n\r\n\r\n  ModelItem\r\n\r\n  categoryFilterVM\r\n  get CategoryFilterVM(){\r\n    if (!this.categoryFilterVM && this.ModelItem){\r\n      this.categoryFilterVM = this.GetCategoryFilterVM();\r\n    }\r\n    return this.categoryFilterVM;\r\n  }\r\n\r\n  GetCategoryFilterVM = () => {\r\n    var filter = this.ModelItem.CategoryFilter;\r\n    return filterVMUtil.get(filter);\r\n  }\r\n\r\n  isHaveFamilyFilter = undefined\r\n  get IsHaveFamilyFilter(){\r\n    if (!this.isHaveFamilyFilter){\r\n      this.isHaveFamilyFilter = this.ModelItem.IsHaveFamilyFilter;\r\n    }\r\n    return this.isHaveFamilyFilter;\r\n  }\r\n  set IsHaveFamilyFilter(v){\r\n    this.isHaveFamilyFilter = v;\r\n    this.ModelItem.IsHaveFamilyFilter = v;\r\n  }\r\n\r\n  familyFilterVM\r\n  get FamilyFilterVM(){\r\n    if (!this.familyFilterVM && this.ModelItem){\r\n      this.familyFilterVM = this.GetFamilyFilterVM();\r\n    }\r\n    return this.familyFilterVM;\r\n  }\r\n\r\n  GetFamilyFilterVM = () => {\r\n    var filter = this.ModelItem.FamilyFilter;\r\n    return filterVMUtil.get(filter);\r\n  }\r\n\r\n  isHaveFamilyFilterVM\r\n  get IsHaveFamilyFilterVM() {\r\n    if (!this.isHaveFamilyFilterVM) {\r\n      var obj = this.isHaveFamilyFilterVM\r\n        = checkboxVMUtil.get(\"Thiết lập lọc Family\", this.IsHaveFamilyFilter);\r\n\r\n      obj.onCheckChange = (v) => {\r\n        this.IsHaveFamilyFilter = v;\r\n      };\r\n    }\r\n    return this.isHaveFamilyFilterVM;\r\n  }\r\n\r\n  SetData = (v) => {\r\n    this.CategoryFilterVM.SetData(v.CategoryFilterVM);\r\n\r\n    var ischecked = v.IsHaveFamilyFilter === true;\r\n    this.IsHaveFamilyFilterVM.Ischecked = ischecked;\r\n    \r\n    this.FamilyFilterVM.SetData(v.FamilyFilterVM);\r\n  }\r\n}","import ElementFilterSettingDataVM from './ElementFilterSettingDataVM';\r\n\r\nexport const get = (q) => {\r\n  var qI = new ElementFilterSettingDataVM();\r\n  qI.ModelItem = q;\r\n  return qI;\r\n}","import ElementFilterSettingVM from \"./ElementFilterSettingVM\"\r\nimport * as dataVMUtil from './ElementFilterSettingDataVMUtil'\r\n\r\nexport const get = (q, dict) => {\r\n  var qI = new ElementFilterSettingVM();\r\n\r\n  qI.ModelItem = q;\r\n  qI.Dict = dict;\r\n\r\n  q.OnNameChanged = (v) => {\r\n    if (q.M2VM){\r\n      qI.Name = v;\r\n    }\r\n  }\r\n\r\n  q.OnDescriptionChanged = (v) => {\r\n    if (q.M2VM){\r\n      qI.Description = v;\r\n    }\r\n  }\r\n\r\n  q.OnDataChanged = (v) => {\r\n    if (q.M2VM){\r\n      qI.Data = v;\r\n      qI.DataVM = qI.GetDataVM();\r\n    }\r\n  }\r\n\r\n  qI.OnGetDataVM = () => {\r\n    var data = q.Data;\r\n    return dataVMUtil.get(data);\r\n  }    \r\n\r\n  return qI;\r\n}","import { message } from \"antd\";\r\nimport { SettingVM } from \"./SettingVM\";\r\n\r\nexport const get = (q) => {\r\n  var qI = new SettingVM();\r\n  qI.Setting = q;\r\n\r\n  q.OnDelete = () => {\r\n    qI.Delete();\r\n  }\r\n\r\n  return qI;\r\n}\r\n\r\nexport const GetCommandName = (qI) => {\r\n  var isNew = qI.IsNew;\r\n  return isNew ? \"Create\" : \"Edit\";\r\n}","import { makeObservable, observable, action } from 'mobx';\r\nimport * as textVMUtil from '../../../../text/TextVMUtil'\r\nimport * as util from './SettingVMUtil'\r\nimport * as checkboxVMUtil from '../../../../checkbox/CheckboxVMUtil'\r\nimport { Button, message } from 'antd';\r\n\r\nexport default class SettingInputVM {\r\n  constructor() {\r\n    makeObservable(this, {\r\n      dataVM : observable,\r\n      isNew: observable\r\n    })\r\n  }\r\n\r\n  ModelItem\r\n\r\n  name\r\n  get Name(){\r\n    if(!this.name){\r\n      this.name = this.ModelItem.Name;\r\n    }\r\n    return this.name;\r\n  }\r\n  set Name(v){\r\n    this.name = v;\r\n    this.ModelItem.Name = v;\r\n  }\r\n\r\n  description\r\n  get Description(){\r\n    if (!this.description){\r\n      this.description = this.ModelItem.Description;\r\n    }\r\n    return this.description;\r\n  }\r\n  set Description(v) {\r\n    this.description = v;\r\n    this.ModelItem.Description = v;\r\n  }\r\n\r\n  settingType\r\n  get SettingType(){\r\n    if (!this.settingType){\r\n      this.settingType = this.ModelItem.SettingType;\r\n    }\r\n    return this.settingType;\r\n  }\r\n  set SettingType(v){\r\n    this.settingType = v;\r\n    this.ModelItem.SettingType = v;\r\n  }\r\n\r\n  get SearchName() {\r\n    return this.Name;\r\n  }\r\n\r\n  nameVM\r\n  get NameVM() {\r\n    if (!this.nameVM){\r\n      var obj = this.nameVM =\r\n        textVMUtil.get(this.Name, \"tên bộ lọc\");\r\n      obj.onSetContent = (v) => this.Name = v;\r\n    }\r\n    return this.nameVM;\r\n  }\r\n\r\n  descriptionVM\r\n  get DescriptionVM() {\r\n    if (!this.descriptionVM){\r\n      var obj = this.descriptionVM =\r\n        textVMUtil.get(this.Description, \"mô tả\");\r\n      obj.onSetContent = (v) => this.Description = v;\r\n    }\r\n    return this.descriptionVM;\r\n  }\r\n\r\n  settingTypeVM\r\n  get SettingTypeVM() {\r\n    if (!this.settingTypeVM){\r\n      var obj = this.settingTypeVM = \r\n        textVMUtil.get(this.SettingType, \"loại thiết lập\");\r\n      obj.onSetContent = (v) => this.SettingType = v;\r\n    }\r\n    return this.settingTypeVM;\r\n  }\r\n\r\n  dataVM = undefined\r\n  get DataVM(){\r\n    if (!this.dataVM){\r\n      this.dataVM = this.GetDataVM();\r\n    }\r\n    return this.dataVM;\r\n  }\r\n  set DataVM (v){\r\n    if (this.DataVM.SetData){\r\n      this.DataVM.SetData(v);\r\n    }\r\n  }\r\n\r\n  GetDataVM = () => {\r\n    if (this.OnGetDataVM){\r\n      var dataVM = this.OnGetDataVM();\r\n      return dataVM;\r\n    }\r\n    return undefined;\r\n  }\r\n\r\n  editItem\r\n  get EditItem() {\r\n    return this.editItem;\r\n  }\r\n  set EditItem(v) {\r\n    this.editItem = v;\r\n\r\n    var input = this.ModelItem;\r\n    if (!v) {\r\n      input.EditItem = v;\r\n      this.IsNewVM.Ischecked = true;\r\n    }\r\n    else {\r\n      input.EditItem = v.ModelItem;\r\n\r\n      var { Name, Description, SettingType } = v;\r\n      this.NameVM.Content = Name;\r\n      this.DescriptionVM.Content = Description;\r\n      this.SettingTypeVM.Content = SettingType;\r\n\r\n      this.DataVM = v.DataVM;\r\n      this.IsNewVM.Ischecked = false;\r\n    }\r\n  }\r\n\r\n  isNew = undefined\r\n  get IsNew() {\r\n    if (this.isNew === undefined) {\r\n      this.isNew = this.ModelItem.IsNew;\r\n    }\r\n    return this.isNew;\r\n  }\r\n  set IsNew(v) {\r\n    this.isNew = v;\r\n    this.CommandVM.Content = util.GetCommandName(this);\r\n    this.ModelItem.IsNew = v;\r\n  }\r\n\r\n  isNewVM\r\n  get IsNewVM() {\r\n    if (!this.isNewVM) {\r\n      var obj = this.isNewVM\r\n        = checkboxVMUtil.get(\"Thiết lập mới\", this.IsNew);\r\n\r\n      obj.isDisable = true;\r\n      obj.onCheckChange = (v) => {\r\n        this.IsNew = v;\r\n        if (v) {\r\n          obj.isDisable = true;\r\n        } else {\r\n          obj.isDisable = false;\r\n        }\r\n      };\r\n    }\r\n    return this.isNewVM;\r\n  }\r\n\r\n  commandName = undefined\r\n  get CommandName() {\r\n    if (!this.commandName) {\r\n      this.commandName = util.GetCommandName(this);\r\n    }\r\n    return this.commandName;\r\n  }\r\n  set CommandName(v) {\r\n    this.commandName = v;\r\n  }\r\n\r\n  commandVM\r\n  get CommandVM() {\r\n    if (!this.commandVM) {\r\n      var obj = this.commandVM = textVMUtil.get(this.CommandName);\r\n      obj.onSetContent = (v) => this.CommandName = v;\r\n    }\r\n    return this.commandVM;\r\n  }\r\n\r\n  deleteView\r\n  get DeleteView() {\r\n    return !this.IsNew ?\r\n      <Button onClick={this.DeleteFunc}>Delete</Button>\r\n      : \"\";\r\n  }\r\n\r\n  \r\n  DeleteFunc = () => {\r\n    this.EditItem.ModelItem.Delete();\r\n    this.EditItem.Delete();\r\n    this.EditItem = undefined;\r\n  }\r\n\r\n  AddDatabase = () => {\r\n    this.ModelItem.AddDatabase();\r\n  }\r\n}","import Setting from \"../base/Setting\";\r\nimport SettingInputVM from \"../base/SettingInputVM\";\r\n\r\nexport default class ElementFilterSettingInputVM extends SettingInputVM {\r\n  \r\n}","import { ElementFilterSetting_DictVM } from \"./ElementFilterSetting_DictVM\";\r\nimport * as itemVMUtil from './ElementFilterSettingVMUtil'\r\nimport * as inputVMUtil from './ElementFilterSettingInputVMUtil'\r\n\r\nexport const get = (q) => {\r\n  var qI = new ElementFilterSetting_DictVM();\r\n  qI.ModelItem = q;\r\n\r\n  q.OnGetItemsDone = (v) => {\r\n    var obj = qI.Items;\r\n    qI.GetItemsDone = true;\r\n  }\r\n\r\n  q.OnAdd = (v) => {\r\n    qI.Add(itemVMUtil.get(v, qI));\r\n  }\r\n\r\n  return qI;\r\n}\r\n\r\nexport const GetItems = (dictVM) => {\r\n  var items = dictVM.ModelItem.Items;\r\n  if (!items) return undefined;\r\n  return items.map(x => itemVMUtil.get(x, dictVM));\r\n}\r\n\r\nexport const GetInput = (dictVM) => {\r\n  var input = dictVM.ModelItem.Input;\r\n  return inputVMUtil.get(input, dictVM);\r\n}","import SettingInputVM from \"../base/SettingInputVM\";\r\nimport ElementFilterSettingInputVM from \"./ElementFilterSettingInputVM\"\r\nimport * as dataVMUtil from './ElementFilterSettingDataVMUtil'\r\nimport { message } from \"antd\";\r\n\r\nexport const get = (q, dict) => {\r\n  var qI = new ElementFilterSettingInputVM();\r\n  qI.ModelItem = q;\r\n  qI.Dict = dict;\r\n\r\n  q.OnAddDatabaseDone = (v) => {\r\n    var command = qI.CommandName;\r\n    message.success(`${command} element filter setting successfully`);\r\n  }\r\n\r\n  qI.OnGetDataVM = () => {\r\n    var data = q.Data;\r\n    return dataVMUtil.get(data);\r\n  }\r\n\r\n  return qI;\r\n}","import { makeObservable, observable, action } from 'mobx';\r\nimport * as filterVMUtil from '../../../filter/EntFilterVMUtil'\r\nimport * as util from './MES_ValueSettingVMUtil'\r\nimport * as selectVMUtil from '../../../../../select/SelectVMUtil'\r\n\r\nexport default class MES_ValueSettingVM {\r\n  // constructor() {\r\n  //   makeObservable(this, {\r\n\r\n  //   })\r\n  // }\r\n\r\n  get Index() {\r\n    return this.Dict.ValueSettingVMs.indexOf(this);\r\n  }\r\n\r\n  retrieveType\r\n  get RetrieveType() {\r\n    if (!this.retrieveType) {\r\n      this.retrieveType = this.ModelItem.RetrieveType;\r\n    }\r\n    return this.retrieveType;\r\n  }\r\n  set RetrieveType(v) {\r\n    this.retrieveType = v;\r\n    this.ModelItem.RetrieveType = v;\r\n  }\r\n\r\n  get RetrieveTypeStorageList() {\r\n    return util.GetRetrieveTypeStorageList(this);\r\n  }\r\n\r\n  retrieveTypeSelectVM\r\n  get RetrieveTypeSelectVM() {\r\n    if (!this.retrieveTypeSelectVM) {\r\n      var obj = this.retrieveTypeSelectVM = selectVMUtil.get(this.RetrieveTypeStorageList, this.RetrieveType);\r\n      obj.OnSelectedItemChanged = (v) => this.RetrieveType = v;\r\n    }\r\n    return this.retrieveTypeSelectVM;\r\n  }\r\n\r\n  valueFilterVM\r\n  get ValueFilterVM() {\r\n    if (!this.valueFilterVM) {\r\n      var obj = this.valueFilterVM = filterVMUtil.get(this.ModelItem.ValueFilter);\r\n      obj.ValueSelectPlaceholder = 'giá trị parameter';\r\n    }\r\n    return this.valueFilterVM;\r\n  }\r\n  set ValueFilterVM(v) {\r\n    this.valueFilterVM = v;\r\n    if (!v) {\r\n      this.ModelItem.ValueFilter = v;\r\n    }\r\n    else {\r\n      this.ModelItem.ValueFilter = v.ModelItem;\r\n    }\r\n  }\r\n\r\n  workpackageVM\r\n  get WorkpackageVM() {\r\n    if (!this.workpackageVM) {\r\n      this.workpackageVM = util.GetWorkpackageVM(this);\r\n    }\r\n    return this.workpackageVM;\r\n  }\r\n  set WorkpackageVM(v) {\r\n    this.workpackageVM = v;\r\n    var modelItem = this.ModelItem;\r\n    if (!v) {\r\n      modelItem.Workpackage = v;\r\n    }\r\n    else {\r\n      this.ModelItem.Workpackage = v.Workpackage;\r\n    }\r\n  }\r\n\r\n  workpackageVMStorageList = undefined;\r\n  get WorkpackageVMStorageList() {\r\n    if (!this.workpackageVMStorageList) {\r\n      this.workpackageVMStorageList = util.GetWorkpackageVMStorageList(this);\r\n    }\r\n    return this.workpackageVMStorageList;\r\n  }\r\n  set WorkpackageVMStorageList(v) {\r\n    this.workpackageVMStorageList = v;\r\n\r\n    var selectVM = this.WorkpackageSelectVM;\r\n    selectVM.Items = v;\r\n    selectVM.SelectedIndex = -1;\r\n  }\r\n\r\n  workpackageSelectVM\r\n  get WorkpackageSelectVM() {\r\n    if (!this.workpackageSelectVM) {\r\n      var storageList = this.WorkpackageVMStorageList ?\r\n        this.WorkpackageVMStorageList : [];\r\n\r\n      var obj = this.workpackageSelectVM = selectVMUtil.get\r\n        (storageList, this.WorkpackageVM);\r\n      obj.Placeholder = 'chọn công tác';\r\n      obj.OnSelectedItemChanged = (v) => this.WorkpackageVM = v;\r\n    }\r\n\r\n    return this.workpackageSelectVM;\r\n  }\r\n\r\n  massType\r\n  get MassType() {\r\n    if (!this.massType) {\r\n      this.massType = this.ModelItem.MassType;\r\n    }\r\n    return this.massType;\r\n  }\r\n  set MassType(v) {\r\n    this.massType = v;\r\n    this.ModelItem.MassType = v;\r\n  }\r\n\r\n  get MassTypeStorageList() {\r\n    return util.GetMassTypeStorageList(this);\r\n  }\r\n\r\n  massTypeSelectVM\r\n  get MassTypeSelectVM() {\r\n    if (!this.massTypeSelectVM) {\r\n      var obj = this.massTypeSelectVM = selectVMUtil.get(this.MassTypeStorageList, \r\n        this.MassType);\r\n      obj.Placeholder = 'loại khối lượng';\r\n      obj.OnSelectedItemChanged = (v) => this.MassType = v;\r\n    }\r\n    return this.massTypeSelectVM;\r\n  }\r\n\r\n  Delete = () => {\r\n    this.ModelItem.Delete();\r\n    var list = this.Dict.ValueSettingVMs;\r\n    list.splice(this.Index, 1);\r\n  }\r\n\r\n  SetData = (v) => {\r\n    this.RetrieveTypeSelectVM.InitialItem = v.RetrieveType;\r\n    this.ValueFilterVM.SetData(v.ValueFilterVM);\r\n    this.WorkpackageSelectVM.InitialItem = v.WorkpackageVM;\r\n    this.MassTypeSelectVM.InitialItem = v.MassType;\r\n  }\r\n}","import { PMDataVM } from \"../../../../single/form/PMDataVM\";\r\nimport MES_ValueSettingVM from \"./MES_ValueSettingVM\"\r\n\r\nexport const pmDataVM = () => {\r\n  return PMDataVM.Instance;\r\n}\r\n\r\nexport const get = (q, dict) => {\r\n  var qI = new MES_ValueSettingVM();\r\n  qI.ModelItem = q;\r\n  qI.Dict = dict;\r\n\r\n  pmDataVM().Workpackage_DictVM.OnGetItemsDone_Funcs.push((v) => {\r\n    qI.WorkpackageVMStorageList = GetWorkpackageVMStorageList(qI);\r\n  });\r\n\r\n  return qI;\r\n}\r\n\r\nexport const GetRetrieveTypeStorageList = (q) => {\r\n  return pmDataVM().ValueRetrieveTypes;\r\n}\r\n\r\nexport const GetWorkpackageVM = (q) => {\r\n  var workpackage = q.ModelItem.Workpackage;\r\n  if (!workpackage) return undefined;\r\n\r\n  var list = pmDataVM().Workpackage_DictVM.WorkpackageVMs;\r\n  if (!list) return undefined;\r\n\r\n  var index = list.findIndex(x => x.Workpackage === workpackage);\r\n  return index !== -1 ? list[index] : undefined;\r\n}\r\n\r\nexport const GetWorkpackageVMStorageList = (q) => {\r\n  return pmDataVM().Workpackage_DictVM.WorkpackageVMs;\r\n}\r\n\r\nexport const GetMassTypeStorageList = (q) => {\r\n  return pmDataVM().MassTypes;\r\n}","import * as util from './MES_ValueSettingUtil'\r\n\r\nexport default class MES_ValueSetting{\r\n  get Index() {\r\n    return this.Dict.ValueSettings.indexOf(this);\r\n  }\r\n\r\n  RetrieveType\r\n\r\n  MassType\r\n  \r\n  ValueFiter\r\n\r\n  workpackageId\r\n  \r\n  workpackage\r\n  get Workpackage(){\r\n    if (!this.workpackage){\r\n      this.workpackage = util.GetWorkpackage(this);\r\n    }\r\n    return this.workpackage;\r\n  }\r\n  set Workpackage(v){\r\n    this.workpackage = v;\r\n    if (!v){\r\n      this.workpackageId = undefined;\r\n    }\r\n    else{\r\n      this.workpackageId = v._id;\r\n    }\r\n  }\r\n\r\n  Delete = () => {\r\n    this.Dict.ValueSettings.splice(this.Index, 1);\r\n  }\r\n\r\n  get ApiData() {\r\n    return util.GetApiData(this);\r\n  }\r\n}","export const byparameter = \"byparameter\";\r\nexport const bymaterial = \"bymaterial\";\r\nexport const byrebar = \"byrebar\";\r\n\r\nexport const GetAll = () => {\r\n  return [byparameter, bymaterial, byrebar]\r\n}","import MES_ValueSetting from './MES_ValueSetting'\r\nimport * as filterUtil from '../../../filter/EntFilterUtil'\r\nimport * as vrt from './MES_ValueRetrieveType'\r\nimport * as fvt from '../../../filter/FilterValueType'\r\nimport * as sft from '../../../filter/StringFilterType'\r\nimport * as fct from '../../../filter/FilterCategoryType'\r\nimport { EntFilter } from '../../../filter/EntFilter';\r\nimport { PMData } from '../../../../single/model/PMData'\r\n\r\nexport const pmData = ()  =>{\r\n  return PMData.Instance;\r\n}\r\n\r\nexport const get = (q, dict) => {\r\n  var qI = new MES_ValueSetting();\r\n  qI.RetrieveType = q.retrieveType;\r\n  qI.MassType = q.massType;\r\n  qI.ValueFilter = filterUtil.get(q.valueFilter, fct.parameter);\r\n  qI.workpackageId = q.workpackageId;\r\n  qI.Dict = dict;\r\n  return qI;\r\n}\r\n\r\nexport const Clone = (q, dict) => {\r\n  var qI = new MES_ValueSetting();\r\n  qI.RetrieveType = q.RetrieveType;\r\n  qI.MassType = q.MassType;\r\n  qI.ValueFilter = q.ValueFilter;\r\n  qI.Workpackage = q.Workpackage;\r\n  qI.Dict = dict;\r\n  return qI;\r\n}\r\n\r\nexport const GetDefault = (dict) => {\r\n  var qI = new MES_ValueSetting();\r\n  qI.RetrieveType = vrt.byparameter;\r\n  qI.Dict = dict;\r\n  \r\n  var valueFilter = new EntFilter();\r\n  valueFilter.CategoryType = fct.parameter;\r\n  valueFilter.ValueType = fvt.bystring;\r\n  valueFilter.StringFilterType = sft.byequal;\r\n  valueFilter.Values = [ 'Volume' ];\r\n\r\n  qI.ValueFilter = valueFilter;\r\n\r\n  return qI;\r\n}\r\n\r\nexport const GetWorkpackage = (q) => {\r\n  var workpackageId = q.workpackageId;\r\n  if (!workpackageId) return undefined;\r\n\r\n  var list = pmData().Workpackage_Dict.Workpackages;\r\n  if (!list) return undefined;\r\n\r\n  var index = list.findIndex(x => x._id === workpackageId);\r\n  return index !== -1 ? list[index] : undefined;\r\n}\r\n\r\nexport const GetApiData = (q) => {\r\n  return {\r\n    retrieveType : q.RetrieveType,\r\n    massType : q.MassType,\r\n    valueFilter: q.ValueFilter.ApiData,\r\n    workpackageId : q.workpackageId\r\n  }\r\n}","import { makeObservable, observable, action } from 'mobx';\r\nimport * as filterVMUtil from '../../filter/EntFilterVMUtil'\r\nimport * as checkboxVMUtil from '../../../../checkbox/CheckboxVMUtil'\r\nimport * as selectVMUtil from '../../../../select/SelectVMUtil'\r\nimport * as util from './MassExportSettingDataVMUtil'\r\nimport * as valueSettingVMUtil from './exportSetting/MES_ValueSettingVMUtil'\r\nimport * as valueSettingUtil from './exportSetting/MES_ValueSettingUtil'\r\n\r\nexport default class MassExportSettingDataVM {\r\n  constructor() {\r\n    makeObservable(this, {\r\n      valueSettingVMs: observable\r\n    })\r\n  }\r\n\r\n\r\n  ModelItem\r\n\r\n  elementFilterVM\r\n  get ElementFilterVM() {\r\n    if (!this.elementFilterVM) {\r\n      this.elementFilterVM = util.GetElementFilterVM(this);\r\n    }\r\n    return this.elementFilterVM;\r\n  }\r\n  set ElementFilterVM(v) {\r\n    this.elementFilterVM = v;\r\n    var modelItem = this.ModelItem;\r\n    if (!v) {\r\n      modelItem.ElementFilter = v;\r\n    }\r\n    else {\r\n      modelItem.ElementFilter = v.ModelItem;\r\n    }\r\n  }\r\n\r\n  elementFilterVMStorageList = undefined\r\n  get ElementFilterVMStorageList() {\r\n    if (!this.elementFilterVMStorageList) {\r\n      this.elementFilterVMStorageList = util.GetElementFilterVMStorageList(this);\r\n    }\r\n    return this.elementFilterVMStorageList;\r\n  }\r\n  set ElementFilterVMStorageList(v) {\r\n    this.elementFilterVMStorageList = v;\r\n\r\n    var selectVM = this.ElementFilterSelectVM;\r\n    selectVM.Items = v;\r\n    selectVM.SelectedIndex = 0;\r\n  }\r\n\r\n  elementFilterSelectVM\r\n  get ElementFilterSelectVM() {\r\n    if (!this.elementFilterSelectVM) {\r\n      var storageList = this.ElementFilterVMStorageList ? this.ElementFilterVMStorageList : [];\r\n\r\n      var obj = this.elementFilterSelectVM = selectVMUtil.get(storageList, this.ElementFilterVM);\r\n      obj.Placeholder = 'chọn bộ lọc'\r\n      obj.OnSelectedItemChanged = (v) => this.ElementFilterVM = v;\r\n    }\r\n    return this.elementFilterSelectVM;\r\n  }\r\n\r\n  valueSettingVMs = undefined\r\n  get ValueSettingVMs() {\r\n    if (!this.valueSettingVMs) {\r\n      this.valueSettingVMs = util.GetValueSettingVMs(this);\r\n    }\r\n    return this.valueSettingVMs;\r\n  }\r\n  set ValueSettingVMs(v) {\r\n    var list = this.valueSettingVMs;\r\n    var modelList = this.ModelItem.ValueSettings;\r\n\r\n    var oldCount = list.length;\r\n    var newCount = v.length;\r\n\r\n    list.forEach((x, i) => {\r\n      if (i >= newCount) return;\r\n      x.SetData(v[i]);\r\n    });\r\n\r\n    var delta = Math.abs(oldCount - newCount);\r\n    if (oldCount > newCount) {\r\n      list.splice(newCount, delta);\r\n      modelList.splice(newCount, delta);\r\n    }\r\n    else if (oldCount < newCount) {\r\n      for (var i = 0; i < delta; i++) {\r\n        var originItemVM = v[oldCount + i];\r\n\r\n        var item = valueSettingUtil.Clone\r\n          (originItemVM.ModelItem, this.ModelItem);\r\n        modelList.push(item);\r\n\r\n        var itemVM = valueSettingVMUtil.get(item, this);\r\n        list.push(itemVM);\r\n      }\r\n    }\r\n  }\r\n\r\n  AddNewValueSettingVM = () => {\r\n    var item = this.ModelItem.AddNewValueSetting();\r\n    var itemView = valueSettingVMUtil.get(item, this);\r\n    this.ValueSettingVMs.push(itemView);\r\n    return itemView;\r\n  }\r\n\r\n  SetData = (v) => {\r\n    this.ElementFilterSelectVM.InitialItem = v.ElementFilterVM;\r\n    this.ValueSettingVMs = v.ValueSettingVMs;\r\n  }\r\n}","import { PMDataVM } from '../../../single/form/PMDataVM';\r\nimport MassExportSettingDataVM from './MassExportSettingDataVM';\r\nimport * as valueSettingVMUtil from './exportSetting/MES_ValueSettingVMUtil'\r\n\r\nexport const pmDataVM = () => {\r\n  return PMDataVM.Instance;\r\n}\r\n\r\nexport const get = (q) => {\r\n  var qI = new MassExportSettingDataVM();\r\n  qI.ModelItem = q;\r\n\r\n  pmDataVM().ElementFilterSetting_DictVM.OnGetItemsDone = (v) => {\r\n    qI.ElementFilterVMStorageList = GetElementFilterVMStorageList(qI);\r\n  }\r\n\r\n  return qI;\r\n}\r\n\r\nexport const GetElementFilterVM = (q) => {\r\n  var elemFilter = q.ModelItem.ElementFilter;\r\n  if (!elemFilter) return undefined;\r\n\r\n  var list = pmDataVM().ElementFilterSetting_DictVM.Items;\r\n  if (!list) return undefined;\r\n\r\n  var index = list.findIndex(x => x.ModelItem === elemFilter);\r\n  return index !== -1 ? list[index] : undefined;\r\n}\r\n\r\nexport const GetElementFilterVMStorageList = (q) => {\r\n  return pmDataVM().ElementFilterSetting_DictVM.Items;\r\n}\r\n\r\nexport const GetValueSettingVMs = (q) => {\r\n  var valueSettings = q.ModelItem.ValueSettings;\r\n  return valueSettings.map(x => valueSettingVMUtil.get(x, q));\r\n}","import { SettingVM } from \"../base/SettingVM\";\r\n\r\nexport default class MassExportSettingVM extends SettingVM {\r\n  OnInitialSetDataVM = (v) => {\r\n    var valueSettingVMs = v.ValueSettingVMs;\r\n  }\r\n}","import * as dataVMUtil from './MassExportSettingDataVMUtil'\r\nimport MassExportSettingVM from \"./MassExportSettingVM\";\r\n\r\nexport const get = (q, dict) => {\r\n  var qI = new MassExportSettingVM();\r\n\r\n  qI.ModelItem = q;\r\n  qI.Dict = dict;\r\n\r\n  q.OnNameChanged = (v) => {\r\n    if (q.M2VM){\r\n      qI.Name = v;\r\n    }\r\n  }\r\n\r\n  q.OnDescriptionChanged = (v) => {\r\n    if (q.M2VM){\r\n      qI.Description = v;\r\n    }\r\n  }\r\n\r\n  q.OnDataChanged = (v) => {\r\n    if (q.M2VM){\r\n      qI.Data = v;\r\n      qI.DataVM = qI.GetDataVM();\r\n    }\r\n  }\r\n\r\n  qI.OnGetDataVM = () => {\r\n    var data = q.Data;\r\n    return dataVMUtil.get(data);\r\n  }    \r\n\r\n  return qI;\r\n}","import Setting from \"../base/Setting\";\r\nimport SettingInputVM from \"../base/SettingInputVM\";\r\n\r\nexport default class MassExportSettingInputVM extends SettingInputVM {\r\n  \r\n}","import { makeObservable, observable, action } from 'mobx';\r\nimport * as util from './MassExportSetting_DictVMUtil'\r\n\r\nexport class MassExportSetting_DictVM {\r\n  constructor() {\r\n    makeObservable(this, {\r\n      items : observable\r\n    })\r\n  }\r\n\r\n  items= undefined\r\n  get Items(){\r\n    if (!this.items){\r\n      this.items = util.GetItems(this);\r\n    }\r\n    return this.items;\r\n  }\r\n\r\n  currentItem\r\n  get CurrentItem(){\r\n    if (!this.currentItem){\r\n      this.currentItem = this.ModelItem.CurrentItem;\r\n    }\r\n    return this.currentItem;\r\n  }\r\n  set CurrentItem(v){\r\n    this.currentItem = v;\r\n    if (!v){\r\n      this.ModelItem.CurrentItem = v;\r\n    }else{\r\n      this.ModelItem.CurrentItem = v.ModelItem;\r\n      this.Input.EditItem = v;\r\n    }\r\n  }\r\n\r\n  input\r\n  get Input(){\r\n    if (!this.input){\r\n      this.input = util.GetInput(this);\r\n    }\r\n    return this.input;\r\n  }\r\n\r\n  Add = (item) => {\r\n    this.Items.push(item);\r\n  }\r\n}","import * as itemVMUtil from './MassExportSettingVMUtil'\r\nimport * as inputVMUtil from './MassExportSettingInputVMUtil'\r\nimport { MassExportSetting_DictVM } from \"./MassExportSetting_DictVM\";\r\n\r\nexport const get = (q) => {\r\n  var qI = new MassExportSetting_DictVM();\r\n  qI.ModelItem = q;\r\n\r\n  q.OnGetItemsDone = (v) => {\r\n    var obj = qI.Items;\r\n  }\r\n\r\n  q.OnAdd = (v) => {\r\n    qI.Add(itemVMUtil.get(v, qI));\r\n  }\r\n\r\n  return qI;\r\n}\r\n\r\nexport const GetItems = (dictVM) => {\r\n  var items = dictVM.ModelItem.Items;\r\n  if (!items) return undefined;\r\n  return items.map(x => itemVMUtil.get(x, dictVM));\r\n}\r\n\r\nexport const GetInput = (dictVM) => {\r\n  var input = dictVM.ModelItem.Input;\r\n  return inputVMUtil.get(input, dictVM);\r\n}","import SettingInputVM from \"../base/SettingInputVM\";\r\nimport * as dataVMUtil from './MassExportSettingDataVMUtil'\r\nimport { message } from \"antd\";\r\nimport MassExportSettingInputVM from \"./MassExportSettingInputVM\";\r\n\r\nexport const get = (q, dict) => {\r\n  var qI = new MassExportSettingInputVM();\r\n  qI.ModelItem = q;\r\n  qI.Dict = dict;\r\n\r\n  q.OnAddDatabaseDone = (v) => {\r\n    var command = qI.CommandName;\r\n    message.success(`${command} setting successfully`);\r\n  }\r\n\r\n  qI.OnGetDataVM = () => {\r\n    var data = q.Data;\r\n    return dataVMUtil.get(data);\r\n  }\r\n\r\n  return qI;\r\n}","import { makeObservable, observable, action } from 'mobx';\r\nimport * as util from './MassGroupSetting_DictVMUtil'\r\n\r\nexport class MassGroupSetting_DictVM {\r\n  constructor() {\r\n    makeObservable(this, {\r\n      items : observable\r\n    })\r\n  }\r\n\r\n  items= undefined\r\n  get Items(){\r\n    if (!this.items){\r\n      this.items = util.GetItems(this);\r\n    }\r\n    return this.items;\r\n  }\r\n\r\n  currentItem\r\n  get CurrentItem(){\r\n    if (!this.currentItem){\r\n      this.currentItem = this.ModelItem.CurrentItem;\r\n    }\r\n    return this.currentItem;\r\n  }\r\n  set CurrentItem(v){\r\n    this.currentItem = v;\r\n    if (!v){\r\n      this.ModelItem.CurrentItem = v;\r\n    }else{\r\n      this.ModelItem.CurrentItem = v.ModelItem;\r\n    }\r\n  }\r\n\r\n  Add = (item) => {\r\n    this.Items.push(item);\r\n  }\r\n}","import * as itemVMUtil from './MassGroupSettingVMUtil'\r\nimport { MassGroupSetting_DictVM } from \"./MassGroupSetting_DictVM\";\r\n\r\nexport const get = (q) => {\r\n  var qI = new MassGroupSetting_DictVM();\r\n  qI.ModelItem = q;\r\n\r\n  q.OnGetItemsDone = (v) => {\r\n    var obj = qI.Items;\r\n  }\r\n\r\n  q.OnAdd = (v) => {\r\n    qI.Add(itemVMUtil.get(v, qI));\r\n  }\r\n\r\n  return qI;\r\n}\r\n\r\nexport const GetItems = (dictVM) => {\r\n  var items = dictVM.ModelItem.Items;\r\n  if (!items) return undefined;\r\n  return items.map(x => itemVMUtil.get(x, dictVM));\r\n}\r\n","\r\nexport default class PhaseVM {\r\n  get _id(){\r\n    return this.ModelItem._id;\r\n  }\r\n\r\n  name\r\n  get Name(){\r\n    if(!this.name){\r\n      this.name = this.ModelItem.Name;\r\n    }\r\n    return this.name;\r\n  }\r\n  set Name(v){\r\n    this.name = v;\r\n    this.ModelItem.Name = v;\r\n  }\r\n\r\n  description\r\n  get Description(){\r\n    if (!this.description){\r\n      this.description = this.ModelItem.Description;\r\n    }\r\n    return this.description;\r\n  }\r\n  set Description(v){\r\n    this.description = v;\r\n    this.ModelItem.Description = v;\r\n  }\r\n\r\n  get DisplayContent () {\r\n    return `${this.Name}`;\r\n  }\r\n}","import PhaseVM from \"./PhaseVM\";\r\n\r\nexport const get = (q, dict) => {\r\n  if (!q) return undefined;\r\n  var qI = new PhaseVM();\r\n\r\n  qI.ModelItem = q;\r\n  qI.Dict = dict;  \r\n\r\n  return qI;\r\n}","export const addversion = 'addversion'","import { makeObservable, observable, action } from 'mobx';\r\nimport * as util from './Phase_DictVMUtil'\r\nimport * as stateType from '../state/StateType'\r\nimport { message } from 'antd';\r\n\r\nexport class Phase_DictVM {\r\n  constructor() {\r\n    makeObservable(this, {\r\n      items : observable,\r\n      state : observable\r\n    })\r\n  }\r\n\r\n  items= undefined\r\n  get Items(){\r\n    if (!this.items){\r\n      this.items = util.GetItems(this);\r\n    }\r\n    return this.items;\r\n  }\r\n\r\n  OnGetItemsDone_Funcs = []\r\n\r\n  set GetItemsDone (v){\r\n    this.OnGetItemsDone_Funcs.forEach(x => x());\r\n  }\r\n\r\n  input\r\n  get Input(){\r\n    if (!this.input){\r\n      this.input = util.GetInput(this);\r\n    }\r\n    return this.input;\r\n  }\r\n\r\n  state = undefined\r\n  get State(){\r\n    return this.state;\r\n  }\r\n  set State(v){\r\n    this.state = v;\r\n  }\r\n\r\n  Add = (item) => {\r\n    this.Items.push(item);\r\n  }\r\n\r\n  AddVersion = () => {\r\n    this.State = stateType.addversion;\r\n  }\r\n\r\n  Cancel = () => {\r\n    this.State = undefined;\r\n  }\r\n\r\n  OK = () => {\r\n    var name = this.Input.Name;\r\n    var index = this.Items.findIndex(x => x.Name === name);\r\n    if (index !== -1){\r\n      message.warning('version name already exists!');\r\n      return;\r\n    }\r\n\r\n    this.State = undefined;\r\n    this.ModelItem.AddMassVersion();\r\n  }\r\n}","import * as textVMUtil from '../../../text/TextVMUtil'\r\n\r\nexport default class PhaseInputVM {\r\n  name = undefined\r\n  get Name() {\r\n    if (!this.name) {\r\n      this.name = this.ModelItem.Name;\r\n    }\r\n    return this.name;\r\n  }\r\n  set Name(v) {\r\n    this.name = v;\r\n    this.ModelItem.Name = v;\r\n  }\r\n\r\n  description\r\n  get Description() {\r\n    if (!this.description) {\r\n      this.description = this.ModelItem.Description;\r\n    }\r\n    return this.description;\r\n  }\r\n  set Description(v) {\r\n    this.description = v;\r\n    this.ModelItem.Description = v;\r\n  }\r\n\r\n  nameVM\r\n  get NameVM() {\r\n    if (!this.nameVM){\r\n      var obj = this.nameVM =\r\n        textVMUtil.get(this.Name, \"tên version\");\r\n      obj.onSetContent = (v) => this.Name = v;\r\n    }\r\n    return this.nameVM;\r\n  }\r\n\r\n  descriptionVM\r\n  get DescriptionVM() {\r\n    if (!this.descriptionVM){\r\n      var obj = this.descriptionVM =\r\n        textVMUtil.get(this.Description, \"mô tả\");\r\n      obj.onSetContent = (v) => this.Description = v;\r\n    }\r\n    return this.descriptionVM;\r\n  }\r\n}","import * as itemVMUtil from './PhaseVMUtil'\r\nimport { Phase_DictVM } from \"./Phase_DictVM\";\r\nimport * as inputVMUtil from './PhaseInputVMUtil'\r\n\r\nexport const get = (q) => {\r\n  var qI = new Phase_DictVM();\r\n  qI.ModelItem = q;\r\n\r\n  q.OnGetItemsDone_Funcs.push((v) => {\r\n    var obj = qI.Items;\r\n    qI.GetItemsDone = true;\r\n  });\r\n\r\n  q.OnAdd = (v) => {\r\n    qI.Add(itemVMUtil.get(v, qI));\r\n  }\r\n\r\n  return qI;\r\n}\r\n\r\nexport const GetItems = (dictVM) => {\r\n  var items = dictVM.ModelItem.Items;\r\n  if (!items) return undefined;\r\n  return items.map(x => itemVMUtil.get(x, dictVM));\r\n}\r\n\r\nexport const GetInput = (q) => {\r\n  return inputVMUtil.get(q.ModelItem.Input, q);\r\n}","import PhaseInputVM from \"./PhaseInputVM\";\r\n\r\nexport const get = (q, dict) => {\r\n  var qI = new PhaseInputVM();\r\n  qI.ModelItem = q;\r\n  qI.Dict = dict;\r\n\r\n  return qI;\r\n}","import { makeObservable, observable, action } from 'mobx';\r\nimport * as util from './ProjectVMUtil'\r\n\r\nexport default class ProjectVM {\r\n  constructor() {\r\n    makeObservable(this, {\r\n      typicalLevelSetting: observable,\r\n      typicalLevelSetting_ForEdit: observable\r\n    })\r\n  }\r\n\r\n  get _id() {\r\n    return this.ModelItem._id;\r\n  }\r\n\r\n  name\r\n  get Name() {\r\n    if (!this.name) {\r\n      this.name = this.ModelItem.Name;\r\n    }\r\n    return this.name;\r\n  }\r\n  set Name(v) {\r\n    this.name = v;\r\n    this.ModelItem.Name = v;\r\n  }\r\n\r\n  code\r\n  get Code() {\r\n    if (!this.code) {\r\n      this.code = this.ModelItem.Code;\r\n    }\r\n    return this.code;\r\n  }\r\n  set Code(v) {\r\n    this.code = v;\r\n    this.ModelItem.Code = v;\r\n  }\r\n\r\n  phase_DictVM\r\n  get Phase_DictVM() {\r\n    if (!this.phase_DictVM) {\r\n      this.phase_DictVM = util.GetPhase_DictVM(this);\r\n    }\r\n    return this.phase_DictVM;\r\n  }\r\n\r\n  rebarMass_Dict\r\n  get RebarMass_Dict() {\r\n    if (!this.rebarMass_Dict) {\r\n      this.rebarMass_Dict = this.ModelItem.RebarMass_Dict;\r\n    }\r\n    return this.rebarMass_Dict;\r\n  }\r\n\r\n  get InputExportSet() {\r\n    return this.ModelItem.InputExportSet;\r\n  }\r\n\r\n  get DisplayContent() {\r\n    return `${this.Code} - ${this.Name}`;\r\n  }\r\n\r\n  get Level_Dict() {\r\n    return this.ModelItem.Level_Dict;\r\n  }\r\n\r\n  typicalLevelSetting = undefined\r\n  get TypicalLevelSetting() {\r\n    if (!this.typicalLevelSetting) {\r\n      this.typicalLevelSetting = util.GetTypicalLevelSetting(this);\r\n    }\r\n    return this.typicalLevelSetting;\r\n  } set TypicalLevelSetting(v) {\r\n    this.typicalLevelSetting = v;\r\n  }\r\n\r\n  typicalLevelSetting_ForEdit = undefined\r\n  get TypicalLevelSetting_ForEdit() {\r\n    if (!this.typicalLevelSetting_ForEdit) {\r\n      this.typicalLevelSetting_ForEdit = util.GetTypicalLevelSetting_ForEdit(this);\r\n    }\r\n    return this.typicalLevelSetting_ForEdit;\r\n  } set TypicalLevelSetting_ForEdit(v) {\r\n    this.typicalLevelSetting_ForEdit = v;\r\n  }\r\n\r\n  get Url(){\r\n    return this.ModelItem.Url;\r\n  }\r\n}","import { Component } from \"react\";\r\nimport React from 'react'\r\nimport { makeObservable, observable, action } from 'mobx';\r\nimport { observer } from 'mobx-react';\r\nimport { Button, Input } from \"antd\";\r\nimport * as textVMUtil from '../text/TextVMUtil'\r\nimport ContentEditable from \"react-contenteditable\";\r\nimport * as ts from '../text/TextState'\r\n\r\nclass NewInputView extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.contentEditable = React.createRef();\r\n    var { store } = this.props;\r\n    if (!store) {\r\n      var content = `Nội dung input`\r\n      this.state = textVMUtil.get(content);\r\n    } else {\r\n      this.state = store;\r\n    }\r\n  }\r\n\r\n  handleChange = (e) => {\r\n    var data = this.state;\r\n    data.Content = e.target.value;\r\n  };\r\n\r\n  render() {\r\n    var data = this.state;\r\n    var Content = data.Content;\r\n    var style = this.props.style ? this.props.style : {};\r\n    if (!style.minWidth) {\r\n      style.minWidth = 150\r\n      style.fontFamily = 'password'\r\n    }\r\n\r\n    return (\r\n      <>\r\n        {data.State === ts.text ?\r\n          <ContentEditable className='ant-input' innerRef={this.contentEditable}\r\n            placeholder={data.Placeholder}\r\n            style={style}\r\n            html={Content ? Content : ''}\r\n            onChange={this.handleChange} />\r\n          : ''}\r\n        {data.State === ts.password ?\r\n          <Input.Password value={Content} onChange={this.handleChange} /> : ''}\r\n      </>\r\n    )\r\n  }\r\n}\r\n\r\nexport default observer(NewInputView)","export const text = 'text'\r\nexport const input = 'input'","import { Component } from \"react\";\r\nimport { makeObservable, observable, action } from 'mobx';\r\nimport { observer } from 'mobx-react';\r\nimport * as checkboxVMUtil from './CheckboxVMUtil'\r\nimport './Checkbox.css'\r\n\r\nclass CheckboxView extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    var { store } = this.props;\r\n    if (!store) {\r\n      this.state = checkboxVMUtil.get(false);\r\n    } else {\r\n      this.state = store;\r\n    }\r\n  }\r\n\r\n  onCheckedChange = (e) => {\r\n    var data = this.state;\r\n    var { checked } = e.target;\r\n\r\n    if (data.OnCheckChanging) {\r\n      data.OnCheckChanging(checked);\r\n    }\r\n\r\n    if (!data.Cancel) {\r\n      data.Ischecked = checked;\r\n    }\r\n  }\r\n\r\n  render() {\r\n    var { ischecked, name, isDisable } = this.state;\r\n\r\n    return (\r\n      <>\r\n        <label>\r\n          <input type=\"checkbox\"\r\n            checked={ischecked}\r\n            onChange={this.onCheckedChange} disabled={isDisable} />\r\n          <span className='checkbox__title'>{name}</span>\r\n        </label>\r\n      </>\r\n    )\r\n  }\r\n}\r\n\r\nexport default observer(CheckboxView)","import { Button, Popover } from 'antd';\r\nimport { makeObservable, observable, action } from 'mobx';\r\nimport CheckboxView from '../../../../../checkbox/CheckboxView';\r\nimport * as checkBoxUtil from '../../../../../checkbox/CheckboxVMUtil';\r\nimport * as multiSelectUtil from \"../../../../../select/MultiSelectVMUtil\";\r\nimport * as textUtil from \"../../../../../text/TextVMUtil\";\r\nimport { text } from '../pageItem/TLS_PageItemStateType';\r\nimport * as util from './LevelGroupVMUtil'\r\n\r\nexport class LevelGroupVM {\r\n  constructor() {\r\n    makeObservable(this, {\r\n      primary: observable,\r\n      isSelectOpen: observable,\r\n    })\r\n  }\r\n\r\n  get id() {\r\n    return this.ModelItem.id;\r\n  }\r\n\r\n  get LevelStorageList() {\r\n    return this.Dict.LevelStorageList;\r\n  }\r\n\r\n  get Levels() {\r\n    return this.ModelItem.Levels;\r\n  } set Levels(v) {\r\n    this.ModelItem.Levels = v;\r\n  }\r\n\r\n  get SettingVM() {\r\n    return this.Dict.SettingVM;\r\n  }\r\n\r\n  levelSelectVM\r\n  get LevelSelectVM() {\r\n    if (!this.levelSelectVM) {\r\n      var list = this.LevelStorageList;\r\n      if (!list) {\r\n        this.SettingVM.ModelItem.OnGetLevelStorageList_Funcs.push(() => {\r\n          var obj = this.levelSelectVM;\r\n          obj.Items = this.LevelStorageList;\r\n          obj.InitialItems = this.Levels;\r\n        })\r\n      }\r\n\r\n      list = list ? list : []\r\n      var obj = this.levelSelectVM = multiSelectUtil.get(list, this.Levels);\r\n      obj.Placeholder = 'chọn level ...';\r\n\r\n      obj.TitleRender = (item) => {\r\n        const getTriggerContent = () => {\r\n          return this.IsSelectOpen || this.Primary === item ? 'click' : 'hover';\r\n        }\r\n        var triggerVM = textUtil.get(getTriggerContent())\r\n\r\n        const getButtonType = () => {\r\n          return this.Primary === item ? 'primary' : 'dashed'\r\n        }\r\n        var buttonTypeVM = textUtil.get(getButtonType())\r\n\r\n        const getAddContent = () => {\r\n          return this.Primary === item ? '' : 'Set'\r\n        }\r\n        var addContentVM = textUtil.get(getAddContent())\r\n\r\n        const getItemCss = () => {\r\n          return this.Primary === item ? 'levelgroup__primary' : '';\r\n        }\r\n\r\n        return <Popover trigger={triggerVM.Content}\r\n          content={\r\n            <span>\r\n              {this.Primary !== item ?\r\n                <span className='levelgroup__addtext'>{addContentVM.Content}</span>\r\n                : ''}\r\n              <Button size='small'\r\n                type={buttonTypeVM.Content}\r\n                onClick={() => {\r\n                  this.Primary = item;\r\n                }}>Primary</Button>\r\n            </span>\r\n          }>\r\n          <span className={getItemCss()}>{item}</span>\r\n        </Popover>\r\n      }\r\n\r\n      obj.OnSetOpen = (v) => this.IsSelectOpen = v;\r\n      obj.OnSelectedItemChanged = (v) => {\r\n        this.Levels = v;\r\n        if (this.Levels.indexOf(this.Primary) === -1) {\r\n          this.Primary = util.GetDefaultPrimary(this);\r\n        }\r\n      }\r\n    }\r\n    return this.levelSelectVM;\r\n  }\r\n\r\n  get Index() {\r\n    return this.Dict.LevelGroups.indexOf(this);\r\n  }\r\n\r\n  Delete = () => {\r\n    this.ModelItem.Delete();\r\n    var list = this.Dict.LevelGroups;\r\n    list.splice(this.Index, 1);\r\n\r\n    this.Primary = util.GetDefaultPrimary(this);\r\n  }\r\n\r\n  primary = undefined\r\n  get Primary() {\r\n    if (!this.primary) {\r\n      this.primary = this.ModelItem.Primary;\r\n    }\r\n    return this.primary\r\n  } set Primary(v) {\r\n    this.primary = this.ModelItem.Primary = v;\r\n  }\r\n\r\n  isSelectOpen = undefined\r\n  get IsSelectOpen() {\r\n    return this.isSelectOpen\r\n  } set IsSelectOpen(v) {\r\n    this.isSelectOpen = v;\r\n  }\r\n}","import { LevelGroupVM } from \"./LevelGroupVM\"\r\n\r\nexport const get = (q, dict) => {\r\n  var qI = new LevelGroupVM();\r\n  qI.ModelItem = q;\r\n  qI.Dict = dict;\r\n  return qI;\r\n}\r\n\r\n// Property\r\nexport const GetDefaultPrimary = (q) => {\r\n  if (q.Levels && q.Levels.length !== 0) {\r\n    return q.Levels[0];\r\n  }\r\n}","export const input = 'input'\r\nexport const select = 'select'","import * as textUtil from \"../../../../../text/TextVMUtil\";\r\nimport * as genUtil from \"../../../../../../util/generalUtil\";\r\nimport * as it from './TLS_FilterValue_InputType'\r\nimport { makeObservable, observable, action } from 'mobx';\r\nimport NewInputView from \"../../../../../input/NewInputView\";\r\nimport SelectView from \"../../../../../select/SelectView\";\r\nimport * as selectUtil from \"../../../../../select/SelectVMUtil\";\r\nimport * as util from './TLS_FilterValueVMUtil'\r\n\r\nexport class TLS_FilterValueVM {\r\n  constructor() {\r\n    makeObservable(this, {\r\n      InputType: observable\r\n    })\r\n  }\r\n\r\n  _id\r\n  get id() {\r\n    if (!this._id) {\r\n      this._id = genUtil.newGUID();\r\n    }\r\n    return this._id;\r\n  }\r\n\r\n  get Index() {\r\n    return this.Dict.Values.indexOf(this);\r\n  }\r\n\r\n  get Values() {\r\n    return this.Dict.ModelItem.Values;\r\n  }\r\n\r\n  get Value() {\r\n    return this.Values[this.Index];\r\n  }\r\n  set Value(v) {\r\n    this.Values[this.Index] = v;\r\n  }\r\n\r\n  valueVM\r\n  get ValueVM() {\r\n    if (!this.valueVM) {\r\n      var obj = this.valueVM = textUtil.get(this.Value);\r\n      obj.onSetContent = (v) => {\r\n        this.Value = v;\r\n      }\r\n    }\r\n    return this.valueVM;\r\n  }\r\n\r\n  selectVM\r\n  get SelectVM() {\r\n    if (!this.selectVM) {\r\n      var list = ['Cột', 'Vách', 'Dầm', 'Sàn']\r\n      var obj = this.selectVM = selectUtil.get(list, this.Value);\r\n      obj.Placeholder = '...'\r\n      obj.OnSetOpen = (v) => this.SelectOpen = v;\r\n      obj.OnSelectedItemChanged = (v) => this.Value = v;\r\n    }\r\n    return this.selectVM;\r\n  }\r\n\r\n  Delete = () => {\r\n    this.Dict.ModelItem.Values.splice(this.Index, 1);\r\n    this.Dict.Values.splice(this.Index, 1);\r\n  }\r\n\r\n  InputType = it.select\r\n\r\n  ToggleInputType = () => {\r\n    switch (this.InputType) {\r\n      case it.input:\r\n        this.SelectVM.InitialItem = this.Value;\r\n        this.Value = this.SelectVM.SelectedItem;\r\n        this.InputType = it.select\r\n        break;\r\n      case it.select:\r\n        if (this.Value) {\r\n          this.ValueVM.Content = this.Value;\r\n        } else{\r\n          if (!this.ValueVM.Content){\r\n            this.ValueVM.Content = 'value'\r\n          }\r\n          this.Value =this.ValueVM.Content;\r\n        }\r\n\r\n        this.InputType = it.input\r\n        break;\r\n    }\r\n  }\r\n\r\n  SwitchChecked_Funcs = () => this.InputType === it.select;\r\n\r\n  get InputElement() {\r\n    switch (this.InputType) {\r\n      case it.input:\r\n        return <NewInputView store={this.ValueVM} className='tls_filter__value__input' />\r\n      case it.select:\r\n        return <SelectView store={this.SelectVM} className='tls_filter__value__select' />\r\n    }\r\n  }\r\n\r\n  selectOpen\r\n  get SelectOpen() {\r\n    if (this.selectOpen === undefined) {\r\n      this.selectOpen = this.SelectVM.Open;\r\n    }\r\n    return this.selectOpen;\r\n  }\r\n  set SelectOpen(v) {\r\n    this.selectOpen = v;\r\n    this.PopoverState.Content = util.GetPopoverState(this);\r\n  }\r\n\r\n  popoverState\r\n  get PopoverState() {\r\n    if (!this.popoverState) {\r\n      this.popoverState = textUtil.get(util.GetPopoverState(this));\r\n    }\r\n    return this.popoverState;\r\n  }\r\n}","import { TLS_FilterValueVM } from \"./TLS_FilterValueVM\"\r\n\r\nexport const get = (q, dict) => {\r\n  var qI = new TLS_FilterValueVM();\r\n  qI.Dict = dict;\r\n  return qI;\r\n}\r\n\r\nexport const GetPopoverState = (q) => {\r\n    return q.SelectOpen ? 'none' : 'hover';\r\n  }","import { makeObservable, observable, action } from 'mobx';\r\nimport * as selectUtil from \"../../../../../select/SelectVMUtil\";\r\nimport * as util from './TLS_FilterVMUtil'\r\nimport * as valueUtil from './TLS_FilterValueVMUtil'\r\n\r\nexport class TLS_FilterVM {\r\n  constructor() {\r\n    makeObservable(this, {\r\n      values : observable\r\n    })\r\n  }\r\n\r\n  get id(){\r\n    return this.ModelItem.id;\r\n  }\r\n\r\n  get Field(){\r\n    return this.ModelItem.Field;\r\n  } set Field(v){\r\n    this.ModelItem.Field = v;\r\n  }\r\n\r\n  get FieldStorageList(){\r\n    return this.Dict.FieldFilterStorageList;\r\n  }\r\n\r\n  fieldSelectVM\r\n  get FieldSelectVM(){\r\n    if (!this.fieldSelectVM){\r\n      var obj = this.fieldSelectVM = \r\n        selectUtil.get(this.FieldStorageList, this.Field);\r\n      obj.Placeholder = 'chọn bộ lọc ...';\r\n      obj.OnSelectedItemChanged = (v) => this.Field = v;\r\n    }\r\n    return this.fieldSelectVM;\r\n  }\r\n\r\n  get Index (){\r\n    return this.Dict.Filters.indexOf(this);\r\n  }\r\n\r\n  Delete = () => {\r\n    this.ModelItem.Delete();\r\n    this.Dict.Filters.splice(this.Index, 1);\r\n  }\r\n\r\n  values = undefined\r\n  get Values(){\r\n    if (!this.values){\r\n      this.values = util.GetValues(this);\r\n    }\r\n    return this.values;\r\n  }\r\n\r\n  AddValue = () => {\r\n    var item = valueUtil.get(this.ModelItem.AddValue(),this);\r\n    this.Values.push(item);\r\n    return item;\r\n  }\r\n}\r\n","import { TLS_FilterVM } from \"./TLS_FilterVM\";\r\nimport * as valueUtil from './TLS_FilterValueVMUtil'\r\n\r\nexport const get = (q, dict) => {\r\n  var qI = new TLS_FilterVM();\r\n  qI.ModelItem = q;\r\n  qI.Dict = dict;\r\n  return qI;\r\n}\r\n\r\nexport const GetValues = (q) => {\r\n  return q.ModelItem.Values.map(x => valueUtil.get(x, q));\r\n}","import { Button, Popover } from 'antd';\r\nimport { makeObservable, observable, action } from 'mobx';\r\nimport NewInputView from '../../../../../input/NewInputView';\r\nimport * as textUtil from '../../../../../text/TextVMUtil';\r\nimport * as st from './TLS_PageItemStateType'\r\nimport * as levelGroupUtil from '../levelGroup/LevelGroupVMUtil'\r\nimport * as filterUtil from '../filter/TLS_FilterVMUtil'\r\nimport * as util from './TLS_PageItemVMUtil'\r\n\r\nexport class TLS_PageItemVM {\r\n  constructor() {\r\n    makeObservable(this, {\r\n      name: observable,\r\n      State: observable,\r\n      levelGroups: observable,\r\n      filters: observable,\r\n    })\r\n  }\r\n\r\n  get id() {\r\n    return this.ModelItem?.id;\r\n  }\r\n  set id(v) {\r\n    this._id = v;\r\n  }\r\n\r\n  name = undefined\r\n  get Name() {\r\n    if (!this.name) {\r\n      this.name = this.ModelItem.Name;\r\n    }\r\n    return this.name;\r\n  }\r\n  set Name(v) {\r\n    this.name = this.ModelItem.Name = v;\r\n  }\r\n\r\n  State = st.text\r\n\r\n  ToggleState = () => {\r\n    switch (this.State) {\r\n      case st.text:\r\n        this.State = st.input\r\n        break;\r\n      case st.input:\r\n        this.NameVM.Content = this.Name;\r\n        this.State = st.text\r\n        break;\r\n    }\r\n  }\r\n\r\n  get DeleteMarginCss() {\r\n    return this.State === st.input ? 'tls_pageItem__deletemargin' : ''\r\n  }\r\n\r\n  nameVM\r\n  get NameVM() {\r\n    if (!this.nameVM) {\r\n      this.nameVM = textUtil.get(this.Name);\r\n    }\r\n    return this.nameVM;\r\n  }\r\n\r\n  NameOK = () => {\r\n    this.State = st.text;\r\n    this.Name = this.NameVM.Content;\r\n  }\r\n\r\n  NameCancel = () => {\r\n    this.State = st.text;\r\n  }\r\n\r\n  get InputToolElement() {\r\n    return <div >\r\n      <Button type='primary' size='small'\r\n        onClick={this.NameOK}>ok</Button>\r\n      <Button type='dashed' size='small'\r\n        onClick={this.NameCancel}>cancel</Button>\r\n    </div>\r\n  }\r\n\r\n  get InputElement() {\r\n    var obj = <NewInputView className='tls_pageItem_input' store={this.NameVM} />\r\n    return obj;\r\n  }\r\n\r\n  get TitleElement() {\r\n    var delElem = <Button type='primary' size='small' onClick={this.Delete}\r\n      className='tls_pageItem__delete'>x</Button>\r\n\r\n    switch (this.State) {\r\n      case st.text:\r\n        return <>\r\n          <span>{this.Name}</span>\r\n          <Button type='primary' size='small' className='tls_pageItem__edit'\r\n            onClick={this.ToggleState}>e</Button>\r\n          {delElem}\r\n        </>\r\n      case st.input:\r\n        return <>\r\n          <Popover content={this.InputToolElement} trigger=\"focus\">\r\n            <span>\r\n              {this.InputElement}\r\n            </span>\r\n          </Popover>\r\n          {delElem}\r\n        </>\r\n    }\r\n  }\r\n\r\n  get Index() {\r\n    return this.Dict.PageItems.indexOf(this);\r\n  }\r\n\r\n  get IsLast() {\r\n    return this.Dict.PageItems.length - 1 === this.Index;\r\n  }\r\n\r\n  Delete = () => {\r\n    this.ModelItem.Delete();\r\n\r\n    var index = this.Index;\r\n    var isLast = this.IsLast;\r\n\r\n    var dict = this.Dict;\r\n    var list = dict.PageItems;\r\n    list.splice(index, 1);\r\n    dict.AllTabs.splice(index, 1);\r\n\r\n    if (list.length !== 0) {\r\n      dict.IsModelChangePageKey = true;\r\n      dict.CurrentPageKey = (isLast ? list[index - 1] : list[index]).id\r\n    }\r\n  }\r\n\r\n  // Setting\r\n  get SettingVM() {\r\n    return this.Dict.SettingVM;\r\n  }\r\n\r\n  // Level Group\r\n  get LevelStorageList() {\r\n    return this.Dict.LevelStorageList;\r\n  }\r\n\r\n  levelGroups = undefined\r\n  get LevelGroups() {\r\n    if (!this.levelGroups) {\r\n      this.levelGroups = util.GetLevelGroups(this);\r\n    }\r\n    return this.levelGroups;\r\n  }\r\n\r\n  AddLevelGroup = () => {\r\n    var item = levelGroupUtil.get(this.ModelItem.AddLevelGroup(), this);\r\n    this.LevelGroups.push(item);\r\n    return item;\r\n  }\r\n\r\n  // Filter\r\n  get FieldFilterStorageList() {\r\n    return this.Dict.FieldFilterStorageList;\r\n  }\r\n\r\n  filters = undefined\r\n  get Filters() {\r\n    if (!this.filters) {\r\n      this.filters = util.GetFilters(this);\r\n    }\r\n    return this.filters;\r\n  }\r\n\r\n  AddFilter = () => {\r\n    var item = filterUtil.get(this.ModelItem.AddFilter(), this);\r\n    this.Filters.push(item);\r\n    return item;\r\n  }\r\n}","import { TLS_PageItemVM } from \"./TLS_PageItemVM\"\r\nimport * as levelGroupUtil from '../levelGroup/LevelGroupVMUtil'\r\nimport * as filterUtil from '../filter/TLS_FilterVMUtil'\r\n\r\nexport const get = (q, dict) => {\r\n  var qI = new TLS_PageItemVM();\r\n  qI.ModelItem = q;\r\n  qI.Dict = dict;\r\n  return qI;\r\n}\r\n\r\nexport const GetLevelGroups = (q) => {\r\n  return q.ModelItem.LevelGroups.map(x => levelGroupUtil.get(x, q));\r\n}\r\n\r\nexport const GetFilters = (q) => {\r\n  return q.ModelItem.Filters.map(x => filterUtil.get(x, q));\r\n}","import { makeObservable, observable, action } from 'mobx';\r\nimport * as util from './TypicalLevelSettingDataVMUtil'\r\nimport { ControlOutlined } from '@ant-design/icons';\r\nimport { Button } from 'antd';\r\nimport * as pageItemUtil from './pageItem/TLS_PageItemVMUtil';\r\n\r\nexport class TypicalLevelSettingDataVM {\r\n  constructor() {\r\n    makeObservable(this, {\r\n      pageItems: observable,\r\n      currentPageKey: observable,\r\n      allTabs: observable\r\n    })\r\n  }\r\n\r\n  ModelItem\r\n\r\n  // Setting\r\n  get SettingVM (){\r\n    return this.Dict;\r\n  }\r\n\r\n  get LevelStorageList() {\r\n    return this.Dict.LevelStorageList;\r\n  }\r\n\r\n  get FieldFilterStorageList() {\r\n    return this.Dict.FieldFilterStorageList;\r\n  }\r\n\r\n  // Page Items\r\n  pageItems = undefined\r\n  get PageItems() {\r\n    if (!this.pageItems) {\r\n      this.pageItems = util.GetPageItems(this);\r\n    }\r\n    return this.pageItems;\r\n  }\r\n\r\n  AddPageItem = () => {\r\n    var item = pageItemUtil.get(this.ModelItem.AddPageItem(), this);\r\n    this.PageItems.push(item);\r\n\r\n    var i = this.IsHaveAddCommandTab ? 1 : 0;\r\n    this.AllTabs.splice(this.AllTabs.length - i, 0, item);\r\n\r\n    this.CurrentPageKey = item.id;\r\n\r\n    return item;\r\n  }\r\n\r\n  addCommandTab\r\n  get AddCommandTab() {\r\n    if (!this.addCommandTab) {\r\n      this.addCommandTab = {\r\n        id: 'add',\r\n        TitleElement: <Button className='tls__tabs__add'\r\n          type='text' size='small'\r\n          onClick={this.AddPageItem}>+</Button>\r\n      }\r\n    }\r\n    return this.addCommandTab;\r\n  }\r\n\r\n  IsHaveAddCommandTab = false\r\n\r\n  allTabs = undefined\r\n  get AllTabs() {\r\n    if (!this.allTabs) {\r\n      var obj = [...this.PageItems];\r\n      if (this.IsHaveAddCommandTab) {\r\n        obj.push(this.AddCommandTab);\r\n      }\r\n      this.allTabs = obj;\r\n    }\r\n    return this.allTabs;\r\n  }\r\n\r\n  currentPageKey = undefined\r\n  get CurrentPageKey() {\r\n    if (!this.currentPageKey) {\r\n      this.currentPageKey = this.PageItems[0].id;\r\n    }\r\n    return this.currentPageKey;\r\n  } set CurrentPageKey(v) {\r\n    this.currentPageKey = v;\r\n  }\r\n\r\n  IsModelChangePageKey = false\r\n\r\n  ChangePageKey = (v) => {\r\n    if (this.IsModelChangePageKey) {\r\n      this.IsModelChangePageKey = false; return;\r\n    }\r\n    this.CurrentPageKey = v;\r\n  }\r\n}","import { PMDataVM } from '../../../single/form/PMDataVM';\r\nimport { TypicalLevelSettingDataVM } from './TypicalLevelSettingDataVM';\r\nimport * as pageItemUtil from './pageItem/TLS_PageItemVMUtil'\r\n\r\nexport const pmDataVM = () => {\r\n  return PMDataVM.Instance;\r\n}\r\n\r\nexport const get = (q, dict) => {\r\n  var qI = new TypicalLevelSettingDataVM();\r\n  qI.ModelItem = q;\r\n  qI.Dict = dict;\r\n\r\n  return qI;\r\n}\r\n\r\nexport const GetPageItems = (q) => {\r\n  return q.ModelItem.PageItems.map(x => pageItemUtil.get(x, q));\r\n}","import { SettingVM } from \"../base/SettingVM\";\r\nimport * as util from './TypicalLevelSettingVMUtil'\r\n\r\nexport class TypicalLevelSettingVM extends SettingVM {\r\n  get LevelStorageList() {\r\n    return this.ModelItem.LevelStorageList;\r\n  }\r\n\r\n  get FieldFilterStorageList(){\r\n    return this.ModelItem.FieldFilterStorageList;\r\n  }\r\n\r\n  Save = () => {\r\n    this.ModelItem.Save();\r\n  }\r\n}","import * as dataVMUtil from './TypicalLevelSettingDataVMUtil'\r\nimport { TypicalLevelSettingVM } from './TypicalLevelSettingVM'\r\nimport * as fieldUtil from '../../mass/item/MassItemField'\r\n\r\nexport const get = (q, project) => {\r\n  if (!q) return undefined;\r\n  \r\n  var qI = new TypicalLevelSettingVM();\r\n\r\n  qI.ModelItem = q;\r\n  qI.Project = project;\r\n\r\n  // var level_Dict = project.Level_Dict;\r\n  // const getLevelsFunc = () => { \r\n  //   qI.LevelStorageList = level_Dict.Items.map(x => x.Name);\r\n  //   qI.GetLevelStorageList = true;\r\n  // }\r\n  // if (level_Dict.Items){\r\n  //   getLevelsFunc();\r\n  // } else{\r\n  //   level_Dict.OnGetItemsDone_Funcs.push(getLevelsFunc);\r\n  // }\r\n\r\n  q.OnNameChanged = (v) => {\r\n    if (q.M2VM){\r\n      qI.Name = v;\r\n    }\r\n  }\r\n\r\n  q.OnDescriptionChanged = (v) => {\r\n    if (q.M2VM){\r\n      qI.Description = v;\r\n    }\r\n  }\r\n\r\n  q.OnDataChanged = (v) => {\r\n    if (q.M2VM){\r\n      qI.Data = v;\r\n      qI.DataVM = qI.GetDataVM();\r\n    }\r\n  }\r\n\r\n  qI.OnGetDataVM = () => {\r\n    var data = q.Data;\r\n    return dataVMUtil.get(data, qI);\r\n  }    \r\n\r\n  return qI;\r\n}\r\n\r\nexport const GetFieldFilterStorageList = () => {\r\n  return fieldUtil.GetListForTypicalLevelFilter();\r\n}","import * as phaseDictVMUtil from '../phase/Phase_DictVMUtil'\r\nimport ProjectVM from \"./ProjectVM\";\r\nimport * as typicalLevelUtil from '../setting/typicallevel/TypicalLevelSettingVMUtil'\r\n\r\nexport const get = (q, dict) => {\r\n  if (!q) return undefined;\r\n  var qI = new ProjectVM();\r\n\r\n  qI.ModelItem = q;\r\n  qI.Dict = dict;\r\n\r\n  return qI;\r\n}\r\n\r\nexport const GetPhase_DictVM = (q) => {\r\n  var phaseDict = q.ModelItem.Phase_Dict;\r\n  return phaseDictVMUtil.get(phaseDict);\r\n}\r\n\r\nexport const GetTypicalLevelSetting_Func = (model, project) => {\r\n  return typicalLevelUtil.get(model, project);\r\n}\r\n\r\nexport const GetTypicalLevelSetting = (q) => {\r\n  var project = q.ModelItem;\r\n  var tls = project.TypicalLevelSetting;\r\n  if (tls) {\r\n    return GetTypicalLevelSetting_Func(tls, q)\r\n  } else {\r\n    project.OnGetTypicalLevelSetting_Funcs.push(() =>\r\n      q.TypicalLevelSetting = GetTypicalLevelSetting_Func(project.TypicalLevelSetting, q));\r\n  }\r\n}\r\n\r\nexport const GetTypicalLevelSetting_ForEdit = (q) => {\r\n  var project = q.ModelItem;\r\n  var tls = project.TypicalLevelSetting_ForEdit;\r\n  if (tls) {\r\n    return GetTypicalLevelSetting_Func(tls, q)\r\n  } else {\r\n    project.OnGetTypicalLevelSetting_Funcs.push(() => {\r\n      q.TypicalLevelSetting_ForEdit = GetTypicalLevelSetting_Func(project.TypicalLevelSetting_ForEdit, q)\r\n    });\r\n  }\r\n}","import { makeObservable, observable, action } from 'mobx';\r\nimport * as util from './Project_DictVMUtil'\r\n\r\nexport class Project_DictVM {\r\n  constructor() {\r\n    makeObservable(this, {\r\n      items : observable\r\n    })\r\n  }\r\n\r\n  items= undefined\r\n  get Items(){\r\n    if (!this.items){\r\n      this.items = util.GetItems(this);\r\n    }\r\n    return this.items;\r\n  }\r\n  set Items(v){\r\n    this.items = v;\r\n    this.ModelItem.Items = v.map(x => x.ModelItem);\r\n  }\r\n\r\n  set GetItemsDone (v){\r\n    if (this.OnGetItemsDone){\r\n      this.OnGetItemsDone(v);\r\n    }\r\n  }\r\n}","import * as itemVMUtil from './ProjectVMUtil'\r\nimport { Project_DictVM } from \"./Project_DictVM\";\r\n\r\nexport const get = (q) => {\r\n  var qI = new Project_DictVM();\r\n  qI.ModelItem = q;\r\n\r\n  q.OnGetItemsDone = (v) => {\r\n    var obj = qI.Items;\r\n    qI.GetItemsDone = true;\r\n  }\r\n\r\n  return qI;\r\n}\r\n\r\nexport const GetItems = (dictVM) => {\r\n  var items = dictVM.ModelItem.Items;\r\n  if (!items) return undefined;\r\n  return items.map(x => itemVMUtil.get(x, dictVM));\r\n}","import { makeObservable, observable, action } from 'mobx';\r\nimport * as util from './MassResultCompVMUtil'\r\nimport * as multiSelectVMUtil from '../../../../select/MultiSelectVMUtil'\r\nimport * as selectVMUtil from '../../../../select/SelectVMUtil'\r\nimport * as checkboxVMUtil from '../../../../checkbox/CheckboxVMUtil'\r\nimport * as textUtil from '../../../../text/TextVMUtil'\r\nimport { Link } from 'react-router-dom';\r\nimport { Popover } from 'antd';\r\n\r\nexport default class MassResultCompVM {\r\n  constructor() {\r\n    makeObservable(this, {\r\n      IsShowProjectSelect: observable,\r\n      CanHavePhase: observable,\r\n      isHavePhase: observable,\r\n      IsDataPending: observable\r\n    })\r\n  }\r\n\r\n  projects\r\n  get Projects() {\r\n    if (!this.projects) {\r\n      this.projects = this.ModelItem.Projects;\r\n    }\r\n    return this.projects;\r\n  }\r\n  set Projects(v) {\r\n    this.projects = v;\r\n    this.ModelItem.Projects = v;\r\n  }\r\n\r\n  projectVMs\r\n  get ProjectVMs() {\r\n    if (!this.projectVMs) {\r\n      this.projectVMs = util.GetProjectVMs(this);\r\n    }\r\n    return this.projectVMs;\r\n  }\r\n  set ProjectVMs(v) {\r\n    this.projectVMs = v;\r\n    this.Projects = v.map(x => x.ModelItem);\r\n  }\r\n\r\n  projectVMStorageList\r\n  get ProjectVMStorageList() {\r\n    if (!this.projectVMStorageList) {\r\n      this.projectVMStorageList = util.GetProjectVMStorageList(this);\r\n    }\r\n    return this.projectVMStorageList;\r\n  }\r\n  set ProjectVMStorageList(v) {\r\n    this.projectVMStorageList = v;\r\n\r\n    this.projectVMs = util.GetProjectVMs(this);\r\n\r\n    var selectVM = this.ProjectSelectVM;\r\n    selectVM.Items = v;\r\n    selectVM.InitialItems = this.projectVMs;\r\n  }\r\n\r\n  projectSelectOpen\r\n  get ProjectSelectOpen(){\r\n    if (this.projectSelectOpen === undefined){\r\n      this.projectSelectOpen = this.ProjectSelectVM.Open;\r\n    }\r\n    return this.projectSelectOpen;\r\n  }\r\n  set ProjectSelectOpen(v){\r\n    this.projectSelectOpen = v;\r\n    this.ProjectPopoverState.Content = util.GetProjectPopoverStateValue(this);\r\n  }\r\n\r\n  projectPopoverState\r\n  get ProjectPopoverState(){\r\n    if (!this.projectPopoverState){\r\n      this.projectPopoverState = textUtil.get(util.GetProjectPopoverStateValue(this));\r\n    }\r\n    return this.projectPopoverState;\r\n  }\r\n\r\n  projectSelectVM\r\n  get ProjectSelectVM() {\r\n    if (!this.projectSelectVM) {\r\n      var list = this.ProjectVMStorageList ? this.ProjectVMStorageList : [];\r\n      var obj = this.projectSelectVM = multiSelectVMUtil.get(list, this.ProjectVMs);\r\n      obj.Placeholder = 'chọn dự án'\r\n      obj.TitleRender = (item) => <Popover trigger={this.ProjectPopoverState.Content}\r\n        placement=\"topLeft\"\r\n        content={\r\n          <a target='_blank' \r\n            // href={`/#/project/${item._id}`} \r\n            href={item.Url}\r\n            >View project</a>\r\n        }\r\n      >\r\n        {item.DisplayContent}\r\n      </Popover>\r\n\r\n      obj.OnSelectedItemChanged = (v) => this.ProjectVMs = v;\r\n      obj.OnSetOpen = (v) => this.ProjectSelectOpen = v;\r\n    }\r\n    return this.projectSelectVM;\r\n  }\r\n\r\n  IsShowProjectSelect = true\r\n\r\n  phases\r\n  get Phases() {\r\n    if (!this.phases) {\r\n      this.phases = this.ModelItem.Phases;\r\n    }\r\n    return this.phases;\r\n  }\r\n  set Phases(v) {\r\n    this.phases = v;\r\n    this.ModelItem.Phases = v;\r\n  }\r\n\r\n  phaseVMs\r\n  get PhaseVMs() {\r\n    if (!this.phaseVMs) {\r\n      this.phaseVMs = util.GetPhaseVMs(this);\r\n    }\r\n    return this.phaseVMs;\r\n  }\r\n  set PhaseVMs(v) {\r\n    this.phaseVMs = v;\r\n    this.Phases = v.map(x => x.ModelItem);\r\n  }\r\n\r\n  massItem_Dict\r\n  get MassItem_Dict() {\r\n    if (!this.massItem_Dict) {\r\n      this.massItem_Dict = this.ModelItem.MassItem_Dict;\r\n    }\r\n    return this.massItem_Dict;\r\n  }\r\n\r\n  phaseVMStorageList\r\n  get PhaseVMStorageList() {\r\n    return this.phaseVMStorageList;\r\n  }\r\n  set PhaseVMStorageList(v) {\r\n    this.phaseVMStorageList = v;\r\n\r\n    this.phaseVMs = util.GetPhaseVMs(this);\r\n\r\n    var selectVM = this.PhaseSelectVM;\r\n    selectVM.Items = v;\r\n    selectVM.InitialItems = this.phaseVMs;\r\n  }\r\n\r\n  phaseSelectVM\r\n  get PhaseSelectVM() {\r\n    if (!this.phaseSelectVM) {\r\n      var list = this.PhaseVMStorageList ? this.PhaseVMStorageList : [];\r\n      var obj = this.phaseSelectVM = multiSelectVMUtil.get(list, this.PhaseVMs);\r\n      obj.Placeholder = 'chọn version'\r\n      obj.OnSelectedItemChanged = (v) => this.PhaseVMs = v;\r\n    }\r\n    return this.phaseSelectVM;\r\n  }\r\n\r\n  CanHavePhase = false\r\n\r\n  isHavePhase = undefined\r\n  get IsHavePhase() {\r\n    if (!this.isHavePhase) {\r\n      this.isHavePhase = this.ModelItem.IsHavePhase;\r\n    }\r\n    return this.isHavePhase;\r\n  }\r\n  set IsHavePhase(v) {\r\n    this.isHavePhase = v;\r\n    this.ModelItem.IsHavePhase = v;\r\n  }\r\n\r\n  isShowPhaseSelectVM\r\n  get IsShowPhaseSelectVM() {\r\n    if (!this.isShowPhaseSelectVM) {\r\n      var obj = this.isShowPhaseSelectVM\r\n        = checkboxVMUtil.get(\"So sánh các version\", this.IsHavePhase);\r\n\r\n      obj.onCheckChange = (v) => {\r\n        this.IsHavePhase = v;\r\n      };\r\n    }\r\n    return this.isShowPhaseSelectVM;\r\n  }\r\n\r\n  get MassGroupSetting() {\r\n    return this.ModelItem.MassGroupSetting;\r\n  }\r\n  set MassGroupSetting(v) {\r\n    this.ModelItem.MassGroupSetting = v;\r\n  }\r\n\r\n  massGroupSettingStorageList\r\n  get MassGroupSettingStorageList() {\r\n    if (!this.massGroupSettingStorageList) {\r\n      this.massGroupSettingStorageList =\r\n        util.GetMassGroupSettingStorageList(this);\r\n    }\r\n  }\r\n  set MassGroupSettingStorageList(v) {\r\n    this.massGroupSettingStorageList = v;\r\n\r\n    var selectVM = this.MassGroupSettingSelectVM;\r\n    selectVM.Items = v;\r\n  }\r\n\r\n  massGroupSettingSelectVM\r\n  get MassGroupSettingSelectVM() {\r\n    if (!this.massGroupSettingSelectVM) {\r\n      var list = this.MassGroupSettingStorageList ?\r\n        this.MassGroupSettingStorageList : [];\r\n      var obj = this.massGroupSettingSelectVM =\r\n        selectVMUtil.get(list);\r\n      obj.CanClear = true;\r\n      obj.Placeholder = 'chọn bộ set khối lượng'\r\n      obj.OnSelectedItemChanged = (v) => this.MassGroupSetting = v;\r\n    }\r\n    return this.massGroupSettingSelectVM;\r\n  }\r\n\r\n  IsDataPending = false;\r\n\r\n  get LoadingSpinTip() {\r\n    return `loading data ... (${(this.HandledRatio * 100).toFixed(1)}%)`;\r\n  }\r\n\r\n  loadingSpinTipVM\r\n  get LoadingSpinTipVM() {\r\n    if (!this.loadingSpinTipVM) {\r\n      this.loadingSpinTipVM = textUtil.get(this.LoadingSpinTip);\r\n    }\r\n    return this.loadingSpinTipVM;\r\n  }\r\n\r\n  handledRatio = 0\r\n  get HandledRatio() {\r\n    return this.handledRatio;\r\n  }\r\n  set HandledRatio(v) {\r\n    this.handledRatio = v;\r\n    this.LoadingSpinTipVM.Content = this.LoadingSpinTip;\r\n  }\r\n\r\n  // function\r\n  GetMassData = () => {\r\n    this.IsDataPending = true;\r\n    this.HandledRatio = 0;\r\n    this.ModelItem.GetMassData();\r\n  }\r\n}","import { message } from \"antd\";\r\nimport { PMDataVM } from \"../../../single/form/PMDataVM\";\r\nimport { PMData } from \"../../../single/model/PMData\";\r\nimport MassResultCompVM from \"./MassResultCompVM\"\r\n\r\nexport const pmDataVM = () => {\r\n  return PMDataVM.Instance;\r\n}\r\n\r\nexport const pmData = () => {\r\n  return PMData.Instance;\r\n}\r\n\r\nexport const get = (q, isfetchProjects = true) => {\r\n  var qI = new MassResultCompVM();\r\n  qI.ModelItem = q;\r\n\r\n  if (isfetchProjects) {\r\n    pmDataVM().Project_DictVM.OnGetItemsDone = (v) => {\r\n      qI.ProjectVMStorageList = GetProjectVMStorageList(qI);\r\n    }\r\n  }\r\n\r\n  q.OnGetItemsDone_Funcs.push(() => {\r\n    message.success('get mass data successfully');\r\n  })\r\n\r\n  var massTable = q.MassItem_Dict.MassTable;\r\n  massTable.OnIsUpdateDataDone_Funcs.push(() => {\r\n    qI.IsDataPending = false;\r\n  })\r\n  massTable.OnSetHandledRatio_Funcs.push((v) => {\r\n    qI.HandledRatio = v;\r\n  })\r\n\r\n  return qI;\r\n}\r\n\r\nexport const GetProjectVMStorageList = (q) => {\r\n  return pmDataVM().Project_DictVM.Items;\r\n}\r\n\r\nexport const GetProjectVMs = (q) => {\r\n  var storageList = q.ProjectVMStorageList;\r\n  if (!storageList) return [];\r\n\r\n  var list = [];\r\n\r\n  var projects = q.Projects;\r\n  projects.forEach(x => {\r\n    var index = storageList.findIndex(y => y.ModelItem === x);\r\n    if (index !== -1) {\r\n      list.push(storageList[index]);\r\n    }\r\n  })\r\n\r\n  return list;\r\n}\r\n\r\nexport const GetPhaseVMs = (q) => {\r\n  var storageList = q.PhaseVMStorageList;\r\n  if (!storageList) return [];\r\n\r\n  var list = [];\r\n\r\n  var phases = q.Phases;\r\n  phases.forEach(x => {\r\n    var index = storageList.findIndex(y => y.ModelItem === x);\r\n    if (index !== -1) {\r\n      list.push(storageList[index]);\r\n    }\r\n  })\r\n\r\n  return list;\r\n}\r\n\r\nexport const GetMassGroupSettingStorageList = (q) => {\r\n  var dict = pmData().MassGroupSetting_Dict;\r\n  var items = dict.Items;\r\n  if (!items){\r\n    dict.OnGetItemsDone_Funcs.push(() => {\r\n      q.MassGroupSettingStorageList = dict.Items;\r\n    })\r\n  }\r\n  return items;\r\n}\r\n\r\n\r\nexport const GetProjectPopoverStateValue = (q) => {\r\n  return q.ProjectSelectOpen ? 'none' : 'hover';\r\n}","export const _default = \"default\";\r\nexport const edit = \"edit\";","import * as util from './RenderItemUtil'\r\n\r\nexport default class RenderItem {\r\n  render\r\n  get Render(){\r\n    if (!this.render){\r\n      this.render = util.GetRender(this);\r\n    }\r\n    return this.render;\r\n  }\r\n  set Render(v){\r\n    this.render = v;\r\n  }\r\n}","import InputView from \"../input/InputView\";\r\nimport RenderItem from \"./RenderItem\"\r\nimport * as rs from './RenderState'\r\nimport * as textUtil from '../text/TextVMUtil'\r\n\r\nexport const get = (state, render) => {\r\n  var qI = new RenderItem();\r\n  qI.State = state;\r\n  qI.Render = render;\r\n  return qI;\r\n}\r\n\r\nexport const GetRender = (q) => {\r\n  switch (q.State) {\r\n    case rs._default:\r\n      return (val) => val;\r\n    case rs.edit:\r\n      return (value, item, dataIndex) => {\r\n        if (!dataIndex) return value;\r\n\r\n        var inputVM = textUtil.get(value, 'input');\r\n\r\n        var length = dataIndex.length;\r\n        var obj = item;\r\n        dataIndex.filter((x, i) => i < length - 1)\r\n          .forEach((x) => obj = obj[x]);\r\n\r\n        inputVM.onSetContent = (v) => obj[dataIndex[length-1]] = v;\r\n        return <InputView store={inputVM} />\r\n      };\r\n    default:\r\n      return undefined;\r\n  }\r\n}","import * as renderUtil from './RenderItemUtil'\r\n\r\nexport default class Render_Dict {\r\n  Items = []\r\n\r\n  GetRender = (state) => {\r\n    var list = this.Items;\r\n    var index = list.findIndex(x => x.State === state);\r\n    if (index === -1){\r\n      var item = renderUtil.get(state);\r\n      list.push(item);\r\n      return item;\r\n    }\r\n    return list[index];\r\n  }\r\n}","import { makeObservable, observable, action } from 'mobx';\r\nimport * as rs from './RenderState'\r\nimport * as renderUtil from './RenderItemUtil'\r\nimport Render_Dict from './Render_Dict';\r\n\r\nexport default class TableColumn {\r\n  constructor() {\r\n    makeObservable(this, {\r\n      Title : observable,\r\n    })\r\n  }\r\n\r\n  RenderState = rs._default;\r\n\r\n  Title = undefined\r\n\r\n  render_Dict\r\n  get Render_Dict(){\r\n    if (!this.render_Dict){\r\n      this.render_Dict = new Render_Dict();\r\n    }\r\n    return this.render_Dict;\r\n  }\r\n  set Render_Dict(v){\r\n    this.render_Dict = v;\r\n  }\r\n}","import TableColumn from \"./TableColumn\"\r\nimport * as renderUtil from './RenderItemUtil'\r\nimport { Button } from \"antd\";\r\nimport * as rs from './RenderState'\r\nimport * as genUtil from '../../util/generalUtil'\r\n\r\nexport const get = (title, dataIndex, renders, table) => {\r\n  var qI = new TableColumn();\r\n  qI.Title = title;\r\n  qI.DataIndex = dataIndex;\r\n  qI.Key = genUtil.randomId();\r\n  qI.Table = table;\r\n\r\n  var dict = qI.Render_Dict;\r\n  if (renders) {\r\n    renders.forEach(x => {\r\n      dict.GetRender(x.State).Render = x.Render\r\n    });\r\n  }\r\n\r\n  return qI;\r\n}\r\n\r\nexport const GetActionColumn = (table) => {\r\n  var title = undefined;\r\n  if (table.CanAdd) {\r\n    var add = table.AddItem;\r\n\r\n    title = <Button type='primary' size='small'\r\n      onClick={add}>Add</Button>\r\n  }\r\n\r\n  var renders = [\r\n    renderUtil.get(rs._default, (val, item, dataIndex, cell, row) => {\r\n      var editElem = '';\r\n      if (table.CanEdit) {\r\n        var edit = () => row.Edit();\r\n        editElem = <Button type='primary' size='small'\r\n          style={{ backgroundColor: '#faad14', border: 'none' }}\r\n          onClick={edit}>Edit</Button>\r\n      }\r\n\r\n      var delElem = '';\r\n      if (table.CanDelete) {\r\n        var del = () => table.DeleteItem(item, row);\r\n\r\n        delElem = <Button type='primary' danger size='small'\r\n          onClick={del}>Delete</Button>\r\n      }\r\n      return <>\r\n        {editElem}{delElem}\r\n      </>\r\n    }),\r\n    renderUtil.get(rs.edit, (val, item, dataIndex, cell, row) => {\r\n      var ok = () => row.OK();\r\n      return <Button type='primary' size='small'\r\n        onClick={ok}>OK</Button>\r\n    })\r\n  ]\r\n\r\n  return get(title, null, renders, table);\r\n}","import { makeObservable, observable, action } from 'mobx';\r\nimport * as util from './TableRowUtil'\r\nimport * as rs from './RenderState'\r\nimport * as genUtil from '../../util/generalUtil'\r\n\r\nexport default class TableRow {\r\n  key\r\n  get Key() {\r\n    if (!this.key) {\r\n      this.key = this.Item._id ? this.Item._id : this.Item.id;\r\n      if (!this.key){\r\n        this.key = genUtil.randomId();\r\n      }\r\n    }\r\n    return this.key;\r\n  }\r\n\r\n  cells\r\n  get Cells() {\r\n    if (!this.cells) {\r\n      this.cells = util.GetCells(this);\r\n    }\r\n    return this.cells;\r\n  }\r\n\r\n  Edit = () => {\r\n    this.Cells.forEach(x => x.RenderState = rs.edit);\r\n  }\r\n\r\n  OK = () => {\r\n    this.Cells.forEach(x => x.RenderState = rs._default);\r\n    this.Table.EditItem(this.Item);\r\n  }\r\n}","import { makeObservable, observable, action } from 'mobx';\r\nimport * as rs from './RenderState'\r\n\r\nexport default class TableCell {\r\n  constructor() {\r\n    makeObservable(this, {\r\n      renderState: observable\r\n    })\r\n  }\r\n\r\n  get Key() {\r\n    return `${this.Column.Key}_${this.Row.Key}`;\r\n  }\r\n\r\n  get Item() {\r\n    return this.Row.Item;\r\n  }\r\n\r\n  renderState = undefined\r\n  get RenderState() {\r\n    if (!this.renderState){\r\n      this.renderState = this.Column.RenderState;\r\n    }\r\n    return this.renderState;\r\n  }\r\n  set RenderState(v){\r\n    this.renderState = v;\r\n  }\r\n\r\n  render_Dict\r\n  get Render_Dict() {\r\n    if (!this.render_Dict) {\r\n      this.render_Dict = this.Column.Render_Dict;\r\n    }\r\n    return this.render_Dict;\r\n  }\r\n\r\n  get DataIndex() {\r\n    return this.Column.DataIndex;\r\n  }\r\n\r\n  Render = () => {\r\n    var dataIndex = this.DataIndex;\r\n    var item = this.Item;\r\n\r\n    var value = undefined;\r\n\r\n    if (dataIndex) {\r\n      value = item;\r\n      dataIndex.forEach(x => {\r\n        value = value[x]\r\n      })\r\n    }\r\n\r\n    var render = this.Render_Dict.GetRender(this.RenderState);\r\n    return render.Render(value, item, dataIndex, this, this.Row);\r\n  }\r\n}","import TableRow from \"./TableRow\"\r\nimport * as cellUtil from './TableCellUtil'\r\n\r\nexport const get = (item, table) => {\r\n  var qI = new TableRow();\r\n  qI.Item = item;\r\n  qI.Table = table;\r\n  return qI;\r\n}\r\n\r\nexport const GetCells = (q) => {\r\n  var columns = q.Table.Columns;\r\n  return columns.map(x => cellUtil.get(q, x));\r\n}","import TableCell from \"./TableCell\"\r\n\r\nexport const get = (row, col) => {\r\n  var qI = new TableCell();\r\n  qI.Row = row;\r\n  qI.Column = col;\r\n  return qI;\r\n}","import { makeObservable, observable, action } from 'mobx';\r\nimport TableColumn from './TableColumn';\r\nimport * as colUtil from './TableColumnUtil'\r\nimport * as renderUtil from './RenderItemUtil'\r\nimport * as rs from './RenderState'\r\nimport * as util from './TableVMUtil'\r\nimport * as textUtil from '../text/TextVMUtil'\r\nimport InputView from '../input/InputView'\r\nimport { Button } from 'antd';\r\nimport * as genUtil from '../../util/generalUtil'\r\nimport * as rowUtil from './TableRowUtil'\r\n\r\nexport default class TableVM {\r\n  constructor() {\r\n    makeObservable(this, {\r\n      columns: observable,\r\n      dataSource: observable,\r\n      rows: observable,\r\n      CanAdd: observable,\r\n      CanDelete: observable,\r\n      CanEdit: observable,\r\n      IsShowActionColumn: observable\r\n    })\r\n  }\r\n\r\n  CanAdd = true\r\n  CanDelete = true\r\n  CanEdit = true\r\n  IsShowActionColumn = true\r\n\r\n  columns = undefined\r\n  get Columns() {\r\n    if (!this.columns) {\r\n      this.columns = [\r\n        colUtil.get('Tên cấu kiện', 'ElementName', null, this),\r\n        colUtil.get('Đường kính', 'Diameter', null, this),\r\n      ];\r\n\r\n      if (this.IsShowActionColumn) {\r\n        this.columns.push(colUtil.GetActionColumn(this));\r\n      }\r\n    }\r\n    return this.columns;\r\n  }\r\n  set Columns(v) {\r\n    this.columns = v;\r\n    this.Rows = undefined;\r\n  }\r\n\r\n  dataSource = undefined\r\n  get DataSource() {\r\n    if (!this.dataSource) {\r\n      this.dataSource = [\r\n        {\r\n          id: 1,\r\n          ElementName: 'W1',\r\n          Diameter: '18',\r\n          Weight: '30'\r\n        },\r\n        {\r\n          id: 2,\r\n          ElementName: 'W2',\r\n          Diameter: '20',\r\n          Weight: '3.7'\r\n        },\r\n      ]\r\n    }\r\n    return this.dataSource;\r\n  }\r\n  set DataSource(v) {\r\n    this.dataSource = v;\r\n    this.Rows = undefined;\r\n  }\r\n\r\n  rows = undefined\r\n  get Rows() {\r\n    if (!this.rows) {\r\n      this.rows = util.GetRows(this);\r\n    }\r\n    return this.rows;\r\n  }\r\n  set Rows(v) {\r\n    this.rows = v;\r\n  }\r\n\r\n  AddItem = () => {\r\n    var item = undefined\r\n    if (this.OnGetItemForAdd) {\r\n      item = this.OnGetItemForAdd();\r\n    } else {\r\n      item = {\r\n        Key: genUtil.randomId()\r\n      };\r\n    }\r\n    this.DataSource.push(item);\r\n\r\n    var row = rowUtil.get(item, this);\r\n    this.Rows.push(row);\r\n    row.Edit();\r\n  }\r\n\r\n  DeleteItem = (item, row) => {\r\n    var list = this.DataSource;\r\n    var index = list.indexOf(item);\r\n    list.splice(index, 1);\r\n    this.Rows.splice(index, 1);\r\n\r\n    if (this.OnDeleteItem){\r\n      this.OnDeleteItem(item);\r\n    }\r\n  }\r\n\r\n  EditItem = (item) => {\r\n    if (this.OnEditItem){\r\n      this.OnEditItem(item);\r\n    }\r\n  }\r\n}","import * as rowUtil from './TableRowUtil'\r\n\r\nexport const GetRows = (q) => {\r\n  return q.DataSource.map(x => rowUtil.get(x, q));\r\n}","import { makeObservable, observable, action } from 'mobx';\r\nimport * as util from './WorkItemExportDataVMUtil'\r\n\r\nexport class WorkItemExportDataVM {\r\n  constructor() {\r\n    makeObservable(this, {\r\n      \r\n    })\r\n  }\r\n\r\n\r\n}","import { SettingVM } from \"../base/SettingVM\";\r\nimport * as checkboxUtil from '../../../../checkbox/CheckboxVMUtil'\r\n\r\nexport class WorkItemExportSettingVM extends SettingVM {\r\n  IsCategoryChecked = true\r\n\r\n  categoryCheckboxVM\r\n  get CategoryCheckboxVM(){\r\n    if (!this.categoryCheckboxVM){\r\n      debugger\r\n      var obj =this.categoryCheckboxVM = \r\n        checkboxUtil.get(undefined, this.IsCategoryChecked)\r\n    }\r\n    return this.categoryCheckboxVM;\r\n  }\r\n}","import * as dataVMUtil from './WorkItemExportDataVMUtil'\r\nimport { WorkItemExportSettingVM } from './WorkItemExportSettingVM';\r\n\r\nexport const get = (q, dict) => {\r\n  var qI = new WorkItemExportSettingVM();\r\n\r\n  qI.ModelItem = q;\r\n  qI.Dict = dict;\r\n\r\n  q.OnNameChanged = (v) => {\r\n    if (q.M2VM){\r\n      qI.Name = v;\r\n    }\r\n  }\r\n\r\n  q.OnDescriptionChanged = (v) => {\r\n    if (q.M2VM){\r\n      qI.Description = v;\r\n    }\r\n  }\r\n\r\n  q.OnDataChanged = (v) => {\r\n    if (q.M2VM){\r\n      qI.Data = v;\r\n      qI.DataVM = qI.GetDataVM();\r\n    }\r\n  }\r\n\r\n  qI.OnGetDataVM = () => {\r\n    var data = q.Data;\r\n    return dataVMUtil.get(data);\r\n  }    \r\n\r\n  return qI;\r\n}","import { PMDataVM } from '../../../single/form/PMDataVM';\r\nimport { WorkItemExportDataVM } from './WorkItemExportDataVM';\r\n\r\nexport const pmDataVM = () => {\r\n  return PMDataVM.Instance;\r\n}\r\n\r\nexport const get = (q) => {\r\n  var qI = new WorkItemExportDataVM();\r\n  qI.ModelItem = q;\r\n\r\n  return qI;\r\n}","import Setting from \"../base/Setting\";\r\n\r\nexport class WorkItemExportSetting extends Setting {\r\n  \r\n}","import { makeObservable, observable, action } from 'mobx';\r\nimport * as util from './WorkItemExportSetting_DictVMUtil'\r\nimport * as itemUtil from './WorkItemExportSettingVMUtil';\r\nimport { WorkItemExportSetting } from './WorkItemExportSetting';\r\n\r\nexport class WorkItemExportSetting_DictVM {\r\n  constructor() {\r\n    makeObservable(this, {\r\n      items: observable\r\n    })\r\n  }\r\n\r\n  items = undefined\r\n  get Items() {\r\n    if (!this.items) {\r\n      this.items = [\r\n        itemUtil.get(new WorkItemExportSetting())\r\n      ]\r\n    }\r\n    return this.items;\r\n  }\r\n\r\n  tableVM\r\n  get TableVM() {\r\n    if (!this.tableVM) {\r\n      this.tableVM = util.GetTableVM(this);\r\n    }\r\n    return this.tableVM;\r\n  }\r\n}","import TableVM from \"../../../../table/TableVM\";\r\nimport { WorkItemExportSetting_DictVM } from \"./WorkItemExportSetting_DictVM\";\r\nimport * as colUtil from '../../../../table/TableColumnUtil'\r\nimport * as renderUtil from '../../../../table/RenderItemUtil'\r\nimport * as rs from '../../../../table/RenderState'\r\nimport CheckboxView from '../../../../checkbox/CheckboxView'\r\nimport { WorkItemExportSettingVM } from \"./WorkItemExportSettingVM\";\r\n\r\nexport const get = (q) => {\r\n  var qI = new WorkItemExportSetting_DictVM();\r\n  qI.ModelItem = q;\r\n\r\n  q.OnGetItemsDone_Funcs.push((v) => {\r\n    var obj = qI.Items;\r\n  });\r\n\r\n  return qI;\r\n}\r\n\r\n\r\nexport const GetTableVM = (q) => {\r\n  var qI = new TableVM();\r\n\r\n  qI.DataSource = q.Items;\r\n\r\n  var nameCol = colUtil.get('Tên thiết lập', ['Name'], null, qI);\r\n  var isCateCol = colUtil.get('Category', null, [\r\n    renderUtil.get(rs._default, (val, item) => {\r\n      debugger\r\n      var checkBoxVM = item.CategoryCheckboxVM;\r\n      return <CheckboxView store={item.CategoryCheckboxVM}/>\r\n    })\r\n  ], qI);\r\n  var isSubWorkItemCol = colUtil.get('Hạng mục phụ', null, [\r\n    renderUtil.get(rs._default, (val, item) => {\r\n      return <CheckboxView />\r\n    })\r\n  ], qI);\r\n\r\n  qI.Columns = [\r\n    nameCol, isCateCol, isSubWorkItemCol,\r\n    colUtil.GetActionColumn(qI)\r\n  ]\r\n\r\n  qI.OnGetItemForAdd = () => {\r\n    return new WorkItemExportSettingVM();\r\n  }\r\n  \r\n  return qI;\r\n}","import * as api from '../../../../util/apiUtil'\r\nimport { PMData } from '../model/PMData';\r\n\r\nimport * as workpackage_DictVMUtil from '../../entity/workpackage/Workpackage_DictVMUtil'\r\nimport * as elementFilterSetting_DictVMUtil from \r\n  '../../entity/setting/elementFilter/ElementFilterSetting_DictVMUtil'\r\nimport * as massExportSetting_DictVMUtil from \r\n  '../../entity/setting/massExport/MassExportSetting_DictVMUtil'\r\nimport * as massGroupSetting_DictVMUtil from \r\n  '../../entity/setting/massGroup/MassGroupSetting_DictVMUtil'\r\nimport * as project_DictVMUtil from '../../entity/project/Project_DictVMUtil'\r\n\r\nimport * as massResultCompVMUtil from '../../entity/mass/result/MassResultCompVMUtil'\r\n\r\nimport * as fvt from '../../entity/filter/FilterValueType'\r\nimport * as sft from '../../entity/filter/StringFilterType'\r\n\r\nimport * as wieDictVMUtil from \r\n  '../../entity/setting/workitemexport/WorkItemExportSetting_DictVMUtil'\r\n\r\nexport const pmData = () => PMData.Instance;\r\n\r\nexport const GetWorkpackage_DictVM = (data) => {\r\n  return workpackage_DictVMUtil.get(pmData().Workpackage_Dict);\r\n}\r\n\r\nexport const GetElementFilterSetting_DictVM = (data) => {\r\n  return elementFilterSetting_DictVMUtil.get\r\n    (pmData().ElementFilterSetting_Dict);\r\n}\r\n\r\nexport const GetMassExportSetting_DictVM = (data) => {\r\n  return massExportSetting_DictVMUtil.get\r\n    (pmData().MassExportSetting_Dict);\r\n}\r\n\r\nexport const GetMassGroupSetting_DictVM = (data) => {\r\n  return massGroupSetting_DictVMUtil.get\r\n    (pmData().MassGroupSetting_Dict);\r\n}\r\n\r\nexport const GetProject_DictVM = (data) => {\r\n  return project_DictVMUtil.get\r\n    (pmData().Project_Dict);\r\n}\r\n\r\nexport const GetMassResultCompVM= (data) => {\r\n  return massResultCompVMUtil.get\r\n  (pmData().MassResultComp);\r\n}\r\n\r\nexport const GetWorkItemExportSetting_Dict = (data) => {\r\n  return wieDictVMUtil.get(pmData().WorkItemExportSetting_Dict);\r\n}","import { makeObservable, observable, action } from 'mobx';\r\nimport { PMData } from '../model/PMData';\r\nimport * as util from './PMDataVMUtil'\r\n\r\nexport class PMDataVM {\r\n  constructor() {\r\n    \r\n  }\r\n  static instance\r\n  static get Instance(){\r\n    if (!this.instance){\r\n      this.instance = new PMDataVM();\r\n    }\r\n    return this.instance;\r\n  }\r\n\r\n  get pmData(){\r\n    return PMData.Instance;\r\n  }\r\n\r\n  workpackage_DictVM\r\n  get Workpackage_DictVM() {\r\n    if (!this.workpackage_DictVM){\r\n      this.workpackage_DictVM = util.GetWorkpackage_DictVM();\r\n    }\r\n    return this.workpackage_DictVM;\r\n  }\r\n\r\n  elementFilterSetting_DictVM\r\n  get ElementFilterSetting_DictVM() {\r\n    if (!this.elementFilterSetting_DictVM){\r\n      this.elementFilterSetting_DictVM = util.GetElementFilterSetting_DictVM();\r\n    }\r\n    return this.elementFilterSetting_DictVM;\r\n  }\r\n\r\n  massExportSetting_DictVM\r\n  get MassExportSetting_DictVM() {\r\n    if (!this.massExportSetting_DictVM){\r\n      this.massExportSetting_DictVM = util.GetMassExportSetting_DictVM();\r\n    }\r\n    return this.massExportSetting_DictVM;\r\n  }\r\n\r\n  massGroupSetting_DictVM\r\n  get MassGroupSetting_DictVM() {\r\n    if (!this.massGroupSetting_DictVM){\r\n      this.massGroupSetting_DictVM = util.GetMassGroupSetting_DictVM();\r\n    }\r\n    return this.massGroupSetting_DictVM;\r\n  }\r\n\r\n  project_DictVM\r\n  get Project_DictVM() {\r\n    if (!this.project_DictVM){\r\n      this.project_DictVM = util.GetProject_DictVM();\r\n    }\r\n    return this.project_DictVM;\r\n  }\r\n\r\n  massResultCompVM\r\n  get MassResultCompVM(){\r\n    if (!this.massResultCompVM){\r\n      this.massResultCompVM = util.GetMassResultCompVM();\r\n    }\r\n    return this.massResultCompVM;\r\n  }\r\n  set MassResultCompVM(v) {\r\n    this.massResultCompVM = v;\r\n    if (!v)\r\n    {\r\n      this.pmData.MassResultComp = v;\r\n    }\r\n    else{\r\n      this.pmData.MassResultComp = v.ModelItem;\r\n    }\r\n  }\r\n\r\n  filterValueTypes;\r\n  get FilterValueTypes() {\r\n    if (!this.filterValueTypes){\r\n      this.filterValueTypes = this.pmData.FilterValueTypes;\r\n    }\r\n    return this.filterValueTypes;\r\n  }\r\n\r\n  stringFilterTypes;\r\n  get StringFilterTypes() {\r\n    if (!this.stringFilterTypes){\r\n      this.stringFilterTypes = this.pmData.StringFilterTypes;\r\n    }\r\n    return this.stringFilterTypes;\r\n  }\r\n\r\n  categoryNames;\r\n  get CategoryNames() {\r\n    if (!this.categoryNames){\r\n      this.categoryNames = this.pmData.CategoryNames;\r\n    }\r\n    return this.categoryNames;\r\n  }\r\n\r\n  valueRetrieveTypes\r\n  get ValueRetrieveTypes() {\r\n    if (!this.valueRetrieveTypes){\r\n      this.valueRetrieveTypes = this.pmData.ValueRetrieveTypes\r\n    }\r\n    return this.valueRetrieveTypes;\r\n  }\r\n\r\n  parameterNames;\r\n  get ParameterNames(){\r\n    if (!this.parameterNames){\r\n      this.parameterNames = this.pmData.ParameterNames;\r\n    }\r\n    return this.parameterNames;\r\n  }\r\n\r\n  massPropertyNames;\r\n  get MassPropertyNames(){\r\n    if (!this.massPropertyNames){\r\n      this.massPropertyNames = this.pmData.MassPropertyNames;\r\n    }\r\n    return this.massPropertyNames;\r\n  }\r\n\r\n  massTypes;\r\n  get MassTypes(){\r\n    if (!this.massTypes){\r\n      this.massTypes = this.pmData.MassTypes;\r\n    }\r\n    return this.massTypes;\r\n  }\r\n\r\n  workItemExportSetting_Dict\r\n  get WorkItemExportSetting_Dict(){\r\n    if (!this.workItemExportSetting_Dict){\r\n      this.workItemExportSetting_Dict = \r\n        util.GetWorkItemExportSetting_Dict(this);\r\n    }\r\n    return this.workItemExportSetting_Dict;\r\n  }\r\n}","import * as util from './MGS_FieldVMUtil'\r\nimport * as selectVMUtil from '../../../../../select/SelectVMUtil'\r\n\r\nexport default class MGS_FieldVM {\r\n  get Index() {\r\n    return this.Dict.FieldVMs.indexOf(this);\r\n  }\r\n\r\n  get Fields(){\r\n    return this.Dict.ModelItem.Fields;\r\n  }\r\n\r\n  get Field(){\r\n    return this.Fields[this.Index];\r\n  }\r\n  set Field(v){\r\n    this.Fields[this.Index] = v;\r\n  }\r\n\r\n  get FieldStorageList(){\r\n    return util.GetFieldStorageList();\r\n  }\r\n\r\n  fieldSelectVM\r\n  get FieldSelectVM(){\r\n    if (!this.fieldSelectVM){\r\n      var obj = this.fieldSelectVM = selectVMUtil.get(this.FieldStorageList, this.Field);\r\n      obj.OnSelectedItemChanged = (v) => this.Field = v;\r\n    }\r\n    return this.fieldSelectVM;\r\n  }\r\n\r\n  Delete = () => {\r\n    var index = this.Index;\r\n    this.Fields.splice(index, 1);\r\n    \r\n    var list = this.Dict.FieldVMs;\r\n    list.splice(index, 1);\r\n  }\r\n\r\n  SetData = (v) => {\r\n    this.FieldSelectVM.InitialItem = v.Field;\r\n  }\r\n}","import { PMDataVM } from \"../../../../single/form/PMDataVM\";\r\nimport MGS_FieldVM from \"./MGS_FieldVM\"\r\n\r\nexport const pmDataVM = () => {\r\n  return PMDataVM.Instance;\r\n}\r\n\r\nexport const get = (q, dict) => {\r\n  var qI = new MGS_FieldVM();\r\n  qI.Dict = dict;\r\n  return qI;\r\n}\r\n\r\nexport const GetFieldStorageList = () => {\r\n  return pmDataVM().MassPropertyNames;\r\n}","import { makeObservable, observable, action } from 'mobx';\r\nimport * as filterVMUtil from '../../filter/EntFilterVMUtil'\r\nimport * as checkboxVMUtil from '../../../../checkbox/CheckboxVMUtil'\r\nimport * as selectVMUtil from '../../../../select/SelectVMUtil'\r\nimport * as util from './MassGroupSettingDataVMUtil'\r\nimport * as fieldVMUtil from './field/MGS_FieldVMUtil'\r\n\r\nexport default class MassGroupSettingDataVM {\r\n  constructor() {\r\n    makeObservable(this, {\r\n      fieldVMs : observable\r\n    })\r\n  }\r\n\r\n\r\n  ModelItem\r\n\r\n  fieldVMs = undefined\r\n  get FieldVMs(){\r\n    if (!this.fieldVMs){\r\n      this.fieldVMs = util.GetFieldVMs(this);\r\n    }\r\n    return this.fieldVMs;\r\n  }\r\n  set FieldVMs(v){\r\n    var list = this.fieldVMs;\r\n    var modelList = this.ModelItem.Fields;\r\n\r\n    var oldCount = list.length;\r\n    var newCount = v.length;\r\n\r\n    list.forEach((x, i) => {\r\n      if (i >= newCount) return;\r\n      x.SetData(v[i]);\r\n    });\r\n\r\n    var delta = Math.abs(oldCount - newCount);\r\n    if (oldCount > newCount){\r\n      list.splice(newCount, delta);\r\n      modelList.splice(newCount, delta);\r\n    }\r\n    else if (oldCount < newCount){\r\n      for (var i = 0; i < delta; i++) {\r\n        var originItemVM = v[oldCount + i];\r\n\r\n        var item = originItemVM.Field;\r\n        modelList.push(item);\r\n\r\n        var itemVM = fieldVMUtil.get(item,this);\r\n        list.push(itemVM);\r\n      }\r\n    }\r\n  }\r\n\r\n  AddNewFieldVM = () => {\r\n    var item = this.ModelItem.AddNewField();\r\n    var itemView = fieldVMUtil.get(item, this);\r\n    this.FieldVMs.push(itemView);\r\n    return itemView;\r\n  }\r\n\r\n  SetData = (v) => {\r\n    this.FieldVMs = v.FieldVMs;\r\n  }\r\n}","import { PMDataVM } from '../../../single/form/PMDataVM';\r\nimport MassGroupSettingDataVM from './MassGroupSettingDataVM';\r\nimport * as fieldVMUtil from './field/MGS_FieldVMUtil'\r\n\r\nexport const pmDataVM = () => {\r\n  return PMDataVM.Instance;\r\n}\r\n\r\nexport const get = (q) => {\r\n  var qI = new MassGroupSettingDataVM();\r\n  qI.ModelItem = q;\r\n\r\n  return qI;\r\n}\r\n\r\nexport const GetFieldVMs = (q) => {\r\n  var fields = q.ModelItem.Fields;\r\n  return fields.map(x => fieldVMUtil.get(x, q));\r\n}","import { SettingVM } from \"../base/SettingVM\";\r\n\r\nexport default class MassGroupSettingVM extends SettingVM {\r\n  OnInitialSetDataVM = (v) => {\r\n    \r\n  }\r\n}","import * as dataVMUtil from './MassGroupSettingDataVMUtil'\r\nimport MassGroupSettingVM from './MassGroupSettingVM';\r\n\r\nexport const get = (q, dict) => {\r\n  var qI = new MassGroupSettingVM();\r\n\r\n  qI.ModelItem = q;\r\n  qI.Dict = dict;\r\n\r\n  q.OnNameChanged = (v) => {\r\n    if (q.M2VM){\r\n      qI.Name = v;\r\n    }\r\n  }\r\n\r\n  q.OnDescriptionChanged = (v) => {\r\n    if (q.M2VM){\r\n      qI.Description = v;\r\n    }\r\n  }\r\n\r\n  q.OnDataChanged = (v) => {\r\n    if (q.M2VM){\r\n      qI.Data = v;\r\n      qI.DataVM = qI.GetDataVM();\r\n    }\r\n  }\r\n\r\n  qI.OnGetDataVM = () => {\r\n    var data = q.Data;\r\n    return dataVMUtil.get(data);\r\n  }    \r\n\r\n  return qI;\r\n}","import { makeObservable, observable, action } from 'mobx';\r\nimport * as mif from '../item/MassItemField'\r\nimport MassColumn from './MassColumn';\r\nimport * as colUtil from './MassColumnUtil'\r\nimport * as rowUtil from './MassRowUtil'\r\nimport * as cellUtil from './MassCellUtil'\r\nimport * as util from './MassTableUtil'\r\nimport { PMData } from '../../../single/model/PMData';\r\nimport * as filterUtil from '../../filter/EntFilterUtil'\r\nimport * as textUtil from '../../../../text/TextVMUtil'\r\nimport * as api from '../../../../../util/apiUtil'\r\nimport * as st from '../../setting/base/SettingType'\r\nimport { message } from 'antd';\r\nimport * as mgsUtil from '../../setting/massGroup/MassGroupSettingUtil'\r\nimport * as mgsVMUtil from '../../setting/massGroup/MassGroupSettingVMUtil'\r\nimport { PMDataVM } from '../../../single/form/PMDataVM';\r\nimport * as compUtil from './rowgroup/MassGroupComponentUtil'\r\n\r\nexport const pmData = () => {\r\n  return PMData.Instance;\r\n}\r\n\r\nexport const pmDataVM = () => {\r\n  return PMDataVM.Instance;\r\n}\r\n\r\nexport default class MassTable {\r\n  constructor() {\r\n    makeObservable(this, {\r\n      IsValidTable: observable,\r\n      Columns: observable,\r\n      MainRows: observable,\r\n      Cells: observable,\r\n      columnField: observable,\r\n      IsOnSaveMassGroup: observable\r\n    })\r\n  }\r\n\r\n\r\n  items\r\n  get Items() {\r\n    return this.items;\r\n  }\r\n  set Items(v) {\r\n    this.items = v;\r\n\r\n    if (v && v.length !== 0) {\r\n      this.Build();\r\n      this.IsValidTable = true;\r\n    }\r\n    else {\r\n      this.IsValidTable = false;\r\n    }\r\n  }\r\n\r\n  IsValidTable = false\r\n\r\n  columnField = mif.Project\r\n  get ColumnField() {\r\n    return this.columnField;\r\n  }\r\n  set ColumnField(v) {\r\n    this.columnField = v;\r\n  }\r\n\r\n  massGroupSetting\r\n  get MassGroupSetting() {\r\n    return this.massGroupSetting;\r\n  }\r\n  set MassGroupSetting(v) {\r\n    this.massGroupSetting = v;\r\n    if (!v) {\r\n      this.MainMGC = v;\r\n    } else {\r\n      this.MainMGC = compUtil.Clone(v.Data.MassGroupComponent);\r\n    }\r\n  }\r\n\r\n  mainMGC\r\n  get MainMGC() {\r\n    if (!this.mainMGC) {\r\n      this.mainMGC = util.GetMainMGC(this);\r\n    }\r\n    return this.mainMGC;\r\n  }\r\n  set MainMGC(v) {\r\n    this.mainMGC = v;\r\n    this.Init();\r\n    if (!v) {\r\n      this.MainMGI = undefined;\r\n    } else {\r\n      this.MainMGI = util.GetMainMGI(this);\r\n    }\r\n  }\r\n\r\n  mainMGI\r\n  get MainMGI() {\r\n    if (!this.mainMGI) {\r\n      this.mainMGI = util.GetMainMGI(this);\r\n    }\r\n    return this.mainMGI;\r\n  }\r\n  set MainMGI(v) {\r\n    this.mainMGI = v;\r\n  }\r\n\r\n  Columns = undefined\r\n  FullRows = undefined\r\n  MainRows = undefined\r\n  Cells = undefined\r\n\r\n  Init = () => {\r\n    this.Columns = [];\r\n    this.MainRows = [];\r\n    this.FullRows = [];\r\n    this.Cells = [];\r\n  }\r\n\r\n  get AllRows() {\r\n    return util.GetAllRows(this);\r\n  }\r\n\r\n  GetColumn = (v) => {\r\n    var list = this.Columns;\r\n    var item = undefined;\r\n    var index = list.findIndex(x => x.Name === v);\r\n    if (index === -1) {\r\n      item = colUtil.get(v, this);\r\n      list.push(item);\r\n      return item;\r\n    }\r\n    else {\r\n      return list[index];\r\n    }\r\n  }\r\n\r\n  GetRow = (v, supItem) => {\r\n    var list = undefined;\r\n    if (supItem) {\r\n      list = supItem.SubItems;\r\n    } else {\r\n      list = this.MainRows;\r\n    }\r\n\r\n    var item = undefined;\r\n    var index = list.findIndex(x => x.Name === v);\r\n    if (index === -1) {\r\n      item = rowUtil.get(v, this);\r\n      item.SupItem = supItem;\r\n\r\n      list.push(item);\r\n      this.FullRows.push(item);\r\n      return item;\r\n    }\r\n    else {\r\n      return list[index];\r\n    }\r\n  }\r\n\r\n  GetCell = (col, row) => {\r\n    var list = this.Cells;\r\n    var item = undefined;\r\n    var index = list.findIndex(x => x.Column === col && x.Row === row);\r\n    if (index === -1) {\r\n      item = cellUtil.get(col, row, this);\r\n      list.push(item);\r\n      return item;\r\n    }\r\n    else {\r\n      return list[index];\r\n    }\r\n  }\r\n\r\n\r\n  Build = () => {\r\n    var colField = this.ColumnField;\r\n\r\n    if (colField === mif.Phase) {\r\n      pmData().MassResultComp.Phases.forEach(x => {\r\n        var col = this.GetColumn(mif.GetValueString(x, colField));\r\n      })\r\n    }\r\n\r\n    this.Items.forEach(x => {\r\n      switch (colField) {\r\n        case mif.Phase:\r\n          x.ValidPhasesByInput.forEach(y => {\r\n            this.HandleItem(x, y);\r\n          })\r\n          break;\r\n        default:\r\n          this.HandleItem(x, x.GetValue(colField));\r\n          break;\r\n      }\r\n    })\r\n\r\n    if (!this.IsHaveAsyncData) {\r\n      this.UpdateData();\r\n    }\r\n  }\r\n\r\n  IsHaveAsyncData = false;\r\n  IsOnSaveMassGroup = false;\r\n\r\n  HandledItems = []\r\n\r\n  OnSetHandledRatio_Funcs = []\r\n\r\n  handledRatio\r\n  get HandledRatio(){\r\n    return this.handledRatio;\r\n  }set HandledRatio(v){\r\n    this.handledRatio = v;\r\n    this.OnSetHandledRatio_Funcs.forEach(x => x(v));\r\n  }\r\n\r\n  AddHandledItems = (item) => {\r\n    this.HandledItems.push(item);\r\n    this.HandledRatio = this.HandledItems.length / this.Items.length;\r\n\r\n    if (this.HandledItems.length === this.Items.length) {\r\n      this.UpdateData();\r\n      this.HandledItems = [];\r\n    }\r\n  }\r\n\r\n  UpdateData = () => {\r\n    this.MainRows.forEach(x => x.UpdateData());\r\n    this.MainRows = rowUtil.Order(this.MainRows);\r\n\r\n    this.Cells.forEach(x => x.UpdateData());\r\n    this.IsUpdateDataDone = true;\r\n  }\r\n\r\n  OnIsUpdateDataDone_Funcs = []\r\n\r\n  set IsUpdateDataDone(v){\r\n    this.OnIsUpdateDataDone_Funcs.forEach(x => x());\r\n  }\r\n\r\n  HandleItem = (item, colFieldValue, mgc, initialRow) => {\r\n    var col =\r\n      this.GetColumn(mif.GetValueString(colFieldValue, this.ColumnField));\r\n    var rows = initialRow ? [initialRow] : [];\r\n    var mgc = mgc ? mgc : this.MainMGC;\r\n\r\n    this.HandleRowFieldIndex(item, col, rows, mgc, 0);\r\n  }\r\n\r\n  // Xử lý tạo Row với giá trị tương ứng và Cell bên trong\r\n  GetRow_Value_FieldIndex = (item, col, rows, val, mgc, rowFieldIndex) => {\r\n    var mgis = mgc.Items;\r\n    var itemCount = mgis.length;\r\n    var mgi = mgis[rowFieldIndex];\r\n\r\n    var lastRow = rows.length !== 0 ? rows[rows.length - 1] : undefined\r\n    mgi.SupRow = lastRow;\r\n\r\n    var rowField = mgi.Field;\r\n    if (!rowField) {\r\n      this.AddHandledItems(item);\r\n      return;\r\n    }\r\n\r\n    var valueString = mif.GetValueString(val, rowField);\r\n    var fullValue = lastRow ? `${lastRow.FullValue}__${valueString}` : valueString;\r\n\r\n    if (mgi.NotIncludeValues.includes(fullValue)) {\r\n      this.AddHandledItems(item);\r\n      return;\r\n    }\r\n\r\n    var row = undefined;\r\n    const addRow = (supRow) => {\r\n      return this.Handle_AddRow(fullValue, supRow);\r\n    }\r\n\r\n    const handleRow = (row) => {\r\n      row.MassGroupItem = mgi;\r\n      rows.push(row);\r\n\r\n      var subMgcs = mgi.SubComponents;\r\n      var subIndex = subMgcs.findIndex(x =>\r\n        filterUtil.IsValid(x.Filter, fullValue));\r\n      if (subIndex !== -1) {\r\n        mgc = subMgcs[subIndex];\r\n        mgc.IsHaveMassItem = true;\r\n\r\n        rowFieldIndex = -1;\r\n        itemCount = mgc.Items.length;\r\n\r\n        row.SubMassGroupComponent = mgc;\r\n      }\r\n\r\n      var cell = this.GetCell(col, row);\r\n      cell.Items.push(item);\r\n\r\n      if (rowFieldIndex === itemCount - 1) {\r\n        this.AddHandledItems(item);\r\n      } else {\r\n        this.HandleRowFieldIndex(item, col, rows, mgc, rowFieldIndex + 1);\r\n      }\r\n    }\r\n\r\n    var mgiItem = mgi.GetItem(fullValue, valueString);\r\n    var replaceMgi = mgiItem.NewMGI;\r\n    if (replaceMgi) {\r\n      // Thêm Value-Title cho MassGroupItem\r\n      replaceMgi.GetItem(fullValue, valueString);\r\n\r\n      this.Handle_ReplaceMGI(replaceMgi, addRow, handleRow);\r\n    } else {\r\n      row = addRow(lastRow);\r\n      handleRow(row);\r\n    }\r\n  }\r\n\r\n  Handle_AddRow = (fullValue, supRow) => {\r\n    var r1 = this.GetRow(fullValue, supRow);\r\n    r1.FullValue = fullValue;\r\n    return r1;\r\n  }\r\n\r\n  Handle_ReplaceMGI = (replaceMgi, addRow, handleRow) => {\r\n    const awaitGetSupRowForAdd = () => {\r\n      var supRow = replaceMgi.SupRow;\r\n      var r2 = addRow(supRow);\r\n      r2.ReplaceMGI = replaceMgi;\r\n\r\n      return r2;\r\n    }\r\n\r\n    var row = undefined\r\n    if (replaceMgi.IsFirstSetSupRow) {\r\n      row = awaitGetSupRowForAdd();\r\n      handleRow(row);\r\n    } else {\r\n      replaceMgi.OnIsFirstSetSupRow_Funcs.push(() => {\r\n        row = awaitGetSupRowForAdd();\r\n        handleRow(row);\r\n      })\r\n    }\r\n  }\r\n\r\n  HandleRowFieldIndex = (item, col, rows, mgc, rowFieldIndex) => {\r\n    var rowField = mgc.Items[rowFieldIndex].Field;\r\n\r\n    var val = item.GetValue(rowField, (val) =>\r\n      this.GetRow_Value_FieldIndex(item, col, rows, val, mgc, rowFieldIndex));\r\n    if (!Array.isArray(val)) {\r\n      this.GetRow_Value_FieldIndex(item, col, rows, val, mgc, rowFieldIndex);\r\n    } else {\r\n      this.IsHaveAsyncData = true;\r\n    }\r\n  }\r\n\r\n  SaveMassGroup = () => {\r\n    this.IsOnSaveMassGroup = true;\r\n  }\r\n\r\n  massGroupName = undefined\r\n  get MassGroupName() {\r\n    if (!this.massGroupName) {\r\n      this.massGroupName = util.GetMassGroupName(this);\r\n    }\r\n    return this.massGroupName;\r\n  }\r\n  set MassGroupName(v) {\r\n    this.massGroupName = v;\r\n  }\r\n\r\n  massGroupNameVM\r\n  get MassGroupNameVM() {\r\n    if (!this.massGroupNameVM) {\r\n      var obj = this.massGroupNameVM =\r\n        textUtil.get(this.MassGroupName, 'Tên set khối lượng');\r\n      obj.onSetContent = (v) => this.MassGroupName = v;\r\n    }\r\n    return this.massGroupNameVM;\r\n  }\r\n\r\n  MassGroupInputOK = () => {\r\n    var items = pmData().MassGroupSetting_Dict.Items;\r\n    var index = items.findIndex(x => x.Name === this.MassGroupName);\r\n    var _id = undefined;\r\n    if (index !== -1) {\r\n      _id = items[index]._id;\r\n    }\r\n\r\n    var apiData = {\r\n      _id,\r\n      name: this.MassGroupName,\r\n      settingType: st.massgroup,\r\n      data: {\r\n        massGroupComponent: this.MainMGC.ApiData\r\n      }\r\n    };\r\n\r\n    var url = `https://api.bimdev.vn/api/hbs/mg`;\r\n\r\n    var command = _id ? 'edit' : 'add';\r\n    const apiFunc = () => _id ? api.put(`${url}/${command}`, apiData) :\r\n      api.post(`${url}/${command}`, apiData);\r\n\r\n    apiFunc().then(response => response.data)\r\n      .then(data => {\r\n        var dict = pmData().MassGroupSetting_Dict;\r\n        var item = mgsUtil.get(data, dict);\r\n        dict.Items.push(item);\r\n\r\n        var dictVM = pmDataVM().MassGroupSetting_DictVM;\r\n        var itemVM = mgsVMUtil.get(item, dictVM);\r\n        dictVM.Items.push(itemVM);\r\n\r\n        message.success(`${command} massgroup successfully`);\r\n      })\r\n\r\n    this.IsOnSaveMassGroup = false;\r\n    this.MassGroupNameVM.Content = util.GetMassGroupName(this);\r\n  }\r\n\r\n  MassGroupInputCancel = () => {\r\n    this.IsOnSaveMassGroup = false;\r\n    this.MassGroupNameVM.Content = util.GetMassGroupName(this);\r\n  }\r\n\r\n  AddMainRow = () => {\r\n    return rowUtil.Add(undefined, this);\r\n  }\r\n}","import MassColumn from \"./MassColumn\"\r\n\r\nexport const get = (q, dict) => {\r\n  var qI = new MassColumn();\r\n  qI.Name = q;\r\n  qI.Dict = dict;\r\n  return qI;\r\n}","import MassTable from \"../table/MassTable\";\r\n\r\nexport default class MassItem_Dict {\r\n  items\r\n  get Items() {\r\n    return this.items;\r\n  }\r\n  set Items(v) {\r\n    this.items = v;\r\n    this.MassTable.Items = v;\r\n  }\r\n\r\n  massTable\r\n  get MassTable() {\r\n    if (!this.massTable) {\r\n      this.massTable = new MassTable();\r\n    }\r\n    return this.massTable;\r\n  }\r\n\r\n  set MassGroupSetting(v)  {\r\n    this.MassTable.MassGroupSetting = v;\r\n  }\r\n}","import * as util from './MassItemUtil'\r\nimport * as mif from './MassItemField'\r\nimport { message } from 'antd'\r\nimport * as api from '../../../../../util/apiUtil'\r\n\r\nexport default class MassItem {\r\n  Value\r\n  Unit\r\n\r\n  projectId\r\n\r\n  project\r\n  get Project() {\r\n    if (!this.project) {\r\n      this.project = util.GetProject(this);\r\n    }\r\n    return this.project;\r\n  }\r\n\r\n  workpackageId\r\n\r\n  workpackage\r\n  get Workpackage() {\r\n    if (!this.workpackage) {\r\n      this.workpackage = util.GetWorkpackage(this);\r\n    }\r\n    return this.workpackage;\r\n  }\r\n\r\n  phases\r\n  get Phases() {\r\n    if (!this.phases) {\r\n      this.phases = util.GetPhases(this);\r\n    }\r\n    return this.phases;\r\n  }\r\n\r\n  get ValidPhasesByInput() {\r\n    return util.GetValidPhasesByInput(this);\r\n  }\r\n\r\n  IsGetElement = false\r\n\r\n  OnGetElementDone_Funcs = []\r\n\r\n  set GetElementDone(v) {\r\n    this.OnGetElementDone_Funcs.forEach(x => x());\r\n  }\r\n\r\n  GetValue = (field) => {\r\n    if (!field) {\r\n      return;\r\n    }\r\n\r\n    var data = mif.GetFullFields(this, field);\r\n    var { fields, isFromElement } = data;\r\n\r\n    var getValFunc = () => {\r\n      var obj = this;\r\n      var isValid = true;\r\n\r\n      fields.forEach(x => {\r\n        if (isValid) {\r\n          var temp = obj[x];\r\n          obj = temp;\r\n          if (obj === undefined) {\r\n            isValid = false;\r\n          }\r\n        }\r\n      })\r\n\r\n      return obj;\r\n    }\r\n\r\n    if (!isFromElement || this.Element) {\r\n      return getValFunc();\r\n    } else {\r\n      return undefined;\r\n    }\r\n  }\r\n\r\n  get ApiData() {\r\n    return {\r\n      _id: this._id,\r\n      projectId: this.projectId,\r\n      elementId: this.elementId,\r\n      workpackageId: this.workpackageId,\r\n      exportSetId: this.exportSetId,\r\n      exportSetVersionId: this.exportSetVersionId,\r\n      value: this.Value,\r\n      unit: this.Unit,\r\n      massType: this.MassType,\r\n      info: this.Info\r\n    }\r\n  }\r\n\r\n  AddDatabase = (handle) => {\r\n    var apiData = this.ApiData;\r\n    var { _id } = apiData;\r\n    var url = `https://api.bimdev.vn/api/hbm`;\r\n\r\n    var command = _id ? 'edit' : 'add';\r\n    const apiFunc = () => _id ?\r\n      api.put(`${url}/${command}`, apiData) : api.post(`${url}/${command}`, apiData);\r\n\r\n    apiFunc().then(response => response.data)\r\n      .then(data => {\r\n        if (command === 'add') {\r\n          this._id = data._id;\r\n        }\r\n        if (handle) {\r\n          handle(data);\r\n        }\r\n        message.success(`${command} mass successfully`);\r\n      })\r\n  }\r\n\r\n  DeleteDatabase = (handle) => {\r\n    var apiData = {\r\n      _id: this._id\r\n    };\r\n    var url = `https://api.bimdev.vn/api/hbm`;\r\n    const apiFunc = () => api.put(`${url}/delete`, apiData);\r\n\r\n    apiFunc().then(response => response.data)\r\n      .then(data => {\r\n        if (handle) {\r\n          handle(data);\r\n        }\r\n        message.success(`delete mass successfully`);\r\n      })\r\n  }\r\n\r\n  Get_Count = 0;\r\n\r\n  IsGet_TLS_LevelGroup = false\r\n  OnGet_TLS_LevelGroup_Func_Dict = []\r\n  set Get_TLS_LevelGroup(v) {\r\n    this.OnGet_TLS_LevelGroup_Func_Dict.forEach(x => x.Value());\r\n    this.Get_Count ++;\r\n  }\r\n\r\n  tls_LevelGroup\r\n  get TLS_LevelGroup() {\r\n    if (!this.tls_LevelGroup) {\r\n      this.tls_LevelGroup = util.GetTLS_LevelGroup(this);\r\n    }\r\n    return this.tls_LevelGroup;\r\n  } set TLS_LevelGroup(v) {\r\n    this.tls_LevelGroup = v;\r\n    this.Get_TLS_LevelGroup = true;\r\n  }\r\n\r\n  OnGet_FullValue_Func_Dict = []\r\n  set Get_FullValue(v) {\r\n    this.OnGet_FullValue_Func_Dict.forEach(x => x.Value())\r\n  }\r\n\r\n  // bao gồm giá trị tầng điển hình\r\n  fullValue\r\n  get FullValue() {\r\n    if (!this.fullValue) {\r\n      this.fullValue = util.GetFullValue(this);\r\n    }\r\n    return this.fullValue;\r\n  } set FullValue(v) {\r\n    this.fullValue = v;\r\n    this.Get_FullValue = true;\r\n  }\r\n}","import * as api from '../../../../../util/apiUtil'\r\nimport { PMData } from '../../../single/model/PMData';\r\nimport MassItem from './MassItem';\r\nimport * as elementUtil from '../../element/ElementUtil'\r\nimport * as mt from '../MassType'\r\nimport * as ut from '../../value/ValueUnit'\r\nimport * as mif from './MassItemField'\r\nimport * as genUtil from '../../../../../util/generalUtil'\r\n\r\nexport const pmData = () => {\r\n  return PMData.Instance;\r\n}\r\n\r\n// Instance\r\nexport const get = (q) => {\r\n  var qI = new MassItem();\r\n\r\n  qI._id = q._id;\r\n  qI.Value = q.value;\r\n  qI.Unit = q.unit;\r\n  qI.MassType = q.massType;\r\n  qI.Info = q.info;\r\n  qI.projectId = q.projectId;\r\n  qI.workpackageId = q.workpackageId;\r\n  qI.exportSetId = q.exportSetId;\r\n  qI.exportSetVersionId = q.exportSetVersionId;\r\n  qI.Element = q.Elements && q.Elements.length !== 0 ? q.Elements[0] : undefined;\r\n\r\n  return qI;\r\n}\r\n\r\nexport const GetDefaultRebarMass = (project) => {\r\n  var qI = new MassItem();\r\n\r\n  qI.Unit = ut.kg;\r\n  qI.MassType = mt.rebar;\r\n  qI.Info = {}\r\n  qI.projectId = project._id;\r\n\r\n  const setExportSetData = (exportSet) => {\r\n    qI.exportSetId = exportSet._id;\r\n\r\n    var currentVersion = exportSet.CurrentVersion;\r\n    if (!currentVersion) {\r\n      exportSet.OnGetCurrentVersionDone_Func.push(() => {\r\n        currentVersion = exportSet.CurrentVersion;\r\n        qI.exportSetVersionId = currentVersion._id;\r\n      })\r\n    } else {\r\n      qI.exportSetVersionId = currentVersion._id;\r\n    }\r\n  }\r\n\r\n  var inputExportSet = project.InputExportSet;\r\n  if (!inputExportSet) {\r\n    project.OnGetInputExportSetDone_Funcs\r\n      .push(() => {\r\n        inputExportSet = project.InputExportSet;\r\n        setExportSetData(inputExportSet);\r\n      })\r\n  } else {\r\n    setExportSetData(inputExportSet);\r\n  }\r\n\r\n  return qI;\r\n}\r\n\r\nexport const GetProject = (q) => {\r\n  var list = pmData().Project_Dict.Items;\r\n  var { projectId } = q;\r\n  var index = list.findIndex(x => x._id === projectId);\r\n  return index !== -1 ? list[index] : undefined;\r\n}\r\n\r\nexport const getAll = (apiData, handle) => {\r\n  var url = \"https://api.bimdev.vn/api/hbmr/newlist\";\r\n\r\n  //var start = window.performance.now();\r\n\r\n  api.post(url, apiData, undefined, 2000000)\r\n    .then(response => response.data)\r\n    .then(data => {\r\n      //var end = window.performance.now();\r\n      //console.log(`Execution time: ${(end - start)/1000} s`);\r\n\r\n      if (!data) {\r\n        console.log('mass result undefined');\r\n        return;\r\n      }\r\n\r\n      var items = data.map(x => {\r\n        return get(x)\r\n      })\r\n      if (handle) {\r\n        handle(items);\r\n      }\r\n    });\r\n}\r\n\r\nexport const getRebars = (projectId, handle) => {\r\n  if (!projectId) return;\r\n  var url = `https://api.bimdev.vn/api/hbmr/rebar?projectId=${projectId}`;\r\n  api.get(url).then(response => response.data)\r\n    .then(data => {\r\n      var items = undefined;\r\n      if (!data) {\r\n        items = [];\r\n      } else {\r\n        var items = data.map(x => get(x))\r\n      }\r\n      if (handle) {\r\n        handle(items);\r\n      }\r\n    });\r\n}\r\n\r\nexport const getByViewDetail = (_id, handle) => {\r\n  var url = `https://api.bimdev.vn/api/hbdv/massdetail?id=${_id}`;\r\n  api.get(url).then(response => response.data)\r\n    .then(data => {\r\n      var { viewDetail, masses } = data;\r\n      var isGetElement = mt.IsGetElement(viewDetail.massType);\r\n      var items = masses.map(x => get(x, isGetElement));\r\n      if (handle) {\r\n        handle(items);\r\n      }\r\n    });\r\n}\r\n\r\n// Property\r\nexport const GetWorkpackage = (q) => {\r\n  var list = pmData().Workpackage_Dict.Workpackages;\r\n  var { workpackageId } = q;\r\n  var index = list.findIndex(x => x._id === workpackageId);\r\n  return index !== -1 ? list[index] : undefined;\r\n}\r\n\r\nexport const GetPhases = (q) => {\r\n  var list = [];\r\n  var phases = pmData().Phase_Dict.Items;\r\n  var exportSetVersionId = q.exportSetVersionId;\r\n  phases.forEach(x => {\r\n    if (x.exportSetVersionIds.includes(exportSetVersionId)) {\r\n      list.push(x);\r\n    }\r\n  })\r\n  return list;\r\n}\r\n\r\nexport const GetValidPhasesByInput = (q) => {\r\n  var inputPhases = pmData().MassResultComp.Phases;\r\n  var phases = q.Phases;\r\n  var list = [];\r\n  phases.forEach(x => {\r\n    if (inputPhases.includes(x)) {\r\n      list.push(x);\r\n    }\r\n  })\r\n  return list;\r\n}\r\n\r\nexport const GetElementAsync = (q) => {\r\n  var elemId = q.elementId\r\n  if (elemId) {\r\n    elementUtil.GetById(elemId, (data) => {\r\n      q.Element = data\r\n      q.IsGetElement = true;\r\n      q.GetElementDone = true;\r\n    });\r\n  } else {\r\n    q.IsGetElement = true;\r\n  }\r\n}\r\n\r\nexport const GetTLS_LevelGroup = (q) => {\r\n  if (q.IsGet_TLS_LevelGroup) return undefined;\r\n  q.IsGet_TLS_LevelGroup = true;\r\n\r\n  var project = q.Project;\r\n\r\n  const getLevelGroup_Func = (tls) => {\r\n    var pi = GetValidTLS_PageItem(q, tls.Data);\r\n    return GetValidTLS_LevelGroup(q, pi);\r\n  }\r\n\r\n  var tls = project.TypicalLevelSetting;\r\n  if (tls) {\r\n    return getLevelGroup_Func(tls);\r\n  } else {\r\n    project.OnGetTypicalLevelSetting_Funcs.push(() => {\r\n      q.TLS_LevelGroup = getLevelGroup_Func(project.TypicalLevelSetting);\r\n    })\r\n  }\r\n}\r\n\r\nexport const GetValidTLS_PageItem = (q, tls) => {\r\n  if (!tls) return undefined;\r\n  var validPi = undefined\r\n  tls.PageItems.forEach(x => {\r\n    if (!validPi && IsValidTLS_PageItem(q, x)) {\r\n      validPi = x;\r\n    }\r\n  })\r\n\r\n  return validPi;\r\n}\r\n\r\nexport const IsValidTLS_PageItem = (q, pageItem) => {\r\n  var filters = pageItem.Filters;\r\n  var isValid = true;\r\n  filters.forEach(x => {\r\n    if (isValid) {\r\n      var field = x.Field;\r\n      isValid = x.Values.includes(q.GetValue(field));\r\n    }\r\n  })\r\n  return isValid;\r\n}\r\n\r\nexport const GetValidTLS_LevelGroup = (q, pageItem) => {\r\n  if (!pageItem) return undefined;\r\n  var validLg = undefined\r\n  pageItem.LevelGroups.forEach(x => {\r\n    // Kiểm tra Level hiện tại có trong tập hợp Level hay không\r\n    //if (!validLg && x.Levels.includes(q.GetValue(mif.level))) {\r\n\r\n    // Cách kiểm tra mới: Level primary tương ứng Leve hiện tại\r\n    if (!validLg && x.Primary === q.GetValue(mif.level)) {\r\n      validLg = x;\r\n    }\r\n  })\r\n  return validLg;\r\n}\r\n\r\nexport const GetFullValue = (q) => {\r\n  if (q.IsGet_FullValue) return undefined;\r\n  q.IsGet_FullValue = true;\r\n\r\n  const getFullValue_Func = (lg) => {\r\n    var count = lg ? lg.Count : 1\r\n    return q.Value * count;\r\n  }\r\n\r\n  if (q.TLS_LevelGroup) {\r\n    return getFullValue_Func(q.TLS_LevelGroup)\r\n  } else {\r\n    genUtil.Add(q.OnGet_TLS_LevelGroup_Func_Dict,\r\n      () => q.FullValue = getFullValue_Func(q.TLS_LevelGroup));\r\n  }\r\n}","import MassItem_Dict from '../item/MassItem_Dict';\r\nimport * as util from './MassResultCompUtil'\r\nimport * as massItemUtil from '../item/MassItemUtil'\r\nimport { PMData } from '../../../single/model/PMData';\r\nimport * as mif from '../item/MassItemField'\r\n\r\nexport const pmData = () => {\r\n  return PMData.Instance;\r\n}\r\n\r\nexport default class MassResultComp {\r\n  Projects = []\r\n\r\n  Phases = []\r\n\r\n  get ApiData() {\r\n    return util.GetApiData(this);\r\n  }\r\n\r\n  massItem_Dict\r\n  get MassItem_Dict(){\r\n    if (!this.massItem_Dict){\r\n      this.massItem_Dict = new MassItem_Dict();\r\n    }\r\n    return this.massItem_Dict;\r\n  }\r\n\r\n  OnGetItemsDone_Funcs = []\r\n\r\n  set GetItemsDone (v){\r\n    this.OnGetItemsDone_Funcs.forEach(x => x());\r\n  }\r\n\r\n  isHavePhase = false\r\n  get IsHavePhase(){\r\n    return this.isHavePhase;\r\n  }\r\n  set IsHavePhase(v){\r\n    this.isHavePhase = v;\r\n    if (v){\r\n    this.MassItem_Dict.MassTable.ColumnField = mif.Phase\r\n    }else{\r\n      this.MassItem_Dict.MassTable.ColumnField = mif.Project\r\n    }\r\n  }\r\n\r\n  GetMassData = () => {\r\n    var wp_Dict = pmData().Workpackage_Dict;\r\n    if (wp_Dict.IsDataChanged){\r\n      wp_Dict.RefreshData();\r\n    }\r\n\r\n    massItemUtil.getAll(this.ApiData, (items) => {\r\n      var dict = this.MassItem_Dict;\r\n\r\n      dict.MassGroupSetting = this.MassGroupSetting ? \r\n        this.MassGroupSetting : undefined;\r\n      dict.Items = items;\r\n      \r\n      this.GetItemsDone = true;\r\n    })\r\n  }\r\n}","export const GetApiData = (q) => {\r\n  return {\r\n    projectIds : q.Projects.map(x => x._id),\r\n    phaseIds : q.IsHavePhase ? q.Phases.map(x => x._id) : undefined\r\n  }\r\n}","import { Button, message, Space, Tag } from \"antd\";\r\nimport * as colUtil from '../../../../table/TableColumnUtil'\r\nimport TableVM from \"../../../../table/TableVM\";\r\nimport * as renderUtil from '../../../../table/RenderItemUtil'\r\nimport * as rs from '../../../../table/RenderState'\r\nimport * as genUtil from '../../../../../util/generalUtil'\r\nimport RebarMass_Dict from \"./RebarMass_Dict\";\r\nimport * as massItemUtil from '../item/MassItemUtil'\r\n\r\nexport const get = (project) => {\r\n  var qI = new RebarMass_Dict();\r\n  qI.Project = project;\r\n\r\n  var projectId = qI.projectId;\r\n  massItemUtil.getRebars(projectId, (items) => {\r\n    qI.Items = items;\r\n  });\r\n\r\n  return qI;\r\n}\r\n\r\nexport const GetTableVM = (q) => {\r\n  var qI = new TableVM();\r\n\r\n  qI.DataSource = q.Items;\r\n  qI.Columns = [\r\n    colUtil.get('Tên cấu kiện', ['Info', 'elementName'],\r\n      [\r\n        renderUtil.get(rs._default, (val, item) => item.Info.elementName)\r\n      ], qI),\r\n\r\n    colUtil.get('Hạng mục', ['Info', 'workItem'],\r\n      [\r\n        renderUtil.get(rs._default, (val, item) => item.Info.workItem)\r\n      ], qI),\r\n\r\n    colUtil.get('Đường kính', ['Info', 'diameter'],\r\n      [\r\n        renderUtil.get(rs._default, (val, item) => item.Info.diameter)\r\n      ], qI),\r\n\r\n    colUtil.get('Khối lượng', ['Value'], null, qI),\r\n\r\n    colUtil.GetActionColumn(qI)\r\n  ]\r\n\r\n  qI.OnGetItemForAdd = () => {\r\n    return massItemUtil.GetDefaultRebarMass(q.Project);\r\n  }\r\n\r\n  qI.OnEditItem = (item) => {\r\n    item.AddDatabase();\r\n  }\r\n\r\n  qI.OnDeleteItem = (item) => {\r\n    item.DeleteDatabase();\r\n  }\r\n\r\n  return qI;\r\n}","export const m = \"m\";\r\nexport const m2 = \"m2\";\r\nexport const m3 = \"m3\";\r\nexport const kg = \"kg\";","import * as util from './RebarMass_DictUtil'\r\n\r\nexport default class RebarMass_Dict {\r\n  project\r\n  get Project(){\r\n    return this.project;\r\n  }\r\n  set Project(v){\r\n    this.project = v;\r\n    this.projectId = v._id;\r\n  }\r\n\r\n  projectId\r\n\r\n  items = []\r\n  get Items(){\r\n    return this.items;\r\n  }\r\n  set Items(v){\r\n    this.items = v;\r\n    this.TableVM.DataSource = v;\r\n  }\r\n\r\n  tableVM\r\n  get TableVM() {\r\n    if (!this.tableVM){\r\n      this.tableVM = util.GetTableVM(this);\r\n    }\r\n    return this.tableVM;\r\n  }\r\n}","\r\nexport default class Phase {\r\n  exportSetVersions\r\n  get ExportSetVersions(){\r\n    return this.exportSetVersions;\r\n  }\r\n  set ExportSetVersions(v){\r\n    this.exportSetVersions = v;\r\n    this.exportSetVersionIds = v.map(x => x._id);\r\n  }\r\n\r\n  OnGetExportSetVersions_Func = [];\r\n\r\n  set GetExportSetVersions(v){\r\n    this.OnGetExportSetVersions_Func.forEach(x => x());\r\n  }\r\n\r\n  exportSetVersionIds\r\n}","import * as api from '../../../../util/apiUtil'\r\nimport Phase from './Phase';\r\n\r\nexport const get = (q, dict) => {\r\n  if (!q) return undefined;\r\n\r\n  var qI = new Phase();\r\n\r\n  qI._id = q._id;\r\n  qI.Name = q.name;\r\n  qI.Description = q.description;\r\n  qI.Dict = dict;\r\n\r\n  GetExportSetVersionData(q._id, (data) => {\r\n    qI.ExportSetVersions = data;\r\n    qI.GetExportSetVersions = true;\r\n  })\r\n\r\n  return qI;\r\n}\r\n\r\nexport const getByProject = (projectId, handle) => {\r\n  var url = `https://api.bimdev.vn/api/hbphase/list?projectId=${projectId}`;\r\n  api.get(url).then(response => response.data)\r\n    .then(data => {\r\n      if (handle) {\r\n        handle(data);\r\n      }\r\n    });\r\n}\r\n\r\nexport const GetExportSetVersionData = (phaseId, handle) => {\r\n  var url = `https://api.bimdev.vn/api/hbesv/byphase?phaseId=${phaseId}`;\r\n  api.get(url).then(response => response.data)\r\n    .then(data => {\r\n      if (handle) {\r\n        handle(data);\r\n      }\r\n    });\r\n}","import { message } from 'antd';\r\nimport * as util from './Phase_DictUtil'\r\nimport * as api from '../../../../util/apiUtil'\r\nimport * as itemUtil from './PhaseUtil'\r\n\r\nexport class Phase_Dict {\r\n  get Project() {\r\n    return this.Dict;\r\n  }\r\n\r\n  Items\r\n\r\n  OnGetItemsDone_Funcs = []\r\n\r\n  set GetItemsDone (v){\r\n    this.OnGetItemsDone_Funcs.forEach(x => x());\r\n  }\r\n\r\n  input\r\n  get Input(){\r\n    if (!this.input){\r\n      this.input = util.GetInput(this);\r\n    }\r\n    return this.input;\r\n  }\r\n\r\n  Add = (item) => {\r\n    this.Items.push(item);\r\n    if (this.OnAdd){\r\n      this.OnAdd(item);\r\n    }\r\n  }\r\n  \r\n  AddMassVersion = () => {\r\n    var apiData = this.Input.ApiData;\r\n    var url = `https://api.bimdev.vn/api/hbphase`;\r\n\r\n    const apiFunc = () => api.put(`${url}/mass/add`, apiData);\r\n    \r\n    apiFunc().then(response => response.data)\r\n      .then(data => {\r\n        var item = itemUtil.get(data, this);\r\n        this.Add(item);\r\n        message.success(\"create version successfully!\");\r\n      })\r\n\r\n    // Thêm version mới cho InputExportSet sau khi lưu version\r\n    var addVersionFunc = (exportSet) => exportSet.AddVersion();\r\n\r\n    var project = this.Project;\r\n    var inputExportSet = project.InputExportSet;\r\n    if (!inputExportSet){\r\n      project.OnGetInputExportSetDone_Funcs.push(() => {\r\n        inputExportSet = project.InputExportSet;\r\n        addVersionFunc(inputExportSet);\r\n      })\r\n    }else{\r\n      addVersionFunc(inputExportSet);\r\n    }\r\n  }\r\n}","export default class PhaseInput {\r\n  get ApiData(){\r\n    var projectId = this.Dict.Dict._id;\r\n    var name = this.Name;\r\n    var description = this.Description;\r\n\r\n    return {\r\n      projectId, name, description\r\n    }\r\n  }\r\n}","import { Phase_Dict } from \"./Phase_Dict\";\r\nimport * as phaseUtil from './PhaseUtil'\r\nimport * as inputUtil from './PhaseInputUtil'\r\n\r\nexport const get = (project) => {\r\n  var qI = new Phase_Dict();\r\n  qI.Dict = project;\r\n\r\n  phaseUtil.getByProject(project._id, (data) => {\r\n    qI.Items = data.map(x => phaseUtil.get(x, qI));\r\n    qI.GetItemsDone = true;\r\n  })\r\n\r\n  return qI;\r\n}\r\n\r\nexport const GetInput = (q) => {\r\n  return inputUtil.get(q);\r\n}","import PhaseInput from './PhaseInput';\r\n\r\nexport const get = (dict) => {\r\n  var qI = new PhaseInput();\r\n  qI.Dict = dict;\r\n  qI.Name = 'Version 1';\r\n  qI.Description = 'mô tả phiên bản';\r\n\r\n  return qI;\r\n}","import { makeObservable, observable, action } from 'mobx';\r\nimport * as genUtil from '../../../../../../util/generalUtil'\r\nimport * as util from './LevelGroupUtil'\r\n\r\nexport class LevelGroup {\r\n  _id\r\n  get id() {\r\n    if (!this._id) {\r\n      this._id = genUtil.newGUID();\r\n    }\r\n    return this._id;\r\n  }\r\n\r\n  get Index() {\r\n    return this.Dict.LevelGroups.indexOf(this);\r\n  }\r\n\r\n  Delete = () => {\r\n    this.Dict.LevelGroups.splice(this.Index, 1);\r\n  }\r\n\r\n  get ApiData() {\r\n    return {\r\n      levels : this.Levels ? this.Levels : [],\r\n      primary: this.Primary\r\n    }\r\n  }\r\n\r\n  get Count(){\r\n    return this.Levels.length\r\n  }\r\n\r\n\r\n  OnGetLevelStorageList_Func_Dict = []\r\n  get GetLevelStorageList(){\r\n    return this.getLevelStorageList;\r\n  }\r\n  set GetLevelStorageList(v){\r\n    this.getLevelStorageList = v;\r\n    this.OnGetLevelStorageList_Func_Dict.forEach(x => x.Value())\r\n  }\r\n\r\n  IsGet_LevelStorageList\r\n\r\n  get LevelStorageList (){\r\n    var obj = this.Dict.LevelStorageList;\r\n    if (!obj && !this.IsGet_LevelStorageList){\r\n      this.IsGet_LevelStorageList = true;\r\n      this.Setting.OnGetLevelStorageList_Funcs.push(() => {\r\n        this.GetLevelStorageList = true\r\n      });\r\n    }\r\n    return obj;\r\n  }\r\n\r\n  get Setting (){\r\n    return this.Dict.Setting;\r\n  }\r\n\r\n  get LevelIndexs(){\r\n    return this.Levels.map(x => this.LevelStorageList.indexOf(x));\r\n  }\r\n\r\n  get MinLevel(){\r\n    var list = this.LevelStorageList;\r\n    return list[Math.min.apply(Math, this.LevelIndexs)]\r\n  }\r\n\r\n  get MaxLevel(){\r\n    var list = this.LevelStorageList;\r\n    return list[Math.max.apply(Math, this.LevelIndexs)]\r\n  }\r\n\r\n  get Description(){\r\n    if (!this.LevelStorageList) return undefined;\r\n    return `Typ: ${this.MinLevel} - ${this.MaxLevel} (${this.Count})`;\r\n  }\r\n\r\n  get FullDescription() {\r\n    if (!this.Description) return undefined;\r\n    return `${this.Dict.FilterDescription} (${this.Description})`;\r\n  }\r\n\r\n  primary\r\n  get Primary(){\r\n    if (!this.primary){\r\n      this.primary = util.GetDefaultPrimary(this);\r\n    }\r\n    return this.primary\r\n  } set Primary(v){\r\n    this.primary = v;\r\n  }\r\n}","import { LevelGroup } from \"./LevelGroup\"\r\n\r\n// Instance\r\nexport const get = (data, dict) => {\r\n  var qI = new LevelGroup();\r\n\r\n  if (Array.isArray(data)) {\r\n    qI.Levels = data;\r\n  } else {\r\n    qI.Levels = data.levels;\r\n    qI.Primary = data.primary\r\n  }\r\n\r\n  qI.Dict = dict;\r\n  return qI;\r\n}\r\n\r\nexport const GetDefault = (dict) => {\r\n  var qI = new LevelGroup();\r\n  qI.Dict = dict;\r\n  return qI;\r\n}\r\n\r\n// Property\r\nexport const GetDefaultPrimary = (q) => {\r\n  if (q.Levels && q.Levels.length !== 0) {\r\n    return q.Levels[0];\r\n  }\r\n}","import * as genUtil from '../../../../../../util/generalUtil'\r\n\r\nexport class TLS_Filter {\r\n  _id\r\n  get id() {\r\n    if (!this._id) {\r\n      this._id = genUtil.newGUID();\r\n    }\r\n    return this._id;\r\n  }\r\n\r\n  get Index (){\r\n    return this.Dict.Filters.indexOf(this);\r\n  }\r\n\r\n  Delete = () => {\r\n    this.Dict.Filters.splice(this.Index, 1);\r\n  }\r\n\r\n  Values = [ 'Cột' ]\r\n\r\n  AddValue = () => {\r\n    var item = undefined;\r\n    this.Values.push(item);\r\n    return item;\r\n  }\r\n\r\n  field\r\n  get Field(){\r\n    if (!this.field){\r\n      this.field = this.FieldStorageList[0]\r\n    }\r\n    return this.field;\r\n  } set Field(v){\r\n    this.field = v;\r\n  }\r\n\r\n  get FieldStorageList(){\r\n    return this.Dict.FieldFilterStorageList;\r\n  }\r\n\r\n  get ApiData() {\r\n    var obj = {\r\n      field : this.Field,\r\n      values : this.Values.filter(x => x && x.length !== 0)\r\n    }\r\n    return obj;\r\n  }\r\n\r\n  get Description() {\r\n    var obj =  this.Values.reduce((a,b,i,arr) => {\r\n      if (arr.indexOf(b) !== 0){\r\n        a += ', ';\r\n      }\r\n      a += b;\r\n      return a;\r\n    }, '')\r\n\r\n    return `${this.Field}: ${obj}`;\r\n  }\r\n}","import { TLS_Filter } from \"./TLS_Filter\";\r\n\r\nexport const get = (data, dict) => {\r\n  var qI = new TLS_Filter();\r\n  qI.Field = data.field;\r\n  qI.Values = data.values;\r\n  qI.Dict = dict;\r\n  return qI;\r\n}\r\n\r\nexport const GetDefault = (dict) => {\r\n  var qI = new TLS_Filter();\r\n  qI.Dict = dict;\r\n  return qI;\r\n}","import * as genUtil from '../../../../../../util/generalUtil'\r\nimport * as levelGroupUtil from '../levelGroup/LevelGroupUtil'\r\nimport * as filterUtil from '../filter/TLS_FilterUtil'\r\nimport * as util from './TLS_PageItemUtil'\r\n\r\nexport class TLS_PageItem {\r\n  _id\r\n  get id(){\r\n    if (!this._id){\r\n      this._id = genUtil.newGUID();\r\n    }\r\n    return this._id;\r\n  }\r\n\r\n  Name = 'tên setting'\r\n\r\n  get Index (){\r\n    return this.Dict.PageItems.indexOf(this);\r\n  }\r\n\r\n  Delete = () => {\r\n    this.Dict.PageItems.splice(this.Index, 1);\r\n  }\r\n\r\n  get FieldFilterStorageList() {\r\n    return this.Dict.FieldFilterStorageList;\r\n  }\r\n\r\n  // Setting\r\n  get Setting() {\r\n    return this.Dict.Setting;\r\n  }\r\n\r\n  // Level Groups\r\n  get LevelStorageList() {\r\n    return this.Dict.LevelStorageList;\r\n  }\r\n\r\n  levelGroups\r\n  get LevelGroups(){\r\n    if (!this.levelGroups){\r\n      this.levelGroups = util.GetLevelGroups(this);\r\n    }\r\n    return this.levelGroups;\r\n  } set LevelGroups(v){\r\n    this.levelGroups = v;\r\n  }\r\n\r\n  AddLevelGroup = () => {\r\n    var item = levelGroupUtil.GetDefault(this);\r\n    this.LevelGroups.push(item);\r\n    return item;\r\n  }\r\n\r\n  // Filter\r\n  filters\r\n  get Filters(){\r\n    if (!this.filters){\r\n      this.filters = util.GetFilters(this);\r\n    }\r\n    return this.filters;\r\n  } set Filters(v){\r\n    this.filters = v;\r\n  }\r\n\r\n  AddFilter = () => {\r\n    var item = filterUtil.GetDefault(this);\r\n    this.Filters.push(item);\r\n    return item;\r\n  }\r\n\r\n  get FilterDescription() {\r\n    var obj = this.Filters.reduce((a,b,i,arr) => {\r\n      if (arr.indexOf(b) !== 0){\r\n        a += '; ';\r\n      }\r\n      a += b.Description;\r\n      return a;\r\n    }, '')\r\n    return obj;\r\n  }\r\n\r\n  get ApiData() {\r\n    var obj = {\r\n      name: this.Name,\r\n      levelGroups : this.LevelGroups.map(x => x.ApiData).filter(x => x.levels.length !== 0),\r\n      filters : this.Filters.map(x => x.ApiData)\r\n    }\r\n    return obj;\r\n  }\r\n}","import { TLS_PageItem } from \"./TLS_PageItem\"\r\nimport * as levelGroupUtil from '../levelGroup/LevelGroupUtil'\r\nimport * as filterUtil from '../filter/TLS_FilterUtil'\r\n\r\n// Instance\r\nexport const get = (data, dict) => {\r\n  var qI = new TLS_PageItem();\r\n  qI.Name = data.name;\r\n  qI.Filters = data.filters.map(x => filterUtil.get(x, qI));\r\n  qI.LevelGroups = data.levelGroups ? data.levelGroups.map(x => levelGroupUtil.get(x, qI))\r\n     : data.levels.map(x => levelGroupUtil.get(x, qI))\r\n  qI.Dict = dict;\r\n  return qI;\r\n}\r\n\r\nexport const GetDefault = (dict) => {\r\n  var qI = new TLS_PageItem();\r\n  qI.Name = 'setting 1';\r\n  qI.Dict = dict;\r\n  return qI;\r\n}\r\n\r\n// Property\r\nexport const GetLevelGroups = (q) => {\r\n  return [ levelGroupUtil.GetDefault(q) ]\r\n}\r\n\r\nexport const GetFilters = (q) => {\r\n  return [ filterUtil.GetDefault(q) ]\r\n}","import Setting from \"../base/Setting\";\r\nimport * as util from './TypicalLevelSettingDataUtil'\r\nimport { reaction } from \"mobx\";\r\nimport { PMData } from \"../../../single/model/PMData\";\r\nimport * as pageItemUtil from './pageItem/TLS_PageItemUtil'\r\n\r\nexport const pmData = () => {\r\n  return PMData.Instance;\r\n}\r\n\r\nexport class TypicalLevelSettingData {\r\n  // Setting\r\n  get Setting() {\r\n    return this.Dict;\r\n  }\r\n\r\n  get LevelStorageList() {\r\n    return this.Dict.LevelStorageList;\r\n  }\r\n  \r\n  // Page Item\r\n  pageItems\r\n  get PageItems(){\r\n    if (!this.pageItems){\r\n      this.pageItems = util.GetPageItems(this);\r\n    }\r\n    return this.pageItems;\r\n  } set PageItems(v){\r\n    this.pageItems = v;\r\n  }\r\n\r\n  get FieldFilterStorageList() {\r\n    return this.Dict.FieldFilterStorageList;\r\n  }\r\n\r\n  AddPageItem = () => {\r\n    var item = pageItemUtil.GetDefault(this);\r\n    this.PageItems.push(item);\r\n    item.Name = `setting ${item.Index +1}`\r\n    return item;\r\n  }\r\n\r\n  get ApiData() {\r\n    return {\r\n      pageItems : this.PageItems.map(x => x.ApiData)\r\n    }\r\n  }\r\n}","import { PMData } from '../../../single/model/PMData';\r\nimport { TypicalLevelSettingData } from './TypicalLevelSettingData';\r\nimport * as pageItemUtil from './pageItem/TLS_PageItemUtil'\r\n\r\nexport const pmData = ()  =>{\r\n  return PMData.Instance;\r\n}\r\n\r\nexport const get = (data, dict) => {\r\n  var qI = new TypicalLevelSettingData();\r\n  qI.PageItems = data.pageItems.map(x => pageItemUtil.get(x, qI));\r\n  qI.Dict = dict;\r\n  return qI;\r\n}\r\n\r\nexport const GetTest = (dict) => {\r\n  var qI = new TypicalLevelSettingData();\r\n  qI.Dict = dict;\r\n  return qI;\r\n}\r\n\r\nexport const GetPageItems = (q) => {\r\n  return [ pageItemUtil.GetDefault(q) ]\r\n}","import Setting from \"../base/Setting\";\r\nimport * as util from './TypicalLevelSettingUtil'\r\n\r\nexport class TypicalLevelSetting extends Setting {\r\n  fieldFilterStorageList\r\n  get FieldFilterStorageList(){\r\n    if (!this.fieldFilterStorageList){\r\n      this.fieldFilterStorageList = util.GetFieldFilterStorageList();\r\n    }\r\n    return this.fieldFilterStorageList;\r\n  }\r\n\r\n  Save = () => {\r\n    util.SaveDatabase(this)\r\n  }\r\n\r\n  levelStorageList\r\n  get LevelStorageList(){\r\n    if (!this.levelStorageList){\r\n      this.levelStorageList = util.GetLevelStorageList(this);\r\n    }\r\n    return this.levelStorageList;\r\n  } set LevelStorageList(v){\r\n    this.levelStorageList = v;\r\n    this.GetLevelStorageList = true;\r\n  }\r\n\r\n  OnGetLevelStorageList_Funcs = []\r\n\r\n  set GetLevelStorageList(v){\r\n    this.OnGetLevelStorageList_Funcs.forEach(x => x());\r\n  }\r\n}","import * as api from '../../../../../util/apiUtil'\r\nimport * as dataUtil from './TypicalLevelSettingDataUtil'\r\nimport { PMData } from '../../../single/model/PMData';\r\nimport { TypicalLevelSetting } from './TypicalLevelSetting';\r\nimport * as st from '../base/SettingType'\r\nimport * as fieldUtil from '../../mass/item/MassItemField'\r\nimport { message } from 'antd';\r\n\r\nexport const pmData = () => {\r\n  return PMData.Instance;\r\n}\r\n\r\n// Instance\r\nexport const get = (data, project, phase) => {\r\n  var qI = new TypicalLevelSetting();\r\n\r\n  qI._id = data._id;\r\n  qI.Name = data.name;\r\n  qI.Description = data.description;\r\n  qI.SettingType = data.settingType;\r\n  qI.Data = dataUtil.get(data.data, qI);\r\n  qI.Project = project;\r\n  qI.Phase = phase;\r\n\r\n  return qI;\r\n}\r\n\r\nexport const GetTest = (project) => {\r\n  var qI = new TypicalLevelSetting();\r\n\r\n  qI.Name = 'thiết lập ...';\r\n  qI.Description = 'Mô tả thiết lập ...';\r\n  qI.SettingType = st.typicallevel\r\n  qI.Data = dataUtil.GetTest(qI);\r\n  qI.Project = project;\r\n\r\n  return qI;\r\n}\r\n\r\nexport const GetFromDb_Async = (project, phase, handle) => {\r\n  var apiData = {\r\n    projectId : project._id,\r\n    phaseId : phase?._id\r\n  }\r\n\r\n  var prefix = 'tl';\r\n  var url = `https://api.bimdev.vn/api/hbs/${prefix}`;\r\n\r\n  const apiFunc = () => api.post(`${url}/get`, apiData)\r\n  \r\n  apiFunc().then(response => response.data)\r\n    .then(data => {\r\n      var resData = data ? get(data, project, phase) : undefined;\r\n      var editData = resData ? resData : GetTest(project);\r\n      handle(resData, editData);\r\n    })\r\n}\r\n\r\n// Property\r\nexport const GetFieldFilterStorageList = () => {\r\n  return fieldUtil.GetListForTypicalLevelFilter();\r\n}\r\n\r\n// Method\r\nexport const SaveDatabase = (q) => {\r\n  var _id = q._id;\r\n  var apiData = q.ApiData;\r\n\r\n  var prefix = 'tl';\r\n  var url = `https://api.bimdev.vn/api/hbs/${prefix}`;\r\n\r\n  var isNew = _id ? true : false\r\n  const apiFunc = () => isNew ?\r\n     api.put(`${url}/edit`, apiData) : api.post(`${url}/add`, apiData);\r\n  \r\n  apiFunc().then(response => response.data)\r\n    .then(data => {\r\n      if (isNew) q._id = data._id\r\n      message.success('add setting successfully!');\r\n    })\r\n}\r\n\r\nexport const GetLevelStorageList = (q) => {\r\n  var level_Dict = q.Project.Level_Dict;\r\n\r\n  const getLevelsFunc = (items) => { \r\n    return items.map(x => x.Name);\r\n  }\r\n\r\n  if (level_Dict.Items){\r\n    return getLevelsFunc();\r\n  } else{\r\n    level_Dict.OnGetItemsDone_Funcs.push(() => {\r\n      q.LevelStorageList = getLevelsFunc(level_Dict.Items);\r\n    });\r\n  }\r\n}\r\n","import RebarMass_Dict from '../mass/rebar/RebarMass_Dict';\r\nimport * as phaseDictUtil from '../phase/Phase_DictUtil'\r\nimport * as util from './ProjectUtil'\r\nimport * as typicalLevelUtil from '../setting/typicallevel/TypicalLevelSettingUtil'\r\n\r\nexport default class Project {\r\n  phase_Dict\r\n  get Phase_Dict() {\r\n    if (!this.phase_Dict) {\r\n      this.phase_Dict = phaseDictUtil.get(this);\r\n    }\r\n    return this.phase_Dict;\r\n  }\r\n\r\n  rebarMass_Dict\r\n  get RebarMass_Dict() {\r\n    if (!this.rebarMass_Dict) {\r\n      this.rebarMass_Dict = util.GetRebarMass_Dict(this);\r\n    }\r\n    return this.rebarMass_Dict;\r\n  }\r\n\r\n  inputExportSet\r\n  get InputExportSet() {\r\n    if (!this.inputExportSet) {\r\n      util.GetInputExportSet_Async(this);\r\n    }\r\n    return this.inputExportSet;\r\n  }\r\n  set InputExportSet(v) {\r\n    this.inputExportSet = v;\r\n    this.GetInputExportSetDone = true;\r\n  }\r\n\r\n  OnGetInputExportSetDone_Funcs = []\r\n\r\n  getInputExportSetDone\r\n  get GetInputExportSetDone() {\r\n    return this.getInputExportSetDone;\r\n  }\r\n  set GetInputExportSetDone(v) {\r\n    this.getInputExportSetDone = v;\r\n    this.OnGetInputExportSetDone_Funcs.forEach(x => x());\r\n  }\r\n\r\n  level_Dict\r\n  get Level_Dict() {\r\n    if (!this.level_Dict) {\r\n      this.level_Dict = util.GetLevel_Dict(this);\r\n    }\r\n    return this.level_Dict;\r\n  }\r\n\r\n  OnGetTypicalLevelSetting_Funcs = []\r\n\r\n  set GetTypicalLevelSetting(v) {\r\n    this.OnGetTypicalLevelSetting_Funcs.forEach(x => x());\r\n  }\r\n\r\n  IsOnGetDb_Async\r\n\r\n  typicalLevelSetting\r\n  get TypicalLevelSetting() {\r\n    if (!this.typicalLevelSetting) {\r\n      if (!this.IsOnGetDb_Async) {\r\n        this.IsOnGetDb_Async = true;\r\n        typicalLevelUtil.GetFromDb_Async(this, null, (resData, editData) => {\r\n          this.TypicalLevelSetting = resData;\r\n          this.TypicalLevelSetting_ForEdit = editData;\r\n          this.GetTypicalLevelSetting = true\r\n        })\r\n      }\r\n    }\r\n    return this.typicalLevelSetting;\r\n  }\r\n  set TypicalLevelSetting(v) {\r\n    this.typicalLevelSetting = v;\r\n  }\r\n\r\n  typicalLevelSetting_ForEdit\r\n  get TypicalLevelSetting_ForEdit() {\r\n    if (!this.typicalLevelSetting_ForEdit) {\r\n      this.typicalLevelSetting_ForEdit = this.TypicalLevelSetting;\r\n    }\r\n    return this.typicalLevelSetting_ForEdit;\r\n  } set TypicalLevelSetting_ForEdit(v) {\r\n    this.typicalLevelSetting_ForEdit = v;\r\n  }\r\n\r\n  url\r\n  get Url() {\r\n    if (!this.url) {\r\n      var isHash = true;\r\n      var obj = `${process.env.PUBLIC_URL}${isHash ? '/#' : ''}/project`;\r\n      obj = `${obj}/${this._id}`;\r\n\r\n      this.url = obj;\r\n    }\r\n    return this.url;\r\n  }\r\n}","import * as util from './ExportSetUtil'\r\n\r\nexport class ExportSet {\r\n  currentVersion\r\n  get CurrentVersion(){\r\n    if (!this.currentVersion){\r\n      util.GetCurrentVersion_Async(this);\r\n    }\r\n    return this.currentVersion;\r\n  }\r\n  set CurrentVersion(v){\r\n    this.currentVersion = v;\r\n    this.GetCurrentVersionDone = v;\r\n  }\r\n\r\n  OnGetCurrentVersionDone_Func =[]\r\n\r\n  set GetCurrentVersionDone(v){\r\n    this.OnGetCurrentVersionDone_Func.forEach(x => x());\r\n  }\r\n\r\n  AddVersion = () => {\r\n    util.AddVersion_Async(this);\r\n  }\r\n}","export class ExportSetVersion {\r\n  \r\n}","import * as api from  '../../../../util/apiUtil'\r\nimport { ExportSetVersion } from \"./ExportSetVersion\";\r\n\r\nexport const get = (data) => {\r\n  var qI = new ExportSetVersion();\r\n  qI._id = data._id;\r\n  return qI;\r\n}\r\n\r\nexport const getLastestByExportSet = (exportSetId, handle) => {\r\n  if (!exportSetId) return;\r\n  var url = `https://api.bimdev.vn/api/hbesv/last?exportSetId=${exportSetId}`;\r\n  api.get(url).then(response => response.data)\r\n    .then(data => {\r\n      var item = data ? get(data) : data;\r\n      handle(item);\r\n    });\r\n}\r\n\r\nexport const add = (apiData, handle) => {\r\n  var url = `https://api.bimdev.vn/api/hbesv/add`;\r\n  api.post(url, apiData).then(response => response.data)\r\n    .then(data => {\r\n      var item = get(data);\r\n      handle(item);\r\n    });\r\n}","import { ExportSet } from \"./ExportSet\"\r\nimport * as api from  '../../../../util/apiUtil'\r\nimport * as versionUtil from './ExportSetVersionUtil'\r\n\r\nexport const get = (data) => {\r\n  var qI = new ExportSet();\r\n  qI._id = data._id;\r\n  qI.Name = data.name;\r\n  qI.Description = data.description;\r\n  qI.RetrieveFrom = data.retrieveFrom;\r\n  return qI;\r\n}\r\n\r\nexport const GetCurrentVersion_Async = (q) => {\r\n  var exportSetId = q._id;\r\n\r\n  versionUtil.getLastestByExportSet(exportSetId, (item) => {\r\n    if (!item) {\r\n      AddVersion_Async(q);\r\n    } else {\r\n      q.CurrentVersion = item;\r\n    }\r\n  })\r\n}\r\n\r\nexport const AddVersion_Async = (q) => {\r\n  var exportSetId = q._id;\r\n\r\n  var apiData = {\r\n    exportSetId\r\n  }\r\n\r\n  versionUtil.add(apiData, (addItem) => {\r\n    q.CurrentVersion = addItem;\r\n  })\r\n}\r\n\r\nexport const getByProject = (projectId, handle) => {\r\n  if (!projectId) return;\r\n  var url = `https://api.bimdev.vn/api/hbes/input?projectId=${projectId}`;\r\n  api.get(url).then(response => response.data)\r\n    .then(data => {\r\n      var item = data ? get(data) : data;\r\n      handle(item);\r\n    });\r\n}\r\n\r\nexport const add = (apiData, handle) => {\r\n  var url = `https://api.bimdev.vn/api/hbes/add`;\r\n  api.post(url, apiData).then(response => response.data)\r\n    .then(data => {\r\n      var item = get(data);\r\n      handle(item);\r\n    });\r\n}","export class Level_Dict {\r\n  Items\r\n\r\n  OnGetItemsDone_Funcs = []\r\n\r\n  set GetItemsDone (v){\r\n    this.OnGetItemsDone_Funcs.forEach(x => x());\r\n  }\r\n}","export class Level\r\n{\r\n  Name\r\n  Elevation\r\n}","import * as api from '../../../../util/apiUtil'\r\nimport { Level } from \"./Level\"\r\n\r\nexport const get = (data, dict) => {\r\n  var qI = new Level();\r\n  qI.Name = data.name;\r\n  qI.Elevation = data.elevation;\r\n  qI.Dict = dict;\r\n  return qI;\r\n}\r\n\r\nexport const getAll = (apiData, dict, handle) => {\r\n  var url = \"https://api.bimdev.vn/api/hbl/list\";\r\n  api.post(url, apiData).then(response => response.data)\r\n    .then(data => {\r\n      if (!data) data = []\r\n      var items = data.map(x => get(x, dict))\r\n      if (handle) {\r\n        handle(items);\r\n      }\r\n    });\r\n}","import * as api from '../../../../util/apiUtil'\r\nimport Project from './Project';\r\nimport * as rebarMassDictUtil from '../mass/rebar/RebarMass_DictUtil'\r\nimport * as exportSetUtil from '../exportset/ExportSetUtil'\r\nimport * as vrf from '../value/ValueRetrieveFrom'\r\nimport * as levelDictUtil from '../level/Level_DictUtil'\r\nimport * as levelTypicalUtil from '../setting/typicallevel/TypicalLevelSettingUtil'\r\n\r\n// Instance\r\nexport const get = (q, dict) => {\r\n  if (!q) return undefined;\r\n\r\n  var qI = new Project();\r\n\r\n  qI._id = q._id;\r\n  qI.Name = q.name;\r\n  qI.Code = q.code;\r\n  qI.Dict = dict;\r\n\r\n  return qI;\r\n}\r\n\r\nexport const getAll = (dict, handle) => {\r\n  var url = \"https://api.bimdev.vn/api/hbp/list\";\r\n  api.get(url).then(response => response.data)\r\n    .then(data => {\r\n      var items = data.map(x => get(x, dict))\r\n      if (handle) {\r\n        handle(items);\r\n      }\r\n    });\r\n}\r\n\r\nexport const getById = (_id, handle) => {\r\n  if (!_id) return undefined;\r\n  var url = `https://api.bimdev.vn/api/hbp/get?id=${_id}`;\r\n  api.get(url).then(response => response.data)\r\n    .then(data => {\r\n      var item = get(data);\r\n      if (handle) {\r\n        handle(item);\r\n      }\r\n    });\r\n}\r\n\r\n// Property\r\nexport const GetRebarMass_Dict = (q) => {\r\n  return rebarMassDictUtil.get(q);\r\n}\r\n\r\nexport const GetInputExportSet_Async = (q) => {\r\n  var projectId = q._id;\r\n\r\n  exportSetUtil.getByProject(projectId, (item) => {\r\n    if (!item) {\r\n      var apiData = {\r\n        projectId,\r\n        name: 'Dữ liệu khối lượng input',\r\n        description: 'mô tả dữ liệu',\r\n        retrieveFrom: vrf.input\r\n      }\r\n      exportSetUtil.add(apiData, (addItem) => {\r\n        q.InputExportSet = addItem;\r\n      })\r\n    } else {\r\n      q.InputExportSet = item;\r\n    }\r\n  })\r\n}\r\n\r\nexport const GetLevel_Dict = (q) => {\r\n  return levelDictUtil.get(q)\r\n}\r\n\r\nexport const GetTypicalLevelSetting = (q) => {\r\n  return levelTypicalUtil.GetTest(q);\r\n}","export const model = \"model\";\r\nexport const input = \"input\";","import { Level_Dict } from \"./Level_Dict\"\r\nimport * as itemUtil from './LevelUtil'\r\n\r\nexport const get = (project) => {\r\n  var qI = new Level_Dict();\r\n  qI.Project = project;\r\n\r\n  itemUtil.getAll({ projectId : project._id }, qI, (items) => {\r\n    qI.Items = items.sort((a,b) => a.Elevation - b.Elevation);\r\n    qI.GetItemsDone = true;\r\n  })\r\n\r\n  return qI;\r\n}","import * as itemUtil from './ProjectUtil'\r\n\r\nexport class Project_Dict {\r\n  constructor(){\r\n    itemUtil.getAll(this, (items) => {\r\n      this.Items = items;\r\n      this.GetItemsDone = true;\r\n    })\r\n  }\r\n\r\n  Items\r\n\r\n  set GetItemsDone (v){\r\n    if (this.OnGetItemsDone){\r\n      this.OnGetItemsDone(v);\r\n    }\r\n  }\r\n}","import Setting from \"../base/Setting\";\r\n\r\nexport default class ElementFilterSetting extends Setting {\r\n  \r\n}","import Setting from \"../base/Setting\";\r\nimport * as util from './ElementFilterSettingDataUtil'\r\n\r\nexport default class ElementFilterSettingData {\r\n  CategoryFilter\r\n\r\n  IsHaveFamilyFilter\r\n\r\n  FamilyFilter\r\n\r\n  get ApiData() {\r\n    return util.GetApiData(this);\r\n  }\r\n}","import { EntFilter } from '../../filter/EntFilter';\r\nimport * as filterUtil from '../../filter/EntFilterUtil'\r\nimport ElementFilterSettingData from './ElementFilterSettingData';\r\nimport * as fvt from '../../filter/FilterValueType'\r\nimport * as sft from '../../filter/StringFilterType'\r\nimport * as fct from '../../filter/FilterCategoryType'\r\n\r\nexport const get = (q) => {\r\n  var qI = new ElementFilterSettingData();\r\n  qI.CategoryFilter = filterUtil.get(q.categoryFilter);\r\n  return qI;\r\n}\r\n\r\nexport const getDefault = () => {\r\n  var qI = new ElementFilterSettingData();\r\n\r\n  var cateFilter = new EntFilter();\r\n  cateFilter.CategoryType = fct.category;\r\n  cateFilter.ValueType = fvt.bystring;\r\n  cateFilter.StringFilterType = sft.byequal;\r\n  cateFilter.Values = ['Floors'];\r\n  qI.CategoryFilter = cateFilter;\r\n\r\n  qI.IsHaveFamilyFilter = false;\r\n\r\n  var familyFilter = new EntFilter();\r\n  familyFilter.CategoryType = fct.family;\r\n  familyFilter.ValueType = fvt.bystring;\r\n  familyFilter.StringFilterType = sft.byequal;\r\n  familyFilter.Values = [];\r\n  qI.FamilyFilter = familyFilter;\r\n\r\n  return qI;\r\n}\r\n\r\nexport const GetApiData = (q) => {\r\n  return {\r\n    categoryFilter : q.CategoryFilter.ApiData,\r\n    familyFilter : q.IsHaveFamilyFilter ? \r\n      q.FamilyFilter.ApiData : undefined\r\n  }\r\n}","import * as api from '../../../../../util/apiUtil'\r\nimport ElementFilterSetting from \"./ElementFilterSetting\"\r\nimport * as dataUtil from './ElementFilterSettingDataUtil'\r\n\r\nexport const get = (q, dict) => {\r\n  var qI = new ElementFilterSetting();\r\n\r\n  qI._id = q._id;\r\n  qI.Name = q.name;\r\n  qI.Description = q.description;\r\n  qI.SettingType = q.settingType;\r\n  qI.Data = dataUtil.get(q.data);\r\n  qI.Dict = dict;\r\n\r\n  return qI;\r\n}\r\n\r\nexport const getAll = (dict, handle) => {\r\n  var url = \"https://api.bimdev.vn/api/hbs/ef/list\";\r\n  api.get(url).then(response => response.data)\r\n    .then(data => {\r\n      var items = data.map(x => get(x, dict))\r\n      if (handle) {\r\n        handle(items);\r\n      }\r\n    });\r\n}","import * as api from '../../../../../util/apiUtil'\r\nimport * as util from './SettingInputUtil'\r\n\r\nexport default class SettingInput {\r\n  Name\r\n  Description\r\n  SettingType\r\n\r\n  data\r\n  get Data() {\r\n    if (!this.data) {\r\n      this.data = this.GetData();\r\n    }\r\n    return this.data;\r\n  }\r\n  set Data(v) {\r\n    this.data = v;\r\n  }\r\n\r\n  GetData = () => {\r\n    if (this.OnGetData) {\r\n      return this.OnGetData();\r\n    }\r\n    return undefined;\r\n  }\r\n\r\n  editItem\r\n  get EditItem(){\r\n    return this.editItem;\r\n  }\r\n  set EditItem(v){\r\n    this.editItem = v;\r\n    if (!v){\r\n      this.EditItemId = undefined;\r\n    }\r\n    else{\r\n      this.EditItemId = v._id;\r\n    }\r\n  }\r\n\r\n\r\n  EditItemId\r\n\r\n  isNew = true;\r\n  get IsNew(){\r\n    return this.isNew;\r\n  }\r\n  set IsNew(v){\r\n    this.isNew = v;\r\n    if (v){\r\n      this.EditItem = undefined;\r\n    }\r\n  }\r\n\r\n  urlPrefix\r\n  get UrlPrefix() {\r\n    if (!this.urlPrefix){\r\n      this.urlPrefix = util.GetUrlPrefix(this);\r\n    }\r\n    return this.urlPrefix;\r\n  }\r\n\r\n  AddDatabase = () => {\r\n    var _id = this.EditItemId;\r\n    var name = this.Name;\r\n    var description = this.Description;\r\n    var settingType = this.SettingType;\r\n    var data = this.Data.ApiData;\r\n    var prefix = this.UrlPrefix;\r\n\r\n    var apiData = {\r\n      _id, name, description, settingType, data\r\n    }\r\n    var url = `https://api.bimdev.vn/api/hbs/${prefix}`;\r\n\r\n    const apiFunc = () => _id ?\r\n      api.put(`${url}/edit`, apiData) : api.post(`${url}/add`, apiData);\r\n    \r\n    apiFunc().then(response => response.data)\r\n      .then(data => {\r\n        this.AddDatabaseDone = true;\r\n        this.NewItem = this.GetEditItem(data, this.Dict);\r\n        this.Dict.Update();\r\n      })\r\n  }\r\n\r\n  set AddDatabaseDone(v) {\r\n    if (this.OnAddDatabaseDone){\r\n      this.OnAddDatabaseDone(v);\r\n    }\r\n  }\r\n}","import * as st from './SettingType'\r\n\r\nexport const GetUrlPrefix = (q) => {\r\n  var prefix = undefined\r\n  switch (q.SettingType) {\r\n    case st.elementfilter:\r\n      prefix = 'ef';\r\n      break;\r\n    case st.massexport:\r\n      prefix = 'me';\r\n      break;\r\n    case st.massgroup:\r\n      prefix = 'mg';\r\n      break;\r\n  }\r\n  return prefix;\r\n}","import Setting from \"../base/Setting\";\r\nimport SettingInput from \"../base/SettingInput\";\r\nimport * as elementFilterSettingUtil from './ElementFilterSettingUtil'\r\n\r\nexport default class ElementFilterSettingInput extends SettingInput {\r\n  GetEditItem = (data, dict) => {\r\n    return elementFilterSettingUtil.get(data, dict);\r\n  }\r\n}","import ElementFilterSettingInput from \"./ElementFilterSettingInput\";\r\nimport * as dataUtil from './ElementFilterSettingDataUtil'\r\nimport * as st from '../base/SettingType'\r\n\r\nexport const get = (dict) => {\r\n  var qI = new ElementFilterSettingInput();\r\n  qI.Dict = dict;\r\n  qI.Name = 'Bộ lọc cột';\r\n  qI.Description = 'mô tả bộ lọc';\r\n  qI.SettingType = st.elementfilter;\r\n\r\n  qI.OnGetData = () => {\r\n    return dataUtil.getDefault();\r\n  }\r\n\r\n  return qI;\r\n}","import * as itemUtil from './ElementFilterSettingUtil'\r\nimport * as inputUtil from './ElementFilterSettingInputUtil'\r\nimport * as genUtil from '../../../../../util/generalUtil'\r\n\r\nexport class ElementFilterSetting_Dict {\r\n  constructor(){\r\n    itemUtil.getAll(this, (items) => {\r\n      this.Items = items;\r\n      this.GetItemsDone = true;\r\n    })\r\n  }\r\n\r\n  Items\r\n\r\n  set GetItemsDone (v){\r\n    if (this.OnGetItemsDone){\r\n      this.OnGetItemsDone(v);\r\n    }\r\n  }\r\n\r\n  CurrentItem\r\n\r\n  input\r\n  get Input(){\r\n    if (!this.input){\r\n      this.input = this.GetInput();\r\n    }\r\n    return this.input;\r\n  }\r\n\r\n  GetInput(){\r\n    return inputUtil.get(this);\r\n  }\r\n\r\n  Add = (item) => {\r\n    this.Items.push(item);\r\n    if (this.OnAdd){\r\n      this.OnAdd(item);\r\n    }\r\n  }\r\n\r\n  Update = () => {\r\n    var input = this.Input;\r\n\r\n    if (!input.IsNew){\r\n      var item = input.EditItem;\r\n      var action = () => {\r\n        item.Name = input.Name;\r\n        item.Description = input.Description;\r\n        item.Data = input.Data;\r\n      }\r\n      genUtil.UpdateFromModel(item, action);\r\n    }\r\n    else{\r\n      this.Add(input.NewItem);\r\n    }\r\n  }\r\n}","import Setting from \"../base/Setting\";\r\nimport * as util from './MassExportSettingDataUtil'\r\nimport * as valueSettingUtil from './exportSetting/MES_ValueSettingUtil'\r\nimport { reaction } from \"mobx\";\r\n\r\nexport default class MassExportSettingData {\r\n  elementFilterId\r\n\r\n  elementFilter\r\n  get ElementFilter(){\r\n    if (!this.elementFilter){\r\n      this.elementFilter = util.GetElementFilter(this);\r\n    }\r\n    return this.elementFilter;\r\n  }\r\n  set ElementFilter(v) {\r\n    this.elementFilter = v;\r\n    if (!v){\r\n      this.elementFilterId = undefined;\r\n    }\r\n    else{\r\n      this.elementFilterId = v._id;\r\n    }\r\n  }\r\n\r\n  valueSettings\r\n  get ValueSettings(){\r\n    if (!this.valueSettings){\r\n      this.valueSettings = util.GetDefaultValueSettings(this);\r\n    }\r\n    return this.valueSettings;\r\n  }\r\n  set ValueSettings(v){\r\n    this.valueSettings = v;\r\n  }\r\n\r\n  AddNewValueSetting = () => {\r\n    var modelList = this.ValueSettings;\r\n    var item = valueSettingUtil.GetDefault(this);\r\n    modelList.push(item);\r\n\r\n    return item;\r\n  }\r\n\r\n  get ApiData() {\r\n    return util.GetApiData(this);\r\n  }\r\n}","import { PMData } from '../../../single/model/PMData';\r\nimport MassExportSettingData from './MassExportSettingData';\r\nimport * as valueSettingUtil from './exportSetting/MES_ValueSettingUtil'\r\n\r\nexport const pmData = ()  =>{\r\n  return PMData.Instance;\r\n}\r\n\r\nexport const get = (q) => {\r\n  var qI = new MassExportSettingData();\r\n  qI.elementFilterId = q.elementFilterId;\r\n  qI.ValueSettings = q.exportSettings.map(x => valueSettingUtil.get(x, qI));\r\n  return qI;\r\n}\r\n\r\nexport const GetDefault = () => {\r\n  var qI = new MassExportSettingData();\r\n  return qI;\r\n}\r\n\r\nexport const GetElementFilter = (q) => {\r\n  var elemFilterId = q.elementFilterId;\r\n  if (!elemFilterId) return undefined;\r\n\r\n  var list = pmData().ElementFilterSetting_Dict.Items;\r\n  if (!list) return undefined;\r\n\r\n  var index = list.findIndex(x => x._id === elemFilterId);\r\n  return index !== -1 ? list[index] : undefined;\r\n}\r\n\r\nexport const GetDefaultValueSettings = (q) => {\r\n  return [ valueSettingUtil.GetDefault(q) ]\r\n}\r\n\r\nexport const GetApiData = (q) => {\r\n  return {\r\n    elementFilterId : q.elementFilterId,\r\n    exportSettings : q.ValueSettings.map(x => x.ApiData)\r\n  }\r\n}","import Setting from \"../base/Setting\";\r\n\r\nexport default class MassExportSetting extends Setting {\r\n  \r\n}","import * as api from '../../../../../util/apiUtil'\r\nimport * as dataUtil from './MassExportSettingDataUtil'\r\nimport MassExportSetting from './MassExportSetting';\r\n\r\nexport const get = (q, dict) => {\r\n  var qI = new MassExportSetting();\r\n\r\n  qI._id = q._id;\r\n  qI.Name = q.name;\r\n  qI.Description = q.description;\r\n  qI.SettingType = q.settingType;\r\n  qI.Data = dataUtil.get(q.data);\r\n  qI.Dict = dict;\r\n\r\n  return qI;\r\n}\r\n\r\nexport const getAll = (dict, handle) => {\r\n  var url = \"https://api.bimdev.vn/api/hbs/me/list\";\r\n  api.get(url).then(response => response.data)\r\n    .then(data => {\r\n      var items = data.map(x => get(x, dict))\r\n      if (handle) {\r\n        handle(items);\r\n      }\r\n    });\r\n}","import Setting from \"../base/Setting\";\r\nimport SettingInput from \"../base/SettingInput\";\r\nimport * as massExportSettingUtil from './MassExportSettingUtil'\r\n\r\nexport default class MassExportSettingInput extends SettingInput {\r\n  GetEditItem = (data, dict) => {\r\n    return massExportSettingUtil.get(data, dict);\r\n  }\r\n}","import * as dataUtil from './MassExportSettingDataUtil'\r\nimport MassExportSettingInput from \"./MassExportSettingInput\";\r\nimport * as st from '../base/SettingType'\r\n\r\nexport const get = (dict) => {\r\n  var qI = new MassExportSettingInput();\r\n  qI.Dict = dict;\r\n  qI.Name = 'Bêtông sàn';\r\n  qI.Description = 'mô tả thiết lập';\r\n  qI.SettingType = st.massexport;\r\n\r\n  qI.OnGetData = () => {\r\n    return dataUtil.GetDefault();\r\n  }\r\n\r\n  return qI;\r\n}","import * as itemUtil from './MassExportSettingUtil'\r\nimport * as inputUtil from './MassExportSettingInputUtil'\r\nimport * as genUtil from '../../../../../util/generalUtil'\r\n\r\nexport class MassExportSetting_Dict {\r\n  constructor(){\r\n    itemUtil.getAll(this, (items) => {\r\n      this.Items = items;\r\n      this.GetItemsDone = true;\r\n    })\r\n  }\r\n\r\n  Items\r\n\r\n  set GetItemsDone (v){\r\n    if (this.OnGetItemsDone){\r\n      this.OnGetItemsDone(v);\r\n    }\r\n  }\r\n\r\n  CurrentItem\r\n\r\n  input\r\n  get Input(){\r\n    if (!this.input){\r\n      this.input = this.GetInput();\r\n    }\r\n    return this.input;\r\n  }\r\n\r\n  GetInput(){\r\n    return inputUtil.get(this);\r\n  }\r\n\r\n  Add = (item) => {\r\n    this.Items.push(item);\r\n    if (this.OnAdd){\r\n      this.OnAdd(item);\r\n    }\r\n  }\r\n\r\n  Update = () => {\r\n    var input = this.Input;\r\n\r\n    if (!input.IsNew){\r\n      var item = input.EditItem;\r\n      var action = () => {\r\n        item.Name = input.Name;\r\n        item.Description = input.Description;\r\n        item.Data = input.Data;\r\n      }\r\n      genUtil.UpdateFromModel(item, action);\r\n    }\r\n    else{\r\n      this.Add(input.NewItem);\r\n    }\r\n  }\r\n}","import * as itemUtil from './MassGroupSettingUtil'\r\nimport * as genUtil from '../../../../../util/generalUtil'\r\n\r\nexport class MassGroupSetting_Dict {\r\n  constructor(){\r\n    itemUtil.getAll(this, (items) => {\r\n      this.Items = items;\r\n      this.GetItemsDone = true;\r\n    })\r\n  }\r\n\r\n  Items\r\n\r\n  OnGetItemsDone_Funcs = []\r\n\r\n  set GetItemsDone (v){\r\n    this.OnGetItemsDone_Funcs.forEach(x => x());\r\n  }\r\n\r\n  CurrentItem\r\n\r\n  Add = (item) => {\r\n    this.Items.push(item);\r\n    if (this.OnAdd){\r\n      this.OnAdd(item);\r\n    }\r\n  }\r\n}","\r\nexport default class VCS_Item{\r\n  Color\r\n  Filter\r\n}","import * as util from './VersionCompareSettingUtil'\r\n\r\nexport default class VersionCompareSetting{\r\n  items\r\n  get Items(){\r\n    if (!this.items){\r\n      this.items = util.GetItems();\r\n    }\r\n    return this.items;\r\n  }\r\n}","import { EntFilter } from '../../filter/EntFilter'\r\nimport * as fvt from '../../filter/FilterValueType'\r\nimport * as nft from '../../filter/NumberFilterType'\r\nimport VCS_Item from \"./VCS_Item\";\r\n\r\nexport const GetItems = (q) => {\r\n  var list = [];\r\n\r\n  // < 80\r\n  var item = new VCS_Item();\r\n  item.Color = '#1956c9';\r\n\r\n  var filter = new EntFilter();\r\n  filter.ValueType = fvt.bynumber;\r\n  filter.NumberFilterType = nft.bysmaller;\r\n  filter.Values = [ 0.80 ];\r\n  item.Filter = filter;\r\n\r\n  list.push(item);\r\n\r\n  // 80 -85\r\n  item = new VCS_Item();\r\n  item.Color = '#3f79d6';\r\n\r\n  filter = new EntFilter();\r\n  filter.ValueType = fvt.bynumber;\r\n  filter.NumberFilterType = nft.bybetween;\r\n  filter.IsEqualLeft = true;\r\n  filter.Values = [ 0.80, 0.85 ];\r\n  item.Filter = filter;\r\n\r\n  list.push(item);\r\n\r\n   // 85 -90\r\n   item = new VCS_Item();\r\n   item.Color = '#6f9fe9';\r\n \r\n   filter = new EntFilter();\r\n   filter.ValueType = fvt.bynumber;\r\n   filter.NumberFilterType = nft.bybetween;\r\n   filter.IsEqualLeft = true;\r\n   filter.Values = [ 0.85, 0.90 ];\r\n   item.Filter = filter;\r\n \r\n   list.push(item);\r\n\r\n   // 90 -95\r\n   item = new VCS_Item();\r\n   item.Color = '#a5c2f2';\r\n \r\n   filter = new EntFilter();\r\n   filter.ValueType = fvt.bynumber;\r\n   filter.NumberFilterType = nft.bybetween;\r\n   filter.IsEqualLeft = true;\r\n   filter.Values = [ 0.9, 0.95 ];\r\n   item.Filter = filter;\r\n \r\n   list.push(item);\r\n\r\n   // 95 -100\r\n   item = new VCS_Item();\r\n   item.Color = '#c9d9f6';\r\n \r\n   filter = new EntFilter();\r\n   filter.ValueType = fvt.bynumber;\r\n   filter.NumberFilterType = nft.bybetween;\r\n   filter.IsEqualLeft = true;\r\n   filter.Values = [ 0.95, 1 ];\r\n   item.Filter = filter;\r\n \r\n   list.push(item);\r\n\r\n   // 100 -105\r\n   item = new VCS_Item();\r\n   item.Color = '#f3cccc';\r\n \r\n   filter = new EntFilter();\r\n   filter.ValueType = fvt.bynumber;\r\n   filter.NumberFilterType = nft.bybetween;\r\n   filter.IsEqualRight = true;\r\n   filter.Values = [ 1, 1.05 ];\r\n   item.Filter = filter;\r\n \r\n   list.push(item);\r\n\r\n   // 105 -110\r\n   item = new VCS_Item();\r\n   item.Color = '#e9999a';\r\n \r\n   filter = new EntFilter();\r\n   filter.ValueType = fvt.bynumber;\r\n   filter.NumberFilterType = nft.bybetween;\r\n   filter.IsEqualRight = true;\r\n   filter.Values = [ 1.05, 1.10 ];\r\n   item.Filter = filter;\r\n \r\n   list.push(item);\r\n\r\n    // 110 -115\r\n    item = new VCS_Item();\r\n    item.Color = '#de6568';\r\n  \r\n    filter = new EntFilter();\r\n    filter.ValueType = fvt.bynumber;\r\n    filter.NumberFilterType = nft.bybetween;\r\n    filter.IsEqualRight = true;\r\n    filter.Values = [ 1.10, 1.15 ];\r\n    item.Filter = filter;\r\n  \r\n    list.push(item);\r\n\r\n    // 110 -115\r\n    item = new VCS_Item();\r\n    item.Color = '#c90010';\r\n  \r\n    filter = new EntFilter();\r\n    filter.ValueType = fvt.bynumber;\r\n    filter.NumberFilterType = nft.bybetween;\r\n    filter.IsEqualRight = true;\r\n    filter.Values = [ 1.15, 1.20 ];\r\n    item.Filter = filter;\r\n  \r\n    list.push(item);\r\n\r\n    // 115 -120\r\n    item = new VCS_Item();\r\n    item.Color = '#980009';\r\n  \r\n    filter = new EntFilter();\r\n    filter.ValueType = fvt.bynumber;\r\n    filter.NumberFilterType = nft.bybigger;\r\n    filter.Values = [ 1.20 ];\r\n    item.Filter = filter;\r\n  \r\n    list.push(item);\r\n\r\n    return list;\r\n}","\r\nexport class WorkItemExportSetting_Dict {\r\n  Items\r\n\r\n  OnGetItemsDone_Funcs = []\r\n\r\n  set GetItemsDone (v){\r\n    this.OnGetItemsDone_Funcs.forEach(x => x());\r\n  }\r\n}","import * as api from '../../../../util/apiUtil'\r\nimport * as workpackageUtil from './WorkpackageUtil'\r\n\r\nexport class WorkpackageInput {\r\n  Code\r\n  // = \"300\"\r\n  Name\r\n  // = \"Lắp đặt cốp thép\"\r\n  Description = 'mô tả công tác'\r\n  // = \"Mô tả quá trình lắp cốp thép\"\r\n\r\n  isNew = true;\r\n  get IsNew(){\r\n    return this.isNew;\r\n  }\r\n  set IsNew(v){\r\n    this.isNew = v;\r\n    if (v){\r\n      this.Workpackage = undefined;\r\n    }\r\n  }\r\n\r\n  workpackage\r\n  get Workpackage() {\r\n    return this.workpackage;\r\n  }\r\n  set Workpackage(v){\r\n    this.workpackage = v;\r\n    if (!v){\r\n      this.WorkpackageId = undefined;\r\n    }\r\n    else{\r\n      this.WorkpackageId = v._id;\r\n    }\r\n  }\r\n\r\n  WorkpackageId\r\n\r\n  supItem\r\n  get SupItem(){\r\n    return this.supItem;\r\n  }\r\n  set SupItem(v){\r\n    this.supItem = v;\r\n    if (!v){\r\n      this.SupId = undefined;\r\n    }\r\n    else{\r\n      this.SupId = v._id;\r\n    }\r\n  }\r\n\r\n  SupId\r\n\r\n  set AddDatabaseDone(v) {\r\n    if (this.OnAddDatabaseDone){\r\n      this.OnAddDatabaseDone(v);\r\n    }\r\n  }\r\n\r\n  AddDatabase = () => {\r\n    var _id = this.WorkpackageId;\r\n    var code = this.Code;\r\n    var name = this.Name;\r\n    var description = this.Description;\r\n    var supId = this.SupId;\r\n\r\n    var apiData = {\r\n      _id, name, code, description, supId\r\n    };\r\n\r\n    var url = \"https://api.bimdev.vn/api/hbwp\";\r\n\r\n    const apiFunc =  () =>  _id ? \r\n      api.put(`${url}/edit`, apiData) : api.post(`${url}/add`, apiData);\r\n\r\n    apiFunc().then(response => response.data)\r\n      .then(data => {\r\n        this.AddDatabaseDone = true;\r\n        this.NewWorkpackage = workpackageUtil.get(data, this.Dict);\r\n        this.Dict.Update();\r\n      })\r\n  }\r\n\r\n  UpdateWorkpackage\r\n}","import { WorkpackageInput } from './WorkpackageInput';\r\nimport * as workpackageUtil from './WorkpackageUtil'\r\nimport * as genUtil from '../../../../util/generalUtil'\r\n\r\nexport class Workpackage_Dict {\r\n  constructor() {\r\n    workpackageUtil.getAll(this, (wps) => {\r\n      this.Workpackages = wps;\r\n      this.GetWorkpackagesDone = true;\r\n    });\r\n  }\r\n\r\n  Workpackages\r\n\r\n  set GetWorkpackagesDone(v) {\r\n    if (this.OnGetWorkpackagesDone) {\r\n      this.OnGetWorkpackagesDone(v);\r\n    }\r\n  }\r\n\r\n  CurrentWorkpackage\r\n\r\n  workpackageInput\r\n  get WorkpackageInput() {\r\n    if (!this.workpackageInput){\r\n      var obj = this.workpackageInput = new WorkpackageInput();\r\n      obj.Dict = this;\r\n    }\r\n    return this.workpackageInput;\r\n  }\r\n\r\n  Add = (item) => {\r\n    this.Workpackages.push(item);\r\n    if (this.OnAdd){\r\n      this.OnAdd(item);\r\n    }\r\n  }\r\n\r\n  Update = () => {\r\n    var input = this.WorkpackageInput;\r\n    var wp = input.Workpackage;\r\n\r\n    if (!input.IsNew){\r\n      var action = () => { \r\n        wp.Code = input.Code;\r\n        wp.Name = input.Name;\r\n        wp.Description = input.Description;\r\n        wp.FullName = wp.GetFullName();\r\n      };\r\n      genUtil.UpdateFromModel(wp, action);\r\n    }\r\n    else{\r\n      this.Add(input.NewWorkpackage);\r\n    }\r\n\r\n    this.IsDataChanged = true;\r\n  }\r\n\r\n  IsDataChanged\r\n\r\n  RefreshData = () => {\r\n    this.Workpackages.forEach(x => {\r\n      x.SubItems = undefined;\r\n      x.UpperList = undefined;\r\n      x.LowerList = undefined;\r\n      x.Rank = undefined\r\n    })\r\n\r\n    this.IsDataChanged = false;\r\n  }\r\n}","import * as api from '../../../../util/apiUtil'\r\nimport * as workPackageUtil from '../../entity/workpackage/WorkpackageUtil'\r\nimport * as fvt from '../../entity/filter/FilterValueType'\r\nimport * as sft from '../../entity/filter/StringFilterType'\r\nimport * as vrt from '../../entity/setting/massExport/exportSetting/MES_ValueRetrieveType'\r\nimport * as mpn from '../../entity/mass/MassPropertyName'\r\nimport * as mt from '../../entity/mass/MassType'\r\nimport * as mif from '../../entity/mass/item/MassItemField'\r\n\r\nexport const GetFilterValueTypes = (data) => {\r\n  return fvt.GetAll();\r\n}\r\n\r\nexport const GetStringFilterTypes = (data) => {\r\n  return sft.GetAll();\r\n}\r\n\r\nexport const GetValueRetrieveTypes = (data) => {\r\n  return vrt.GetAll();\r\n}\r\n\r\nexport const GetCategoryNames = (data) => {\r\n  return ['Floors', 'Structural Framing', 'Walls', 'Structural Column']\r\n}\r\n\r\nexport const GetParameterNames = (data) => {\r\n  return ['Volume', 'HB_Formwork_Total']\r\n}\r\n\r\nexport const GetMassPropertyNames = (data) => {\r\n  return mpn.GetAll();\r\n}\r\n\r\nexport const GetMassItemFields = (data) => {\r\n  return mif.GetAll();\r\n}\r\n\r\nexport const GetMassTypes = (data) => {\r\n  return mt.GetAll();\r\n}","import { makeObservable, observable, action } from 'mobx';\r\nimport MassResultComp from '../../entity/mass/result/MassResultComp';\r\nimport { Project_Dict } from '../../entity/project/Project_Dict';\r\nimport { ElementFilterSetting_Dict } from '../../entity/setting/elementFilter/ElementFilterSetting_Dict';\r\nimport { MassExportSetting_Dict } from '../../entity/setting/massExport/MassExportSetting_Dict';\r\nimport { MassGroupSetting_Dict } from '../../entity/setting/massGroup/MassGroupSetting_Dict';\r\nimport VersionCompareSetting from '../../entity/setting/versionCompare/VersionCompareSetting';\r\nimport { WorkItemExportSetting_Dict } from '../../entity/setting/workitemexport/WorkItemExportSetting_Dict';\r\nimport { Workpackage_Dict } from '../../entity/workpackage/Workpackage_Dict';\r\nimport { CategoryData } from './CategoryData';\r\nimport * as util from './PMDataUtil'\r\n\r\nexport class PMData {\r\n  constructor() {\r\n    \r\n  }\r\n\r\n  static instance\r\n  static get Instance(){\r\n    if (!this.instance){\r\n      this.instance = new PMData();\r\n    }\r\n    return this.instance;\r\n  }\r\n\r\n  get categoryData(){\r\n    return CategoryData.Instance;\r\n  }\r\n\r\n  workpackage_Dict\r\n  get Workpackage_Dict() {\r\n    if (!this.workpackage_Dict){\r\n      this.workpackage_Dict = new Workpackage_Dict();\r\n    }\r\n    return this.workpackage_Dict;\r\n  }\r\n\r\n  elementFilterSetting_Dict\r\n  get ElementFilterSetting_Dict() {\r\n    if (!this.elementFilterSetting_Dict){\r\n      this.elementFilterSetting_Dict = new ElementFilterSetting_Dict();\r\n    }\r\n    return this.elementFilterSetting_Dict;\r\n  }\r\n\r\n  massExportSetting_Dict\r\n  get MassExportSetting_Dict() {\r\n    if (!this.massExportSetting_Dict){\r\n      this.massExportSetting_Dict = new MassExportSetting_Dict();\r\n    }\r\n    return this.massExportSetting_Dict;\r\n  }\r\n\r\n  massGroupSetting_Dict\r\n  get MassGroupSetting_Dict() {\r\n    if (!this.massGroupSetting_Dict){\r\n      this.massGroupSetting_Dict = new MassGroupSetting_Dict();\r\n    }\r\n    return this.massGroupSetting_Dict;\r\n  }\r\n\r\n  project_Dict\r\n  get Project_Dict() {\r\n    if (!this.project_Dict){\r\n      this.project_Dict = new Project_Dict();\r\n    }\r\n    return this.project_Dict;\r\n  }\r\n\r\n  massResultComp\r\n  get MassResultComp(){\r\n    if (!this.massResultComp){\r\n      this.massResultComp = new MassResultComp();\r\n    }\r\n    return this.massResultComp;\r\n  }\r\n  set MassResultComp(v){\r\n    this.massResultComp = v;\r\n  }\r\n\r\n  filterValueTypes;\r\n  get FilterValueTypes() {\r\n    if (!this.filterValueTypes){\r\n      this.filterValueTypes = util.GetFilterValueTypes();\r\n    }\r\n    return this.filterValueTypes;\r\n  }\r\n\r\n  stringFilterTypes;\r\n  get StringFilterTypes() {\r\n    if (!this.stringFilterTypes){\r\n      this.stringFilterTypes = util.GetStringFilterTypes();\r\n    }\r\n    return this.stringFilterTypes;\r\n  }\r\n\r\n  valueRetrieveTypes\r\n  get ValueRetrieveTypes() {\r\n    if (!this.valueRetrieveTypes){\r\n      this.valueRetrieveTypes = util.GetValueRetrieveTypes();\r\n    }\r\n    return this.valueRetrieveTypes;\r\n  }\r\n\r\n  categoryNames;\r\n  get CategoryNames() {\r\n    if (!this.categoryNames){\r\n      this.categoryNames = this.categoryData.CategoryNames;\r\n    }\r\n    return this.categoryNames;\r\n  }\r\n\r\n  parameterNames;\r\n  get ParameterNames(){\r\n    if (!this.parameterNames){\r\n      this.parameterNames = util.GetParameterNames();\r\n    }\r\n    return this.parameterNames;\r\n  }\r\n\r\n  massPropertyNames;\r\n  get MassPropertyNames(){\r\n    if (!this.massPropertyNames){\r\n      this.massPropertyNames = util.GetMassPropertyNames();\r\n    }\r\n    return this.massPropertyNames;\r\n  }\r\n\r\n  massItemFields\r\n  get MassItemFields(){\r\n    if (!this.massItemFields){\r\n      this.massItemFields = util.GetMassItemFields();\r\n    }\r\n    return this.massItemFields;\r\n  }\r\n\r\n  massTypes;\r\n  get MassTypes(){\r\n    if (!this.massTypes){\r\n      this.massTypes = util.GetMassTypes();\r\n    }\r\n    return this.massTypes;\r\n  }\r\n\r\n  versionCompareSetting\r\n  get VersionCompareSetting(){\r\n    if (!this.versionCompareSetting){\r\n      this.versionCompareSetting = new VersionCompareSetting();\r\n    }\r\n    return this.versionCompareSetting;\r\n  }\r\n\r\n  workItemExportSetting_Dict\r\n  get WorkItemExportSetting_Dict(){\r\n    if (!this.workItemExportSetting_Dict){\r\n      this.workItemExportSetting_Dict = new WorkItemExportSetting_Dict();\r\n    }\r\n    return this.workItemExportSetting_Dict;\r\n  }\r\n\r\n  DebugPoints = []\r\n}","import { message } from 'antd';\r\nimport * as api from '../../../../util/apiUtil'\r\nimport * as util from './WorkpackageUtil'\r\n\r\nexport class Workpackage {\r\n  get Index() {\r\n    return this.Dict.Workpackages.indexOf(this);\r\n  }\r\n\r\n  _id\r\n\r\n  SupId\r\n\r\n  supItem\r\n  get SupItem(){\r\n    if (!this.supItem){\r\n      this.supItem = util.GetSupItem(this);\r\n    }\r\n    return this.supItem;\r\n  }\r\n\r\n  code\r\n  get Code() {\r\n    return this.code;\r\n  }\r\n  set Code(v) {\r\n    this.code = v;\r\n    if (this.OnCodeChanged) {\r\n      this.OnCodeChanged(v);\r\n    }\r\n  }\r\n\r\n  name\r\n  get Name() {\r\n    return this.name;\r\n  }\r\n  set Name(v) {\r\n    this.name = v;\r\n    if (this.OnNameChanged) {\r\n      this.OnNameChanged(v);\r\n    }\r\n  }\r\n\r\n  description\r\n  get Description() {\r\n    return this.description;\r\n  }\r\n  set Description(v) {\r\n    this.description = v;\r\n    if (this.OnDescriptionChanged) {\r\n      this.OnDescriptionChanged(v);\r\n    }\r\n  }\r\n\r\n  fullName\r\n  get FullName() {\r\n    if (!this.fullName) {\r\n      this.fullName = this.GetFullName();\r\n    }\r\n    return this.fullName;\r\n  }\r\n  set FullName(v) {\r\n    this.fullName = v;\r\n    if (this.OnFullNameChanged) {\r\n      this.OnFullNameChanged(v);\r\n    }\r\n  }\r\n\r\n  subItems\r\n  get SubItems(){\r\n    if (!this.subItems){\r\n      this.subItems = util.GetSubItems(this);\r\n    }\r\n    return this.subItems;\r\n  }\r\n  set SubItems(v){\r\n    this.subItems = v;\r\n  }\r\n\r\n  upperList\r\n  get UpperList(){\r\n    if (!this.upperList){\r\n      this.upperList = util.GetUpperList(this);\r\n    }\r\n    return this.upperList;\r\n  }\r\n  set UpperList(v){\r\n    this.upperList = v;\r\n  }\r\n\r\n  lowerList\r\n  get LowerList(){\r\n    if (!this.lowerList){\r\n      this.lowerList = util.GetLowerList(this);\r\n    }\r\n    return this.lowerList;\r\n  }\r\n  set LowerList(v){\r\n    this.lowerList = v;\r\n  }\r\n\r\n  rank\r\n  get Rank() {\r\n    if (!this.rank){\r\n      this.rank = util.GetRank(this);\r\n    }\r\n    return this.rank;\r\n  }\r\n  set Rank(v){\r\n    this.rank = v;\r\n  }\r\n\r\n  get LowerIds() {\r\n    return this.LowerList.map(x => x._id);\r\n  }\r\n\r\n  GetFullName = () => {\r\n    return `${this.Code} - ${this.Name}`;\r\n  }\r\n\r\n  Delete = () => {\r\n    var { _id } = this;\r\n    var apiData = { _id };\r\n\r\n    var url = \"https://api.bimdev.vn/api/hbwp/delete\";\r\n    api.put(url, apiData).then(response => response.data)\r\n      .then(data => message.success('Delete workpackage successfully'));\r\n\r\n    var dict = this.Dict;\r\n    dict.Workpackages.splice(this.Index, 1);\r\n    if (this.OnDelete) {\r\n      this.OnDelete();\r\n    }\r\n\r\n    dict.IsDataChanged = true;\r\n  }\r\n}","import * as api from '../../../../util/apiUtil'\r\nimport { PMData } from '../../single/model/PMData';\r\nimport { Workpackage } from \"./Workpackage\";\r\n\r\nexport const pmData = () => {\r\n  return PMData.Instance;\r\n}\r\n\r\nexport const get = (dbItem, dict) => {\r\n  var { _id, name, code, description, supId } = dbItem;\r\n\r\n  var qI = new Workpackage();\r\n  qI._id = _id;\r\n  qI.Name = name;\r\n  qI.Code = code;\r\n  qI.Description = description;\r\n  qI.SupId = supId;\r\n  qI.Dict = dict;\r\n\r\n  return qI;\r\n}\r\n\r\nexport const GetSupItem = (q) => {\r\n  var supId = q.SupId;\r\n  var list = pmData().Workpackage_Dict.Workpackages;\r\n  var index = list.findIndex(x => x._id === supId);\r\n  return index !== -1 ? list[index] : undefined;\r\n}\r\n\r\nexport const GetSubItems = (q) => {\r\n  var id = q._id;\r\n  var list = pmData().Workpackage_Dict.Workpackages;\r\n  return list.filter(x => x !== q && x.SupId === id);\r\n}\r\n\r\nexport const GetUpperList = (q) => {\r\n  var supItem = q.SupItem;\r\n  if (!supItem){\r\n    return [q];\r\n  }else{\r\n    var list = [...supItem.UpperList];\r\n    list.push(q);\r\n    return list;\r\n  }\r\n}\r\n\r\nexport const GetLowerList = (q) => {\r\n  var list = [q];\r\n  q.SubItems.forEach((x, i) => {\r\n    list.push.apply(list, x.LowerList);\r\n  })\r\n  return list;\r\n}\r\n\r\nexport const GetRank = (q) => {\r\n  var supItem = q.SupItem;\r\n  return supItem ? supItem.Rank +1 : 0;\r\n}\r\n\r\nexport const getAll = (dict, handle) => {\r\n  var url = \"https://api.bimdev.vn/api/hbwp/list\";\r\n  api.get(url).then(response => response.data)\r\n    .then(data => {\r\n      var wps = data.map(x => get(x, dict))\r\n      if (handle) {\r\n        handle(wps);\r\n      }\r\n    });\r\n}","import { makeObservable, observable, action } from 'mobx';\r\nimport * as workpackageUtil from './WorkpackageUtil'\r\nimport * as util from './Workpackage_DictVMUtil'\r\n\r\nexport class Workpackage_DictVM {\r\n  constructor() {\r\n    makeObservable(this, {\r\n      workpackageVMs: observable,\r\n    })\r\n  }\r\n\r\n  OnGetItemsDone_Funcs = []\r\n\r\n  set GetItemsDone (v){\r\n    this.OnGetItemsDone_Funcs.forEach(x => x());\r\n  }\r\n\r\n  Workpackage_Dict\r\n\r\n  get M2VM() {\r\n    return this.Workpackage_Dict.M2VM;\r\n  }\r\n  set M2VM(v) {\r\n    this.Workpackage_Dict.M2VM = v;\r\n  }\r\n\r\n  workpackageVMs = undefined\r\n  get WorkpackageVMs() {\r\n    if (!this.workpackageVMs){\r\n      this.workpackageVMs = util.GetWorkpackageVMs(this);\r\n    }\r\n    return this.workpackageVMs;\r\n  }\r\n\r\n  currentWorkpackageVM\r\n  set CurrentWorkpackageVM(v) {\r\n    this.Workpackage_Dict = v;\r\n    this.Workpackage_Dict.CurrentWorkpackage = v.Workpackage;\r\n\r\n    this.WorkpackageInputVM.WorkpackageVM = v;\r\n  }\r\n\r\n  workpackageInputMV\r\n  get WorkpackageInputVM() {\r\n    if (!this.workpackageInputVM){\r\n      this.workpackageInputVM = util.GetWorkpackageInputVM(this);\r\n    }\r\n    return this.workpackageInputVM;\r\n  }\r\n\r\n  Add = (itemView) => {\r\n    this.WorkpackageVMs.push(itemView);\r\n    if (this.OnAdd){\r\n      this.OnAdd(itemView);\r\n    }\r\n  }\r\n}","import { Component } from \"react\";\r\nimport { makeObservable, observable, action } from 'mobx';\r\nimport { observer } from 'mobx-react';\r\nimport { Button, Divider, Input, Select } from \"antd\";\r\nimport InputView from \"../../../input/InputView\";\r\nimport { Workpackage_DictVM } from \"./Workpackage_DictVM\";\r\nimport CheckboxView from \"../../../checkbox/CheckboxView\";\r\nimport SelectView from \"../../../select/SelectView\";\r\n\r\nconst { Option } = Select;\r\n\r\nclass Workpackage_DictView extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    var { store } = this.props;\r\n    if (!store) {\r\n      this.state = new Workpackage_DictVM();\r\n    } else {\r\n      this.state = store;\r\n    }\r\n  }\r\n\r\n  onValueChange = (v) => {\r\n    var data = this.state;\r\n    var wps = data.WorkpackageVMs;\r\n    var wp = data.CurrentWorkpackageVM = wps[v];\r\n  }\r\n\r\n  render() {\r\n    var data = this.state;\r\n    var wps = data.WorkpackageVMs;\r\n\r\n    var elems = wps ? wps.map((item, index) => {\r\n      var searchName = item.SearchName;\r\n      return <Option key={index} value={index}>{searchName}</Option>\r\n    }) : \"\";\r\n\r\n    var inputVM = data.WorkpackageInputVM;\r\n    var commandVM = inputVM.CommandVM;\r\n\r\n    return (\r\n      <>\r\n        <Divider orientation=\"left\" plain>\r\n          <b>Công tác</b>\r\n        </Divider>\r\n        <Select\r\n          showSearch\r\n          style={{ width: '100%' }}\r\n          placeholder=\"search công tác\"\r\n          optionFilterProp=\"children\"\r\n          onChange={this.onValueChange}\r\n          value={null}\r\n          filterOption={(input, option) =>\r\n            option.children.toLowerCase().indexOf(input.toLowerCase()) >= 0\r\n          }\r\n        >\r\n          {elems}\r\n        </Select>\r\n\r\n        <div style={{ marginTop: 20 }}>\r\n          <InputView store={inputVM.CodeVM} />\r\n          <InputView store={inputVM.NameVM} />\r\n          <InputView store={inputVM.DescriptionVM} />\r\n          <SelectView store={inputVM.SupItemSelectVM} />\r\n          <div>\r\n            <CheckboxView store={inputVM.IsNewVM} />\r\n            <Button style={{ margin: 10 }}\r\n              onClick={inputVM.AddDatabase}>{commandVM.Content}</Button>\r\n            {inputVM.DeleteView}\r\n          </div>\r\n        </div>\r\n      </>\r\n    )\r\n  }\r\n}\r\n\r\nexport default observer(Workpackage_DictView)","import { Component } from \"react\";\r\nimport { makeObservable, observable, action } from 'mobx';\r\nimport { observer } from 'mobx-react';\r\nimport { Button, Divider, Input, Select } from \"antd\";\r\nimport { EntFilterVM } from \"./EntFilterVM\";\r\nimport SelectView from \"../../../select/SelectView\";\r\nimport { MultiSelectVM } from \"../../../select/MultiSelectVM\";\r\nimport MultiSelectView from \"../../../select/MultiSelectView\";\r\n\r\nconst { Option } = Select;\r\n\r\nclass EntFilterView extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    var { store } = this.props;\r\n    if (!store) {\r\n      this.state = new EntFilterVM();\r\n    } else {\r\n      this.state = store;\r\n    }\r\n  }\r\n\r\n  test = () => {\r\n    console.log(\"test button\");\r\n  }\r\n\r\n  onValueChange = (v) => {\r\n    var data = this.state;\r\n    var items = data.ItemVMs;\r\n    var wp = data.CurrentItemVM = items[v];\r\n  }\r\n\r\n  render() {\r\n    var data = this.state;\r\n\r\n    return (\r\n      <>\r\n        <div>\r\n          <SelectView store={data.ValueTypeSelectVM} />\r\n        </div>\r\n        <div>\r\n          <SelectView store={data.StringFilterTypeSelectVM} />\r\n        </div>\r\n        <div>\r\n          <MultiSelectView store={data.ValuesSelectVM} />\r\n        </div>\r\n      </>\r\n    )\r\n  }\r\n}\r\n\r\nexport default observer(EntFilterView)","import { Component } from \"react\";\r\nimport { makeObservable, observable, action } from 'mobx';\r\nimport { observer } from 'mobx-react';\r\nimport { Button, Divider, Input, Select } from \"antd\";\r\nimport InputView from \"../../../../input/InputView\";\r\nimport ElementFilterSettingDataVM from \"./ElementFilterSettingDataVM\";\r\nimport EntFilterView from \"../../filter/EntFilterView\";\r\nimport CheckboxView from \"../../../../checkbox/CheckboxView\";\r\n\r\nconst { Option } = Select;\r\n\r\nclass ElementFilterSettingDataView extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    var { store } = this.props;\r\n    if (!store) {\r\n      this.state = new ElementFilterSettingDataVM();\r\n    } else {\r\n      this.state = store;\r\n    }\r\n  }\r\n\r\n  render() {\r\n    var data = this.state;\r\n    var { IsHaveFamilyFilter } = data;\r\n\r\n    return (\r\n      <>\r\n        <Divider orientation=\"left\" plain>\r\n          Thiết lập lọc Category\r\n        </Divider>\r\n        <EntFilterView store={data.CategoryFilterVM} />\r\n\r\n        <Divider orientation=\"left\" plain>\r\n          {/* Thiết lập lọc Family */}\r\n          <CheckboxView store={data.IsHaveFamilyFilterVM}/>\r\n        </Divider>\r\n        {IsHaveFamilyFilter? <EntFilterView store={data.FamilyFilterVM} /> : \"\"}\r\n      </>\r\n    )\r\n  }\r\n}\r\n\r\nexport default observer(ElementFilterSettingDataView)","import { Component } from \"react\";\r\nimport { makeObservable, observable, action } from 'mobx';\r\nimport { observer } from 'mobx-react';\r\nimport { Button, Divider, Input, Select } from \"antd\";\r\nimport { ElementFilterSetting_DictVM } from \"./ElementFilterSetting_DictVM\";\r\nimport InputView from \"../../../../input/InputView\";\r\nimport ElementFilterSettingDataView from \"./ElementFilterSettingDataView\";\r\nimport CheckboxView from \"../../../../checkbox/CheckboxView\";\r\n\r\nconst { Option } = Select;\r\n\r\nclass ElementFilterSetting_DictView extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    var { store } = this.props;\r\n    if (!store) {\r\n      this.state = new ElementFilterSetting_DictVM();\r\n    } else {\r\n      this.state = store;\r\n    }\r\n  }\r\n\r\n  test = () => {\r\n    console.log(\"test button\");\r\n  }\r\n\r\n  onValueChange = (v) => {\r\n    var data = this.state;\r\n    var items = data.Items;\r\n    var wp = data.CurrentItem = items[v];\r\n  }\r\n\r\n  render() {\r\n    var data = this.state;\r\n    \r\n    var items = data.Items;\r\n    var elems = items ? items.map((item, index) => {\r\n      var searchName = item.SearchName;\r\n      return <Option key={index} value={index}>{searchName}</Option>\r\n    }) : \"\";\r\n\r\n    var input = data.Input;\r\n\r\n    return (\r\n      <>\r\n        <Divider orientation=\"left\" plain>\r\n          <b>Bộ lọc đối tượng</b>\r\n        </Divider>\r\n\r\n        <Select\r\n          showSearch\r\n          style={{ width: '100%' }}\r\n          placeholder=\"search bộ lọc\"\r\n          optionFilterProp=\"children\"\r\n          onChange={this.onValueChange}\r\n          value={null}\r\n          filterOption={(input, option) =>\r\n            option.children.toLowerCase().indexOf(input.toLowerCase()) >= 0\r\n          }\r\n        >\r\n          {elems}\r\n        </Select>\r\n\r\n        <div style={{marginTop:20}}>\r\n          <InputView store={input.NameVM} />\r\n          <InputView store={input.DescriptionVM} />\r\n\r\n          <ElementFilterSettingDataView store={input.DataVM}/>\r\n\r\n          <CheckboxView store={input.IsNewVM} />\r\n          <Button style={{margin:10}}\r\n            onClick={input.AddDatabase}>{input.CommandVM.Content}</Button>\r\n          {input.DeleteView}\r\n        </div>\r\n      </>\r\n    )\r\n  }\r\n}\r\n\r\nexport default observer(ElementFilterSetting_DictView)","import { Component } from \"react\";\r\nimport { makeObservable, observable, action } from 'mobx';\r\nimport { observer } from 'mobx-react';\r\nimport { Button, Divider, Input, Select } from \"antd\";\r\nimport InputView from \"../../../../../input/InputView\";\r\nimport EntFilterView from \"../../../filter/EntFilterView\";\r\nimport CheckboxView from \"../../../../../checkbox/CheckboxView\";\r\nimport MES_ValueSettingVM from \"./MES_ValueSettingVM\";\r\nimport SelectView from \"../../../../../select/SelectView\";\r\nimport * as floatItemVMUtil from \"../../../../../float/FloatItemVMUtil\";\r\nimport FloatItemView from \"../../../../../float/FloatItemView\";\r\nimport { CloseCircleFilled } from \"@ant-design/icons\";\r\n\r\nconst { Option } = Select;\r\n\r\nclass MES_ValueSettingView extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    var { store } = this.props;\r\n    if (!store) {\r\n      this.state = new MES_ValueSettingVM();\r\n    } else {\r\n      this.state = store;\r\n    }\r\n  }\r\n\r\n  render() {\r\n    var data = this.state;\r\n\r\n    var floatItemStore = floatItemVMUtil.get('top right')\r\n    floatItemStore.wrapper = <Button size='small' type='primary' \r\n      onClick={data.Delete}>x</Button>\r\n\r\n    return (\r\n      <>\r\n        <div style={{ padding: '10px 35px 10px 10px', margin: '8px auto', border: 'solid 0.5px', borderRadius: '10px', position:'relative' }}>\r\n          <FloatItemView store={floatItemStore} />\r\n          <SelectView store={data.RetrieveTypeSelectVM} />\r\n          <SelectView store={data.MassTypeSelectVM} />\r\n          <EntFilterView store={data.ValueFilterVM} />\r\n          <SelectView store={data.WorkpackageSelectVM} />\r\n        </div>\r\n      </>\r\n    )\r\n  }\r\n}\r\n\r\nexport default observer(MES_ValueSettingView)","import { Component } from \"react\";\r\nimport { makeObservable, observable, action } from 'mobx';\r\nimport { observer } from 'mobx-react';\r\nimport { Button, Divider, Input, Select } from \"antd\";\r\nimport { PlusCircleFilled } from \"@ant-design/icons\";\r\nimport InputView from \"../../../../input/InputView\";\r\nimport EntFilterView from \"../../filter/EntFilterView\";\r\nimport CheckboxView from \"../../../../checkbox/CheckboxView\";\r\nimport MassExportSettingDataVM from \"./MassExportSettingDataVM\";\r\nimport SelectView from \"../../../../select/SelectView\";\r\nimport MES_ValueSettingView from \"./exportSetting/MES_ValueSettingView\";\r\n\r\nconst { Option } = Select;\r\n\r\nclass MassExportSettingDataView extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    var { store } = this.props;\r\n    if (!store) {\r\n      this.state = new MassExportSettingDataVM();\r\n    } else {\r\n      this.state = store;\r\n    }\r\n  }\r\n\r\n  render() {\r\n    var data = this.state;\r\n\r\n    var valueSettingElems = data.ValueSettingVMs.map((x, i) => {\r\n      return <MES_ValueSettingView key={i} store={x} />\r\n    })\r\n\r\n    return (\r\n      <>\r\n        <SelectView store={data.ElementFilterSelectVM} />\r\n        <Divider orientation=\"left\" plain>\r\n          Thiết lập giá trị\r\n          <Button type='primary' size='small' onClick={data.AddNewValueSettingVM}\r\n            style={{marginLeft:15}}>+</Button>\r\n        </Divider>\r\n        {valueSettingElems}\r\n      </>\r\n    )\r\n  }\r\n}\r\n\r\nexport default observer(MassExportSettingDataView)","import { Component } from \"react\";\r\nimport { makeObservable, observable, action } from 'mobx';\r\nimport { observer } from 'mobx-react';\r\nimport { Button, Divider, Input, Select } from \"antd\";\r\nimport InputView from \"../../../../input/InputView\";\r\nimport CheckboxView from \"../../../../checkbox/CheckboxView\";\r\nimport { MassExportSetting_DictVM } from \"./MassExportSetting_DictVM\";\r\nimport SelectView from \"../../../../select/SelectView\";\r\nimport MassExportSettingDataView from \"./MassExportSettingDataView\";\r\n\r\nconst { Option } = Select;\r\n\r\nclass MassExportSetting_DictView extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    var { store } = this.props;\r\n    if (!store) {\r\n      this.state = new MassExportSetting_DictVM();\r\n    } else {\r\n      this.state = store;\r\n    }\r\n  }\r\n\r\n  onValueChange = (v) => {\r\n    var data = this.state;\r\n    var items = data.Items;\r\n    var wp = data.CurrentItem = items[v];\r\n  }\r\n\r\n  render() {\r\n    var data = this.state;\r\n\r\n    var items = data.Items;\r\n    var elems = items ? items.map((item, index) => {\r\n      var searchName = item.SearchName;\r\n      return <Option key={index} value={index}>{searchName}</Option>\r\n    }) : \"\";\r\n\r\n    var input = data.Input;\r\n\r\n    return (\r\n      <>\r\n        <Divider orientation=\"left\" plain>\r\n          <b>Thiết lập xuất khối lượng</b>\r\n        </Divider>\r\n\r\n        <Select\r\n          showSearch\r\n          style={{ width: '100%' }}\r\n          placeholder=\"search thiết lập\"\r\n          optionFilterProp=\"children\"\r\n          onChange={this.onValueChange}\r\n          value={null}\r\n          filterOption={(input, option) =>\r\n            option.children.toLowerCase().indexOf(input.toLowerCase()) >= 0\r\n          }\r\n        >\r\n          {elems}\r\n        </Select>\r\n\r\n        <div style={{ marginTop: 20 }}>\r\n          <InputView store={input.NameVM} />\r\n          <InputView store={input.DescriptionVM} />\r\n\r\n          <MassExportSettingDataView store={input.DataVM} />\r\n\r\n          <div>\r\n            <CheckboxView store={input.IsNewVM} />\r\n            <Button style={{ margin: 10 }}\r\n              onClick={input.AddDatabase}>{input.CommandVM.Content}</Button>\r\n            {input.DeleteView}\r\n          </div>\r\n        </div>\r\n      </>\r\n    )\r\n  }\r\n}\r\n\r\nexport default observer(MassExportSetting_DictView)","import { Component } from \"react\";\r\nimport { makeObservable, observable, action } from 'mobx';\r\nimport { observer } from 'mobx-react';\r\nimport { Button, Col, Divider, Input, Popover, Row, Select } from \"antd\";\r\nimport InputView from \"../../../../input/InputView\";\r\nimport CheckboxView from \"../../../../checkbox/CheckboxView\";\r\nimport TextView from \"../../../../text/TextView\";\r\nimport MassCell from \"./MassCell\";\r\nimport './MassTable.css'\r\nimport Icon, { InfoCircleOutlined } from '@ant-design/icons';\r\n\r\nconst { Option } = Select;\r\n\r\nclass MassCellView extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    var { store } = this.props;\r\n    if (!store) {\r\n      this.state = new MassCell();\r\n    } else {\r\n      this.state = store;\r\n    }\r\n  }\r\n\r\n  render() {\r\n    var data = this.state;\r\n\r\n    return (\r\n      <>\r\n        <td style={data.TDStyle}>\r\n          <div className='masscell__div'>\r\n            <div className='masscell__value'>\r\n              {data.IsHaveWarning ?\r\n                <Popover trigger='hover'\r\n                  content={<div>\r\n                    {data.TLS_LevelGroup_Descriptions ?\r\n                      data.TLS_LevelGroup_Descriptions.map(x => {\r\n                        return <span key={x}>{x}</span>\r\n                      })\r\n                      : ''}\r\n                  </div>}>\r\n                  <InfoCircleOutlined className='masscell__warningicon' />\r\n                </Popover>\r\n                : ''}\r\n              <a style={data.AStyle}\r\n                onClick={data.ShowDetail}>\r\n                <TextView store={data.ContentVM} />\r\n              </a>\r\n            </div>\r\n          </div>\r\n        </td>\r\n      </>\r\n    )\r\n  }\r\n}\r\n\r\nexport default observer(MassCellView)","import { Component } from \"react\";\r\nimport { makeObservable, observable, action } from 'mobx';\r\nimport { observer } from 'mobx-react';\r\nimport { Button, Col, Divider, Input, Row, Select, Space } from \"antd\";\r\nimport InputView from \"../../../../input/InputView\";\r\nimport CheckboxView from \"../../../../checkbox/CheckboxView\";\r\nimport MultiSelectView from \"../../../../select/MultiSelectView\";\r\nimport TextView from \"../../../../text/TextView\";\r\nimport MassRow from \"./MassRow\";\r\nimport MassCellView from \"./MassCellView\";\r\nimport { DownCircleOutlined, EnterOutlined, UpCircleOutlined } from '@ant-design/icons';\r\n\r\nconst { Option } = Select;\r\n\r\nclass MassRowView extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    var { store } = this.props;\r\n    if (!store) {\r\n      this.state = new MassRow();\r\n    } else {\r\n      this.state = store;\r\n    }\r\n  }\r\n\r\n  render() {\r\n    var data = this.state;\r\n    var table = data.Dict;\r\n    var columns = table.Columns;\r\n\r\n    var subElems = data.IsShowSub ? data.SubItems.map((x, i) => {\r\n      return <MassRowView store={x} key={x.id} />\r\n    }) : ''\r\n\r\n    var toggleButton = data.IsHaveSub ?\r\n      <Button size='small' style={{ marginRight: 5, minWidth: 25 }} type='primary'\r\n        onClick={data.ToggleSub}>\r\n        <TextView store={data.ToggleButtonContentVM} />\r\n      </Button>\r\n      : <div style={{ padding: '0 15.5px' }} />;\r\n\r\n    return (\r\n      <>\r\n        <tr>\r\n          <th scope=\"row\" >\r\n            <div style={data.Style}>\r\n              {toggleButton}\r\n              {data.Title}\r\n\r\n              {data.HoverToolElement}\r\n              {data.ModalElement}\r\n            </div>\r\n          </th>\r\n          {columns.map((y, j) => {\r\n            var cell = table.GetCell(y, data);\r\n            return <MassCellView key={cell.id} store={cell} />\r\n          })}\r\n        </tr>\r\n        {subElems}\r\n      </>\r\n    )\r\n  }\r\n}\r\n\r\nexport default observer(MassRowView)","import { Component } from \"react\";\r\nimport { makeObservable, observable, action } from 'mobx';\r\nimport { observer } from 'mobx-react';\r\nimport { Button, Col, Divider, Input, Row, Select } from \"antd\";\r\nimport InputView from \"../../../../input/InputView\";\r\nimport CheckboxView from \"../../../../checkbox/CheckboxView\";\r\nimport MassTable from \"./MassTable\";\r\nimport TextView from \"../../../../text/TextView\";\r\nimport MassRowView from \"./MassRowView\";\r\nimport './MassTable.css'\r\n\r\nconst { Option } = Select;\r\n\r\nclass MassTableView extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    var { store } = this.props;\r\n    if (!store) {\r\n      this.state = new MassTable();\r\n    } else {\r\n      this.state = store;\r\n    }\r\n  }\r\n\r\n  render() {\r\n    var data = this.state;\r\n\r\n    var columns = data.Columns;\r\n    var rows = data.MainRows;\r\n\r\n    var thElems = columns ? columns.map((x, i) => {\r\n      return <th scope=\"col\" key={x.id} className='text-center masscell_th'>{x.Name}</th>\r\n    }) : '';\r\n\r\n    var tbodyElems = rows ? rows.map((x, i) => {\r\n      return <MassRowView key={x.id} store={x} />\r\n    }) : '';\r\n\r\n\r\n    return (\r\n      <>\r\n        {data.IsValidTable ?\r\n          <>\r\n            <h4 className=\"text-center\">\r\n              BẢNG TỔNG HỢP KHỐI LƯỢNG\r\n            <Button type='primary' size='small' style={{ marginLeft: 15 }}\r\n                disabled={data.IsOnSaveMassGroup}\r\n                onClick={data.SaveMassGroup}>s</Button>\r\n            </h4>\r\n\r\n            {data.IsOnSaveMassGroup ?\r\n              <Row style={{padding:7}}>\r\n                <Col span={4}/>\r\n                <Col span={16} style={{display:'flex'}}>\r\n                  <InputView store={data.MassGroupNameVM} />\r\n                  <Button type='primary' size='small'\r\n                    style={{marginLeft:10}}\r\n                    onClick={data.MassGroupInputOK}>ok</Button>\r\n                  <Button type='default' size='small'\r\n                    onClick={data.MassGroupInputCancel}>cancel</Button>\r\n                </Col>\r\n              </Row> : ''}\r\n\r\n            < table className=\"table table-bordered table-sm\">\r\n              <thead className=\"thead-light\">\r\n                <tr>\r\n                  <th scope=\"col\" className='masstitle__th'>\r\n                    <Button onClick={data.AddMainRow} type='primary' size='small'\r\n                      style={{backgroundColor:'#52c41a', border:'none'}}>+</Button>\r\n                  </th>\r\n                  {thElems}\r\n                </tr>\r\n              </thead>\r\n              <tbody>\r\n                {tbodyElems}\r\n              </tbody>\r\n            </table>\r\n          </> : ''\r\n        }\r\n      </>\r\n    )\r\n  }\r\n}\r\n\r\nexport default observer(MassTableView)","import { Component } from \"react\";\r\nimport { makeObservable, observable, action } from 'mobx';\r\nimport { observer } from 'mobx-react';\r\nimport { Button, Divider, Input, Select, Spin } from \"antd\";\r\nimport MassResultCompVM from \"./MassResultCompVM\";\r\nimport MultiSelectView from '../../../../select/MultiSelectView'\r\nimport MassTableView from \"../table/MassTableView\";\r\nimport CheckboxView from \"../../../../checkbox/CheckboxView\";\r\nimport SelectView from \"../../../../select/SelectView\";\r\nimport TextView from \"../../../../text/TextView\";\r\n\r\nconst { Option } = Select;\r\n\r\nclass MassResultCompView extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    var { store } = this.props;\r\n    if (!store) {\r\n      this.state = new MassResultCompVM();\r\n    } else {\r\n      this.state = store;\r\n    }\r\n  }\r\n\r\n  render() {\r\n    var data = this.state;\r\n\r\n    return (\r\n      <>\r\n        <Divider orientation=\"left\" plain>\r\n          <b>Thông tin khối lượng</b>\r\n        </Divider>\r\n        {data.IsShowProjectSelect ?\r\n          <MultiSelectView store={data.ProjectSelectVM} /> : ''}\r\n\r\n        {data.CanHavePhase ?\r\n          <>\r\n            <CheckboxView store={data.IsShowPhaseSelectVM} />\r\n            {data.IsHavePhase ?\r\n              <MultiSelectView store={data.PhaseSelectVM} /> : ''}\r\n          </>\r\n          : ''\r\n        }\r\n\r\n        <div style={{ marginTop: 8 }} >\r\n          <SelectView store={data.MassGroupSettingSelectVM} />\r\n        </div>\r\n\r\n        <Button style={{ marginTop: 8 }} onClick={data.GetMassData}\r\n          size='middle' type='primary'>GET DATA</Button>\r\n        <div style={{ marginTop: 15 }}>\r\n          {data.IsDataPending ?\r\n            <div style={{ display: 'flex', justifyContent: 'center' }}>\r\n              <div>\r\n                <Spin />\r\n                <TextView store={data.LoadingSpinTipVM} />\r\n              </div>\r\n            </div> : <MassTableView store={data.MassItem_Dict.MassTable} />}\r\n        </div>\r\n      </>\r\n    )\r\n  }\r\n}\r\n\r\nexport default observer(MassResultCompView)","import { Component } from \"react\";\r\nimport { makeObservable, observable, action } from 'mobx';\r\nimport { observer } from 'mobx-react';\r\nimport { Button, Select } from \"antd\";\r\nimport TableVM from \"./TableVM\";\r\nimport * as rs from './RenderState'\r\n\r\nconst { Option } = Select;\r\n\r\nclass TableView extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    var { store } = this.props;\r\n    if (!store) {\r\n      this.state = new TableVM();\r\n    } else {\r\n      this.state = store;\r\n    }\r\n  }\r\n\r\n  onValueChange = (v) => {\r\n    var data = this.state;\r\n    data.SelectedIndex = v;\r\n  }\r\n\r\n  render() {\r\n    var data = this.state;\r\n    var columns = data.Columns;\r\n\r\n    var rows = data.Rows;\r\n    var tableElem = '';\r\n    if (columns && rows) {\r\n      var theadElem = <thead className=\"thead-light\">\r\n        <tr>\r\n          {columns.map(x => {\r\n            return <th scope=\"col\" key={x.Key}>{x.Title}</th>\r\n          })}\r\n        </tr>\r\n      </thead>\r\n\r\n      var tbodyElem = <tbody>\r\n        {rows.map(x => {\r\n          return <tr key={x.Key}>\r\n            {x.Cells.map(y => {\r\n              return <td key={y.Key}>{y.Render()}</td>\r\n            })}\r\n          </tr>\r\n        })}\r\n      </tbody>\r\n\r\n      tableElem = <table className=\"table table-sm\">\r\n        {theadElem}{tbodyElem}\r\n      </table>\r\n    }\r\n\r\n    return (\r\n      <>\r\n        {tableElem}\r\n      </>\r\n    )\r\n  }\r\n}\r\n\r\nexport default observer(TableView)","import { Component } from \"react\";\r\nimport { makeObservable, observable, action } from 'mobx';\r\nimport { observer } from 'mobx-react';\r\nimport { Button, Col, Divider, Input, Row, Select } from \"antd\";\r\nimport TableView from \"../../../../table/TableView\";\r\nimport { WorkItemExportSetting_DictVM } from \"./WorkItemExportSetting_DictVM\";\r\n\r\nconst { Option } = Select;\r\n\r\nclass WorkItemExportSetting_DictView extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    var { store } = this.props;\r\n    if (!store) {\r\n      this.state = new WorkItemExportSetting_DictVM();\r\n    } else {\r\n      this.state = store;\r\n    }\r\n  }\r\n\r\n  render() {\r\n    var data = this.state;\r\n\r\n    return (\r\n      <>\r\n        <Divider orientation=\"left\" plain>\r\n          <b>Thiết lập xuất hạng mục</b>\r\n        </Divider>\r\n        \r\n        <TableView store={data.TableVM}/>\r\n      </>\r\n    )\r\n  }\r\n}\r\n\r\nexport default observer(WorkItemExportSetting_DictView)","import React, { Component } from 'react';\r\nimport { observer } from 'mobx-react';\r\nimport { Col, Row } from 'antd';\r\nimport Workpackage_DictView from '../../entity/workpackage/Workpackage_DictView';\r\nimport ElementFilterSetting_DictView from '../../entity/setting/elementFilter/ElementFilterSetting_DictView';\r\nimport MassExportSetting_DictView from '../../entity/setting/massExport/MassExportSetting_DictView';\r\n\r\nimport { PMDataVM } from './PMDataVM';\r\nimport MassResultCompView from '../../entity/mass/result/MassResultCompView';\r\nimport WorkItemExportSetting_DictView from '../../entity/setting/workitemexport/WorkItemExportSetting_DictView';\r\n\r\nclass PMDataView extends Component {\r\n  get pmDataVM() { return PMDataVM.Instance };\r\n\r\n  render() {\r\n    var data = this.pmDataVM;\r\n\r\n    return (\r\n      <>\r\n        <Row gutter={15} style={{ padding: 15 }}>\r\n          <Col span={3} />\r\n          <Col span={5}>\r\n            <Workpackage_DictView store={data.Workpackage_DictVM} />\r\n\r\n            <ElementFilterSetting_DictView store={data.ElementFilterSetting_DictVM} />\r\n\r\n            <MassExportSetting_DictView store={data.MassExportSetting_DictVM} />\r\n          </Col>\r\n          <Col span={13}>\r\n            <MassResultCompView store={data.MassResultCompVM} />\r\n          </Col>\r\n          <Col span={3} />\r\n        </Row>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default observer(PMDataView);\r\n","import React, { Component } from 'react';\r\nimport { observer } from 'mobx-react';\r\nimport PMDataView from '../main/single/form/PMDataView';\r\nimport { Col, Row } from 'antd';\r\n\r\nclass TestView extends Component {\r\n  render() {\r\n    return (\r\n      <>\r\n        <PMDataView />\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default observer(TestView);\r\n","import { makeObservable, observable, action } from 'mobx';\r\n\r\nexport default class CellVM {\r\n  constructor() {\r\n    makeObservable(this, {\r\n      valueString : observable\r\n    })\r\n  }\r\n\r\n  value\r\n  get Value(){\r\n    return this.value\r\n  }\r\n  set Value(v){\r\n    this.value = v;\r\n    this.ValueString = this.GetValueString();\r\n  }\r\n\r\n  valueString = undefined\r\n  get ValueString (){\r\n    if (!this.valueString){\r\n      this.valueString = this.GetValueString();\r\n    }\r\n    return this.valueString;\r\n  }\r\n  set ValueString(v){\r\n    this.valueString = v;\r\n  }\r\n\r\n  GetValueString = () => {\r\n    return this.OnGetValueString();\r\n  }\r\n}","export default class ColumnVM {\r\n  Cells = []\r\n}","import { makeObservable, observable, action } from 'mobx';\r\n\r\nexport default class RowVM {\r\n  Cells = []\r\n}","import * as mt from '../MassType'\r\nimport * as mif from '../item/MassItemField'\r\nimport ColumnVM from '../../../../table/ColumnVM';\r\n\r\nexport const GetFields = (q) => {\r\n  var list = q.Items;\r\n  if (!list || list.length === 0) return [];\r\n\r\n  var massType = list[0].MassType;\r\n  switch (massType) {\r\n    case mt.rebar:\r\n      return [mif.partition, mif.rebarType, mif.Value, mif.Unit];\r\n    case mt.concrete:\r\n    case mt.formwork:\r\n      return [mif.level, mif.elementName, mif.Value, mif.Unit];\r\n    default:\r\n      return [mif.Value, mif.Unit]\r\n  }\r\n  return [];\r\n}\r\n\r\nexport const GetValueTitle = (q) => {\r\n  var list = q.Items;\r\n  if (!list || list.length === 0) return [];\r\n\r\n  var massType = list[0].MassType;\r\n  switch (massType) {\r\n    default:\r\n      return massType;\r\n  }\r\n}\r\n\r\nexport const GetColumns = (q) => {\r\n  return q.Fields.map(x => {\r\n    var col = new ColumnVM();\r\n    col.Name = x;\r\n    col.Title = x === mif.Value ? GetValueTitle(q) \r\n      : x;\r\n\r\n    return col;\r\n  })\r\n}","import { makeObservable, observable, action } from 'mobx';\r\nimport CellVM from '../../../../table/CellVM';\r\nimport ColumnVM from '../../../../table/ColumnVM';\r\nimport RowVM from '../../../../table/RowVM';\r\nimport * as mif from '../item/MassItemField'\r\nimport * as util from './MassDetailTableUtil'\r\n\r\nexport default class MassDetailTable {\r\n  constructor() {\r\n    makeObservable(this, {\r\n      items: observable,\r\n      rows: observable\r\n    })\r\n  }\r\n\r\n  items = undefined\r\n  get Items() {\r\n    return this.items;\r\n  }\r\n  set Items(v) {\r\n    this.items = v;\r\n\r\n    if (v && v.length !== 0) {\r\n      this.IsValidTable = true;\r\n    }\r\n    else {\r\n      this.IsValidTable = false;\r\n    }\r\n    this.Fields = util.GetFields(this);\r\n    this.Rows = this.GetRows();\r\n  }\r\n\r\n  IsValidTable = false\r\n\r\n  fields = undefined\r\n  get Fields() {\r\n    if (!this.fields) {\r\n      this.fields = util.GetFields(this);\r\n    }\r\n    return this.fields;\r\n  }\r\n  set Fields(v){\r\n    this.fields = v;\r\n    this.Columns = util.GetColumns(this);\r\n  }\r\n\r\n  columns = undefined\r\n  get Columns(){\r\n    if (!this.columns){\r\n      this.columns = util.GetColumns(this);\r\n    }\r\n    return this.columns;\r\n  }\r\n  set Columns(v){\r\n    this.columns = v;\r\n  }\r\n\r\n  rows = undefined\r\n  get Rows(){\r\n    if (!this.rows){\r\n      this.rows = this.GetRows();\r\n    }\r\n    return this.rows;\r\n  }\r\n  set Rows(v){\r\n    this.rows = v;\r\n  }\r\n\r\n  GetRows = () => {\r\n    var items = this.Items;\r\n    if (!items) return [];\r\n    var fields = this.Fields;\r\n\r\n    return items.map(x => {\r\n      var row = new RowVM();\r\n      row.Cells = fields.map(y => {\r\n        var cell = new CellVM();\r\n        cell.OnGetValueString = () => {\r\n          var value = cell.Value;\r\n          if(!isNaN(value)){\r\n           return parseFloat(value).toFixed(2);\r\n          }\r\n          return value;\r\n        }\r\n\r\n        const setValueFunc = () => cell.Value = mif.GetValueString(x.GetValue(y), y);\r\n        if (mif.GetIdentifyFields().includes(y) && !x.Element){\r\n          x.OnGetElementDone_Funcs.push(() => {\r\n            setValueFunc();\r\n          });\r\n        }else{\r\n          setValueFunc();\r\n        }\r\n\r\n        var className = 'text-center';\r\n        switch(y){\r\n          case mif.Value:\r\n            className='text-right';\r\n            break;\r\n        }\r\n        cell.className = className;\r\n\r\n        return cell;\r\n      })\r\n      return row;\r\n    })\r\n  }\r\n}","import { makeObservable, observable, action } from 'mobx';\r\nimport * as massItemUtil from '../item/MassItemUtil'\r\nimport MassDetailTable from './MassDetailTable';\r\n\r\nexport class MassDetailVM {\r\n  constructor() {\r\n    makeObservable(this, {\r\n      items : observable\r\n    })\r\n  }\r\n\r\n  _id\r\n  get id(){\r\n    return this._id;\r\n  }\r\n  set id(v){\r\n    this._id = v;\r\n    massItemUtil.getByViewDetail(v, (items) => {\r\n      this.Items = items;\r\n    })\r\n  }\r\n\r\n  items = undefined\r\n  get Items(){\r\n    return this.items;\r\n  } \r\n  set Items(v){\r\n    this.items = v;\r\n    this.DetailTable.Items = v;\r\n  }\r\n\r\n  detailTable\r\n  get DetailTable() {\r\n    if (!this.detailTable){\r\n      this.detailTable = new MassDetailTable();\r\n    }\r\n    return this.detailTable;\r\n  }\r\n}","import React, { Component } from 'react';\r\nimport { observer } from 'mobx-react';\r\nimport { Col, Row } from 'antd';\r\nimport MassDetailTable from './MassDetailTable';\r\n\r\nclass MassDetailTableView extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    var { store } = this.props;\r\n    if (!store) {\r\n      this.state = new MassDetailTable();\r\n    } else {\r\n      this.state = store;\r\n    }\r\n  }\r\n\r\n  render() {\r\n    var data = this.state;\r\n    var colElems = data.Columns.map((x,i) => {\r\n      return <th scope=\"col\" key={i} className='text-center'>{x.Title}</th>\r\n    })\r\n\r\n    var rowElems = data.Rows.map((x, i) => {\r\n      var cellElems = x.Cells.map((y, j) => {\r\n        return <td key={j} className={y.className}>{y.ValueString}</td>\r\n      })\r\n      return <tr key={i}>\r\n        {cellElems}\r\n      </tr>\r\n    })\r\n\r\n    return (\r\n      <>\r\n        <table className=\"table table-bordered table-sm\">\r\n          <thead className=\"thead-light\">\r\n            <tr>\r\n             {colElems}\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            {rowElems}\r\n          </tbody>\r\n        </table>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default observer(MassDetailTableView);\r\n","import React, { Component } from 'react';\r\nimport { observer } from 'mobx-react';\r\nimport { Col, Row } from 'antd';\r\nimport { withRouter } from \"react-router-dom\";\r\nimport { MassDetailVM } from './MassDetailVM';\r\nimport MassDetailTableView from './MassDetailTableView';\r\n\r\nclass MassDetailView extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    var { store } = this.props;\r\n    if (!store) {\r\n      this.state = new MassDetailVM();\r\n    } else {\r\n      this.state = store;\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    var data = this.state;\r\n    const id = this.props.match.params.id;\r\n    data.id = id;\r\n  }\r\n\r\n  render() {\r\n    var data = this.state;\r\n\r\n    return (\r\n      <>\r\n        <Row gutter={10} style={{ padding: 15 }}>\r\n          <Col span={8}>\r\n            <h4 className='text-center'>BẢNG CHI TIẾT KHỐI LƯỢNG</h4>\r\n            <div>\r\n              <MassDetailTableView store={data.DetailTable} />\r\n            </div>\r\n          </Col>\r\n        </Row>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withRouter(observer(MassDetailView));\r\n","import { makeObservable, observable, action } from 'mobx';\r\nimport { PMDataVM } from '../../../single/form/PMDataVM';\r\nimport { PMData } from '../../../single/model/PMData';\r\nimport * as projectUtil from '../ProjectUtil'\r\nimport * as projectVMUtil from '../ProjectVMUtil'\r\nimport * as util from './ProjectCompVMUtil'\r\n\r\nexport const pmDataVM = () => {\r\n  return PMDataVM.Instance;\r\n}\r\n\r\nexport const pmData = () => {\r\n  return PMData.Instance;\r\n}\r\n\r\n\r\nexport default class ProjectCompVM {\r\n  constructor() {\r\n    makeObservable(this, {\r\n      projectVM: observable\r\n    })\r\n  }\r\n\r\n  _id\r\n  get id() {\r\n    return this._id;\r\n  }\r\n  set id(v) {\r\n    this._id = v;\r\n    projectUtil.getById(v, (item) => {\r\n      this.ProjectVM = projectVMUtil.get(item);\r\n    })\r\n  }\r\n\r\n  projectVM = undefined\r\n  get ProjectVM() {\r\n    return this.projectVM;\r\n  }\r\n  set ProjectVM(v) {\r\n    this.projectVM = v;\r\n\r\n    var list = [v];\r\n    pmDataVM().Project_DictVM.Items = list;\r\n    pmData().Phase_Dict = v.ModelItem.Phase_Dict;\r\n\r\n    var massResComp = this.MassResultCompVM;\r\n    massResComp.ProjectVMStorageList = list;\r\n    massResComp.ProjectSelectVM.InitialItems = list;\r\n\r\n    var setItemsFuncs = () => massResComp.PhaseVMStorageList = phase_DictVM.Items;\r\n\r\n    var phase_DictVM = v.Phase_DictVM;\r\n    if (phase_DictVM.Items) {\r\n      setItemsFuncs();\r\n    } else {\r\n      phase_DictVM.OnGetItemsDone_Funcs.push(() => {\r\n        setItemsFuncs();\r\n      })\r\n    }\r\n  }\r\n\r\n  massResultCompVM\r\n  get MassResultCompVM() {\r\n    if (!this.massResultCompVM) {\r\n      var obj = this.massResultCompVM = util.GetMassResultCompVM(this);\r\n      pmDataVM().MassResultCompVM = obj;\r\n    }\r\n    return this.massResultCompVM;\r\n  }\r\n}","import MassResultComp from '../../mass/result/MassResultComp'\r\nimport * as massResutlCompVMUtil from '../../mass/result/MassResultCompVMUtil'\r\n\r\nexport const GetMassResultCompVM = (q) => {\r\n  var obj = massResutlCompVMUtil.get(new MassResultComp(), false);\r\n  obj.IsShowProjectSelect = false;\r\n  obj.CanHavePhase = true;\r\n  return obj;\r\n}","import { Component } from \"react\";\r\nimport { makeObservable, observable, action } from 'mobx';\r\nimport { observer } from 'mobx-react';\r\nimport { Button, Divider, Input, Select } from \"antd\";\r\nimport { PlusCircleOutlined } from '@ant-design/icons';\r\nimport { Phase_DictVM } from \"./Phase_DictVM\";\r\nimport InputView from \"../../../input/InputView\";\r\nimport * as stateType from '../state/StateType'\r\n\r\nconst { Option } = Select;\r\n\r\nclass Phase_DictView extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    var { store } = this.props;\r\n    if (!store) {\r\n      this.state = new Phase_DictVM();\r\n    } else {\r\n      this.state = store;\r\n    }\r\n  }\r\n\r\n  render() {\r\n    var data = this.state;\r\n    var input = data.Input;\r\n    var state = data.State;\r\n\r\n    return (\r\n      <>\r\n        <Divider orientation=\"left\" plain>\r\n          <b>Phiên bản khối lượng</b>\r\n        </Divider>\r\n        <div>\r\n          <Button type='primary' size='middle' onClick={data.AddVersion}\r\n            disabled={state === stateType.addversion}>\r\n            <PlusCircleOutlined /> LƯU KẾT QUẢ HIỆN TẠI\r\n          </Button>\r\n\r\n          {state === stateType.addversion ? <div className=\"mt-3\">\r\n            <InputView store={input.NameVM} />\r\n            <InputView store={input.DescriptionVM} />\r\n            <div className=\"mt-2\">\r\n              <Button type='primary' size='small' onClick={data.OK}>OK</Button>\r\n              <Button type='default' size='small' onClick={data.Cancel}>Cancel</Button>\r\n            </div>\r\n          </div> : ''}\r\n        </div>\r\n      </>\r\n    )\r\n  }\r\n}\r\n\r\nexport default observer(Phase_DictView)","import { Component } from \"react\";\r\nimport { makeObservable, observable, action } from 'mobx';\r\nimport { observer } from 'mobx-react';\r\nimport { Button, Col, Divider, Input, Row, Select } from \"antd\";\r\nimport RebarMass_Dict from \"./RebarMass_Dict\";\r\nimport TableView from \"../../../../table/TableView\";\r\n\r\nconst { Option } = Select;\r\n\r\nclass RebarMass_DictView extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    var { store } = this.props;\r\n    if (!store) {\r\n      this.state = new RebarMass_Dict();\r\n    } else {\r\n      this.state = store;\r\n    }\r\n  }\r\n\r\n  render() {\r\n    var data = this.state;\r\n\r\n    return (\r\n      <>\r\n        <Divider orientation=\"left\" plain>\r\n          <b>Dữ liệu thép</b>\r\n        </Divider>\r\n        \r\n        <TableView store={data.TableVM}/>\r\n      </>\r\n    )\r\n  }\r\n}\r\n\r\nexport default observer(RebarMass_DictView)","import React, { Component } from 'react';\r\nimport { observer } from 'mobx-react';\r\nimport { Col, Row } from 'antd';\r\nimport { Level_Dict } from './Level_Dict';\r\n\r\nclass Level_DictView extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    var { store } = this.props;\r\n    if (!store) {\r\n      this.state = new Level_Dict();\r\n    } else {\r\n      this.state = store;\r\n    }\r\n  }\r\n\r\n  render() {\r\n    var data = this.state;\r\n\r\n    return (\r\n      <>\r\n        \r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default observer(Level_DictView);\r\n","import React, { Component } from 'react';\r\nimport { observer } from 'mobx-react';\r\nimport { Button, Col, Divider, Row } from 'antd';\r\nimport { LevelGroupVM } from './LevelGroupVM';\r\nimport MultiSelectView from '../../../../../select/MultiSelectView';\r\nimport { DeleteFilled } from '@ant-design/icons';\r\nimport './LevelGroup.css'\r\n\r\nclass LevelGroupView extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    var { store } = this.props;\r\n    if (!store) {\r\n      this.state = new LevelGroupVM();\r\n    } else {\r\n      this.state = store;\r\n    }\r\n  }\r\n\r\n  render() {\r\n    var data = this.state;\r\n\r\n    return (\r\n      <>\r\n        <div className='levelgroup__container'>\r\n          <MultiSelectView store={data.LevelSelectVM} />\r\n          <Button size='small' type='text' \r\n            className='levelgroup__deletebutton'\r\n            onClick={data.Delete}>\r\n            <DeleteFilled className='levelgroup__deleteicon' />\r\n          </Button>\r\n        </div>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default observer(LevelGroupView);\r\n","import React, { Component } from 'react';\r\nimport { observer } from 'mobx-react';\r\nimport { Button, Popover, Switch } from 'antd';\r\nimport { TLS_FilterValueVM } from './TLS_FilterValueVM';\r\nimport NewInputView from '../../../../../input/NewInputView';\r\nimport './TLS_FilterValue.css'\r\n\r\nclass TLS_FilterValueView extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    var { store } = this.props;\r\n    if (!store) {\r\n      this.state = new TLS_FilterValueVM();\r\n    } else {\r\n      this.state = store;\r\n    }\r\n  }\r\n\r\n  render() {\r\n    var data = this.state;\r\n\r\n    return (\r\n      <>\r\n\r\n        <div className='tls_filter__value'>\r\n          {/* Input */}\r\n          <Popover\r\n            trigger={data.PopoverState.Content}\r\n            content={\r\n              <Switch unCheckedChildren='inp' checkedChildren='sel'\r\n                checked={data.SwitchChecked_Funcs()} onChange={data.ToggleInputType} />\r\n            }>\r\n            <span>\r\n              {data.InputElement}\r\n            </span>\r\n          </Popover>\r\n          \r\n          {/* Delete */}\r\n          <Button type='primary' size='small' onClick={data.Delete}\r\n            className='tls_filter__value__delete'>x</Button>\r\n        </div>\r\n\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default observer(TLS_FilterValueView);\r\n","import React, { Component } from 'react';\r\nimport { observer } from 'mobx-react';\r\nimport MultiSelectView from '../../../../../select/MultiSelectView';\r\nimport { TLS_FilterVM } from './TLS_FilterVM';\r\nimport SelectView from '../../../../../select/SelectView';\r\nimport './TLS_Filter.css'\r\nimport { DeleteFilled } from '@ant-design/icons';\r\nimport { Button } from 'antd';\r\nimport TLS_FilterValueView from './TLS_FilterValueView';\r\n\r\nclass TLS_FilterView extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    var { store } = this.props;\r\n    if (!store) {\r\n      this.state = new TLS_FilterVM();\r\n    } else {\r\n      this.state = store;\r\n    }\r\n  }\r\n\r\n  render() {\r\n    var data = this.state;\r\n\r\n    return (\r\n      <>\r\n        <div className='tls_filter__div'>\r\n          {/* Field Select */}\r\n          <SelectView store={data.FieldSelectVM} />\r\n\r\n          <div className='tls_filter__valuediv__wrapper'>\r\n            {/* Add Value */}\r\n            <Button type='primary' size='small' onClick={data.AddValue}\r\n              className='tls_filter__valuediv__addbutton'>+</Button>\r\n\r\n            {/* Value List */}\r\n            <div className='tls_filter__valuediv'>\r\n              {data.Values.map(x => {\r\n                return <TLS_FilterValueView key={x.id} store={x} />\r\n              })}\r\n            </div>\r\n          </div>\r\n\r\n          <Button size='small' type='text'\r\n            className='tls_filter__deletebutton'\r\n            onClick={data.Delete}>\r\n            <DeleteFilled className='tls_filter__deleteicon' />\r\n          </Button>\r\n        </div>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default observer(TLS_FilterView);\r\n","import React, { Component } from 'react';\r\nimport { observer } from 'mobx-react';\r\nimport { Button, Col, Divider, Row, Tabs } from 'antd';\r\nimport MultiSelectView from '../../../../../select/MultiSelectView';\r\nimport { DeleteFilled } from '@ant-design/icons';\r\nimport './TLS_PageItem.css'\r\nimport { TLS_PageItemVM } from './TLS_PageItemVM';\r\nimport TLS_FilterView from '../filter/TLS_FilterView';\r\nimport LevelGroupView from '../levelGroup/LevelGroupView';\r\n\r\nconst { TabPane } = Tabs;\r\n\r\nclass TLS_PageItemView extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    var { store } = this.props;\r\n    if (!store) {\r\n      this.state = new TLS_PageItemVM();\r\n    } else {\r\n      this.state = store;\r\n    }\r\n  }\r\n\r\n  render() {\r\n    var data = this.state;\r\n\r\n    return (\r\n      <>\r\n        <div className='tls__pageitem__wrapper'>\r\n          {/* Filters */}\r\n          <div className='typicallevel__list'>\r\n            <div className='typicallevel__list__1'>\r\n              {/* Add Filter */}\r\n              <Button type='primary' size='small' onClick={data.AddFilter}\r\n                className='typicallevel__addbutton'>+</Button>\r\n              <span><b>Thiết lập bộ lọc</b></span>\r\n            </div>\r\n\r\n            {/* Filter List */}\r\n            {data.Filters.map(x => {\r\n              return <TLS_FilterView key={x.id} store={x} />\r\n            })}\r\n          </div>\r\n\r\n          {/* LevelGroup */}\r\n          <div className='typicallevel__list'>\r\n            <div className='typicallevel__list__1'>\r\n              {/* Add Level */}\r\n              <Button type='primary' size='small' onClick={data.AddLevelGroup}\r\n                className='typicallevel__addbutton'>+</Button>\r\n              <span><b>Thiết lập level</b></span>\r\n            </div>\r\n\r\n            {/* Level List */}\r\n            {data.LevelGroups.map(x => {\r\n              return <LevelGroupView key={x.id} store={x} />\r\n            })}\r\n          </div>\r\n        </div>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default observer(TLS_PageItemView);\r\n","import React, { Component } from 'react';\r\nimport { observer } from 'mobx-react';\r\nimport { Button, Col, Divider, Row, Tabs } from 'antd';\r\nimport { TypicalLevelSettingDataVM } from './TypicalLevelSettingDataVM';\r\nimport LevelGroupView from './levelGroup/LevelGroupView';\r\nimport './TypicalLevelSettingData.css'\r\nimport './pageItem/TLS_PageItem.css'\r\nimport TLS_FilterView from './filter/TLS_FilterView';\r\nimport TLS_PageItemView from './pageItem/TLS_PageItemView';\r\n\r\nconst { TabPane } = Tabs;\r\n\r\nclass TypicalLevelSettingDataView extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    var { store } = this.props;\r\n    if (!store) {\r\n      this.state = new TypicalLevelSettingDataVM();\r\n    } else {\r\n      this.state = store;\r\n    }\r\n  }\r\n\r\n  onKeyDown = (v) => {\r\n    //console.log(v);\r\n    v.stopPropagation();\r\n  }\r\n\r\n  render() {\r\n    var data = this.state;\r\n\r\n    return (\r\n      <>\r\n        <div>\r\n          <div className='tls__tabs__div'>\r\n            {/* Add Tab */}\r\n            {!data.IsHaveAddCommandTab ?\r\n            <Button type='primary' size='small' onClick={data.AddPageItem}\r\n              className='tls__tabs__add__outside'>+</Button>\r\n              : ''}\r\n\r\n            {/* Tabs */}\r\n            <Tabs type='card' className='tls__tabs'\r\n              onChange={data.ChangePageKey}\r\n              activeKey={data.CurrentPageKey}\r\n              onKeyDown={this.onKeyDown}>\r\n              {data.AllTabs.map(x => {\r\n                return <TabPane tab={x.TitleElement} key={x.id}>\r\n                  <TLS_PageItemView store={x} />\r\n                </TabPane>\r\n              })}\r\n            </Tabs>\r\n          </div>\r\n        </div>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default observer(TypicalLevelSettingDataView);\r\n","import React, { Component } from 'react';\r\nimport { observer } from 'mobx-react';\r\nimport { Button, Col, Divider, Row } from 'antd';\r\nimport { TypicalLevelSettingVM } from './TypicalLevelSettingVM';\r\nimport TypicalLevelSettingDataView from './TypicalLevelSettingDataView';\r\nimport NewInputView from '../../../../input/NewInputView';\r\nimport './TypicalLevelSetting.css'\r\nimport { SaveFilled } from '@ant-design/icons';\r\n\r\nclass TypicalLevelSettingView extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    var { store } = this.props;\r\n    if (!store) {\r\n      this.state = new TypicalLevelSettingVM();\r\n    } else {\r\n      this.state = store;\r\n    }\r\n  }\r\n\r\n  render() {\r\n    var data = this.state;\r\n\r\n    return (\r\n      <>\r\n        <Divider orientation=\"left\" plain className='tls__info'>\r\n          <b>Thiết lập tầng điển hình</b>\r\n          <Button type='text' size='small' className='tls__save__button'\r\n            onClick={data.Save}>\r\n            <SaveFilled className='tls__save'/>\r\n          </Button>\r\n        </Divider>\r\n\r\n        {/* Data */}\r\n        <TypicalLevelSettingDataView store={data.DataVM} />\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default observer(TypicalLevelSettingView);\r\n","import React, { Component } from 'react';\r\nimport { observer } from 'mobx-react';\r\nimport { Col, Row } from 'antd';\r\nimport { withRouter } from \"react-router-dom\";\r\nimport ProjectCompVM from './ProjectCompVM';\r\nimport Phase_DictView from '../../phase/Phase_DictView';\r\nimport MassResultCompView from '../../mass/result/MassResultCompView';\r\nimport RebarMass_DictView from '../../mass/rebar/RebarMass_DictView';\r\nimport Level_DictView from '../../level/Level_DictView';\r\nimport TypicalLevelSettingView from '../../setting/typicallevel/TypicalLevelSettingView';\r\n\r\nclass ProjectCompView extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    var { store } = this.props;\r\n    if (!store) {\r\n      this.state = new ProjectCompVM();\r\n    } else {\r\n      this.state = store;\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    var data = this.state;\r\n    const id = this.props.match.params.id;\r\n    data.id = id;\r\n  }\r\n\r\n  render() {\r\n    var data = this.state;\r\n    var projectVM = data.ProjectVM;\r\n\r\n    return (\r\n      <>\r\n        <div style={{ padding: 15 }}>\r\n          <Row gutter={10}>\r\n            <Col span={5}>\r\n            </Col>\r\n            <Col span={14}>\r\n              {projectVM ? <>\r\n                <h4 className='text-center'>Dự án {projectVM.Name}</h4>\r\n                <Phase_DictView store={projectVM.Phase_DictVM} />\r\n\r\n                <MassResultCompView store={data.MassResultCompVM} />\r\n\r\n                <RebarMass_DictView store={projectVM.RebarMass_Dict} />\r\n\r\n                {projectVM.TypicalLevelSetting_ForEdit ?\r\n                <TypicalLevelSettingView store={projectVM.TypicalLevelSetting_ForEdit} />\r\n                : '' }\r\n              </> : ''}\r\n            </Col>\r\n            <Col span={5}>\r\n            </Col>\r\n          </Row>\r\n        </div>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withRouter(observer(ProjectCompView));\r\n","import './App.css';\r\nimport \"antd/dist/antd.css\";\r\nimport { Component } from 'react';\r\n\r\nimport TestView from './model/view/TestView';\r\n//import { Route, BrowserRouter as Router, Switch } from 'react-router-dom';\r\nimport { Route, HashRouter as Router, Switch } from 'react-router-dom';\r\nimport MassDetailView from './model/main/entity/mass/detail/MassDetailView';\r\nimport ProjectCompView from './model/main/entity/project/comp/ProjectCompView';\r\n\r\nclass App extends Component {\r\n  render() {\r\n    return (\r\n      <Router basename={process.env.PUBLIC_URL}>\r\n        <Switch>\r\n          <Route exact path=\"/\" component={TestView} />\r\n          <Route exact path=\"/massdetail/:id\" component={MassDetailView} />\r\n          <Route path=\"/project/:id\" component={ProjectCompView} />\r\n        </Switch>\r\n      </Router>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport reportWebVitals from './reportWebVitals';\r\n\r\nReactDOM.render(\r\n  <App />,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}
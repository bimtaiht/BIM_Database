(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{136:function(t,e,n){},137:function(t,e,n){},186:function(t,e){},200:function(t,e,n){"use strict";n.r(e);var i=n(1),s=n(0),r=n.n(s),a=n(19),c=n.n(a),o=(n(136),n(2)),u=n(3),h=n(8),l=n(7),p=(n(137),n(138),n(10)),f=n(209),d=n(210),m=n(205),g=n(204),v=n(128),k=n(206),j=n(4),I=function(){function t(){Object(o.a)(this,t),this.content=void 0,this.placeholder="n\u1ed9i dung input",Object(j.k)(this,{content:j.l,placeholder:j.l})}return Object(u.a)(t,[{key:"Content",get:function(){return this.content},set:function(t){this.content=t,this.onSetContent&&this.onSetContent(t)}},{key:"Placeholder",set:function(t){this.placeholder=t}},{key:"Style",get:function(){return this.style||(this.style=this.inputStyle?this.inputStyle:{},this.wrapper&&(this.style.position="relative")),this.style}}]),t}(),b=function(t,e){var n=new I;return n.content=t,n.placeholder=e,n},y=function(t){Object(h.a)(n,t);var e=Object(l.a)(n);function n(t){var i;Object(o.a)(this,n),(i=e.call(this,t)).onChange=function(t){var e=t.target.value;i.state.Content=e};var s=i.props.store;if(s)i.state=s;else{i.state=b("N\u1ed9i dung input")}return i}return Object(u.a)(n,[{key:"render",value:function(){var t=this.state,e=t.content,n=t.placeholder;return Object(i.jsx)(i.Fragment,{children:Object(i.jsx)(k.a,{value:e,onChange:this.onChange,placeholder:n})})}}]),n}(s.Component),M=Object(p.a)(y),V=n(129),O=n(31),D=n.n(O),C=n(54),S=n(111),w=n.n(S),x=n(207),F="https://api.bimdev.vn/api",T=w.a.create({baseURL:F,Accept:"application/json","Content-Type":"application/json",timeout:2e4}),N=function(t){return{success:t.status>=200&&t.status<300,data:t.data,message:t.statusText}},_=function(){var t=Object(C.a)(D.a.mark((function t(e){var n;return D.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e;case 3:return n=t.sent,t.abrupt("return",N(n));case 7:return t.prev=7,t.t0=t.catch(0),t.abrupt("return",(i=t.t0,x.b.error("Error sending request: ".concat(i)),{success:!1}));case 10:return t.prev=10,t.finish(10);case 12:case"end":return t.stop()}var i}),t,null,[[0,7,10,12]])})));return function(e){return t.apply(this,arguments)}}(),W=function(){var t=Object(C.a)(D.a.mark((function t(e,n){return D.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",_(T.get(e,n)));case 1:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),G=function(){var t=Object(C.a)(D.a.mark((function t(e,n,i){var s;return D.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,_(T.put(e,n,i));case 2:return s=t.sent,t.abrupt("return",s);case 4:case"end":return t.stop()}}),t)})));return function(e,n,i){return t.apply(this,arguments)}}(),P=function(){var t=Object(C.a)(D.a.mark((function t(e,n,i){var s;return D.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,_(T.post(e,n,i));case 2:return s=t.sent,t.abrupt("return",s);case 4:case"end":return t.stop()}}),t)})));return function(e,n,i){return t.apply(this,arguments)}}(),E="Project",R="Phase",L="Workpackage",A="Value",H="Unit",B="elementName",U=function(){return[B]},q=function(t,e){switch(e){case E:case R:return t.Name;case L:return t.FullName;default:return t}},z=(new Intl.DateTimeFormat("en-GB"),function(){return Math.random().toString(36).substr(2,9)}),K=function(t,e){t.M2VM=!0,e(),t.M2VM=!1},J=function(){function t(){Object(o.a)(this,t),this.Cells=[]}return Object(u.a)(t,[{key:"id",get:function(){return this._id||(this._id=z()),this._id}},{key:"Index",get:function(){return this.Dict.Columns.indexOf(this)}}]),t}(),Q=function(t){Object(h.a)(n,t);var e=Object(l.a)(n);function n(t){var i;Object(o.a)(this,n),(i=e.call(this,t)).getWrapperContent=function(){var t=i.state.wrapper;return t||""};var s=i.props.store;return i.state=s||{content:"N\u1ed9i dung"},i}return Object(u.a)(n,[{key:"render",value:function(){var t=this.state.content;return Object(i.jsxs)(i.Fragment,{children:[t,this.getWrapperContent()]})}}]),n}(s.Component),X=Object(p.a)(Q),Y=function(){function t(){var e=this;Object(o.a)(this,t),this.SubItems=[],this.Cells=[],this.isShowSub=!0,this.rank=void 0,this.isHaveSub=void 0,this.GetCellByColumn=function(t){var n=e.Cells.findIndex((function(e){return e.Column===t}));return-1!==n?e.Cells[n]:void 0},this.UpdateData=function(){e.Rank=Z(e),e.IsHaveSub=tt(e)},this.ToggleSub=function(){e.IsShowSub=!e.IsShowSub},Object(j.k)(this,{rank:j.l,isShowSub:j.l,isHaveSub:j.l})}return Object(u.a)(t,[{key:"id",get:function(){return this._id||(this._id=z()),this._id}},{key:"Index",get:function(){return this.Dict.FullRows.indexOf(this)}},{key:"IsShowSub",get:function(){return this.isShowSub},set:function(t){this.isShowSub=t,this.ToggleButtonContentVM.Content=et(this)}},{key:"ToggleButtonContent",get:function(){return this.toggleButtonContent||(this.toggleButtonContent=et(this)),this.toggleButtonContent},set:function(t){this.toggleButtonContent=t}},{key:"ToggleButtonContentVM",get:function(){var t=this;this.toggleButtonContentVM||((this.toggleButtonContentVM=b(this.ToggleButtonContent)).OnSetContent=function(e){return t.ToggleButtonContent=e});return this.toggleButtonContentVM}},{key:"Rank",get:function(){return void 0===this.rank&&(this.rank=Z(this)),this.rank},set:function(t){this.rank=t}},{key:"IsHaveSub",get:function(){return this.isHaveSub||(this.isHaveSub=tt(this)),this.isHaveSub},set:function(t){this.isHaveSub=t}},{key:"Style",get:function(){return $(this)}}]),t}(),Z=function(t){return t.SupItem?t.SupItem.Rank+1:0},$=function(t){return{display:"flex",marginLeft:20*t.Rank}},tt=function(t){return 0!==t.SubItems.length},et=function(t){return t.IsShowSub?"-":"+"},nt=function(){function t(){var e=this;Object(o.a)(this,t),this.items=[],this.GetUnit=function(){if(e.SubCells){var t=void 0;return e.SubCells.forEach((function(e){e.Unit&&(t=e.Unit)})),t}return e.Items&&0!==e.Items.length?e.Items[0].Unit:void 0},this.totalValue=void 0,this.GetTotalValue=function(){return e.SubCells?e.SubCells.reduce((function(t,e){return t+e.TotalValue}),0):e.Items.reduce((function(t,e){return t+e.Value}),0)},this.GetSubCells=function(){var t=e.Row.SubItems;if(t&&0!==t.length){var n=e.Column;return t.map((function(t){return t.GetCellByColumn(n)})).filter((function(t){return void 0!==t}))}},this.GetMassType=function(){return e.SubCells?e.SubCells[0].MassType:e.Items[0].MassType},this.AsString=function(){console.log("".concat(e.Column.Name," - ").concat(e.Row.Name," - ").concat(e.TotalValue))},this.UpdateData=function(){e.SubCells=e.GetSubCells(),e.TotalValue=e.GetTotalValue(),e.Unit=e.GetUnit(),e.ContentVM.Content=e.ValueString,e.MassType=e.GetMassType(),e.IsHaveVCS_Item=It(e),e.IsHaveVCS_Item&&(e.VCS_Item=Mt(e)),e.ValueColor=bt(e),e.TDBgColor=yt(e)},this.ShowDetail=function(){e.viewDetailId?window.open("/massdetail/".concat(e.viewDetailId),"_blank"):e.GetViewDetailId((function(t){var n=e.viewDetailId=t._id;window.open("/massdetail/".concat(n),"_blank")}))},this.valueColor=void 0,this.tdBgColor=void 0,this.ApiData=function(){var t=e.AllItems.map((function(t){return t._id}));return{massType:e.MassType,massIds:t}},this.GetViewDetailId=function(t){var n=e.ApiData();G("https://api.bimdev.vn/api/hbdv/updatemass",n).then((function(t){return t.data})).then((function(e){return t(e)}))},Object(j.k)(this,{valueColor:j.l,tdBgColor:j.l})}return Object(u.a)(t,[{key:"id",get:function(){return this._id||(this._id=z()),this._id}},{key:"ColumnIndex",get:function(){return this.Column.Index}},{key:"Items",get:function(){return this.items},set:function(t){this.items=t}},{key:"Unit",get:function(){return this.unit||(this.unit=this.GetUnit()),this.unit},set:function(t){this.unit=t}},{key:"UnitVM",get:function(){var t=this;return this.unitVM||(this.unitVM=b(this.Unit),this.unitVM.OnSetContent=function(e){return t.Unit=e}),this.unitVM}},{key:"TotalValue",get:function(){return this.totalValue||(this.totalValue=this.GetTotalValue()),this.totalValue},set:function(t){this.totalValue=t}},{key:"ContentVM",get:function(){return this.contentVM||(this.contentVM=b(this.ValueString)),this.contentVM}},{key:"ValueString",get:function(){var t=this.Unit?this.Unit:"";return"".concat(this.TotalValue.toFixed(2)," ").concat(t)}},{key:"SubCells",get:function(){return this.subCells||(this.subCells=this.GetSubCells()),this.subCells},set:function(t){this.subCells=t}},{key:"MassType",get:function(){return this.massType||(this.massType=this.GetMassType()),this.massType},set:function(t){this.massType=t}},{key:"AllItems",get:function(){return this.SubCells?this.SubCells.map((function(t){return t.Items})).reduce((function(t,e){return t.concat(e)}),[]):this.Items}},{key:"IsHaveVCS_Item",get:function(){return this.isHaveVCS_Item||(this.isHaveVCS_Item=It(this)),this.isHaveVCS_Item},set:function(t){this.isHaveVCS_Item=t}},{key:"VCS_Item",get:function(){return this.vcs_Item||(this.vcs_Item=Mt(this)),this.vcs_Item},set:function(t){this.vcs_Item=t}},{key:"ValueColor",get:function(){return this.valueColor||(this.valueColor=bt(this)),this.valueColor},set:function(t){this.valueColor=t}},{key:"TDBgColor",get:function(){return this.tdBgColor||(this.tdBgColor=yt(this)),this.tdBgColor},set:function(t){this.tdBgColor=t}},{key:"AStyle",get:function(){return{color:this.ValueColor,"font-weight":"bold"}}},{key:"TDStyle",get:function(){return{"background-color":this.TDBgColor}}}]),t}(),it=function(){function t(){Object(o.a)(this,t)}return Object(u.a)(t,[{key:"CategoryNames",get:function(){return this.categoryNames||(this.categoryNames=["Floors","Structural Framing","Walls","Structural Columns"]),this.categoryNames}}],[{key:"Instance",get:function(){return this.instance||(this.instance=new t),this.instance}}]),t}(),st=function(){function t(){Object(o.a)(this,t)}return Object(u.a)(t,[{key:"Values",get:function(){return this.values},set:function(t){this.values=t}},{key:"ValueStorageList",get:function(){return this.valueStorageList||(this.valueStorageList=vt(this)),this.valueStorageList}},{key:"ApiData",get:function(){return kt(this)}}]),t}(),rt="category",at="family",ct="parameter",ot="bystring",ut="bynumber",ht="byequal",lt="bycontain",pt="byequal",ft="bysmaller",dt="bybigger",mt="bybetween",gt=function(t,e){var n=new st;return n.ValueType=t.valueType,n.NumberFilterType=t.numberFilterType,n.StringFilterType=t.stringFilterType,n.Values=t.values,n.CategoryType=e,n},vt=function(t){var e=[];switch(t.CategoryType){case rt:e=it.Instance.CategoryNames;break;case ct:e=Ae.Instance.ParameterNames}return e},kt=function(t){return{valueType:t.ValueType,numberFilterType:t.NumberFilterType,stringFilterType:t.StringFilterType,values:t.Values}},jt=function(){return Ae.Instance},It=function(t){return t.Dict.ColumnField===R&&2===jt().MassResultComp.Phases.length&&1===t.ColumnIndex},bt=function(t){return t.IsHaveVCS_Item&&t.VCS_Item?"#FFFFFF":"#1890ff"},yt=function(t){return t.IsHaveVCS_Item&&t.VCS_Item?t.VCS_Item.Color:"#FFFFFF"},Mt=function(t){var e=jt().VersionCompareSetting.Items,n=t.Row.Cells,i=n.findIndex((function(t){return 0===t.ColumnIndex})),s=n[i],r=t.TotalValue/s.TotalValue,a=e.findIndex((function(t){return function(t,e){if(void 0===e||null===e)return!1;var n=!1,i=t.Values;switch(t.ValueType){case ot:if("string"===typeof e)switch(t.StringFilterType){case ht:i.forEach((function(t){n||t!==e||(n=!0)}));break;case lt:var s=e.toLowerCase();i.forEach((function(t){!n&&s.includes(t.toLowerCase())&&(n=!0)}))}break;case ut:if(!isNaN(e))switch(t.NumberFilterType){case pt:return e===i[0];case ft:return e<i[0];case"bysmallerorequal":return e<=i[0];case dt:return e>i[0];case"bybiggerorequal":return e>=i[0];case mt:var r=i[0],a=i[1];return t.IsEqualLeft&&r===e||r<e&&e<a||t.IsEqualRight&&e===a}}return n}(t.Filter,r)}));return-1!==a?e[a]:void 0},Vt=(n(186),function(){function t(){var e=this;Object(o.a)(this,t),this.IsValidTable=!1,this.ColumnField=E,this.RowField=L,this.Columns=void 0,this.MainRows=void 0,this.FullRows=void 0,this.Cells=void 0,this.GetColumn=function(t){var n=e.Columns,i=void 0,s=n.findIndex((function(e){return e.Name===t}));return-1===s?(i=function(t,e){var n=new J;return n.Name=t,n.Dict=e,n}(t,e),n.push(i),i):n[s]},this.GetRowWithCheckField=function(t,n){var i=void 0;switch(n){case L:var s=t;i=e.InputWorkpackages.includes(s)?void 0:e.GetRow(q(s.SupItem,n))}return e.GetRow(q(t,n),i)},this.GetRow=function(t,n){var i=e.FullRows,s=e.MainRows,r=void 0,a=i.findIndex((function(e){return e.Name===t}));return-1===a?(r=function(t,e){var n=new Y;return n.Name=t,n.Dict=e,n}(t,e),i.push(r),n?(n.SubItems.push(r),r.SupItem=n):s.push(r),r):i[a]},this.GetCell=function(t,n){var i=e.Cells,s=void 0,r=i.findIndex((function(e){return e.Column===t&&e.Row===n}));return-1===r?(s=function(t,e,n){var i=new nt;return i.Column=t,i.Row=e,i.Dict=n,t.Cells.push(i),e.Cells.push(i),i}(t,n,e),i.push(s),s):i[r]},this.Build=function(){e.Columns=[],e.MainRows=[],e.FullRows=[],e.Cells=[];var t=e.ColumnField,n=e.RowField;t===R&&Ae.Instance.MassResultComp.Phases.forEach((function(n){e.GetColumn(q(n,t))}));var i=function(i,s){var r=e.GetColumn(q(s,t)),a=e.GetRowWithCheckField(i[n],n);e.GetCell(r,a).Items.push(i)};e.Items.forEach((function(e){switch(t){case R:e.ValidPhasesByInput.forEach((function(t){i(e,t)}));break;default:i(e,e[t])}})),e.FullRows.forEach((function(t){return t.UpdateData()})),e.Cells.forEach((function(t){return t.UpdateData()}))},Object(j.k)(this,{IsValidTable:j.l,Columns:j.l,MainRows:j.l,Cells:j.l,ColumnField:j.l})}return Object(u.a)(t,[{key:"Items",get:function(){return this.items},set:function(t){this.items=t,t&&0!==t.length?(this.Build(),this.IsValidTable=!0):this.IsValidTable=!1}},{key:"InputWorkpackages",get:function(){return this.inputWorkpackages},set:function(t){this.inputWorkpackages=t}}]),t}()),Ot=function(){function t(){Object(o.a)(this,t)}return Object(u.a)(t,[{key:"Items",get:function(){return this.items},set:function(t){this.items=t,this.MassTable.Items=t}},{key:"InputWorkpackages",get:function(){return this.inputWorkpackages},set:function(t){this.inputWorkpackages=t,this.MassTable.InputWorkpackages=t}},{key:"MassTable",get:function(){return this.massTable||(this.massTable=new Vt),this.massTable}}]),t}(),Dt=function(){function t(){var e=this;Object(o.a)(this,t),this.OnGetElementDone_Funcs=[],this.GetValue=function(t){var n=null;if([E,L,A,H].includes(t))n=e[t];else if(U().includes(t)){if(e.Element)n=e.Element.info.identify[t]}else n=e.Info[t];return n}}return Object(u.a)(t,[{key:"Project",get:function(){return this.project||(this.project=Nt(this)),this.project}},{key:"Workpackage",get:function(){return this.workpackage||(this.workpackage=_t(this)),this.workpackage}},{key:"Phases",get:function(){return this.phases||(this.phases=Wt(this)),this.phases}},{key:"ValidPhasesByInput",get:function(){return Gt(this)}},{key:"GetElementDone",set:function(t){this.OnGetElementDone_Funcs.forEach((function(t){return t()}))}}]),t}(),Ct=function(t,e){var n="https://api.bimdev.vn/api/hbe/get?id=".concat(t);W(n).then((function(t){return t.data})).then((function(t){e&&e(t)}))},St="concrete",wt="formwork",xt="rebar",Ft=function(){return Ae.Instance},Tt=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=new Dt;return n._id=t._id,n.Value=t.value,n.Unit=t.unit,n.MassType=t.massType,n.Info=t.info,n.projectId=t.projectId,n.workpackageId=t.workpackageId,n.exportSetVersionId=t.exportSetVersionId,e&&t.elementId&&Ct(t.elementId,(function(t){n.Element=t,n.GetElementDone=!0})),n},Nt=function(t){var e=Ft().Project_Dict.Items,n=t.projectId,i=e.findIndex((function(t){return t._id===n}));return-1!==i?e[i]:void 0},_t=function(t){var e=Ft().Workpackage_Dict.Workpackages,n=t.workpackageId,i=e.findIndex((function(t){return t._id===n}));return-1!==i?e[i]:void 0},Wt=function(t){var e=[],n=Ft().Phase_Dict.Items,i=t.exportSetVersionId;return n.forEach((function(t){t.exportSetVersionIds.includes(i)&&e.push(t)})),e},Gt=function(t){var e=Ft().MassResultComp.Phases,n=t.Phases,i=[];return n.forEach((function(t){e.includes(t)&&i.push(t)})),i},Pt=function(t,e){var n="https://api.bimdev.vn/api/hbdv/massdetail?id=".concat(t);W(n).then((function(t){return t.data})).then((function(t){var n,i=t.viewDetail,s=t.masses,r=(n=i.massType)===St||n===wt,a=s.map((function(t){return Tt(t,r)}));e&&e(a)}))},Et=function(){function t(){var e=this;Object(o.a)(this,t),this.Projects=[],this.Workpackages=[],this.Phases=[],this.OnGetItemsDone_Funcs=[],this.isHavePhase=!1,this.GetRefinedWorkpackages=function(t){var e=[];return t.forEach((function(t,n,i){0===i.filter((function(e){return e!==t&&e.LowerList.includes(t)})).length&&e.push(t)})),e},this.GetMassData=function(){var t,n,i=Ae.Instance.Workpackage_Dict;i.IsDataChanged&&i.RefreshData(),e.Workpackages=e.GetRefinedWorkpackages(e.Workpackages),t=e.ApiData,n=function(t){e.MassItem_Dict.InputWorkpackages=e.Workpackages,e.MassItem_Dict.Items=t,e.GetItemsDone=!0},P("https://api.bimdev.vn/api/hbmr/list",t).then((function(t){return t.data})).then((function(t){var e=t.map((function(t){return Tt(t)}));n&&n(e)}))}}return Object(u.a)(t,[{key:"ApiData",get:function(){return function(t){var e=[];return t.Workpackages.forEach((function(t,n){return e.push.apply(e,t.LowerIds)})),e=e.filter((function(t,e,n){return n.indexOf(t)===e})),{projectIds:t.Projects.map((function(t){return t._id})),workpackageIds:e,phaseIds:t.IsHavePhase?t.Phases.map((function(t){return t._id})):void 0}}(this)}},{key:"MassItem_Dict",get:function(){return this.massItem_Dict||(this.massItem_Dict=new Ot),this.massItem_Dict}},{key:"GetItemsDone",set:function(t){this.OnGetItemsDone_Funcs.forEach((function(t){return t()}))}},{key:"IsHavePhase",get:function(){return this.isHavePhase},set:function(t){this.isHavePhase=t,this.MassItem_Dict.MassTable.ColumnField=t?R:E}}]),t}(),Rt=function(){function t(){Object(o.a)(this,t),this.OnGetExportSetVersions_Func=[]}return Object(u.a)(t,[{key:"ExportSetVersions",get:function(){return this.exportSetVersions},set:function(t){this.exportSetVersions=t,this.exportSetVersionIds=t.map((function(t){return t._id}))}},{key:"GetExportSetVersions",set:function(t){this.OnGetExportSetVersions_Func.forEach((function(t){return t()}))}}]),t}(),Lt=function(t,e){if(t){var n=new Rt;return n._id=t._id,n.Name=t.name,n.Description=t.description,n.Dict=e,At(t._id,(function(t){n.ExportSetVersions=t,n.GetExportSetVersions=!0})),n}},At=function(t,e){var n="https://api.bimdev.vn/api/hbesv/byphase?phaseId=".concat(t);W(n).then((function(t){return t.data})).then((function(t){e&&e(t)}))},Ht=function(){function t(){var e=this;Object(o.a)(this,t),this.OnGetItemsDone_Funcs=[],this.Add=function(t){e.Items.push(t),e.OnAdd&&e.OnAdd(t)},this.AddMassVersion=function(){var t=e.Input.ApiData;G("".concat("https://api.bimdev.vn/api/hbphase","/mass/add"),t).then((function(t){return t.data})).then((function(t){var n=Lt(t,e);e.Add(n),x.b.success("create version successfully!")}))}}return Object(u.a)(t,[{key:"GetItemsDone",set:function(t){this.OnGetItemsDone_Funcs.forEach((function(t){return t()}))}},{key:"Input",get:function(){return this.input||(this.input=qt(this)),this.input}}]),t}(),Bt=function(){function t(){Object(o.a)(this,t)}return Object(u.a)(t,[{key:"ApiData",get:function(){return{projectId:this.Dict.Dict._id,name:this.Name,description:this.Description}}}]),t}(),Ut=function(t){var e=new Ht;return e.Dict=t,function(t,e){var n="https://api.bimdev.vn/api/hbphase/list?projectId=".concat(t);W(n).then((function(t){return t.data})).then((function(t){e&&e(t)}))}(t._id,(function(t){e.Items=t.map((function(t){return Lt(t,e)})),e.GetItemsDone=!0})),e},qt=function(t){return function(t){var e=new Bt;return e.Dict=t,e.Name="Version 1",e.Description="m\xf4 t\u1ea3 phi\xean b\u1ea3n",e}(t)},zt=function(){function t(){Object(o.a)(this,t)}return Object(u.a)(t,[{key:"Phase_Dict",get:function(){return this.phase_Dict||(this.phase_Dict=Ut(this)),this.phase_Dict}}]),t}(),Kt=function(t,e){if(t){var n=new zt;return n._id=t._id,n.Name=t.name,n.Code=t.code,n.Dict=e,n}},Jt=function(){function t(){var e,n,i=this;Object(o.a)(this,t),e=this,n=function(t){i.Items=t,i.GetItemsDone=!0},W("https://api.bimdev.vn/api/hbp/list").then((function(t){return t.data})).then((function(t){var i=t.map((function(t){return Kt(t,e)}));n&&n(i)}))}return Object(u.a)(t,[{key:"GetItemsDone",set:function(t){this.OnGetItemsDone&&this.OnGetItemsDone(t)}}]),t}(),Qt=function(){function t(){var e=this;Object(o.a)(this,t),this.Delete=function(){var t=e._id;G("https://api.bimdev.vn/api/hbs/delete",{_id:t}).then((function(t){return t.data})).then((function(t){return x.b.success("Delete setting successfully")})),e.Dict.Items.splice(e.Index,1),e.OnDelete&&e.OnDelete(),e.Dict.Input.EditItemId=void 0}}return Object(u.a)(t,[{key:"Name",get:function(){return this.name},set:function(t){this.name=t,this.OnNameChanged&&this.OnNameChanged(t)}},{key:"Description",get:function(){return this.description},set:function(t){this.description=t,this.OnDescriptionChanged&&this.OnDescriptionChanged(t)}},{key:"Data",get:function(){return this.data},set:function(t){this.data=t,this.OnDataChanged&&this.OnDataChanged(t)}},{key:"Index",get:function(){return this.Dict.Items.indexOf(this)}}]),t}(),Xt=function(t){Object(h.a)(n,t);var e=Object(l.a)(n);function n(){return Object(o.a)(this,n),e.apply(this,arguments)}return n}(Qt),Yt=function(){function t(){Object(o.a)(this,t)}return Object(u.a)(t,[{key:"ApiData",get:function(){return Zt(this)}}]),t}(),Zt=function(t){return{categoryFilter:t.CategoryFilter.ApiData,familyFilter:t.IsHaveFamilyFilter?t.FamilyFilter.ApiData:void 0}},$t=function(t,e){var n=new Xt;return n._id=t._id,n.Name=t.name,n.Description=t.description,n.SettingType=t.settingType,n.Data=function(t){var e=new Yt;return e.CategoryFilter=gt(t.categoryFilter),e}(t.data),n.Dict=e,n},te="elementfilter",ee="massexport",ne="massgroup",ie=function(){function t(){var e=this;Object(o.a)(this,t),this.GetData=function(){if(e.OnGetData)return e.OnGetData()},this.isNew=!0,this.AddDatabase=function(){var t=e.EditItemId,n=e.Name,i=e.Description,s=e.SettingType,r=e.Data.ApiData,a=e.UrlPrefix,c={_id:t,name:n,description:i,settingType:s,data:r},o="https://api.bimdev.vn/api/hbs/".concat(a);(t?G("".concat(o,"/edit"),c):P("".concat(o,"/add"),c)).then((function(t){return t.data})).then((function(t){e.AddDatabaseDone=!0,e.NewItem=e.GetEditItem(t,e.Dict),e.Dict.Update()}))}}return Object(u.a)(t,[{key:"Data",get:function(){return this.data||(this.data=this.GetData()),this.data},set:function(t){this.data=t}},{key:"EditItem",get:function(){return this.editItem},set:function(t){this.editItem=t,this.EditItemId=t?t._id:void 0}},{key:"IsNew",get:function(){return this.isNew},set:function(t){this.isNew=t,t&&(this.EditItem=void 0)}},{key:"UrlPrefix",get:function(){return this.urlPrefix||(this.urlPrefix=function(t){var e=void 0;switch(t.SettingType){case te:e="ef";break;case ee:e="me";break;case ne:e="mg"}return e}(this)),this.urlPrefix}},{key:"AddDatabaseDone",set:function(t){this.OnAddDatabaseDone&&this.OnAddDatabaseDone(t)}}]),t}(),se=function(t){Object(h.a)(n,t);var e=Object(l.a)(n);function n(){var t;Object(o.a)(this,n);for(var i=arguments.length,s=new Array(i),r=0;r<i;r++)s[r]=arguments[r];return(t=e.call.apply(e,[this].concat(s))).GetEditItem=function(t,e){return $t(t,e)},t}return n}(ie),re=function(t){var e=new se;return e.Dict=t,e.Name="B\u1ed9 l\u1ecdc c\u1ed9t",e.Description="m\xf4 t\u1ea3 b\u1ed9 l\u1ecdc",e.SettingType=te,e.OnGetData=function(){return function(){var t=new Yt,e=new st;e.CategoryType=rt,e.ValueType=ot,e.StringFilterType=ht,e.Values=["Floors"],t.CategoryFilter=e,t.IsHaveFamilyFilter=!1;var n=new st;return n.CategoryType=at,n.ValueType=ot,n.StringFilterType=ht,n.Values=[],t.FamilyFilter=n,t}()},e},ae=function(){function t(){var e,n,i=this;Object(o.a)(this,t),this.Add=function(t){i.Items.push(t),i.OnAdd&&i.OnAdd(t)},this.Update=function(){var t=i.Input;if(t.IsNew)i.Add(t.NewItem);else{var e=t.EditItem;K(e,(function(){e.Name=t.Name,e.Description=t.Description,e.Data=t.Data}))}},e=this,n=function(t){i.Items=t,i.GetItemsDone=!0},W("https://api.bimdev.vn/api/hbs/ef/list").then((function(t){return t.data})).then((function(t){var i=t.map((function(t){return $t(t,e)}));n&&n(i)}))}return Object(u.a)(t,[{key:"GetInput",value:function(){return re(this)}},{key:"GetItemsDone",set:function(t){this.OnGetItemsDone&&this.OnGetItemsDone(t)}},{key:"Input",get:function(){return this.input||(this.input=this.GetInput()),this.input}}]),t}(),ce=function(){function t(){var e=this;Object(o.a)(this,t),this.Delete=function(){e.Dict.ValueSettings.splice(e.Index,1)}}return Object(u.a)(t,[{key:"Index",get:function(){return this.Dict.ValueSettings.indexOf(this)}},{key:"Workpackage",get:function(){return this.workpackage||(this.workpackage=le(this)),this.workpackage},set:function(t){this.workpackage=t,this.workpackageId=t?t._id:void 0}},{key:"ApiData",get:function(){return pe(this)}}]),t}(),oe="byparameter",ue=function(t,e){var n=new ce;return n.RetrieveType=t.RetrieveType,n.MassType=t.MassType,n.ValueFilter=t.ValueFilter,n.Workpackage=t.Workpackage,n.Dict=e,n},he=function(t){var e=new ce;e.RetrieveType=oe,e.Dict=t;var n=new st;return n.CategoryType=ct,n.ValueType=ot,n.StringFilterType=ht,n.Values=["Volume"],e.ValueFilter=n,e},le=function(t){var e=t.workpackageId;if(e){var n=Ae.Instance.Workpackage_Dict.Workpackages;if(n){var i=n.findIndex((function(t){return t._id===e}));return-1!==i?n[i]:void 0}}},pe=function(t){return{retrieveType:t.RetrieveType,massType:t.MassType,valueFilter:t.ValueFilter.ApiData,workpackageId:t.workpackageId}},fe=function(){function t(){var e=this;Object(o.a)(this,t),this.AddNewValueSetting=function(){var t=e.ValueSettings,n=he(e);return t.push(n),n}}return Object(u.a)(t,[{key:"ElementFilter",get:function(){return this.elementFilter||(this.elementFilter=me(this)),this.elementFilter},set:function(t){this.elementFilter=t,this.elementFilterId=t?t._id:void 0}},{key:"ValueSettings",get:function(){return this.valueSettings||(this.valueSettings=ge(this)),this.valueSettings},set:function(t){this.valueSettings=t}},{key:"ApiData",get:function(){return ve(this)}}]),t}(),de=function(t){var e=new fe;return e.elementFilterId=t.elementFilterId,e.ValueSettings=t.exportSettings.map((function(t){return function(t,e){var n=new ce;return n.RetrieveType=t.retrieveType,n.MassType=t.massType,n.ValueFilter=gt(t.valueFilter,ct),n.workpackageId=t.workpackageId,n.Dict=e,n}(t,e)})),e},me=function(t){var e=t.elementFilterId;if(e){var n=Ae.Instance.ElementFilterSetting_Dict.Items;if(n){var i=n.findIndex((function(t){return t._id===e}));return-1!==i?n[i]:void 0}}},ge=function(t){return[he(t)]},ve=function(t){return{elementFilterId:t.elementFilterId,exportSettings:t.ValueSettings.map((function(t){return t.ApiData}))}},ke=function(t){Object(h.a)(n,t);var e=Object(l.a)(n);function n(){return Object(o.a)(this,n),e.apply(this,arguments)}return n}(Qt),je=function(t,e){var n=new ke;return n._id=t._id,n.Name=t.name,n.Description=t.description,n.SettingType=t.settingType,n.Data=de(t.data),n.Dict=e,n},Ie=function(t){Object(h.a)(n,t);var e=Object(l.a)(n);function n(){var t;Object(o.a)(this,n);for(var i=arguments.length,s=new Array(i),r=0;r<i;r++)s[r]=arguments[r];return(t=e.call.apply(e,[this].concat(s))).GetEditItem=function(t,e){return je(t,e)},t}return n}(ie),be=function(t){var e=new Ie;return e.Dict=t,e.Name="B\xeat\xf4ng s\xe0n",e.Description="m\xf4 t\u1ea3 thi\u1ebft l\u1eadp",e.SettingType=ee,e.OnGetData=function(){return new fe},e},ye=function(){function t(){var e,n,i=this;Object(o.a)(this,t),this.Add=function(t){i.Items.push(t),i.OnAdd&&i.OnAdd(t)},this.Update=function(){var t=i.Input;if(t.IsNew)i.Add(t.NewItem);else{var e=t.EditItem;K(e,(function(){e.Name=t.Name,e.Description=t.Description,e.Data=t.Data}))}},e=this,n=function(t){i.Items=t,i.GetItemsDone=!0},W("https://api.bimdev.vn/api/hbs/me/list").then((function(t){return t.data})).then((function(t){var i=t.map((function(t){return je(t,e)}));n&&n(i)}))}return Object(u.a)(t,[{key:"GetInput",value:function(){return be(this)}},{key:"GetItemsDone",set:function(t){this.OnGetItemsDone&&this.OnGetItemsDone(t)}},{key:"Input",get:function(){return this.input||(this.input=this.GetInput()),this.input}}]),t}(),Me=function(){function t(){var e=this;Object(o.a)(this,t),this.AddNewField=function(){var t=Ae.Instance.MassPropertyNames[0];return e.Fields.push(t),t}}return Object(u.a)(t,[{key:"Fields",get:function(){return this.fields||(this.fields=Oe(this)),this.fields},set:function(t){this.fields=t}},{key:"ApiData",get:function(){return De(this)}}]),t}(),Ve="Category",Oe=function(){return[Ve]},De=function(t){return{fields:t.Fields}},Ce=function(t){Object(h.a)(n,t);var e=Object(l.a)(n);function n(){return Object(o.a)(this,n),e.apply(this,arguments)}return n}(Qt),Se=function(t,e){var n=new Ce;return n._id=t._id,n.Name=t.name,n.Description=t.description,n.SettingType=t.settingType,n.Data=function(t){var e=new Me;return e.Fields=t.fields,e}(t.data),n.Dict=e,n},we=function(t){Object(h.a)(n,t);var e=Object(l.a)(n);function n(){var t;Object(o.a)(this,n);for(var i=arguments.length,s=new Array(i),r=0;r<i;r++)s[r]=arguments[r];return(t=e.call.apply(e,[this].concat(s))).GetEditItem=function(t,e){return Se(t,e)},t}return n}(ie),xe=function(t){var e=new we;return e.Dict=t,e.Name="Nh\xf3m kl Ki\u1ebfn tr\xfac",e.Description="m\xf4 t\u1ea3 nh\xf3m kh\u1ed1i l\u01b0\u1ee3ng",e.SettingType=ne,e.OnGetData=function(){return new Me},e},Fe=function(){function t(){var e,n,i=this;Object(o.a)(this,t),this.Add=function(t){i.Items.push(t),i.OnAdd&&i.OnAdd(t)},this.Update=function(){var t=i.Input;if(t.IsNew)i.Add(t.NewItem);else{var e=t.EditItem;K(e,(function(){e.Name=t.Name,e.Description=t.Description,e.Data=t.Data}))}},e=this,n=function(t){i.Items=t,i.GetItemsDone=!0},W("https://api.bimdev.vn/api/hbs/mg/list").then((function(t){return t.data})).then((function(t){var i=t.map((function(t){return Se(t,e)}));n&&n(i)}))}return Object(u.a)(t,[{key:"GetInput",value:function(){return xe(this)}},{key:"GetItemsDone",set:function(t){this.OnGetItemsDone&&this.OnGetItemsDone(t)}},{key:"Input",get:function(){return this.input||(this.input=this.GetInput()),this.input}}]),t}(),Te=function t(){Object(o.a)(this,t)},Ne=function(){function t(){Object(o.a)(this,t)}return Object(u.a)(t,[{key:"Items",get:function(){return this.items||(this.items=function(t){var e=[],n=new Te;n.Color="#1956c9";var i=new st;return i.ValueType=ut,i.NumberFilterType=ft,i.Values=[.8],n.Filter=i,e.push(n),(n=new Te).Color="#3f79d6",(i=new st).ValueType=ut,i.NumberFilterType=mt,i.IsEqualLeft=!0,i.Values=[.8,.85],n.Filter=i,e.push(n),(n=new Te).Color="#6f9fe9",(i=new st).ValueType=ut,i.NumberFilterType=mt,i.IsEqualLeft=!0,i.Values=[.85,.9],n.Filter=i,e.push(n),(n=new Te).Color="#a5c2f2",(i=new st).ValueType=ut,i.NumberFilterType=mt,i.IsEqualLeft=!0,i.Values=[.9,.95],n.Filter=i,e.push(n),(n=new Te).Color="#c9d9f6",(i=new st).ValueType=ut,i.NumberFilterType=mt,i.IsEqualLeft=!0,i.Values=[.95,1],n.Filter=i,e.push(n),(n=new Te).Color="#f3cccc",(i=new st).ValueType=ut,i.NumberFilterType=mt,i.IsEqualRight=!0,i.Values=[1,1.05],n.Filter=i,e.push(n),(n=new Te).Color="#e9999a",(i=new st).ValueType=ut,i.NumberFilterType=mt,i.IsEqualRight=!0,i.Values=[1.05,1.1],n.Filter=i,e.push(n),(n=new Te).Color="#de6568",(i=new st).ValueType=ut,i.NumberFilterType=mt,i.IsEqualRight=!0,i.Values=[1.1,1.15],n.Filter=i,e.push(n),(n=new Te).Color="#c90010",(i=new st).ValueType=ut,i.NumberFilterType=mt,i.IsEqualRight=!0,i.Values=[1.15,1.2],n.Filter=i,e.push(n),(n=new Te).Color="#980009",(i=new st).ValueType=ut,i.NumberFilterType=dt,i.Values=[1.2],n.Filter=i,e.push(n),e}()),this.items}}]),t}(),_e=function(){function t(){var e=this;Object(o.a)(this,t),this.Description="m\xf4 t\u1ea3 c\xf4ng t\xe1c",this.isNew=!0,this.AddDatabase=function(){var t=e.WorkpackageId,n=e.Code,i=e.Name,s=e.Description,r=e.SupId,a={_id:t,name:i,code:n,description:s,supId:r},c="https://api.bimdev.vn/api/hbwp";(t?G("".concat(c,"/edit"),a):P("".concat(c,"/add"),a)).then((function(t){return t.data})).then((function(t){e.AddDatabaseDone=!0,e.NewWorkpackage=Ue(t,e.Dict),e.Dict.Update()}))}}return Object(u.a)(t,[{key:"IsNew",get:function(){return this.isNew},set:function(t){this.isNew=t,t&&(this.Workpackage=void 0)}},{key:"Workpackage",get:function(){return this.workpackage},set:function(t){this.workpackage=t,this.WorkpackageId=t?t._id:void 0}},{key:"SupItem",get:function(){return this.supItem},set:function(t){this.supItem=t,this.SupId=t?t._id:void 0}},{key:"AddDatabaseDone",set:function(t){this.OnAddDatabaseDone&&this.OnAddDatabaseDone(t)}}]),t}(),We=function(){function t(){var e=this;Object(o.a)(this,t),this.Add=function(t){e.Workpackages.push(t),e.OnAdd&&e.OnAdd(t)},this.Update=function(){var t=e.WorkpackageInput,n=t.Workpackage;if(t.IsNew)e.Add(t.NewWorkpackage);else{K(n,(function(){n.Code=t.Code,n.Name=t.Name,n.Description=t.Description,n.FullName=n.GetFullName()}))}e.IsDataChanged=!0},this.RefreshData=function(){e.Workpackages.forEach((function(t){t.SubItems=void 0,t.UpperList=void 0,t.LowerList=void 0,t.Rank=void 0})),e.IsDataChanged=!1},Xe(this,(function(t){e.Workpackages=t,e.GetWorkpackagesDone=!0}))}return Object(u.a)(t,[{key:"GetWorkpackagesDone",set:function(t){this.OnGetWorkpackagesDone&&this.OnGetWorkpackagesDone(t)}},{key:"WorkpackageInput",get:function(){this.workpackageInput||((this.workpackageInput=new _e).Dict=this);return this.workpackageInput}}]),t}(),Ge=function(t){return[ot,ut]},Pe=function(t){return[ht,lt,"bynotcontain"]},Ee=function(t){return[oe,"bymaterial","byrebar"]},Re=function(t){return["Discipline",Ve]},Le=function(t){return[St,wt,xt]},Ae=function(){function t(){Object(o.a)(this,t)}return Object(u.a)(t,[{key:"categoryData",get:function(){return it.Instance}},{key:"Workpackage_Dict",get:function(){return this.workpackage_Dict||(this.workpackage_Dict=new We),this.workpackage_Dict}},{key:"ElementFilterSetting_Dict",get:function(){return this.elementFilterSetting_Dict||(this.elementFilterSetting_Dict=new ae),this.elementFilterSetting_Dict}},{key:"MassExportSetting_Dict",get:function(){return this.massExportSetting_Dict||(this.massExportSetting_Dict=new ye),this.massExportSetting_Dict}},{key:"MassGroupSetting_Dict",get:function(){return this.massGroupSetting_Dict||(this.massGroupSetting_Dict=new Fe),this.massGroupSetting_Dict}},{key:"Project_Dict",get:function(){return this.project_Dict||(this.project_Dict=new Jt),this.project_Dict}},{key:"MassResultComp",get:function(){return this.massResultComp||(this.massResultComp=new Et),this.massResultComp},set:function(t){this.massResultComp=t}},{key:"FilterValueTypes",get:function(){return this.filterValueTypes||(this.filterValueTypes=Ge()),this.filterValueTypes}},{key:"StringFilterTypes",get:function(){return this.stringFilterTypes||(this.stringFilterTypes=Pe()),this.stringFilterTypes}},{key:"ValueRetrieveTypes",get:function(){return this.valueRetrieveTypes||(this.valueRetrieveTypes=Ee()),this.valueRetrieveTypes}},{key:"CategoryNames",get:function(){return this.categoryNames||(this.categoryNames=this.categoryData.CategoryNames),this.categoryNames}},{key:"ParameterNames",get:function(){return this.parameterNames||(this.parameterNames=["Volume","HB_Formwork_Total"]),this.parameterNames}},{key:"MassPropertyNames",get:function(){return this.massPropertyNames||(this.massPropertyNames=Re()),this.massPropertyNames}},{key:"MassTypes",get:function(){return this.massTypes||(this.massTypes=Le()),this.massTypes}},{key:"VersionCompareSetting",get:function(){return this.versionCompareSetting||(this.versionCompareSetting=new Ne),this.versionCompareSetting}}],[{key:"Instance",get:function(){return this.instance||(this.instance=new t),this.instance}}]),t}(),He=function(){function t(){var e=this;Object(o.a)(this,t),this.GetFullName=function(){return"".concat(e.Code," - ").concat(e.Name)},this.Delete=function(){var t=e._id;G("https://api.bimdev.vn/api/hbwp/delete",{_id:t}).then((function(t){return t.data})).then((function(t){return x.b.success("Delete workpackage successfully")}));var n=e.Dict;n.Workpackages.splice(e.Index,1),e.OnDelete&&e.OnDelete(),n.IsDataChanged=!0}}return Object(u.a)(t,[{key:"Index",get:function(){return this.Dict.Workpackages.indexOf(this)}},{key:"SupItem",get:function(){return this.supItem||(this.supItem=qe(this)),this.supItem}},{key:"Code",get:function(){return this.code},set:function(t){this.code=t,this.OnCodeChanged&&this.OnCodeChanged(t)}},{key:"Name",get:function(){return this.name},set:function(t){this.name=t,this.OnNameChanged&&this.OnNameChanged(t)}},{key:"Description",get:function(){return this.description},set:function(t){this.description=t,this.OnDescriptionChanged&&this.OnDescriptionChanged(t)}},{key:"FullName",get:function(){return this.fullName||(this.fullName=this.GetFullName()),this.fullName},set:function(t){this.fullName=t,this.OnFullNameChanged&&this.OnFullNameChanged(t)}},{key:"SubItems",get:function(){return this.subItems||(this.subItems=ze(this)),this.subItems},set:function(t){this.subItems=t}},{key:"UpperList",get:function(){return this.upperList||(this.upperList=Ke(this)),this.upperList},set:function(t){this.upperList=t}},{key:"LowerList",get:function(){return this.lowerList||(this.lowerList=Je(this)),this.lowerList},set:function(t){this.lowerList=t}},{key:"Rank",get:function(){return this.rank||(this.rank=Qe(this)),this.rank},set:function(t){this.rank=t}},{key:"LowerIds",get:function(){return this.LowerList.map((function(t){return t._id}))}}]),t}(),Be=function(){return Ae.Instance},Ue=function(t,e){var n=t._id,i=t.name,s=t.code,r=t.description,a=t.supId,c=new He;return c._id=n,c.Name=i,c.Code=s,c.Description=r,c.SupId=a,c.Dict=e,c},qe=function(t){var e=t.SupId,n=Be().Workpackage_Dict.Workpackages,i=n.findIndex((function(t){return t._id===e}));return-1!==i?n[i]:void 0},ze=function(t){var e=t._id;return Be().Workpackage_Dict.Workpackages.filter((function(n){return n!==t&&n.SupId===e}))},Ke=function(t){var e=t.SupItem;if(e){var n=Object(V.a)(e.UpperList);return n.push(t),n}return[t]},Je=function(t){var e=[t];return t.SubItems.forEach((function(t,n){e.push.apply(e,t.LowerList)})),e},Qe=function(t){var e=t.SupItem;return e?e.Rank+1:0},Xe=function(t,e){W("https://api.bimdev.vn/api/hbwp/list").then((function(t){return t.data})).then((function(n){var i=n.map((function(e){return Ue(e,t)}));e&&e(i)}))},Ye=function(){function t(){var e=this;Object(o.a)(this,t),this.code=void 0,this.name=void 0,this.description=void 0,this.fullName=void 0,this.Delete=function(){e.Dict.WorkpackageVMs.splice(e.Index,1)},this.AsString=function(){console.log(e.Name,e.Code,e.Description)},Object(j.k)(this,{fullName:j.l})}return Object(u.a)(t,[{key:"Index",get:function(){return this.Dict.WorkpackageVMs.indexOf(this)}},{key:"M2VM",get:function(){return this.Workpackage.M2VM},set:function(t){this.Workpackage.M2VM=t}},{key:"SupItem",get:function(){return this.supItem||(this.supItem=yi(this)),this.supItem}},{key:"Code",get:function(){return this.code||(this.code=this.Workpackage.Code),this.code},set:function(t){this.code=t,this.M2VM||(this.Workpackage.Code=t)}},{key:"Name",get:function(){return this.name||(this.name=this.Workpackage.Name),this.name},set:function(t){this.name=t,this.M2VM||(this.Workpackage.Name=t)}},{key:"Description",get:function(){return this.description||(this.description=this.Workpackage.Description),this.description},set:function(t){this.description=t,this.M2VM||(this.Workpackage.Description=t)}},{key:"FullName",get:function(){return this.fullName||(this.fullName=this.Workpackage.FullName),this.fullName},set:function(t){this.fullName=t}},{key:"SearchName",get:function(){return this.FullName}},{key:"DisplayContent",get:function(){return this.FullName}},{key:"CodeVM",get:function(){var t=this;this.codeVM||((this.codeVM=b(this.Code,"m\xe3 code")).onSetContent=function(e){return t.Code=e});return this.codeVM}},{key:"NameVM",get:function(){var t=this;this.nameVM||((this.nameVM=b(this.Name,"t\xean c\xf4ng t\xe1c")).onSetContent=function(e){return t.Name=e});return this.nameVM}},{key:"DescriptionVM",get:function(){var t=this;this.descriptionVM||((this.descriptionVM=b(this.Description,"m\xf4 t\u1ea3")).onSetContent=function(e){return t.Description=e});return this.descriptionVM}}]),t}(),Ze=function(){function t(){var e=this;Object(o.a)(this,t),this.items=void 0,this.Add=function(t){e.Items.push(t)},Object(j.k)(this,{items:j.l})}return Object(u.a)(t,[{key:"M2VM",get:function(){return this.ModelItem.M2VM},set:function(t){this.ModelItem.M2VM=t}},{key:"GetItemsDone",set:function(t){this.OnGetItemsDone&&this.OnGetItemsDone(t)}},{key:"Items",get:function(){return this.items||(this.items=gn(this)),this.items}},{key:"CurrentItem",get:function(){return this.currentItem||(this.currentItem=this.ModelItem.CurrentItem),this.currentItem},set:function(t){this.currentItem=t,t?(this.ModelItem.CurrentItem=t.ModelItem,this.Input.EditItem=t):this.ModelItem.CurrentItem=t}},{key:"Input",get:function(){return this.input||(this.input=vn(this)),this.input}}]),t}(),$e=function(){function t(){var e=this;Object(o.a)(this,t),this.name=void 0,this.GetDataVM=function(){if(e.OnGetDataVM)return e.OnGetDataVM()},this.Delete=function(){e.Dict.Items.splice(e.Index,1)},Object(j.k)(this,{name:j.l})}return Object(u.a)(t,[{key:"M2VM",get:function(){return this.ModelItem.M2VM},set:function(t){this.ModelItem.M2VM=t}},{key:"Name",get:function(){return this.name||(this.name=this.ModelItem.Name),this.name},set:function(t){this.name=t,this.M2VM||(this.ModelItem.Name=t)}},{key:"Description",get:function(){return this.description||(this.description=this.ModelItem.Description),this.description},set:function(t){this.description=t,this.M2VM||(this.ModelItem.Description=t)}},{key:"SettingType",get:function(){return this.settingType||(this.settingType=this.ModelItem.SettingType),this.settingType},set:function(t){this.settingType=t,this.ModelItem.SettingType=t}},{key:"SearchName",get:function(){return this.Name}},{key:"DisplayContent",get:function(){return this.Name}},{key:"Data",get:function(){return this.data||(this.data=this.ModelItem.Data),this.data},set:function(t){this.data=t,this.M2VM||(this.ModelItem.Data=t)}},{key:"DataVM",get:function(){return this.dataVM||(this.dataVM=this.GetDataVM()),this.dataVM},set:function(t){this.dataVM=t,t&&this.OnInitialSetDataVM&&this.OnInitialSetDataVM(t),this.M2VM||(this.Data=t?t.ModelItem:t)}},{key:"Index",get:function(){return this.Dict.Items.indexOf(this)}}]),t}(),tn=function(t){Object(h.a)(n,t);var e=Object(l.a)(n);function n(){var t;Object(o.a)(this,n);for(var i=arguments.length,s=new Array(i),r=0;r<i;r++)s[r]=arguments[r];return(t=e.call.apply(e,[this].concat(s))).OnInitialSetDataVM=function(t){var e=t.CategoryFilterVM;e&&e.OnInitialData();var n=t.FamilyFilterVM;n&&n.OnInitialData()},t}return n}($e),en=function(){function t(){var e=this;Object(o.a)(this,t),this.items=void 0,this.initialItem=void 0,this.GetInitialIndex=function(){var t=e.Items.indexOf(e.InitialItem);return-1!==t?t:null},this.selectedIndex=void 0,this.GetSelectedItem=function(){var t=e.SelectedIndex;if(-1!==t)return e.Items[t]},this.CanClear=!1,this.Clear=function(){e.SelectedIndex=null},Object(j.k)(this,{items:j.l,selectedIndex:j.l,CanClear:j.l})}return Object(u.a)(t,[{key:"Items",get:function(){return this.items||(this.items=[]),this.items},set:function(t){this.items=t}},{key:"InitialItem",get:function(){return this.initialItem},set:function(t){this.initialItem=t,this.InitialIndex=this.GetInitialIndex(),this.SelectedIndex=this.InitialIndex}},{key:"InitialIndex",get:function(){return this.initialIndex||(this.initialIndex=this.GetInitialIndex()),this.initialIndex},set:function(t){this.initialIndex=t}},{key:"SelectedIndex",get:function(){return this.selectedIndex},set:function(t){this.selectedIndex=t,this.SelectedItem=this.GetSelectedItem()}},{key:"SelectedItem",get:function(){return this.selectedItem||(this.selectedItem=this.GetSelectedItem()),this.selectedItem},set:function(t){this.selectedItem=t,this.OnSelectedItemChanged&&this.OnSelectedItemChanged(t)}},{key:"Placeholder",get:function(){return this.placeholder||(this.placeholder="ch\u1ecdn \u0111\u1ed1i t\u01b0\u1ee3ng ..."),this.placeholder},set:function(t){this.placeholder=t}},{key:"DivStyle",get:function(){return this.CanClear?{position:"relative",padding:"0 22px 0 0"}:{}}}]),t}(),nn=function(t,e){var n=new en;return n.Items=t,n.InitialItem=e,n},sn=function(){function t(){var e=this;Object(o.a)(this,t),this.items=void 0,this.GetInitialIndexs=function(){var t=e.InitialItems;return t?t.map((function(t){return e.Items.indexOf(t)})).filter((function(t){return-1!==t})):[]},this.selectedIndexs=[],this.GetSelectedItems=function(){return e.SelectedIndexs.map((function(t){return e.Items[t]}))},Object(j.k)(this,{items:j.l,selectedIndexs:j.l})}return Object(u.a)(t,[{key:"Items",get:function(){return this.items},set:function(t){this.items=t}},{key:"InitialItems",get:function(){return this.initialItems},set:function(t){this.initialItems=t,this.InitialIndexs=this.GetInitialIndexs(),this.SelectedIndexs=this.InitialIndexs}},{key:"InitialIndexs",get:function(){return this.initialIndexs||(this.initialIndexs=this.GetInitialIndexs()),this.initialIndexs},set:function(t){this.initialIndexs=t}},{key:"SelectedIndexs",get:function(){return this.selectedIndexs},set:function(t){this.selectedIndexs=t,this.SelectedItems=this.GetSelectedItems()}},{key:"SelectedItems",get:function(){return this.selectedItems||(this.selectedItems=this.GetSelectedItems()),this.selectedItems},set:function(t){this.selectedItems=t,this.OnSelectedItemChanged&&this.OnSelectedItemChanged(t)}},{key:"Placeholder",get:function(){return this.placeholder||(this.placeholder="ch\u1ecdn \u0111\u1ed1i t\u01b0\u1ee3ng ..."),this.placeholder},set:function(t){this.placeholder=t}}]),t}(),rn=function(t,e){var n=new sn;return n.Items=t,n.InitialItems=e,n},an=function(){function t(){var e=this;Object(o.a)(this,t),this.SetData=function(t){if(t){var n=t.ValueType,i=(t.NumberFilterType,t.StringFilterType),s=t.Values;e.ValueTypeSelectVM.InitialItem=n,e.StringFilterTypeSelectVM.InitialItem=i,e.ValuesSelectVM.InitialItems=s}},this.OnInitialData=function(){e.ValueType,e.NumberFilterType,e.StringFilterType,e.Values},Object(j.k)(this,{})}return Object(u.a)(t,[{key:"pmDataVM",get:function(){return Ii.Instance}},{key:"ValueType",get:function(){return this.valueType||(this.valueType=this.ModelItem.ValueType),this.valueType},set:function(t){this.valueType=t,this.ModelItem.ValueType=t}},{key:"NumberFilterType",get:function(){return this.numberFilterType||(this.numberFilterType=this.ModelItem.NumberFilterType),this.numberFilterType},set:function(t){this.numberFilterType=t,this.ModelItem.NumberFilterType=t}},{key:"StringFilterType",get:function(){return this.stringFilterType||(this.stringFilterType=this.ModelItem.StringFilterType),this.stringFilterType},set:function(t){this.stringFilterType=t,this.ModelItem.StringFilterType=t}},{key:"Values",get:function(){return this.values||(this.values=this.ModelItem.Values),this.values},set:function(t){this.values=t,this.ModelItem.Values=t}},{key:"ValueStorageList",get:function(){return this.valueStorageList||(this.valueStorageList=this.ModelItem.ValueStorageList),this.valueStorageList}},{key:"ValueTypeSelectVM",get:function(){var t=this;this.valueTypeSelectVM||((this.valueTypeSelectVM=nn(this.pmDataVM.FilterValueTypes,this.ValueType)).OnSelectedItemChanged=function(e){t.ValueType=e});return this.valueTypeSelectVM}},{key:"StringFilterTypeSelectVM",get:function(){var t=this;this.stringFilterTypeSelectVM||((this.stringFilterTypeSelectVM=nn(this.pmDataVM.StringFilterTypes,this.StringFilterType)).OnSelectedItemChanged=function(e){t.StringFilterType=e});return this.stringFilterTypeSelectVM}},{key:"ValuesSelectVM",get:function(){var t=this;if(!this.valuesSelectVM){var e=this.valuesSelectVM=rn(this.ValueStorageList,this.Values);this.ValueSelectPlaceholder&&(e.Placeholder=this.ValueSelectPlaceholder),e.OnSelectedItemChanged=function(e){t.Values=e}}return this.valuesSelectVM}}]),t}(),cn=function(t){if(t){var e=new an;return e.ModelItem=t,e}},on=function(){function t(){Object(o.a)(this,t),this.ischecked=void 0,this.isDisable=!1,Object(j.k)(this,{ischecked:j.l,isDisable:j.l})}return Object(u.a)(t,[{key:"Ischecked",set:function(t){this.ischecked=t,this.onCheckChange&&this.onCheckChange(t)}}]),t}(),un=function(t,e){var n=new on;return n.ischecked=e,n.name=t,n},hn=function(){function t(){var e=this;Object(o.a)(this,t),this.GetCategoryFilterVM=function(){var t=e.ModelItem.CategoryFilter;return cn(t)},this.isHaveFamilyFilter=void 0,this.GetFamilyFilterVM=function(){var t=e.ModelItem.FamilyFilter;return cn(t)},this.SetData=function(t){e.CategoryFilterVM.SetData(t.CategoryFilterVM);var n=!0===t.IsHaveFamilyFilter;e.IsHaveFamilyFilterVM.Ischecked=n,e.FamilyFilterVM.SetData(t.FamilyFilterVM)},Object(j.k)(this,{isHaveFamilyFilter:j.l})}return Object(u.a)(t,[{key:"CategoryFilterVM",get:function(){return!this.categoryFilterVM&&this.ModelItem&&(this.categoryFilterVM=this.GetCategoryFilterVM()),this.categoryFilterVM}},{key:"IsHaveFamilyFilter",get:function(){return this.isHaveFamilyFilter||(this.isHaveFamilyFilter=this.ModelItem.IsHaveFamilyFilter),this.isHaveFamilyFilter},set:function(t){this.isHaveFamilyFilter=t,this.ModelItem.IsHaveFamilyFilter=t}},{key:"FamilyFilterVM",get:function(){return!this.familyFilterVM&&this.ModelItem&&(this.familyFilterVM=this.GetFamilyFilterVM()),this.familyFilterVM}},{key:"IsHaveFamilyFilterVM",get:function(){var t=this;this.isHaveFamilyFilterVM||((this.isHaveFamilyFilterVM=un("Thi\u1ebft l\u1eadp l\u1ecdc Family",this.IsHaveFamilyFilter)).onCheckChange=function(e){t.IsHaveFamilyFilter=e});return this.isHaveFamilyFilterVM}}]),t}(),ln=function(t){var e=new hn;return e.ModelItem=t,e},pn=function(t,e){var n=new tn;return n.ModelItem=t,n.Dict=e,t.OnNameChanged=function(e){t.M2VM&&(n.Name=e)},t.OnDescriptionChanged=function(e){t.M2VM&&(n.Description=e)},t.OnDataChanged=function(e){t.M2VM&&(n.Data=e,n.DataVM=n.GetDataVM())},n.OnGetDataVM=function(){var e=t.Data;return ln(e)},n},fn=function(t){return t.IsNew?"Create":"Edit"},dn=function(){function t(){var e=this;Object(o.a)(this,t),this.dataVM=void 0,this.GetDataVM=function(){if(e.OnGetDataVM)return e.OnGetDataVM()},this.isNew=void 0,this.commandName=void 0,this.DeleteFunc=function(){e.EditItem.ModelItem.Delete(),e.EditItem.Delete(),e.EditItem=void 0},this.AddDatabase=function(){e.ModelItem.AddDatabase()},Object(j.k)(this,{dataVM:j.l,isNew:j.l})}return Object(u.a)(t,[{key:"Name",get:function(){return this.name||(this.name=this.ModelItem.Name),this.name},set:function(t){this.name=t,this.ModelItem.Name=t}},{key:"Description",get:function(){return this.description||(this.description=this.ModelItem.Description),this.description},set:function(t){this.description=t,this.ModelItem.Description=t}},{key:"SettingType",get:function(){return this.settingType||(this.settingType=this.ModelItem.SettingType),this.settingType},set:function(t){this.settingType=t,this.ModelItem.SettingType=t}},{key:"SearchName",get:function(){return this.Name}},{key:"NameVM",get:function(){var t=this;this.nameVM||((this.nameVM=b(this.Name,"t\xean b\u1ed9 l\u1ecdc")).onSetContent=function(e){return t.Name=e});return this.nameVM}},{key:"DescriptionVM",get:function(){var t=this;this.descriptionVM||((this.descriptionVM=b(this.Description,"m\xf4 t\u1ea3")).onSetContent=function(e){return t.Description=e});return this.descriptionVM}},{key:"SettingTypeVM",get:function(){var t=this;this.settingTypeVM||((this.settingTypeVM=b(this.SettingType,"lo\u1ea1i thi\u1ebft l\u1eadp")).onSetContent=function(e){return t.SettingType=e});return this.settingTypeVM}},{key:"DataVM",get:function(){return this.dataVM||(this.dataVM=this.GetDataVM()),this.dataVM},set:function(t){this.DataVM.SetData&&this.DataVM.SetData(t)}},{key:"EditItem",get:function(){return this.editItem},set:function(t){this.editItem=t;var e=this.ModelItem;if(t){e.EditItem=t.ModelItem;var n=t.Name,i=t.Description,s=t.SettingType;this.NameVM.Content=n,this.DescriptionVM.Content=i,this.SettingTypeVM.Content=s,this.DataVM=t.DataVM,this.IsNewVM.Ischecked=!1}else e.EditItem=t,this.IsNewVM.Ischecked=!0}},{key:"IsNew",get:function(){return void 0===this.isNew&&(this.isNew=this.ModelItem.IsNew),this.isNew},set:function(t){this.isNew=t,this.CommandVM.Content=fn(this),this.ModelItem.IsNew=t}},{key:"IsNewVM",get:function(){var t=this;if(!this.isNewVM){var e=this.isNewVM=un("Thi\u1ebft l\u1eadp m\u1edbi",this.IsNew);e.isDisable=!0,e.onCheckChange=function(n){t.IsNew=n,e.isDisable=!!n}}return this.isNewVM}},{key:"CommandName",get:function(){return this.commandName||(this.commandName=fn(this)),this.commandName},set:function(t){this.commandName=t}},{key:"CommandVM",get:function(){var t=this;this.commandVM||((this.commandVM=b(this.CommandName)).onSetContent=function(e){return t.CommandName=e});return this.commandVM}},{key:"DeleteView",get:function(){return this.IsNew?"":Object(i.jsx)(v.a,{onClick:this.DeleteFunc,children:"Delete"})}}]),t}(),mn=function(t){Object(h.a)(n,t);var e=Object(l.a)(n);function n(){return Object(o.a)(this,n),e.apply(this,arguments)}return n}(dn),gn=function(t){var e=t.ModelItem.Items;if(e)return e.map((function(e){return pn(e,t)}))},vn=function(t){return function(t,e){var n=new mn;return n.ModelItem=t,n.Dict=e,t.OnAddDatabaseDone=function(t){var e=n.CommandName;x.b.success("".concat(e," element filter setting successfully"))},n.OnGetDataVM=function(){var e=t.Data;return ln(e)},n}(t.ModelItem.Input,t)},kn=function(){function t(){var e=this;Object(o.a)(this,t),this.workpackageVMStorageList=void 0,this.Delete=function(){e.ModelItem.Delete(),e.Dict.ValueSettingVMs.splice(e.Index,1)},this.SetData=function(t){e.RetrieveTypeSelectVM.InitialItem=t.RetrieveType,e.ValueFilterVM.SetData(t.ValueFilterVM),e.WorkpackageSelectVM.InitialItem=t.WorkpackageVM,e.MassTypeSelectVM.InitialItem=t.MassType}}return Object(u.a)(t,[{key:"Index",get:function(){return this.Dict.ValueSettingVMs.indexOf(this)}},{key:"RetrieveType",get:function(){return this.retrieveType||(this.retrieveType=this.ModelItem.RetrieveType),this.retrieveType},set:function(t){this.retrieveType=t,this.ModelItem.RetrieveType=t}},{key:"RetrieveTypeStorageList",get:function(){return bn(this)}},{key:"RetrieveTypeSelectVM",get:function(){var t=this;this.retrieveTypeSelectVM||((this.retrieveTypeSelectVM=nn(this.RetrieveTypeStorageList,this.RetrieveType)).OnSelectedItemChanged=function(e){return t.RetrieveType=e});return this.retrieveTypeSelectVM}},{key:"ValueFilterVM",get:function(){this.valueFilterVM||((this.valueFilterVM=cn(this.ModelItem.ValueFilter)).ValueSelectPlaceholder="gi\xe1 tr\u1ecb parameter");return this.valueFilterVM},set:function(t){this.valueFilterVM=t,this.ModelItem.ValueFilter=t?t.ModelItem:t}},{key:"WorkpackageVM",get:function(){return this.workpackageVM||(this.workpackageVM=yn(this)),this.workpackageVM},set:function(t){this.workpackageVM=t;var e=this.ModelItem;t?this.ModelItem.Workpackage=t.Workpackage:e.Workpackage=t}},{key:"WorkpackageVMStorageList",get:function(){return this.workpackageVMStorageList||(this.workpackageVMStorageList=Mn(this)),this.workpackageVMStorageList},set:function(t){this.workpackageVMStorageList=t;var e=this.WorkpackageSelectVM;e.Items=t,e.SelectedIndex=-1}},{key:"WorkpackageSelectVM",get:function(){var t=this;if(!this.workpackageSelectVM){var e=this.WorkpackageVMStorageList?this.WorkpackageVMStorageList:[],n=this.workpackageSelectVM=nn(e,this.WorkpackageVM);n.Placeholder="ch\u1ecdn c\xf4ng t\xe1c",n.OnSelectedItemChanged=function(e){return t.WorkpackageVM=e}}return this.workpackageSelectVM}},{key:"MassType",get:function(){return this.massType||(this.massType=this.ModelItem.MassType),this.massType},set:function(t){this.massType=t,this.ModelItem.MassType=t}},{key:"MassTypeStorageList",get:function(){return Vn(this)}},{key:"MassTypeSelectVM",get:function(){var t=this;if(!this.massTypeSelectVM){var e=this.massTypeSelectVM=nn(this.MassTypeStorageList,this.MassType);e.Placeholder="lo\u1ea1i kh\u1ed1i l\u01b0\u1ee3ng",e.OnSelectedItemChanged=function(e){return t.MassType=e}}return this.massTypeSelectVM}}]),t}(),jn=function(){return Ii.Instance},In=function(t,e){var n=new kn;return n.ModelItem=t,n.Dict=e,jn().Workpackage_DictVM.OnGetItemsDone_Funcs.push((function(t){n.WorkpackageVMStorageList=Mn(n)})),n},bn=function(t){return jn().ValueRetrieveTypes},yn=function(t){var e=t.ModelItem.Workpackage;if(e){var n=jn().Workpackage_DictVM.WorkpackageVMs;if(n){var i=n.findIndex((function(t){return t.Workpackage===e}));return-1!==i?n[i]:void 0}}},Mn=function(t){return jn().Workpackage_DictVM.WorkpackageVMs},Vn=function(t){return jn().MassTypes},On=function(){function t(){var e=this;Object(o.a)(this,t),this.elementFilterVMStorageList=void 0,this.valueSettingVMs=void 0,this.AddNewValueSettingVM=function(){var t=e.ModelItem.AddNewValueSetting(),n=In(t,e);return e.ValueSettingVMs.push(n),n},this.SetData=function(t){e.ElementFilterSelectVM.InitialItem=t.ElementFilterVM,e.ValueSettingVMs=t.ValueSettingVMs},Object(j.k)(this,{valueSettingVMs:j.l})}return Object(u.a)(t,[{key:"ElementFilterVM",get:function(){return this.elementFilterVM||(this.elementFilterVM=Sn(this)),this.elementFilterVM},set:function(t){this.elementFilterVM=t;var e=this.ModelItem;e.ElementFilter=t?t.ModelItem:t}},{key:"ElementFilterVMStorageList",get:function(){return this.elementFilterVMStorageList||(this.elementFilterVMStorageList=wn(this)),this.elementFilterVMStorageList},set:function(t){this.elementFilterVMStorageList=t;var e=this.ElementFilterSelectVM;e.Items=t,e.SelectedIndex=0}},{key:"ElementFilterSelectVM",get:function(){var t=this;if(!this.elementFilterSelectVM){var e=this.ElementFilterVMStorageList?this.ElementFilterVMStorageList:[],n=this.elementFilterSelectVM=nn(e,this.ElementFilterVM);n.Placeholder="ch\u1ecdn b\u1ed9 l\u1ecdc",n.OnSelectedItemChanged=function(e){return t.ElementFilterVM=e}}return this.elementFilterSelectVM}},{key:"ValueSettingVMs",get:function(){return this.valueSettingVMs||(this.valueSettingVMs=xn(this)),this.valueSettingVMs},set:function(t){var e=this.valueSettingVMs,n=this.ModelItem.ValueSettings,i=e.length,s=t.length;e.forEach((function(e,n){n>=s||e.SetData(t[n])}));var r=Math.abs(i-s);if(i>s)e.splice(s,r),n.splice(s,r);else if(i<s)for(var a=0;a<r;a++){var c=t[i+a],o=ue(c.ModelItem,this.ModelItem);n.push(o);var u=In(o,this);e.push(u)}}}]),t}(),Dn=function(){return Ii.Instance},Cn=function(t){var e=new On;return e.ModelItem=t,Dn().ElementFilterSetting_DictVM.OnGetItemsDone=function(t){e.ElementFilterVMStorageList=wn(e)},e},Sn=function(t){var e=t.ModelItem.ElementFilter;if(e){var n=Dn().ElementFilterSetting_DictVM.Items;if(n){var i=n.findIndex((function(t){return t.ModelItem===e}));return-1!==i?n[i]:void 0}}},wn=function(t){return Dn().ElementFilterSetting_DictVM.Items},xn=function(t){return t.ModelItem.ValueSettings.map((function(e){return In(e,t)}))},Fn=function(t){Object(h.a)(n,t);var e=Object(l.a)(n);function n(){var t;Object(o.a)(this,n);for(var i=arguments.length,s=new Array(i),r=0;r<i;r++)s[r]=arguments[r];return(t=e.call.apply(e,[this].concat(s))).OnInitialSetDataVM=function(t){t.ValueSettingVMs},t}return n}($e),Tn=function(t,e){var n=new Fn;return n.ModelItem=t,n.Dict=e,t.OnNameChanged=function(e){t.M2VM&&(n.Name=e)},t.OnDescriptionChanged=function(e){t.M2VM&&(n.Description=e)},t.OnDataChanged=function(e){t.M2VM&&(n.Data=e,n.DataVM=n.GetDataVM())},n.OnGetDataVM=function(){var e=t.Data;return Cn(e)},n},Nn=function(t){Object(h.a)(n,t);var e=Object(l.a)(n);function n(){return Object(o.a)(this,n),e.apply(this,arguments)}return n}(dn),_n=function(){function t(){var e=this;Object(o.a)(this,t),this.items=void 0,this.Add=function(t){e.Items.push(t)},Object(j.k)(this,{items:j.l})}return Object(u.a)(t,[{key:"Items",get:function(){return this.items||(this.items=Wn(this)),this.items}},{key:"CurrentItem",get:function(){return this.currentItem||(this.currentItem=this.ModelItem.CurrentItem),this.currentItem},set:function(t){this.currentItem=t,t?(this.ModelItem.CurrentItem=t.ModelItem,this.Input.EditItem=t):this.ModelItem.CurrentItem=t}},{key:"Input",get:function(){return this.input||(this.input=Gn(this)),this.input}}]),t}(),Wn=function(t){var e=t.ModelItem.Items;if(e)return e.map((function(e){return Tn(e,t)}))},Gn=function(t){return function(t,e){var n=new Nn;return n.ModelItem=t,n.Dict=e,t.OnAddDatabaseDone=function(t){var e=n.CommandName;x.b.success("".concat(e," setting successfully"))},n.OnGetDataVM=function(){var e=t.Data;return Cn(e)},n}(t.ModelItem.Input,t)},Pn=function(){function t(){var e=this;Object(o.a)(this,t),this.Delete=function(){var t=e.Index;e.Fields.splice(t,1),e.Dict.FieldVMs.splice(t,1)},this.SetData=function(t){e.FieldSelectVM.InitialItem=t.Field}}return Object(u.a)(t,[{key:"Index",get:function(){return this.Dict.FieldVMs.indexOf(this)}},{key:"Fields",get:function(){return this.Dict.ModelItem.Fields}},{key:"Field",get:function(){return this.Fields[this.Index]},set:function(t){this.Fields[this.Index]=t}},{key:"FieldStorageList",get:function(){return Rn()}},{key:"FieldSelectVM",get:function(){var t=this;this.fieldSelectVM||((this.fieldSelectVM=nn(this.FieldStorageList,this.Field)).OnSelectedItemChanged=function(e){return t.Field=e});return this.fieldSelectVM}}]),t}(),En=function(t,e){var n=new Pn;return n.Dict=e,n},Rn=function(){return Ii.Instance.MassPropertyNames},Ln=function(){function t(){var e=this;Object(o.a)(this,t),this.fieldVMs=void 0,this.AddNewFieldVM=function(){e.ModelItem.AddNewField();var t=En(0,e);return e.FieldVMs.push(t),t},this.SetData=function(t){e.FieldVMs=t.FieldVMs},Object(j.k)(this,{fieldVMs:j.l})}return Object(u.a)(t,[{key:"FieldVMs",get:function(){return this.fieldVMs||(this.fieldVMs=Hn(this)),this.fieldVMs},set:function(t){var e=this.fieldVMs,n=this.ModelItem.Fields,i=e.length,s=t.length;e.forEach((function(e,n){n>=s||e.SetData(t[n])}));var r=Math.abs(i-s);if(i>s)e.splice(s,r),n.splice(s,r);else if(i<s)for(var a=0;a<r;a++){var c=t[i+a].Field;n.push(c);var o=En(0,this);e.push(o)}}}]),t}(),An=(n(187),function(t){var e=new Ln;return e.ModelItem=t,e}),Hn=function(t){return t.ModelItem.Fields.map((function(e){return En(0,t)}))},Bn=function(t){Object(h.a)(n,t);var e=Object(l.a)(n);function n(){var t;Object(o.a)(this,n);for(var i=arguments.length,s=new Array(i),r=0;r<i;r++)s[r]=arguments[r];return(t=e.call.apply(e,[this].concat(s))).OnInitialSetDataVM=function(t){},t}return n}($e),Un=function(t,e){var n=new Bn;return n.ModelItem=t,n.Dict=e,t.OnNameChanged=function(e){t.M2VM&&(n.Name=e)},t.OnDescriptionChanged=function(e){t.M2VM&&(n.Description=e)},t.OnDataChanged=function(e){t.M2VM&&(n.Data=e,n.DataVM=n.GetDataVM())},n.OnGetDataVM=function(){var e=t.Data;return An(e)},n},qn=function(t){Object(h.a)(n,t);var e=Object(l.a)(n);function n(){return Object(o.a)(this,n),e.apply(this,arguments)}return n}(dn),zn=function(){function t(){var e=this;Object(o.a)(this,t),this.items=void 0,this.Add=function(t){e.Items.push(t)},Object(j.k)(this,{items:j.l})}return Object(u.a)(t,[{key:"Items",get:function(){return this.items||(this.items=Kn(this)),this.items}},{key:"CurrentItem",get:function(){return this.currentItem||(this.currentItem=this.ModelItem.CurrentItem),this.currentItem},set:function(t){this.currentItem=t,t?(this.ModelItem.CurrentItem=t.ModelItem,this.Input.EditItem=t):this.ModelItem.CurrentItem=t}},{key:"Input",get:function(){return this.input||(this.input=Jn(this)),this.input}}]),t}(),Kn=function(t){var e=t.ModelItem.Items;if(e)return e.map((function(e){return Un(e,t)}))},Jn=function(t){return function(t,e){var n=new qn;return n.ModelItem=t,n.Dict=e,t.OnAddDatabaseDone=function(t){var e=n.CommandName;x.b.success("".concat(e," setting successfully"))},n.OnGetDataVM=function(){var e=t.Data;return An(e)},n}(t.ModelItem.Input,t)},Qn=function(){function t(){Object(o.a)(this,t)}return Object(u.a)(t,[{key:"Name",get:function(){return this.name||(this.name=this.ModelItem.Name),this.name},set:function(t){this.name=t,this.ModelItem.Name=t}},{key:"Description",get:function(){return this.description||(this.description=this.ModelItem.Description),this.description},set:function(t){this.description=t,this.ModelItem.Description=t}},{key:"DisplayContent",get:function(){return"".concat(this.Name)}}]),t}(),Xn=function(t,e){if(t){var n=new Qn;return n.ModelItem=t,n.Dict=e,n}},Yn="addversion",Zn=function(){function t(){var e=this;Object(o.a)(this,t),this.items=void 0,this.OnGetItemsDone_Funcs=[],this.state=void 0,this.Add=function(t){e.Items.push(t)},this.AddVersion=function(){e.State=Yn},this.Cancel=function(){e.State=void 0},this.OK=function(){var t=e.Input.Name;-1===e.Items.findIndex((function(e){return e.Name===t}))?(e.State=void 0,e.ModelItem.AddMassVersion()):x.b.warning("version name already exists!")},Object(j.k)(this,{items:j.l,state:j.l})}return Object(u.a)(t,[{key:"Items",get:function(){return this.items||(this.items=ti(this)),this.items}},{key:"GetItemsDone",set:function(t){this.OnGetItemsDone_Funcs.forEach((function(t){return t()}))}},{key:"Input",get:function(){return this.input||(this.input=ei(this)),this.input}},{key:"State",get:function(){return this.state},set:function(t){this.state=t}}]),t}(),$n=function(){function t(){Object(o.a)(this,t),this.name=void 0}return Object(u.a)(t,[{key:"Name",get:function(){return this.name||(this.name=this.ModelItem.Name),this.name},set:function(t){this.name=t,this.ModelItem.Name=t}},{key:"Description",get:function(){return this.description||(this.description=this.ModelItem.Description),this.description},set:function(t){this.description=t,this.ModelItem.Description=t}},{key:"NameVM",get:function(){var t=this;this.nameVM||((this.nameVM=b(this.Name,"t\xean version")).onSetContent=function(e){return t.Name=e});return this.nameVM}},{key:"DescriptionVM",get:function(){var t=this;this.descriptionVM||((this.descriptionVM=b(this.Description,"m\xf4 t\u1ea3")).onSetContent=function(e){return t.Description=e});return this.descriptionVM}}]),t}(),ti=function(t){var e=t.ModelItem.Items;if(e)return e.map((function(e){return Xn(e,t)}))},ei=function(t){return function(t,e){var n=new $n;return n.ModelItem=t,n.Dict=e,n}(t.ModelItem.Input,t)},ni=function(){function t(){Object(o.a)(this,t)}return Object(u.a)(t,[{key:"Name",get:function(){return this.name||(this.name=this.ModelItem.Name),this.name},set:function(t){this.name=t,this.ModelItem.Name=t}},{key:"Code",get:function(){return this.code||(this.code=this.ModelItem.Code),this.code},set:function(t){this.code=t,this.ModelItem.Code=t}},{key:"Phase_DictVM",get:function(){return this.phase_DictVM||(this.phase_DictVM=si(this)),this.phase_DictVM}},{key:"DisplayContent",get:function(){return"".concat(this.Code," - ").concat(this.Name)}}]),t}(),ii=function(t,e){if(t){var n=new ni;return n.ModelItem=t,n.Dict=e,n}},si=function(t){return function(t){var e=new Zn;return e.ModelItem=t,t.OnGetItemsDone_Funcs.push((function(t){e.Items,e.GetItemsDone=!0})),t.OnAdd=function(t){e.Add(Xn(t,e))},e}(t.ModelItem.Phase_Dict)},ri=function(){function t(){Object(o.a)(this,t),this.items=void 0,Object(j.k)(this,{items:j.l})}return Object(u.a)(t,[{key:"Items",get:function(){return this.items||(this.items=ai(this)),this.items},set:function(t){this.items=t,this.ModelItem.Items=t.map((function(t){return t.ModelItem}))}},{key:"GetItemsDone",set:function(t){this.OnGetItemsDone&&this.OnGetItemsDone(t)}}]),t}(),ai=function(t){var e=t.ModelItem.Items;if(e)return e.map((function(e){return ii(e,t)}))},ci=function(){function t(){var e=this;Object(o.a)(this,t),this.IsShowProjectSelect=!0,this.CanHavePhase=!1,this.isHavePhase=void 0,this.GetMassData=function(){e.ModelItem.GetMassData()},Object(j.k)(this,{IsShowProjectSelect:j.l,CanHavePhase:j.l,isHavePhase:j.l})}return Object(u.a)(t,[{key:"Projects",get:function(){return this.projects||(this.projects=this.ModelItem.Projects),this.projects},set:function(t){this.projects=t,this.ModelItem.Projects=t}},{key:"ProjectVMs",get:function(){return this.projectVMs||(this.projectVMs=li(this)),this.projectVMs},set:function(t){this.projectVMs=t,this.Projects=t.map((function(t){return t.ModelItem}))}},{key:"ProjectVMStorageList",get:function(){return this.projectVMStorageList||(this.projectVMStorageList=hi(this)),this.projectVMStorageList},set:function(t){this.projectVMStorageList=t,this.projectVMs=li(this);var e=this.ProjectSelectVM;e.Items=t,e.InitialItems=this.projectVMs}},{key:"ProjectSelectVM",get:function(){var t=this;if(!this.projectSelectVM){var e=this.ProjectVMStorageList?this.ProjectVMStorageList:[],n=this.projectSelectVM=rn(e,this.ProjectVMs);n.Placeholder="ch\u1ecdn d\u1ef1 \xe1n",n.OnSelectedItemChanged=function(e){return t.ProjectVMs=e}}return this.projectSelectVM}},{key:"Workpackages",get:function(){return this.workpackages||(this.workpackages=this.ModelItem.Workpackages),this.workpackages},set:function(t){this.workpackages=t,this.ModelItem.Workpackages=t}},{key:"WorkpackageVMs",get:function(){return this.workpackageVMs||(this.workpackageVMs=fi(this)),this.workpackageVMs},set:function(t){this.workpackageVMs=t,this.Workpackages=t.map((function(t){return t.Workpackage}))}},{key:"WorkpackageVMStorageList",get:function(){return this.workpackageVMStorageList||(this.workpackageVMStorageList=pi(this)),this.workpackageVMStorageList},set:function(t){this.workpackageVMStorageList=t,this.workpackageVMs=fi(this);var e=this.WorkpackageSelectVM;e.Items=t,e.InitialItems=this.workpackageVMs}},{key:"WorkpackageSelectVM",get:function(){var t=this;if(!this.workpackageSelectVM){var e=this.WorkpackageVMStorageList?this.WorkpackageVMStorageList:[],n=this.workpackageSelectVM=rn(e,this.WorkpackageVMs);n.Placeholder="ch\u1ecdn c\xf4ng t\xe1c",n.OnSelectedItemChanged=function(e){return t.WorkpackageVMs=e}}return this.workpackageSelectVM}},{key:"Phases",get:function(){return this.phases||(this.phases=this.ModelItem.Phases),this.phases},set:function(t){this.phases=t,this.ModelItem.Phases=t}},{key:"PhaseVMs",get:function(){return this.phaseVMs||(this.phaseVMs=di(this)),this.phaseVMs},set:function(t){this.phaseVMs=t,this.Phases=t.map((function(t){return t.ModelItem}))}},{key:"MassItem_Dict",get:function(){return this.massItem_Dict||(this.massItem_Dict=this.ModelItem.MassItem_Dict),this.massItem_Dict}},{key:"PhaseVMStorageList",get:function(){return this.phaseVMStorageList},set:function(t){this.phaseVMStorageList=t,this.phaseVMs=di(this);var e=this.PhaseSelectVM;e.Items=t,e.InitialItems=this.phaseVMs}},{key:"PhaseSelectVM",get:function(){var t=this;if(!this.phaseSelectVM){var e=this.PhaseVMStorageList?this.PhaseVMStorageList:[],n=this.phaseSelectVM=rn(e,this.PhaseVMs);n.Placeholder="ch\u1ecdn version",n.OnSelectedItemChanged=function(e){return t.PhaseVMs=e}}return this.phaseSelectVM}},{key:"IsHavePhase",get:function(){return this.isHavePhase||(this.isHavePhase=this.ModelItem.IsHavePhase),this.isHavePhase},set:function(t){this.isHavePhase=t,this.ModelItem.IsHavePhase=t}},{key:"IsShowPhaseSelectVM",get:function(){var t=this;this.isShowPhaseSelectVM||((this.isShowPhaseSelectVM=un("So s\xe1nh c\xe1c version",this.IsHavePhase)).onCheckChange=function(e){t.IsHavePhase=e});return this.isShowPhaseSelectVM}}]),t}(),oi=function(){return Ii.Instance},ui=function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=new ci;return n.ModelItem=t,e&&(oi().Project_DictVM.OnGetItemsDone=function(t){n.ProjectVMStorageList=hi(n)}),oi().Workpackage_DictVM.OnGetItemsDone_Funcs.push((function(t){n.WorkpackageVMStorageList=pi(n)})),t.OnGetItemsDone_Funcs.push((function(){x.b.success("get mass data successfully")})),n},hi=function(t){return oi().Project_DictVM.Items},li=function(t){var e=t.ProjectVMStorageList;if(!e)return[];var n=[];return t.Projects.forEach((function(t){var i=e.findIndex((function(e){return e.ModelItem===t}));-1!==i&&n.push(e[i])})),n},pi=function(t){return oi().Workpackage_DictVM.WorkpackageVMs},fi=function(t){var e=t.WorkpackageVMStorageList;if(!e)return[];var n=[];return t.Workpackages.forEach((function(t){var i=e.findIndex((function(e){return e.Workpackage===t}));-1!==i&&n.push(e[i])})),n},di=function(t){var e=t.PhaseVMStorageList;if(!e)return[];var n=[];return t.Phases.forEach((function(t){var i=e.findIndex((function(e){return e.ModelItem===t}));-1!==i&&n.push(e[i])})),n},mi=function(){return Ae.Instance},gi=function(t){return function(t){var e=new Ze;return e.ModelItem=t,t.OnGetItemsDone=function(t){e.Items,e.GetItemsDone=!0},t.OnAdd=function(t){e.Add(pn(t,e))},e}(mi().ElementFilterSetting_Dict)},vi=function(t){return function(t){var e=new _n;return e.ModelItem=t,t.OnGetItemsDone=function(t){e.Items},t.OnAdd=function(t){e.Add(Tn(t,e))},e}(mi().MassExportSetting_Dict)},ki=function(t){return function(t){var e=new zn;return e.ModelItem=t,t.OnGetItemsDone=function(t){e.Items},t.OnAdd=function(t){e.Add(Un(t,e))},e}(mi().MassGroupSetting_Dict)},ji=function(t){return function(t){var e=new ri;return e.ModelItem=t,t.OnGetItemsDone=function(t){e.Items,e.GetItemsDone=!0},e}(mi().Project_Dict)},Ii=function(){function t(){Object(o.a)(this,t)}return Object(u.a)(t,[{key:"pmData",get:function(){return Ae.Instance}},{key:"Workpackage_DictVM",get:function(){return this.workpackage_DictVM||(this.workpackage_DictVM=Ci(mi().Workpackage_Dict)),this.workpackage_DictVM}},{key:"ElementFilterSetting_DictVM",get:function(){return this.elementFilterSetting_DictVM||(this.elementFilterSetting_DictVM=gi()),this.elementFilterSetting_DictVM}},{key:"MassExportSetting_DictVM",get:function(){return this.massExportSetting_DictVM||(this.massExportSetting_DictVM=vi()),this.massExportSetting_DictVM}},{key:"MassGroupSetting_DictVM",get:function(){return this.massGroupSetting_DictVM||(this.massGroupSetting_DictVM=ki()),this.massGroupSetting_DictVM}},{key:"Project_DictVM",get:function(){return this.project_DictVM||(this.project_DictVM=ji()),this.project_DictVM}},{key:"MassResultCompVM",get:function(){return this.massResultCompVM||(this.massResultCompVM=ui(mi().MassResultComp)),this.massResultCompVM},set:function(t){this.massResultCompVM=t,this.pmData.MassResultComp=t?t.ModelItem:t}},{key:"FilterValueTypes",get:function(){return this.filterValueTypes||(this.filterValueTypes=this.pmData.FilterValueTypes),this.filterValueTypes}},{key:"StringFilterTypes",get:function(){return this.stringFilterTypes||(this.stringFilterTypes=this.pmData.StringFilterTypes),this.stringFilterTypes}},{key:"CategoryNames",get:function(){return this.categoryNames||(this.categoryNames=this.pmData.CategoryNames),this.categoryNames}},{key:"ValueRetrieveTypes",get:function(){return this.valueRetrieveTypes||(this.valueRetrieveTypes=this.pmData.ValueRetrieveTypes),this.valueRetrieveTypes}},{key:"ParameterNames",get:function(){return this.parameterNames||(this.parameterNames=this.pmData.ParameterNames),this.parameterNames}},{key:"MassPropertyNames",get:function(){return this.massPropertyNames||(this.massPropertyNames=this.pmData.MassPropertyNames),this.massPropertyNames}},{key:"MassTypes",get:function(){return this.massTypes||(this.massTypes=this.pmData.MassTypes),this.massTypes}}],[{key:"Instance",get:function(){return this.instance||(this.instance=new t),this.instance}}]),t}(),bi=function(t,e){var n=new Ye;return n.Workpackage=t,n.Dict=e,t.OnCodeChanged=function(e){t.M2VM&&(n.Code=e)},t.OnNameChanged=function(e){t.M2VM&&(n.Name=e)},t.OnDescriptionChanged=function(e){t.M2VM&&(n.Description=e)},t.OnFullNameChanged=function(e){t.M2VM&&(n.FullName=e)},t.OnDelete=function(){n.Delete()},n},yi=function(t){var e=t.Workpackage.SupItem,n=Ii.Instance.Workpackage_DictVM.WorkpackageVMs,i=n.findIndex((function(t){return t.Workpackage===e}));return-1!==i?n[i]:void 0},Mi=function(){function t(){var e=this;Object(o.a)(this,t),this.code=void 0,this.name=void 0,this.description=void 0,this.supItem=void 0,this.workpackageVMStorageList=void 0,this.isNew=void 0,this.commandName=void 0,this.AsString=function(){return"".concat(e.Code," ").concat(e.Name," ").concat(e.Description," ").concat(e.IsNew)},this.AddDatabase=function(){e.WorkpackageInput.AddDatabase()},this.DeleteFunc=function(){e.WorkpackageVM.Workpackage.Delete(),e.WorkpackageVM=void 0},this.Clear=function(){e.CodeVM.Content=null,e.NameVM.Content=null,e.DescriptionVM.Content=null,e.IsNewVM.Ischecked=!0},Object(j.k)(this,{isNew:j.l})}return Object(u.a)(t,[{key:"Code",get:function(){return this.code||(this.code=this.WorkpackageInput.Code),this.code},set:function(t){this.code=t,this.WorkpackageInput.Code=t}},{key:"Name",get:function(){return this.name||(this.name=this.WorkpackageInput.Name),this.name},set:function(t){this.name=t,this.WorkpackageInput.Name=t}},{key:"Description",get:function(){return this.description||(this.description=this.WorkpackageInput.Description),this.description},set:function(t){this.description=t,this.WorkpackageInput.Description=t}},{key:"SupItem",get:function(){return this.supItem},set:function(t){this.supItem=t;var e=this.WorkpackageInput;e.SupItem=t?t.Workpackage:t}},{key:"WorkpackageVMStorageList",get:function(){return this.workpackageVMStorageList||(this.workpackageVMStorageList=Di(this)),this.workpackageVMStorageList},set:function(t){this.workpackageVMStorageList=t;var e=this.SupItemSelectVM;e.Items=t,e.InitialItem=this.SupItem}},{key:"SupItemSelectVM",get:function(){var t=this;if(!this.supItemSelectVM){var e=this.supItemSelectVM=nn(this.WorkpackageVMStorageList,this.SupItem);e.Placeholder="c\xf4ng t\xe1c cha",e.CanClear=!0,e.OnSelectedItemChanged=function(e){return t.SupItem=e}}return this.supItemSelectVM}},{key:"IsNew",get:function(){return void 0===this.isNew&&(this.isNew=this.WorkpackageInput.IsNew),this.isNew},set:function(t){this.isNew=t,this.CommandVM.Content=Oi(this),this.WorkpackageInput.IsNew=t}},{key:"CommandName",get:function(){return this.commandName||(this.commandName=Oi(this)),this.commandName},set:function(t){this.commandName=t}},{key:"WorkpackageVM",get:function(){return this.workpackageVM},set:function(t){if(this.workpackageVM=t,t){this.WorkpackageInput.Workpackage=t.Workpackage;var e=t.Code,n=t.Name,i=t.Description,s=t.SupItem;this.CodeVM.Content=e,this.NameVM.Content=n,this.DescriptionVM.Content=i,this.SupItemSelectVM.InitialItem=s,this.IsNewVM.Ischecked=!1}else this.WorkpackageInput.Workpackage=t,this.IsNewVM.Ischecked=!0}},{key:"CodeVM",get:function(){var t=this;this.codeVM||((this.codeVM=b(this.Code,"m\xe3 code")).onSetContent=function(e){return t.Code=e});return this.codeVM}},{key:"NameVM",get:function(){var t=this;this.nameVM||((this.nameVM=b(this.Name,"t\xean c\xf4ng t\xe1c")).onSetContent=function(e){return t.Name=e});return this.nameVM}},{key:"DescriptionVM",get:function(){var t=this;this.descriptionVM||((this.descriptionVM=b(this.Description,"m\xf4 t\u1ea3")).onSetContent=function(e){return t.Description=e});return this.descriptionVM}},{key:"IsNewVM",get:function(){var t=this;if(!this.isNewVM){var e=this.isNewVM=un("C\xf4ng t\xe1c m\u1edbi",this.IsNew);e.isDisable=!0,e.onCheckChange=function(n){t.IsNew=n,e.isDisable=!!n}}return this.isNewVM}},{key:"CommandVM",get:function(){var t=this;this.commandVM||((this.commandVM=b(this.CommandName)).onSetContent=function(e){return t.CommandName=e});return this.commandVM}},{key:"DeleteView",get:function(){return this.IsNew?"":Object(i.jsx)(v.a,{onClick:this.DeleteFunc,children:"Delete"})}}]),t}(),Vi=function(){return Ii.Instance},Oi=function(t){return t.IsNew?"Create":"Edit"},Di=function(t){return Vi().Workpackage_DictVM.WorkpackageVMs},Ci=function(t){var e=new wi;return e.Workpackage_Dict=t,t.OnGetWorkpackagesDone=function(t){e.WorkpackageVMs;e.GetItemsDone=!0},t.OnAdd=function(t){var n=bi(t,e);e.Add(n)},e},Si=function(t){return function(t,e){var n=new Mi;return n.WorkpackageInput=t,n.Dict=e,Vi().Workpackage_DictVM.OnGetItemsDone_Funcs.push((function(){n.WorkpackageVMStorageList=Di(n)})),t.OnAddDatabaseDone=function(t){var e=n.CommandName;x.b.success("".concat(e," workpackage successfully"))},e.OnAdd=function(t){n.WorkpackageVM=t},n}(t.Workpackage_Dict.WorkpackageInput,t)},wi=function(){function t(){var e=this;Object(o.a)(this,t),this.OnGetItemsDone_Funcs=[],this.workpackageVMs=void 0,this.Add=function(t){e.WorkpackageVMs.push(t),e.OnAdd&&e.OnAdd(t)},Object(j.k)(this,{workpackageVMs:j.l})}return Object(u.a)(t,[{key:"GetItemsDone",set:function(t){this.OnGetItemsDone_Funcs.forEach((function(t){return t()}))}},{key:"M2VM",get:function(){return this.Workpackage_Dict.M2VM},set:function(t){this.Workpackage_Dict.M2VM=t}},{key:"WorkpackageVMs",get:function(){return this.workpackageVMs||(this.workpackageVMs=function(t){var e=t.Workpackage_Dict.Workpackages;if(e)return e.map((function(e){return bi(e,t)}))}(this)),this.workpackageVMs}},{key:"CurrentWorkpackageVM",set:function(t){this.Workpackage_Dict=t,this.Workpackage_Dict.CurrentWorkpackage=t.Workpackage,this.WorkpackageInputVM.WorkpackageVM=t}},{key:"WorkpackageInputVM",get:function(){return this.workpackageInputVM||(this.workpackageInputVM=Si(this)),this.workpackageInputVM}}]),t}(),xi=function(t){Object(h.a)(n,t);var e=Object(l.a)(n);function n(t){var i;Object(o.a)(this,n),(i=e.call(this,t)).onCheckedChange=function(t){var e=t.target.checked;i.state.Ischecked=e};var s=i.props.store;return i.state=s||un(!1),i}return Object(u.a)(n,[{key:"render",value:function(){var t=this.state,e=t.ischecked,n=t.name,s=t.isDisable;return Object(i.jsx)(i.Fragment,{children:Object(i.jsxs)("label",{children:[Object(i.jsx)("input",{type:"checkbox",checked:e,onChange:this.onCheckedChange,disabled:s}),n]})})}}]),n}(s.Component),Fi=Object(p.a)(xi),Ti=function t(){var e=this;Object(o.a)(this,t),this.getClassName=function(){return e.className||(e.className="float ".concat(e.location)),e.className}},Ni=function(t){var e=new Ti;return e.location=t,e},_i=function(t){Object(h.a)(n,t);var e=Object(l.a)(n);function n(t){var i;Object(o.a)(this,n),(i=e.call(this,t)).getWrapperContent=function(){var t=i.state.wrapper;return t||""};var s=i.props.store;return i.state=s||Ni("top right"),i}return Object(u.a)(n,[{key:"render",value:function(){var t=this.state;return Object(i.jsx)(i.Fragment,{children:Object(i.jsx)("span",{className:t.getClassName(),children:this.getWrapperContent()})})}}]),n}(s.Component),Wi=Object(p.a)(_i),Gi=m.a.Option,Pi=function(t){Object(h.a)(n,t);var e=Object(l.a)(n);function n(t){var i;Object(o.a)(this,n),(i=e.call(this,t)).onValueChange=function(t){i.state.SelectedIndex=t};var s=i.props.store;return i.state=s||new en,i}return Object(u.a)(n,[{key:"render",value:function(){var t=this.state,e=t.Placeholder,n=t.Items,s=t.SelectedIndex,r=t.InitialIndex;-1===s&&(s=r,t.InitialIndex=-1);var a=n?n.map((function(t,e){var n=t.DisplayContent?t.DisplayContent:"".concat(t);return Object(i.jsx)(Gi,{value:e,children:n},e)})):"",c="";if(t.CanClear){var o=Ni("right");o.wrapper=Object(i.jsx)(v.a,{size:"small",type:"primary",onClick:t.Clear,children:"x"}),c=Object(i.jsx)(Wi,{store:o})}return Object(i.jsx)(i.Fragment,{children:Object(i.jsxs)("div",{style:t.DivStyle,children:[c,Object(i.jsx)(m.a,{showSearch:!0,style:{width:"100%"},placeholder:e,optionFilterProp:"children",onChange:this.onValueChange,value:s,filterOption:function(t,e){return e.children.toLowerCase().indexOf(t.toLowerCase())>=0},children:a})]})})}}]),n}(s.Component),Ei=Object(p.a)(Pi),Ri=m.a.Option,Li=function(t){Object(h.a)(n,t);var e=Object(l.a)(n);function n(t){var i;Object(o.a)(this,n),(i=e.call(this,t)).onValueChange=function(t){var e=i.state,n=e.WorkpackageVMs;e.CurrentWorkpackageVM=n[t]};var s=i.props.store;return i.state=s||new wi,i}return Object(u.a)(n,[{key:"render",value:function(){var t=this.state,e=t.WorkpackageVMs,n=e?e.map((function(t,e){var n=t.SearchName;return Object(i.jsx)(Ri,{value:e,children:n},e)})):"",s=t.WorkpackageInputVM,r=s.CommandVM;return Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)(g.a,{orientation:"left",plain:!0,children:Object(i.jsx)("b",{children:"C\xf4ng t\xe1c"})}),Object(i.jsx)(m.a,{showSearch:!0,style:{width:"100%"},placeholder:"search c\xf4ng t\xe1c",optionFilterProp:"children",onChange:this.onValueChange,value:null,filterOption:function(t,e){return e.children.toLowerCase().indexOf(t.toLowerCase())>=0},children:n}),Object(i.jsxs)("div",{style:{marginTop:20},children:[Object(i.jsx)(M,{store:s.CodeVM}),Object(i.jsx)(M,{store:s.NameVM}),Object(i.jsx)(M,{store:s.DescriptionVM}),Object(i.jsx)(Ei,{store:s.SupItemSelectVM}),Object(i.jsxs)("div",{children:[Object(i.jsx)(Fi,{store:s.IsNewVM}),Object(i.jsx)(v.a,{style:{margin:10},onClick:s.AddDatabase,children:r.Content}),s.DeleteView]})]})]})}}]),n}(s.Component),Ai=Object(p.a)(Li),Hi=m.a.Option,Bi=function(t){Object(h.a)(n,t);var e=Object(l.a)(n);function n(t){var i;Object(o.a)(this,n),(i=e.call(this,t)).onValueChange=function(t){i.state.SelectedIndexs=t};var s=i.props.store;return i.state=s||new sn,i}return Object(u.a)(n,[{key:"render",value:function(){var t=this.state,e=t.Placeholder,n=t.Items,s=t.SelectedIndexs,r=t.InitialIndexs;0===s.length&&(s=r,t.InitialIndexs=[]);var a=n?n.map((function(t,e){var n=t.DisplayContent?t.DisplayContent:"".concat(t);return Object(i.jsx)(Hi,{value:e,children:n},e)})):"";return Object(i.jsx)(i.Fragment,{children:Object(i.jsx)(m.a,{mode:"multiple",style:{width:"100%"},placeholder:e,optionFilterProp:"children",onChange:this.onValueChange,value:s,filterOption:function(t,e){return e.children.toLowerCase().indexOf(t.toLowerCase())>=0},children:a})})}}]),n}(s.Component),Ui=Object(p.a)(Bi),qi=(m.a.Option,function(t){Object(h.a)(n,t);var e=Object(l.a)(n);function n(t){var i;Object(o.a)(this,n),(i=e.call(this,t)).test=function(){console.log("test button")},i.onValueChange=function(t){var e=i.state,n=e.ItemVMs;e.CurrentItemVM=n[t]};var s=i.props.store;return i.state=s||new an,i}return Object(u.a)(n,[{key:"render",value:function(){var t=this.state;return Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)("div",{children:Object(i.jsx)(Ei,{store:t.ValueTypeSelectVM})}),Object(i.jsx)("div",{children:Object(i.jsx)(Ei,{store:t.StringFilterTypeSelectVM})}),Object(i.jsx)("div",{children:Object(i.jsx)(Ui,{store:t.ValuesSelectVM})})]})}}]),n}(s.Component)),zi=Object(p.a)(qi),Ki=(m.a.Option,function(t){Object(h.a)(n,t);var e=Object(l.a)(n);function n(t){var i;Object(o.a)(this,n);var s=(i=e.call(this,t)).props.store;return i.state=s||new hn,i}return Object(u.a)(n,[{key:"render",value:function(){var t=this.state,e=t.IsHaveFamilyFilter;return Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)(g.a,{orientation:"left",plain:!0,children:"Thi\u1ebft l\u1eadp l\u1ecdc Category"}),Object(i.jsx)(zi,{store:t.CategoryFilterVM}),Object(i.jsx)(g.a,{orientation:"left",plain:!0,children:Object(i.jsx)(Fi,{store:t.IsHaveFamilyFilterVM})}),e?Object(i.jsx)(zi,{store:t.FamilyFilterVM}):""]})}}]),n}(s.Component)),Ji=Object(p.a)(Ki),Qi=m.a.Option,Xi=function(t){Object(h.a)(n,t);var e=Object(l.a)(n);function n(t){var i;Object(o.a)(this,n),(i=e.call(this,t)).test=function(){console.log("test button")},i.onValueChange=function(t){var e=i.state,n=e.Items;e.CurrentItem=n[t]};var s=i.props.store;return i.state=s||new Ze,i}return Object(u.a)(n,[{key:"render",value:function(){var t=this.state,e=t.Items,n=e?e.map((function(t,e){var n=t.SearchName;return Object(i.jsx)(Qi,{value:e,children:n},e)})):"",s=t.Input;return Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)(g.a,{orientation:"left",plain:!0,children:Object(i.jsx)("b",{children:"B\u1ed9 l\u1ecdc \u0111\u1ed1i t\u01b0\u1ee3ng"})}),Object(i.jsx)(m.a,{showSearch:!0,style:{width:"100%"},placeholder:"search b\u1ed9 l\u1ecdc",optionFilterProp:"children",onChange:this.onValueChange,value:null,filterOption:function(t,e){return e.children.toLowerCase().indexOf(t.toLowerCase())>=0},children:n}),Object(i.jsxs)("div",{style:{marginTop:20},children:[Object(i.jsx)(M,{store:s.NameVM}),Object(i.jsx)(M,{store:s.DescriptionVM}),Object(i.jsx)(Ji,{store:s.DataVM}),Object(i.jsx)(Fi,{store:s.IsNewVM}),Object(i.jsx)(v.a,{style:{margin:10},onClick:s.AddDatabase,children:s.CommandVM.Content}),s.DeleteView]})]})}}]),n}(s.Component),Yi=Object(p.a)(Xi),Zi=(m.a.Option,function(t){Object(h.a)(n,t);var e=Object(l.a)(n);function n(t){var i;Object(o.a)(this,n);var s=(i=e.call(this,t)).props.store;return i.state=s||new kn,i}return Object(u.a)(n,[{key:"render",value:function(){var t=this.state,e=Ni("top right");return e.wrapper=Object(i.jsx)(v.a,{size:"small",type:"primary",onClick:t.Delete,children:"x"}),Object(i.jsx)(i.Fragment,{children:Object(i.jsxs)("div",{style:{padding:"10px 35px 10px 10px",margin:"8px auto",border:"solid 0.5px",borderRadius:"10px",position:"relative"},children:[Object(i.jsx)(Wi,{store:e}),Object(i.jsx)(Ei,{store:t.RetrieveTypeSelectVM}),Object(i.jsx)(Ei,{store:t.MassTypeSelectVM}),Object(i.jsx)(zi,{store:t.ValueFilterVM}),Object(i.jsx)(Ei,{store:t.WorkpackageSelectVM})]})})}}]),n}(s.Component)),$i=Object(p.a)(Zi),ts=(m.a.Option,function(t){Object(h.a)(n,t);var e=Object(l.a)(n);function n(t){var i;Object(o.a)(this,n);var s=(i=e.call(this,t)).props.store;return i.state=s||new On,i}return Object(u.a)(n,[{key:"render",value:function(){var t=this.state,e=t.ValueSettingVMs.map((function(t,e){return Object(i.jsx)($i,{store:t},e)}));return Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)(Ei,{store:t.ElementFilterSelectVM}),Object(i.jsxs)(g.a,{orientation:"left",plain:!0,children:["Thi\u1ebft l\u1eadp gi\xe1 tr\u1ecb",Object(i.jsx)(v.a,{type:"primary",size:"small",onClick:t.AddNewValueSettingVM,style:{marginLeft:15},children:"+"})]}),e]})}}]),n}(s.Component)),es=Object(p.a)(ts),ns=m.a.Option,is=function(t){Object(h.a)(n,t);var e=Object(l.a)(n);function n(t){var i;Object(o.a)(this,n),(i=e.call(this,t)).onValueChange=function(t){var e=i.state,n=e.Items;e.CurrentItem=n[t]};var s=i.props.store;return i.state=s||new _n,i}return Object(u.a)(n,[{key:"render",value:function(){var t=this.state,e=t.Items,n=e?e.map((function(t,e){var n=t.SearchName;return Object(i.jsx)(ns,{value:e,children:n},e)})):"",s=t.Input;return Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)(g.a,{orientation:"left",plain:!0,children:Object(i.jsx)("b",{children:"Thi\u1ebft l\u1eadp xu\u1ea5t kh\u1ed1i l\u01b0\u1ee3ng"})}),Object(i.jsx)(m.a,{showSearch:!0,style:{width:"100%"},placeholder:"search thi\u1ebft l\u1eadp",optionFilterProp:"children",onChange:this.onValueChange,value:null,filterOption:function(t,e){return e.children.toLowerCase().indexOf(t.toLowerCase())>=0},children:n}),Object(i.jsxs)("div",{style:{marginTop:20},children:[Object(i.jsx)(M,{store:s.NameVM}),Object(i.jsx)(M,{store:s.DescriptionVM}),Object(i.jsx)(es,{store:s.DataVM}),Object(i.jsxs)("div",{children:[Object(i.jsx)(Fi,{store:s.IsNewVM}),Object(i.jsx)(v.a,{style:{margin:10},onClick:s.AddDatabase,children:s.CommandVM.Content}),s.DeleteView]})]})]})}}]),n}(s.Component),ss=Object(p.a)(is),rs=(m.a.Option,function(t){Object(h.a)(n,t);var e=Object(l.a)(n);function n(t){var i;Object(o.a)(this,n);var s=(i=e.call(this,t)).props.store;return i.state=s||new Pn,i}return Object(u.a)(n,[{key:"render",value:function(){var t=this.state,e=Ni("top right");return e.wrapper=Object(i.jsx)(v.a,{size:"small",type:"primary",onClick:t.Delete,children:"x"}),Object(i.jsx)(i.Fragment,{children:Object(i.jsxs)("div",{style:{padding:"0px 35px 0px 10px",margin:"3px auto",position:"relative"},children:[Object(i.jsx)(Wi,{store:e}),Object(i.jsx)(Ei,{store:t.FieldSelectVM})]})})}}]),n}(s.Component)),as=Object(p.a)(rs),cs=(m.a.Option,function(t){Object(h.a)(n,t);var e=Object(l.a)(n);function n(t){var i;Object(o.a)(this,n);var s=(i=e.call(this,t)).props.store;return i.state=s||new Ln,i}return Object(u.a)(n,[{key:"render",value:function(){var t=this.state,e=t.FieldVMs.map((function(t,e){return Object(i.jsx)(as,{store:t},e)}));return Object(i.jsxs)(i.Fragment,{children:[Object(i.jsxs)(g.a,{orientation:"left",plain:!0,children:["Ph\xe2n c\u1ea5p th\xf4ng tin",Object(i.jsx)(v.a,{type:"primary",size:"small",onClick:t.AddNewFieldVM,style:{marginLeft:15},children:"+"})]}),e]})}}]),n}(s.Component)),os=Object(p.a)(cs),us=m.a.Option,hs=function(t){Object(h.a)(n,t);var e=Object(l.a)(n);function n(t){var i;Object(o.a)(this,n),(i=e.call(this,t)).onValueChange=function(t){var e=i.state,n=e.Items;e.CurrentItem=n[t]};var s=i.props.store;return i.state=s||new zn,i}return Object(u.a)(n,[{key:"render",value:function(){var t=this.state,e=t.Items,n=e?e.map((function(t,e){var n=t.SearchName;return Object(i.jsx)(us,{value:e,children:n},e)})):"",s=t.Input;return Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)(g.a,{orientation:"left",plain:!0,children:Object(i.jsx)("b",{children:"Thi\u1ebft l\u1eadp nh\xf3m kh\u1ed1i l\u01b0\u1ee3ng"})}),Object(i.jsx)(m.a,{showSearch:!0,style:{width:"100%"},placeholder:"search thi\u1ebft l\u1eadp",optionFilterProp:"children",onChange:this.onValueChange,value:null,filterOption:function(t,e){return e.children.toLowerCase().indexOf(t.toLowerCase())>=0},children:n}),Object(i.jsxs)("div",{style:{marginTop:20},children:[Object(i.jsx)(M,{store:s.NameVM}),Object(i.jsx)(M,{store:s.DescriptionVM}),Object(i.jsx)(os,{store:s.DataVM}),Object(i.jsxs)("div",{children:[Object(i.jsx)(Fi,{store:s.IsNewVM}),Object(i.jsx)(v.a,{style:{margin:10},onClick:s.AddDatabase,children:s.CommandVM.Content}),s.DeleteView]})]})]})}}]),n}(s.Component),ls=Object(p.a)(hs),ps=(m.a.Option,function(t){Object(h.a)(n,t);var e=Object(l.a)(n);function n(t){var i;Object(o.a)(this,n);var s=(i=e.call(this,t)).props.store;return i.state=s||new nt,i}return Object(u.a)(n,[{key:"render",value:function(){var t=this.state;return Object(i.jsx)(i.Fragment,{children:Object(i.jsx)("td",{className:"text-right",style:t.TDStyle,children:Object(i.jsx)("a",{style:t.AStyle,onClick:t.ShowDetail,children:Object(i.jsx)(X,{store:t.ContentVM})})})})}}]),n}(s.Component)),fs=Object(p.a)(ps),ds=(m.a.Option,function(t){Object(h.a)(n,t);var e=Object(l.a)(n);function n(t){var i;Object(o.a)(this,n);var s=(i=e.call(this,t)).props.store;return i.state=s||new Y,i}return Object(u.a)(n,[{key:"render",value:function(){var t=this.state,e=t.Dict,s=e.Columns,r=t.IsShowSub?t.SubItems.map((function(t,e){return Object(i.jsx)(n,{store:t},t.id)})):"",a=t.IsHaveSub?Object(i.jsx)(v.a,{size:"small",style:{marginRight:5,minWidth:25},type:"primary",onClick:t.ToggleSub,children:Object(i.jsx)(X,{store:t.ToggleButtonContentVM})}):Object(i.jsx)("div",{style:{padding:"0 15.5px"}});return Object(i.jsxs)(i.Fragment,{children:[Object(i.jsxs)("tr",{children:[Object(i.jsx)("th",{scope:"row",children:Object(i.jsxs)("div",{style:t.Style,children:[a,t.Name]})}),s.map((function(n,s){var r=e.GetCell(n,t);return Object(i.jsx)(fs,{store:r},r.id)}))]}),r]})}}]),n}(s.Component)),ms=Object(p.a)(ds),gs=(m.a.Option,function(t){Object(h.a)(n,t);var e=Object(l.a)(n);function n(t){var i;Object(o.a)(this,n);var s=(i=e.call(this,t)).props.store;return i.state=s||new Vt,i}return Object(u.a)(n,[{key:"render",value:function(){var t=this.state,e=t.Columns,n=t.MainRows,s=e?e.map((function(t,e){return Object(i.jsx)("th",{scope:"col",className:"text-center",children:t.Name},t.id)})):"",r=n?n.map((function(t,e){return Object(i.jsx)(ms,{store:t},t.id)})):"";return Object(i.jsx)(i.Fragment,{children:t.IsValidTable?Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)("h4",{className:"text-center",children:"B\u1ea2NG T\u1ed4NG H\u1ee2P KH\u1ed0I L\u01af\u1ee2NG"}),Object(i.jsxs)("table",{className:"table table-bordered table-sm",children:[Object(i.jsx)("thead",{children:Object(i.jsxs)("tr",{children:[Object(i.jsx)("th",{scope:"col"}),s]})}),Object(i.jsx)("tbody",{children:r})]})]}):""})}}]),n}(s.Component)),vs=Object(p.a)(gs),ks=(m.a.Option,function(t){Object(h.a)(n,t);var e=Object(l.a)(n);function n(t){var i;Object(o.a)(this,n);var s=(i=e.call(this,t)).props.store;return i.state=s||new ci,i}return Object(u.a)(n,[{key:"render",value:function(){var t=this.state;return Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)(g.a,{orientation:"left",plain:!0,children:Object(i.jsx)("b",{children:"Th\xf4ng tin kh\u1ed1i l\u01b0\u1ee3ng"})}),t.IsShowProjectSelect?Object(i.jsx)(Ui,{store:t.ProjectSelectVM}):"",Object(i.jsx)("div",{style:{marginTop:10},children:Object(i.jsx)(Ui,{store:t.WorkpackageSelectVM})}),t.CanHavePhase?Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)(g.a,{orientation:"left",plain:!0,children:Object(i.jsx)(Fi,{store:t.IsShowPhaseSelectVM})}),t.IsHavePhase?Object(i.jsx)(Ui,{store:t.PhaseSelectVM}):""]}):"",Object(i.jsx)(v.a,{style:{marginTop:8},onClick:t.GetMassData,size:"middle",type:"primary",children:"GET DATA"}),Object(i.jsx)("div",{style:{marginTop:15},children:Object(i.jsx)(vs,{store:t.MassItem_Dict.MassTable})})]})}}]),n}(s.Component)),js=Object(p.a)(ks),Is=function(t){Object(h.a)(n,t);var e=Object(l.a)(n);function n(){return Object(o.a)(this,n),e.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){var t=this.pmDataVM;return Object(i.jsx)(i.Fragment,{children:Object(i.jsxs)(f.a,{gutter:15,style:{padding:15},children:[Object(i.jsxs)(d.a,{span:6,children:[Object(i.jsx)(Ai,{store:t.Workpackage_DictVM}),Object(i.jsx)(Yi,{store:t.ElementFilterSetting_DictVM}),Object(i.jsx)(ss,{store:t.MassExportSetting_DictVM}),Object(i.jsx)(ls,{store:t.MassGroupSetting_DictVM})]}),Object(i.jsx)(d.a,{span:14,children:Object(i.jsx)(js,{store:t.MassResultCompVM})})]})})}},{key:"pmDataVM",get:function(){return Ii.Instance}}]),n}(s.Component),bs=Object(p.a)(Is),ys=function(t){Object(h.a)(n,t);var e=Object(l.a)(n);function n(){return Object(o.a)(this,n),e.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){return Object(i.jsx)(i.Fragment,{children:Object(i.jsx)(bs,{})})}}]),n}(s.Component),Ms=Object(p.a)(ys),Vs="MAPVIEW",Os="SLIDERVIEW",Ds=function(t){Object(h.a)(n,t);var e=Object(l.a)(n);function n(t){var i;Object(o.a)(this,n);var s=(i=e.call(this,t)).props.store;return s&&(i.state=s),i}return Object(u.a)(n,[{key:"render",value:function(){var t=this.state;return Object(i.jsx)(i.Fragment,{children:Object(i.jsxs)("div",{style:t.getStyle(),children:[t.wrapper?t.wrapper:"",t.canEdit?Object(i.jsx)(v.a,{size:"small",type:"ghost",onClick:t.toggleInput,children:"Edit"}):"",t.getShowInputView()]})})}}]),n}(s.Component),Cs=Object(p.a)(Ds),Ss=function t(){var e=this;Object(o.a)(this,t),this.top=void 0,this.getTop=function(){return e.top||(e.top=50),e.top},this.setTop=function(t){e.top=t,e.data&&(e.data.top=t,e.parent.saveData())},this.left=void 0,this.getLeft=function(){return e.left||(e.left=50),e.left},this.setLeft=function(t){e.left=t,e.data&&(e.data.left=t,e.parent.saveData())},this.name=void 0,this.getName=function(){return e.name},this.setName=function(t){e.name=t,e.data&&(e.data.name=t,e.parent.saveData())},this.getStyle=function(){return{position:"absolute",top:"".concat(e.getTop(),"%"),left:"".concat(e.getLeft(),"%")}},this.isShowLocationInput=!1,this.toggleInput=function(){e.isShowLocationInput=!e.isShowLocationInput},this.getShowInputView=function(){return e.isShowLocationInput?e.getInputView():""},this.getNameVM=function(){e.nameVM||((e.nameVM=b(e.name)).onSetContent=function(t){return e.setName(t)});return e.nameVM},this.canEdit=!1,this.getInputView=function(){var t=b(e.getLeft());t.onSetContent=function(t){return e.setLeft(t)};var n=b(e.getTop());return n.onSetContent=function(t){return e.setTop(t)},Object(i.jsxs)("div",{children:[Object(i.jsxs)("div",{style:{display:"table",marginTop:5},children:[Object(i.jsx)("span",{style:{display:"table-cell"},children:Object(i.jsx)("b",{children:"Name:"})}),Object(i.jsx)("span",{style:{display:"table-cell",width:10}}),Object(i.jsx)(M,{store:e.getNameVM()})]}),Object(i.jsxs)("div",{style:{display:"table",marginTop:5},children:[Object(i.jsx)("span",{style:{display:"table-cell"},children:Object(i.jsx)("b",{children:"Left:"})}),Object(i.jsx)("span",{style:{display:"table-cell",width:10}}),Object(i.jsx)(M,{store:t})]}),Object(i.jsxs)("div",{style:{display:"table",marginTop:5},children:[Object(i.jsx)("span",{style:{display:"table-cell"},children:Object(i.jsx)("b",{children:"Top:"})}),Object(i.jsx)("span",{style:{display:"table-cell",width:10}}),Object(i.jsx)(M,{store:n})]})]})},Object(j.k)(this,{top:j.l,left:j.l,name:j.l,isShowLocationInput:j.l,canEdit:j.l})},ws=function(t,e){var n=t,s=n.left,r=n.top,a=n.name,c=function(t,e,n){var i=new Ss;return i.left=t,i.top=e,i.name=n,i}(s,r,a);c.data=t,c.parent=e;t={group:a};return c.wrapper=Object(i.jsx)(v.a,{type:"primary",size:"small",onClick:function(){return e.request(t)},children:Object(i.jsx)(X,{store:c.getNameVM()})}),c},xs=function t(){var e=this;Object(o.a)(this,t),this.getData=function(){return e.data||(null===localStorage.getItem("map")?(e.data=[{left:30,top:15,name:"Database"},{left:30,top:30,name:"WebAPI"},{left:40,top:30,name:"FrontEnd"},{left:20,top:30,name:"BIM app"}],e.setStorage(e.data)):e.data=e.getStorage()),e.data},this.saveData=function(){e.setStorage(e.data)},this.setStorage=function(t){localStorage.setItem("map",JSON.stringify(t))},this.getStorage=function(){return JSON.parse(localStorage.getItem("map"))},this.items=void 0,this.getItems=function(){if(!e.items){e.getData();var t=e.getData().map((function(t){return ws(t,e)}));e.items=t}return e.items},this.addItem=function(){var t={left:5,top:5,name:"New Item"};e.getItems().push(ws(t,e)),e.getData().push(t),e.saveData()},this.request=function(t){e.onRequest&&e.onRequest(t)},this.getReactElements=function(){return e.getItems().map((function(t,e){return Object(i.jsx)(Cs,{store:t},e)}))},Object(j.k)(this,{items:j.l})},Fs=function(t){Object(h.a)(n,t);var e=Object(l.a)(n);function n(t){var s;Object(o.a)(this,n),(s=e.call(this,t)).getWrapperContent=function(){var t=s.state.wrapper;return t||""};var r=s.props.store;if(r)s.state=r;else{var a=s.state=new xs,c=Ni("top right");c.wrapper=Object(i.jsx)(v.a,{onClick:function(){a.addItem()},children:"Add"}),a.wrapper=Object(i.jsx)(Wi,{store:c})}return s}return Object(u.a)(n,[{key:"render",value:function(){var t=this.state;return Object(i.jsx)(i.Fragment,{children:Object(i.jsxs)("div",{style:{widht:"50%",height:500,background:"#f0f0f0",position:"relative"},children:[t.getReactElements(),this.getWrapperContent()]})})}}]),n}(s.Component),Ts=Object(p.a)(Fs),Ns=(n(108),function(t){var e;switch(t){case"0":e=0;break;case"x":e=3;break;case"class":e="Person";break;case"classDesc":e="Ki\u1ec3u d\u1eef li\u1ec7u m\xf4 ph\u1ecfng ...";break;default:e="undefined"}return{name:t,value:e}}),_s=function t(){var e=this;Object(o.a)(this,t),this.content=void 0,this.setContent=function(t){e.content=t,e.setData(e.getDataFunc()),e.renderReactElements()},this.inputs=[],this.setInput=function(t){e.onSetInput&&e.onSetInput(t)},this.getData=function(){return e.data||(e.data=e.getDataFunc()),e.data},this.getDataFunc=function(){var t=e.content;t||(t="");var n=e.inputs;if(!e.isFormatContent)return{content:t};var i=t.split("{{"),s=[];return i.forEach((function(t,e){if(0===e)return!1;var i=t.indexOf("}}");if(-1===i)return!1;var r,a=t.substring(0,i),c=a.split(","),o=c[0];if(n&&c.length>=2){var u=c[1];if(0!==u.length){var h=n.findIndex((function(t){return t.name===u}));if(-1===h&&(n.push(Ns(u)),h=n.length-1),r=n[h],3===c.length)0!==c[2].length&&(r.label=c[2])}}-1===s.findIndex((function(t){return t.originContent===a}))&&s.push({id:z(),originContent:a,view:o,input:r})})),s.forEach((function(e){var n=e.originContent,i=e.id;t=t.replace("{{".concat(n,"}}"),'<span id="'.concat(i,'" style="display:table"></span>'))})),{content:t,reactElements:s}},this.setData=function(t){e.data=t,e.setRefinedContent(e.getRefinedContentFunc()),e.setReactElements(e.getReactElementsFunc())},this.refinedContent=void 0,this.getRefinedContent=function(){if(!e.refinedContent){var t=e.getRefinedContentFunc();e.refinedContent=t}return e.refinedContent},this.getRefinedContentFunc=function(){return e.getData().content},this.setRefinedContent=function(t){e.refinedContent=t},this.reactElements=void 0,this.getReactElements=function(){return e.reactElements||(e.reactElements=e.getReactElementsFunc()),e.reactElements},this.getReactElementsFunc=function(){return e.getData().reactElements},this.setReactElements=function(t){e.reactElements=t},this.renderReactElements=function(){e.getReactElements().forEach((function(t){var n=t.id,s=t.view,r=t.input,a=document.getElementById(n);if(r){var o,u=r.value,h=r.label,l=b(u);switch(l.onSetContent=function(t){r.value=t,e.setInput(r)},s){case"INPUTVIEW":o=Object(i.jsxs)(i.Fragment,{children:[h?Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)("span",{style:{display:"table-cell"},children:Object(i.jsxs)("b",{children:[h,":"]})}),Object(i.jsx)("span",{style:{display:"table-cell",width:10}})]}):"",Object(i.jsx)(M,{store:l})]});break;case"TEXTVIEW":o=Object(i.jsx)(X,{store:l})}o&&null!==a&&c.a.render(o,a)}}))},Object(j.k)(this,{content:j.l,refinedContent:j.l,reactElements:j.l})},Ws=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=new _s;return n.content=t,n.isFormatContent=e,n},Gs=function(t){try{return{__html:t}}catch(e){return{__html:t="Invalid html"}}},Ps=function(t){Object(h.a)(n,t);var e=Object(l.a)(n);function n(t){var i;Object(o.a)(this,n),(i=e.call(this,t)).onClick2=function(){i.state.renderReactElements()},i.getWrapperContent=function(){var t=i.state.wrapper;return t||""},i.itemRef=r.a.createRef();var s=i.props.store;if(s)i.state=s;else{i.state=Ws("<p>store c\u1ee7a textView</p>")}return i}return Object(u.a)(n,[{key:"componentDidMount",value:function(){this.state.renderReactElements()}},{key:"render",value:function(){var t=this.state.getRefinedContent();return Object(i.jsx)(i.Fragment,{children:Object(i.jsxs)("div",{children:[Object(i.jsx)("div",{ref:this.itemRef,dangerouslySetInnerHTML:Gs(t)}),this.getWrapperContent()]})})}}]),n}(s.Component),Es=Object(p.a)(Ps),Rs=function t(){var e=this;Object(o.a)(this,t),this.htmlContents=void 0,this.getHtmlContents=function(){return e.htmlContents||(e.htmlContents=[""]),e.htmlContents},this.setHtmlContents=function(t){e.htmlContents=t,e.setCurrentIndex(0)},this.getHtmlRenderVMs=function(){return e.htmlRenderVMs||(e.htmlRenderVMs=e.getHtmlContents().map((function(t){return Ws(t,!0)}))),e.htmlRenderVMs},this.isLoop=!0,this.currentIndex=0,this.setCurrentIndex=function(t){var n=e.isLoop,i=e.htmlContents.length-1;if(t<0){if(!n)return;t=i}else if(t>i){if(!n)return;t=0}e.currentIndex=t,e.getHtmlRenderVM().setContent(e.getCurrentContent())},this.getCurrentContent=function(){return e.getHtmlContents()[e.currentIndex]},this.getHtmlRenderVM=function(){if(!e.htmlRenderVM){var t=e.getCurrentContent();e.htmlRenderVM=Ws(t,!0)}return e.htmlRenderVM},this.getHtmlRenderView=function(){return e.htmlRenderView||(e.htmlRenderView=Object(i.jsx)(Es,{store:e.getHtmlRenderVM()})),e.htmlRenderView},this.getWrapper=function(){if(!e.wrapper){var t=Ni("top left");t.wrapper=Object(i.jsx)(v.a,{onClick:function(){e.setCurrentIndex(e.currentIndex-1)},children:"<"});var n=Ni("top right");n.wrapper=Object(i.jsx)(v.a,{onClick:function(){e.setCurrentIndex(e.currentIndex+1)},children:">"}),e.wrapper=Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)(Wi,{store:t}),Object(i.jsx)(Wi,{store:n})]})}return e.wrapper},Object(j.k)(this,{htmlContents:j.l})},Ls=function(t){Object(h.a)(n,t);var e=Object(l.a)(n);function n(t){var i;Object(o.a)(this,n),(i=e.call(this,t)).itemRef=r.a.createRef();var s=i.props.store;return i.state=s||new Rs,i}return Object(u.a)(n,[{key:"render",value:function(){var t=this.state;return Object(i.jsx)(i.Fragment,{children:Object(i.jsxs)("div",{style:{position:"relative"},children:[Object(i.jsx)("div",{style:{marginLeft:50},children:t.getHtmlRenderView()}),t.getWrapper()]})})}}]),n}(s.Component),As=Object(p.a)(Ls),Hs=function t(){var e=this;Object(o.a)(this,t),this.currentViewType=Vs,this.getMapVM=function(){e.mapVM||((e.mapVM=new xs).onRequest=function(t){!function(t,e){var n={group:t},i="".concat(F,"/hbp/list");P(i,n).then((function(t){var n=t.data;e(n)}))}(t.group,(function(t){var n=t.map((function(t){return t.content}));e.getSliderVM().setHtmlContents(n),e.toggleView()}))});return e.mapVM},this.getSliderVM=function(){return e.sliderVM||(e.sliderVM=new Rs),e.sliderVM},this.toggleView=function(){e.currentViewType===Vs?e.currentViewType=Os:e.currentViewType=Vs},this.getItemView=function(){switch(e.currentViewType){case Vs:return Object(i.jsx)(Ts,{store:e.getMapVM()});case Os:return Object(i.jsx)("div",{style:{position:"absolute",top:50,left:35,width:800},children:Object(i.jsx)(As,{store:e.getSliderVM()})})}},this.getWrapper=function(){if(e.currentViewType===Vs)return"";var t=Ni("top left");return t.wrapper=Object(i.jsx)(v.a,{onClick:e.toggleView,children:"Back"}),Object(i.jsx)(Wi,{store:t})},Object(j.k)(this,{currentViewType:j.l})},Bs=function(t){Object(h.a)(n,t);var e=Object(l.a)(n);function n(t){var i;Object(o.a)(this,n);var s=(i=e.call(this,t)).props.store;return i.state=s||new Hs,i}return Object(u.a)(n,[{key:"render",value:function(){var t=this.state;return Object(i.jsx)(i.Fragment,{children:Object(i.jsxs)("div",{style:{position:"relative"},children:[t.getItemView(),t.getWrapper()]})})}}]),n}(s.Component),Us=(Object(p.a)(Bs),n(73)),qs=n(18),zs=function(){function t(){var e=this;Object(o.a)(this,t),this.valueString=void 0,this.GetValueString=function(){return e.OnGetValueString()},Object(j.k)(this,{valueString:j.l})}return Object(u.a)(t,[{key:"Value",get:function(){return this.value},set:function(t){this.value=t,this.ValueString=this.GetValueString()}},{key:"ValueString",get:function(){return this.valueString||(this.valueString=this.GetValueString()),this.valueString},set:function(t){this.valueString=t}}]),t}(),Ks=function t(){Object(o.a)(this,t),this.Cells=[]},Js=function t(){Object(o.a)(this,t),this.Cells=[]},Qs=function(t){var e=t.Items;if(!e||0===e.length)return[];switch(e[0].MassType){case xt:return["partition","rebarType",A,H];case St:case wt:return[B,A,H];default:return[A,H]}return[]},Xs=function(t){return t.Fields.map((function(t){var e=new Ks;return e.Name=t,e}))},Ys=function(){function t(){var e=this;Object(o.a)(this,t),this.items=void 0,this.IsValidTable=!1,this.fields=void 0,this.columns=void 0,this.rows=void 0,this.GetRows=function(){var t=e.Items;if(!t)return[];var n=e.Fields;return t.map((function(t){var e=new Js;return e.Cells=n.map((function(e){var n=new zs;n.OnGetValueString=function(){var t=n.Value;return isNaN(t)?t:parseFloat(t).toFixed(2)};var i=function(){return n.Value=q(t.GetValue(e),e)};U().includes(e)&&!t.Element?t.OnGetElementDone_Funcs.push((function(){i()})):i();var s="text-center";switch(e){case A:s="text-right"}return n.className=s,n})),e}))},Object(j.k)(this,{items:j.l,rows:j.l})}return Object(u.a)(t,[{key:"Items",get:function(){return this.items},set:function(t){this.items=t,t&&0!==t.length?this.IsValidTable=!0:this.IsValidTable=!1,this.Fields=Qs(this),this.Rows=this.GetRows()}},{key:"Fields",get:function(){return this.fields||(this.fields=Qs(this)),this.fields},set:function(t){this.fields=t,this.Columns=Xs(this)}},{key:"Columns",get:function(){return this.columns||(this.columns=Xs(this)),this.columns},set:function(t){this.columns=t}},{key:"Rows",get:function(){return this.rows||(this.rows=this.GetRows()),this.rows},set:function(t){this.rows=t}}]),t}(),Zs=function(){function t(){Object(o.a)(this,t),this.items=void 0,Object(j.k)(this,{items:j.l})}return Object(u.a)(t,[{key:"id",get:function(){return this._id},set:function(t){var e=this;this._id=t,Pt(t,(function(t){e.Items=t}))}},{key:"Items",get:function(){return this.items},set:function(t){this.items=t,this.DetailTable.Items=t}},{key:"DetailTable",get:function(){return this.detailTable||(this.detailTable=new Ys),this.detailTable}}]),t}(),$s=function(t){Object(h.a)(n,t);var e=Object(l.a)(n);function n(t){var i;Object(o.a)(this,n);var s=(i=e.call(this,t)).props.store;return i.state=s||new Ys,i}return Object(u.a)(n,[{key:"render",value:function(){var t=this.state,e=t.Columns.map((function(t,e){return Object(i.jsx)("th",{scope:"col",className:"text-center",children:t.Name},e)})),n=t.Rows.map((function(t,e){var n=t.Cells.map((function(t,e){return Object(i.jsx)("td",{className:t.className,children:t.ValueString},e)}));return Object(i.jsx)("tr",{children:n},e)}));return Object(i.jsx)(i.Fragment,{children:Object(i.jsxs)("table",{className:"table table-bordered table-sm",children:[Object(i.jsx)("thead",{children:Object(i.jsx)("tr",{children:e})}),Object(i.jsx)("tbody",{children:n})]})})}}]),n}(s.Component),tr=Object(p.a)($s),er=function(t){Object(h.a)(n,t);var e=Object(l.a)(n);function n(t){var i;Object(o.a)(this,n);var s=(i=e.call(this,t)).props.store;return i.state=s||new Zs,i}return Object(u.a)(n,[{key:"componentDidMount",value:function(){var t=this.state,e=this.props.match.params.id;t.id=e}},{key:"render",value:function(){var t=this.state;return Object(i.jsx)(i.Fragment,{children:Object(i.jsx)(f.a,{gutter:10,style:{padding:15},children:Object(i.jsxs)(d.a,{span:8,children:[Object(i.jsx)("h4",{className:"text-center",children:"B\u1ea2NG CHI TI\u1ebeT KH\u1ed0I L\u01af\u1ee2NG"}),Object(i.jsx)("div",{children:Object(i.jsx)(tr,{store:t.DetailTable})})]})})})}}]),n}(s.Component),nr=Object(qs.f)(Object(p.a)(er)),ir=function(){return Ii.Instance},sr=function(){function t(){Object(o.a)(this,t),this.projectVM=void 0,Object(j.k)(this,{projectVM:j.l})}return Object(u.a)(t,[{key:"id",get:function(){return this._id},set:function(t){var e=this;this._id=t,function(t,e){if(t){var n="https://api.bimdev.vn/api/hbp/get?id=".concat(t);W(n).then((function(t){return t.data})).then((function(t){var n=Kt(t);e&&e(n)}))}}(t,(function(t){e.ProjectVM=ii(t)}))}},{key:"ProjectVM",get:function(){return this.projectVM},set:function(t){this.projectVM=t;var e=[t];ir().Project_DictVM.Items=e,Ae.Instance.Phase_Dict=t.ModelItem.Phase_Dict;var n=this.MassResultCompVM;n.ProjectVMStorageList=e,n.ProjectSelectVM.InitialItems=e;var i=function(){return n.PhaseVMStorageList=s.Items},s=t.Phase_DictVM;s.Items?i():s.OnGetItemsDone_Funcs.push((function(){i()}))}},{key:"MassResultCompVM",get:function(){if(!this.massResultCompVM){var t=this.massResultCompVM=function(t){var e=ui(new Et,!1);return e.IsShowProjectSelect=!1,e.CanHavePhase=!0,e}();ir().MassResultCompVM=t}return this.massResultCompVM}}]),t}(),rr=n(208),ar=(m.a.Option,function(t){Object(h.a)(n,t);var e=Object(l.a)(n);function n(t){var i;Object(o.a)(this,n);var s=(i=e.call(this,t)).props.store;return i.state=s||new Zn,i}return Object(u.a)(n,[{key:"render",value:function(){var t=this.state,e=t.Input,n=t.State;return Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)(g.a,{orientation:"left",plain:!0,children:Object(i.jsx)("b",{children:"Phi\xean b\u1ea3n kh\u1ed1i l\u01b0\u1ee3ng"})}),Object(i.jsxs)("div",{children:[Object(i.jsxs)(v.a,{type:"primary",size:"middle",onClick:t.AddVersion,disabled:n===Yn,children:[Object(i.jsx)(rr.a,{})," L\u01afU K\u1ebeT QU\u1ea2 HI\u1ec6N T\u1ea0I"]}),n===Yn?Object(i.jsxs)("div",{className:"mt-3",children:[Object(i.jsx)(M,{store:e.NameVM}),Object(i.jsx)(M,{store:e.DescriptionVM}),Object(i.jsxs)("div",{className:"mt-2",children:[Object(i.jsx)(v.a,{type:"primary",size:"small",onClick:t.OK,children:"OK"}),Object(i.jsx)(v.a,{type:"default",size:"small",onClick:t.Cancel,children:"Cancel"})]})]}):""]})]})}}]),n}(s.Component)),cr=Object(p.a)(ar),or=function(t){Object(h.a)(n,t);var e=Object(l.a)(n);function n(t){var i;Object(o.a)(this,n);var s=(i=e.call(this,t)).props.store;return i.state=s||new sr,i}return Object(u.a)(n,[{key:"componentDidMount",value:function(){var t=this.state,e=this.props.match.params.id;t.id=e}},{key:"render",value:function(){var t=this.state,e=t.ProjectVM;return Object(i.jsx)(i.Fragment,{children:Object(i.jsx)("div",{style:{padding:15},children:Object(i.jsxs)(f.a,{gutter:10,children:[Object(i.jsx)(d.a,{span:5}),Object(i.jsx)(d.a,{span:14,children:e?Object(i.jsxs)(i.Fragment,{children:[Object(i.jsxs)("h4",{className:"text-center",children:["D\u1ef1 \xe1n ",e.Name]}),Object(i.jsx)(cr,{store:e.Phase_DictVM}),Object(i.jsx)(js,{store:t.MassResultCompVM})]}):""}),Object(i.jsx)(d.a,{span:5})]})})})}}]),n}(s.Component),ur=Object(qs.f)(Object(p.a)(or)),hr=function(t){Object(h.a)(n,t);var e=Object(l.a)(n);function n(){return Object(o.a)(this,n),e.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){return Object(i.jsx)(Us.a,{children:Object(i.jsxs)(qs.c,{children:[Object(i.jsx)(qs.a,{exact:!0,path:"/",component:Ms}),Object(i.jsx)(qs.a,{path:"/massdetail/:id",component:nr}),Object(i.jsx)(qs.a,{path:"/project/:id",component:ur})]})})}}]),n}(s.Component),lr=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,211)).then((function(e){var n=e.getCLS,i=e.getFID,s=e.getFCP,r=e.getLCP,a=e.getTTFB;n(t),i(t),s(t),r(t),a(t)}))};c.a.render(Object(i.jsx)(hr,{}),document.getElementById("root")),lr()}},[[200,1,2]]]);
//# sourceMappingURL=main.38107d2b.chunk.js.map
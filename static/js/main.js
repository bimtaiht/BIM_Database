!function(t){function e(e){for(var i,a,o=e[0],c=e[1],u=e[2],d=0,h=[];d<o.length;d++)a=o[d],Object.prototype.hasOwnProperty.call(s,a)&&s[a]&&h.push(s[a][0]),s[a]=0;for(i in c)Object.prototype.hasOwnProperty.call(c,i)&&(t[i]=c[i]);for(l&&l(e);h.length;)h.shift()();return r.push.apply(r,u||[]),n()}function n(){for(var t,e=0;e<r.length;e++){for(var n=r[e],i=!0,o=1;o<n.length;o++){var c=n[o];0!==s[c]&&(i=!1)}i&&(r.splice(e--,1),t=a(a.s=n[0]))}return t}var i={},s={0:0},r=[];function a(e){if(i[e])return i[e].exports;var n=i[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.e=function(t){var e=[],n=s[t];if(0!==n)if(n)e.push(n[2]);else{var i=new Promise((function(e,i){n=s[t]=[e,i]}));e.push(n[2]=i);var r,o=document.createElement("script");o.charset="utf-8",o.timeout=120,a.nc&&o.setAttribute("nonce",a.nc),o.src=function(t){return a.p+"static/js/"+({}[t]||t)+".chunk.js"}(t);var c=new Error;r=function(e){o.onerror=o.onload=null,clearTimeout(u);var n=s[t];if(0!==n){if(n){var i=e&&("load"===e.type?"missing":e.type),r=e&&e.target&&e.target.src;c.message="Loading chunk "+t+" failed.\n("+i+": "+r+")",c.name="ChunkLoadError",c.type=i,c.request=r,n[1](c)}s[t]=void 0}};var u=setTimeout((function(){r({type:"timeout",target:o})}),12e4);o.onerror=o.onload=r,document.head.appendChild(o)}return Promise.all(e)},a.m=t,a.c=i,a.d=function(t,e,n){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},a.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)a.d(n,i,function(e){return t[e]}.bind(null,i));return n},a.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="./",a.oe=function(t){throw console.error(t),t};var o=this.webpackJsonpbimquantity=this.webpackJsonpbimquantity||[],c=o.push.bind(o);o.push=e,o=o.slice();for(var u=0;u<o.length;u++)e(o[u]);var l=c;r.push([630,1]),n()}({278:function(t,e){},279:function(t,e,n){},280:function(t,e,n){},281:function(t,e,n){},282:function(t,e,n){},283:function(t,e,n){},284:function(t,e,n){},285:function(t,e,n){},310:function(t,e,n){},311:function(t,e,n){},313:function(t,e,n){},345:function(t,e){},347:function(t,e,n){},348:function(t,e,n){},439:function(t,e,n){},443:function(t,e,n){},444:function(t,e,n){},445:function(t,e,n){},506:function(t,e,n){},507:function(t,e,n){},508:function(t,e,n){},510:function(t,e,n){},551:function(t,e,n){},556:function(t,e){},557:function(t,e){},558:function(t,e,n){},559:function(t,e,n){},560:function(t,e,n){},561:function(t,e,n){},562:function(t,e,n){},563:function(t,e,n){},565:function(t,e,n){},566:function(t,e,n){},567:function(t,e,n){},568:function(t,e,n){},569:function(t,e,n){},570:function(t,e,n){},571:function(t,e,n){},572:function(t,e,n){},573:function(t,e,n){},574:function(t,e,n){},575:function(t,e,n){},576:function(t,e,n){},577:function(t,e,n){},578:function(t,e,n){},579:function(t,e,n){},580:function(t,e,n){},581:function(t,e,n){},582:function(t,e,n){},583:function(t,e,n){},584:function(t,e,n){},585:function(t,e,n){},586:function(t,e,n){},587:function(t,e,n){},588:function(t,e,n){},589:function(t,e,n){},590:function(t,e,n){},591:function(t,e,n){},592:function(t,e,n){},593:function(t,e,n){},594:function(t,e,n){},595:function(t,e,n){},596:function(t,e,n){},597:function(t,e,n){},598:function(t,e,n){},599:function(t,e,n){},600:function(t,e,n){},601:function(t,e,n){},602:function(t,e,n){},603:function(t,e,n){},604:function(t,e,n){},605:function(t,e,n){},606:function(t,e,n){},607:function(t,e,n){},608:function(t,e,n){},609:function(t,e,n){},610:function(t,e,n){},611:function(t,e,n){},612:function(t,e,n){},613:function(t,e,n){},614:function(t,e,n){},615:function(t,e,n){},616:function(t,e,n){},617:function(t,e,n){},618:function(t,e,n){},619:function(t,e,n){},620:function(t,e,n){},621:function(t,e,n){},622:function(t,e,n){},623:function(t,e,n){},624:function(t,e,n){},625:function(t,e,n){},626:function(t,e,n){},628:function(t,e,n){},629:function(t,e,n){},630:function(t,e,n){"use strict";n.r(e);var i=n(0),s=n.n(i),r=n(45),a=n.n(r),o=(n(310),n(5)),c=n(6),u=n(11),l=n(12),d=(n(311),n(312),n(16)),h=(n(313),n(8)),f="text",m="password",v=function(){function t(){Object(o.a)(this,t),this.onSetContent=void 0,this.OnSetContent=void 0,this.content=void 0,this.placeholder="n\u1ed9i dung input",this.inputStyle=void 0,this.wrapper=void 0,this.style=void 0,this.State=f,Object(h.makeObservable)(this,{content:h.observable,placeholder:h.observable,State:h.observable})}return Object(c.a)(t,[{key:"Content",get:function(){return this.content},set:function(t){var e=this;Object(h.runInAction)((function(){var n,i;e.content=t,null===(n=e.onSetContent)||void 0===n||n.call(e,t),null===(i=e.OnSetContent)||void 0===i||i.call(e,t)}))}},{key:"Placeholder",set:function(t){this.placeholder=t}},{key:"Style",get:function(){var t,e=this;return null!==(t=this.style)&&void 0!==t?t:this.style=function(){var t=e.inputStyle?e.inputStyle:{};return e.wrapper&&(e.style.position="relative"),t}()}}]),t}(),_=function(t,e){var n=new v;return n.content=t,n.placeholder=e,n},p="https://api.bimdev.vn/api/hb_f",b=n(62),I=n(40),j=n.n(I),g=n(178),y=n.n(g),O=n(175),S=function(t){return y.a.create({baseURL:"https://api.bimdev.vn/api",Accept:"application/json","Content-Type":"application/json",timeout:t})},D=function(t){return{success:t.status>=200&&t.status<300,data:t.data,message:t.statusText}},M=function(){var t=Object(b.a)(j.a.mark((function t(e){var n;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e;case 3:return n=t.sent,t.abrupt("return",D(n));case 7:return t.prev=7,t.t0=t.catch(0),t.abrupt("return",(i=t.t0,O.b.error("Error sending request: ".concat(i)),{success:!1}));case 10:return t.prev=10,t.finish(10);case 12:case"end":return t.stop()}var i}),t,null,[[0,7,10,12]])})));return function(e){return t.apply(this,arguments)}}(),k=2e4,C=function(){var t=Object(b.a)(j.a.mark((function t(e,n,i){return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=i||k,t.abrupt("return",M(S(i).get(e,n)));case 2:case"end":return t.stop()}}),t)})));return function(e,n,i){return t.apply(this,arguments)}}(),V=function(){var t=Object(b.a)(j.a.mark((function t(e,n,i,s){var r;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s=s||k,t.next=3,M(S(s).put(e,n,i));case 3:return r=t.sent,t.abrupt("return",r);case 5:case"end":return t.stop()}}),t)})));return function(e,n,i,s){return t.apply(this,arguments)}}(),w=function(){var t=Object(b.a)(j.a.mark((function t(e,n,i,s){var r;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s=s||k,t.next=3,M(S(s).post(e,n,i));case 3:return r=t.sent,t.abrupt("return",r);case 5:case"end":return t.stop()}}),t)})));return function(e,n,i,s){return t.apply(this,arguments)}}(),T=n(48),x=n(125),F=n(1),N=function(t){Object(u.a)(n,t);var e=Object(l.a)(n);function n(t){var i;Object(o.a)(this,n),(i=e.call(this,t)).onChange=function(t){var e=t.target.value;i.state.Content=e},i.OnKeyDown=function(t){var e=i.state;e.OnKeyDown&&e.OnKeyDown(t)};var r=i.props.store;if(r)i.state=r;else{i.state=_("N\u1ed9i dung input")}return i.state.Ref=s.a.createRef(),i}return Object(c.a)(n,[{key:"render",value:function(){var t=this.state,e=t.content,n=t.placeholder,i=this.props.style,s=this.props.className,r=this.props.onFocus?this.props.onFocus:t.OnFocus,a=this.props.onBlur?this.props.onBlur:t.OnBlur,o=this.props.onPaste?this.props.onPaste:t.OnPaste;return Object(F.jsxs)(F.Fragment,{children:[t.State===f?Object(F.jsx)(x.a,{ref:t.Ref,style:i,className:s,value:e,onChange:this.onChange,onKeyDown:this.OnKeyDown,onFocus:r,onBlur:a,onPaste:o,placeholder:n}):"",t.State===m?Object(F.jsx)(x.a.Password,{ref:t.Ref,style:i,className:s,value:e,onChange:this.onChange,onFocus:r,onBlur:a,onPaste:o,onKeyDown:this.OnKeyDown}):""]})}}]),n}(i.Component),R=Object(d.observer)(N),L=Object(d.observer)((function(t){var e=t.width,n=t.height,i=t.className;return e=e||512,n=n||512,Object(F.jsx)(F.Fragment,{children:Object(F.jsxs)("svg",{className:i,width:e,height:n,viewBox:"0 0 489.658 489.658",children:[Object(F.jsx)("path",{d:"M194.829,244.829c0,27.57,22.43,50,50,50s50-22.43,50-50s-22.43-50-50-50S194.829,217.259,194.829,244.829z"}),Object(F.jsx)("path",{d:"M485.313,237.318c-23.974-41.44-58.446-76.197-99.691-100.511c-42.473-25.038-91.117-38.28-140.681-38.3\r c-0.037,0-0.074-0.001-0.112-0.001s-0.074,0.001-0.112,0.001c-49.564,0.02-98.208,13.262-140.681,38.3\r c-41.245,24.314-75.718,59.07-99.691,100.511L0,244.829l4.345,7.511c23.974,41.44,58.446,76.197,99.691,100.511\r c42.473,25.038,91.117,38.28,140.681,38.3c0.037,0,0.074,0.001,0.112,0.001s0.074-0.001,0.112-0.001\r c49.564-0.02,98.208-13.262,140.681-38.3c41.245-24.314,75.718-59.07,99.691-100.511l4.345-7.511L485.313,237.318z\r M361.152,244.829c0,64.105-52.125,116.264-116.217,116.322c-0.036,0-0.071,0.001-0.107,0.001s-0.071-0.001-0.107-0.001\r c-64.092-0.058-116.217-52.217-116.217-116.322s52.125-116.264,116.217-116.322c0.036,0,0.071-0.001,0.107-0.001\r s0.071,0.001,0.107,0.001C309.027,128.565,361.152,180.724,361.152,244.829z M34.839,244.829\r c22.94-36.587,54.809-66.03,91.791-86.144c-17.673,24.184-28.124,53.964-28.124,86.144s10.45,61.96,28.124,86.144\r C89.648,310.859,57.779,281.416,34.839,244.829z M363.029,330.973c17.673-24.184,28.124-53.964,28.124-86.144\r s-10.45-61.96-28.124-86.144c36.981,20.114,68.85,49.557,91.791,86.144C431.879,281.416,400.01,310.859,363.029,330.973z"})]})})}));var G={getaccesstoken:function(){var t={method:"post",url:"https://developer.api.autodesk.com/authentication/v1/authenticate",headers:{"Content-Type":"application/x-www-form-urlencoded",Cookie:"PF=Smw68bwi3kpiuv1Q4fnRcs"},data:n(335).stringify({client_id:Object({NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_BASENAME:"Home/bimplan",REACT_APP_IS_PUBLISH:"true"}).REACT_APP_CLIENT_ID||"jyHlwagmmY0Zx8XGvmt0EU2S9nUAwGKb",client_secret:Object({NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_BASENAME:"Home/bimplan",REACT_APP_IS_PUBLISH:"true"}).REACT_APP_CLIENT_SECRET||"i0TzpGwtAOLATGU5",grant_type:"client_credentials",scope:"code:all data:write data:read bucket:create bucket:delete bucket:read"})};return y()(t).then((function(t){return t.data})).catch((function(t){console.log(t)}))}},P=n(302),E=n(119),U=n(26),A=window.Autodesk,H=function(t){Object(u.a)(n,t);var e=Object(l.a)(n);function n(t,i){var s;return Object(o.a)(this,n),s=e.call(this,t,i),i=i||{},s._filter=i.filter||["2d","3d"],s._crossSelection=!!i.crossSelection,s._group=null,s._button=null,s._panel=null,s._onModelLoaded=s.onModelLoaded.bind(Object(U.a)(s)),s._onSelectionChanged=s.onSelectionChanged.bind(Object(U.a)(s)),s}return Object(c.a)(n,[{key:"load",value:function(){return this.viewer.addEventListener(A.Viewing.MODEL_ROOT_LOADED_EVENT,this._onModelLoaded),this._crossSelection&&this.viewer.addEventListener(A.Viewing.SELECTION_CHANGED_EVENT,this._onSelectionChanged),!0}},{key:"unload",value:function(){return this.viewer.removeEventListener(A.Viewing.MODEL_ROOT_LOADED_EVENT,this._onModelLoaded),this._crossSelection&&this.viewer.removeEventListener(A.Viewing.SELECTION_CHANGED_EVENT,this._onSelectionChanged),this._panel&&this._panel.uninitialize(),this._group&&(this._group.removeControl(this._button),0===this._group.getNumberOfControls()&&this.viewer.toolbar.removeControl(this._group)),!0}},{key:"onModelLoaded",value:function(){this._panel&&(this._panel.urn=this.viewer.model.getData().urn)}},{key:"onSelectionChanged",value:function(){if(this._panel){var t=this.viewer.getSelection(),e=this._panel._viewer.getSelection();this.isSelectionSame(t,e)||this._panel.select(t)}}},{key:"isSelectionSame",value:function(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}},{key:"onToolbarCreated",value:function(){var t=this;this._group=this.viewer.toolbar.getControl("nestedViewerExtensionToolbar"),this._group||(this._group=new A.Viewing.UI.ControlGroup("nestedViewerExtensionToolbar"),this.viewer.toolbar.addControl(this._group)),this._button=new A.Viewing.UI.Button("nestedViewerExtensionButton"),this._button.onClick=function(e){t._panel||(t._panel=new B(t.viewer,t._filter,t._crossSelection),t._panel.urn=t.viewer.model.getData().urn),t._panel.isVisible()?(t._panel.setVisible(!1),t._button.removeClass("active")):(t._panel.setVisible(!0),t._button.addClass("active"))},this._button.setToolTip("Nested Viewer"),this._button.addClass("nestedViewerExtensionIcon"),this._group.addControl(this._button)}}]),n}(A.Viewing.Extension),B=function(t){Object(u.a)(n,t);var e=Object(l.a)(n);function n(t,i,s){var r;return Object(o.a)(this,n),(r=e.call(this,t.container,"nested-viewer-panel","Nested Viewer"))._urn="",r._parentViewer=t,r._filter=i,r._crossSelection=s,r}return Object(c.a)(n,[{key:"urn",get:function(){return this._urn},set:function(t){this._urn!==t&&(this._urn=t,this._updateDropdown())}},{key:"initialize",value:function(){var t=this;this.container.style.top="5em",this.container.style.right="5em",this.container.style.width="500px",this.container.style.height="400px",this.title=this.createTitleBar(this.titleLabel||this.container.id),this.container.appendChild(this.title),this._container=document.createElement("div"),this._container.style.position="absolute",this._container.style.left="0",this._container.style.top="50px",this._container.style.width="100%",this._container.style.height="330px",this.container.appendChild(this._container),this._overlay=document.createElement("div"),this._overlay.style.width="100%",this._overlay.style.height="100%",this._overlay.style.display="none",this._overlay.style.backgroundColor="rgba(0, 0, 0, 0.5)",this._overlay.style.color="white",this._overlay.style.zIndex="101",this._overlay.style.justifyContent="center",this._overlay.style.alignItems="center",this._container.appendChild(this._overlay),this._dropdown=document.createElement("select"),this._dropdown.style.position="absolute",this._dropdown.style.left="1em",this._dropdown.style.top="1em",this._dropdown.style.setProperty("z-index","100"),this._dropdown.setAttribute("id","nestedViewerExtensionDropdown"),this._dropdown.addEventListener("change",this._onDropdownChanged.bind(this)),this._dropdown.addEventListener("mousedown",(function(t){t.stopPropagation()})),this._container.appendChild(this._dropdown),this.initializeMoveHandlers(this.container),this._footer=this.createFooter(),this.footerInstance.resizeCallback=function(e,n){t._container.style.height="".concat(n-50-20,"px"),t._viewer&&t._viewer.resize()},this.container.appendChild(this._footer)}},{key:"setVisible",value:function(t){var e=this;Object(P.a)(Object(E.a)(n.prototype),"setVisible",this).call(this,t),t&&!this._viewer&&(this._viewer=new A.Viewing.GuiViewer3D(this._container),this._viewer.start(),this._onDropdownChanged(),this._crossSelection&&this._viewer.addEventListener(A.Viewing.SELECTION_CHANGED_EVENT,(function(){e._parentViewer.select(e._viewer.getSelection())})))}},{key:"select",value:function(t){this._viewer&&this._viewer.select(t)}},{key:"_updateDropdown",value:function(){var t=this;this._dropdown.innerHTML="",A.Viewing.Document.load("urn:"+this._urn,(function(e){t._manifest=e;var n=e.getRoot().search({type:"geometry"}).filter((function(e){return-1!==t._filter.indexOf(e.data.role)}));n.length>0?(t._overlay.style.display="none",t._dropdown.innerHTML=n.map((function(t){return'<option value="'.concat(t.guid(),'">').concat(t.name(),"</option>")})).join("\n")):(t._overlay.style.display="flex",t._overlay.innerText="No viewables found",t._dropdown.innerHTML=""),t._onDropdownChanged()}),(function(){console.error("Could not load document.")}))}},{key:"_onDropdownChanged",value:function(){var t=this._dropdown.value;t&&this._viewer.loadDocumentNode(this._manifest,this._manifest.getRoot().findByGuid(t))}}],[{key:"ExtensionId",get:function(){return"Viewing.Extension.NestedViewer"}}]),n}(A.Viewing.UI.DockingPanel);A.Viewing.theExtensionManager.registerExtension(H.ExtensionId,H);var W=window.Autodesk,z=function(t){Object(u.a)(n,t);var e=Object(l.a)(n);function n(t,i){var s;return Object(o.a)(this,n),(s=e.call(this,t,i))._group=null,s._button=null,s}return Object(c.a)(n,[{key:"load",value:function(){return!0}},{key:"unload",value:function(){return this._group&&(this._group.removeControl(this._button),0===this._group.getNumberOfControls()&&this.viewer.toolbar.removeControl(this._group)),!0}},{key:"onToolbarCreated",value:function(){var t=this;this._group=this.viewer.toolbar.getControl("nestedViewerExtensionToolbar"),this._group||(this._group=new W.Viewing.UI.ControlGroup("nestedViewerExtensionToolbar"),this.viewer.toolbar.addControl(this._group)),this._button=new W.Viewing.UI.Button("setGhostingExtensionButton"),this._button.onClick=function(e){t._panel||(t._panel=!1),t._panel?(t._panel=!1,t.viewer.setGhosting(!1)):(t._panel=!0,t.viewer.setGhosting(!0))},this._button.setToolTip("Set Ghosting"),this._button.addClass("setGhostingExtensionIcon"),this._group.addControl(this._button)}}],[{key:"ExtensionId",get:function(){return"SetGhostingExtension"}}]),n}(W.Viewing.Extension);W.Viewing.theExtensionManager.registerExtension(z.ExtensionId,z);var K,q=window.Autodesk,Q={accessToken:G.getaccesstoken()},X=function(t,e){K.setGroundReflection(!1),K.setGroundShadow(!1),K.setOptimizeNavigation(!0),J(),e&&e(!0)},Y=function(){var t=document.getElementsByClassName("forge-spinner");if(0!==t.length){var e=t[0];e.classList.remove("forge-spinner"),e.classList.add("lds-ring"),e.innerHTML="<div></div>"}},J=function(){K.loadExtension("Viewing.Extension.NestedViewer".ExtensionId,{filter:["2d","3d"],crossSelection:!0}),K.loadExtension("SetGhostingExtension",{filter:["2d","3d"],crossSelection:!0}),K.loadExtension("Autodesk.VisualClusters",{attribName:"Category",searchAncestors:!1})},Z=function(t,e,n,i){var s=[];t.getBulkProperties(e,{propFilter:["externalId"],ignoreHidden:!0},(function(t){for(var e in n){var r=n[e];for(var a in t){var o=t[a];o.externalId===r&&s.push(o.dbId)}}i(s)}),(function(t){}))},$=function(t){var e=t.getInstanceTree();return Object.keys(e.nodeAccess.dbIdToIndex).map((function(t){return parseInt(t)}))},tt=n(9),et=(new Intl.DateTimeFormat("en-GB"),function(){return Math.random().toString(36).substr(2,9)}),nt=function(){return([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,(function(t){return(t^crypto.getRandomValues(new Uint8Array(1))[0]&15>>t/4).toString(16)}))},it=function(t,e,n){if(-1!==e&&-1!==n&&e!==n){var i=t[e];t[e]=t[n],t[n]=i}},st=function(t,e,n){var i=t.splice(e,1),s=Object(tt.a)(i,1)[0];t.splice(n,0,s)},rt=function(t,e){var n=t.findIndex((function(t){return t.Key===e}));if(0!==n)return t.splice(n,1)},at=function(t,e){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=nt(),s=function(){e(),n&&rt(t,i)};t.push({Key:i,Value:s})},ot=function(t,e){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];t.push({Key:nt(),Value:e,IsDelete:n})},ct=function(t,e){t.forEach((function(t){return t.Value()})),e(t=t.filter((function(t){return!t.IsDelete})))},ut=function(t,e){return"".concat(function(t){for(var e="A".charCodeAt(0),n="Z".charCodeAt(0)-e+1,i="";t>=0;)i=String.fromCharCode(t%n+e)+i,t=Math.floor(t/n)-1;return i}(e)).concat(t+1)},lt=function(t,e,n,i){return"".concat(ut(t,e),":").concat(ut(n,i))},dt=function(t,e,n,i){var s,r=t.ApiData,a=r._id?r._id:t._id;if(i)s=function(){return V("".concat(e,"/").concat(i),r)};else{var o=!a;s=function(){return o?w("".concat(e,"/add"),r):V("".concat(e,"/edit"),r)}}s().then((function(t){return t.data})).then((function(e){o&&(t._id=e._id),n(e,o)}))},ht=function(t,e,n){var i={_id:t._id};V("".concat(e,"/delete"),i).then((function(t){return t.data})).then((function(t){n(t)}))},ft=function(t){return(t.originalEvent||t).clipboardData.getData("text/plain")},mt=function(t,e,n){var i=t.findIndex(e);if(void 0===(s=-1!==i?t[i]:void 0)&&n){var s=n();t.push(s)}return s},vt=function(t,e){var n=0;return 0===t&&e(),function(){++n===t&&e()}},_t=function(){return qg.Instance},pt=function(t){if(!t)return!1;var e=_t().Commands;return!!bt(t,e)||bt(t,_t().AdminCommands)},bt=function(t,e){var n=e;if(!n)return!1;if("string"===typeof t)return n.includes(t);var i=!1;return t.forEach((function(t){i||(i=n.includes(t))})),i},It=(n(347),n(348),"view"),jt="edit",gt=function(){return[It,jt]},yt=function(){function t(){var e=this;Object(o.a)(this,t),this.OnSet_id_Func_Dict=[],this.documentId=void 0,this.Initial=function(t){e.IsLoggedIn=!0,function(t,e,n,i){Q.accessToken.then((function(t){var s={accessToken:t.access_token};q.Viewing.Initializer(s,(function(){(K=new q.Viewing.GuiViewer3D(document.getElementById(e),{extensions:["Autodesk.AEC.LevelsExtension","Autodesk.AEC.Minimap3DExtension","Autodesk.DocumentBrowser","Autodesk.MemoryLimited"]})).start(),Y(),n.map((function(t){q.Viewing.Document.load("urn:".concat(t),(function(t){var e=t.getRoot().getDefaultGeometry();q.Viewing.Document.getAecModelData(t.getRoot()).then((function(t){return console.log("AEC metadata",t)})),K.loadDocumentNode(t,e,{keepCurrentModels:!0,globalOffset:{x:0,y:0,z:0},applyRefPoint:!0,isAEC:!0}).then((function(){X(t,i)}))}))})),J()}))}))}(0,"viewerDiv",e.DocumentIds,t)},this.IsLoggedIn=void 0,this.Can_Visible=!1,this.ToggleVisible=function(){(e.Can_Visible=!e.Can_Visible)&&!e.Is_Initial&&e.Initial()},this.Input_Open=function(){e.DocumentId=e.TempDocumentId,e.Initial((function(t){t||(O.b.error("Wrong urn!"),e.DocumentId=void 0),e.SaveDatabase(!1)}))},this.Edit_Urn=function(){e.DocumentId=void 0},this.SelectElements=function(t){!function(t){for(var e=K.impl.modelQueue().getModels(),n=e.map((function(t){return $(t)})),i=function(i){Z(e[i],n[i],t,(function(t){0===t.length?K.impl.visibilityManager.isolate([0],e[i]):K.impl.visibilityManager.isolate(t,e[i])}))},s=0;s<e.length;s++)i(s)}(t)},this.SaveDatabase=function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=arguments.length>1?arguments[1]:void 0;dt(e,p,(function(){t&&O.b.success("save successfully!"),n&&n()}))},Object(h.makeObservable)(this,{IsLoggedIn:h.observable,Can_Visible:h.observable,documentId:h.observable})}return Object(c.a)(t,[{key:"_id",get:function(){return this.__id},set:function(t){var e=this;this.__id=t,ct(this.OnSet_id_Func_Dict,(function(t){return e.OnSet_id_Func_Dict=t}))}},{key:"TempId",get:function(){return this.tempId||(this.tempId=nt()),this.tempId}},{key:"id",get:function(){return this._id?this._id:this.TempId}},{key:"DocumentId",get:function(){return this.documentId},set:function(t){this.documentId=t}},{key:"DocumentIds",get:function(){return[this.DocumentId]}},{key:"Is_Visible",get:function(){return this.DocumentId&&this.Can_Visible}},{key:"VisibleButton_Style",get:function(){return this.Can_Visible?"forge__button close":"forge__button open"}},{key:"ToggleView_Button",get:function(){return Object(F.jsx)(T.a,{type:"primary",size:"small",className:this.VisibleButton_Style,onClick:this.ToggleVisible,children:Object(F.jsx)(L,{className:"forge__togglevisible__icon",width:12,height:12})})}},{key:"ModalViewerStyle",get:function(){return this.Can_Visible?void 0:{display:"none"}}},{key:"InputVM",get:function(){var t=this;if(!this.inputVM){var e=this.inputVM=new v;e.Placeholder="urn ...",e.Content=this.DocumentId,e.OnSetContent=function(e){return t.TempDocumentId=e}}return this.inputVM}},{key:"InputView",get:function(){return Object(F.jsx)(F.Fragment,{children:pt(jt)?Object(F.jsxs)("div",{children:[Object(F.jsxs)("div",{className:"forge__input__dec f-ac",children:[Object(F.jsx)("div",{className:"forge__title",children:"urn:"}),Object(F.jsx)(R,{className:"forge__input f1",store:this.InputVM})]}),Object(F.jsx)(T.a,{type:"primary",size:"small",onClick:this.Input_Open,children:"OPEN"})]}):qg.Instance.UnAuthorized_View})}},{key:"ModelView",get:function(){return Object(F.jsxs)(F.Fragment,{children:[Object(F.jsx)("div",{className:"f",children:pt(jt)?Object(F.jsx)(T.a,{type:"primary",size:"small",className:"btn-warning",onClick:this.Edit_Urn,children:"Edit Urn"}):""}),this.IsLoggedIn?Object(F.jsx)("div",{className:"forge-viewer",id:"viewerDiv"}):""]})}},{key:"View",get:function(){return Object(F.jsx)("div",{className:"forge__wrapper",style:this.ModalViewerStyle,children:this.DocumentId?this.ModelView:this.InputView})}},{key:"ApiData",get:function(){return{_id:this._id,projectId:Yd.Instance.CurrentProject._id,documentId:this.DocumentId}}}]),t}(),Ot=function(t){var e=new yt;return e.Dict=t,e},St="AcceptanceNumberInternal",Dt="AcceptanceNumber",Mt="AcceptanceDate",kt="SupervisorContractor",Ct="SupervisorConsultant",Vt="SupervisorClient",wt="SubContractor",Tt="PaymentPeriodSubContractor",xt="PaymentPeriodClient",Ft=function(){return[St,Dt,Mt,kt,Ct,Vt,wt,Tt,xt]},Nt=function(t){switch(t){case St:return"acceptanceNumberInternal";case Dt:return"acceptanceNumber";case Mt:return"acceptanceDate";case kt:return"supervisorContractor";case Ct:return"supervisorConsultant";case Vt:return"supervisorClient";case wt:return"subContractor";case Tt:return"paymentPeriodSubContractor";case xt:return"paymentPeriodClient"}},Rt=function(t){switch(t){case St:return"BBNT n\u1ed9i b\u1ed9";case Dt:return"BBNT";case Mt:return"Ng\xe0y nghi\u1ec7m thu";case kt:return"Gi\xe1m s\xe1t Nh\xe0 th\u1ea7u";case Ct:return"Gi\xe1m s\xe1t T\u01b0 v\u1ea5n";case Vt:return"Gi\xe1m s\xe1t C\u0110T";case wt:return"Th\u1ea7u ph\u1ee5";case Tt:return"K\u1ef3 thanh to\xe1n Th\u1ea7u ph\u1ee5";case xt:return"K\u1ef3 thanh to\xe1n Ch\u1ee7 \u0111\u1ea7u t\u01b0"}},Lt="Project",Gt="Phase",Pt="Workpackage",Et="Value",Ut="Unit",At="elementName",Ht="MassType",Bt="workItem",Wt="level",zt="diameter",Kt="rebarnumber",qt="formworkFace",Qt="block",Xt="zone",Yt="typename",Jt="materialName",Zt="systemtype",$t="systemclassification",te="familyName",ee="size",ne="roomName",ie="roomNumber",se="guid",re="elementId",ae="ExportSet",oe=function(){return[Ht,Bt,Wt,Qt,Xt,te,Yt,zt,Kt,qt,At,Jt,ne,ie,Zt,$t,ee]},ce=function(){var t=ue();return t.push(ae),t.push.apply(t,Ft()),t},ue=function(){var t=oe();return t.push.apply(t,[se,re]),t},le=function(){return[Bt,Ht,Qt]},de=function(t){var e;switch(t){case Lt:e="D\u1ef1 \xe1n";break;case Gt:e="Phi\xean b\u1ea3n";break;case Pt:e="G\xf3i th\u1ea7u";break;case Et:e="Gi\xe1 tr\u1ecb";break;case Ut:e="\u0110\u01a1n v\u1ecb";break;case At:e="T\xean c\u1ea5u ki\u1ec7n";break;case Ht:e="\u0110\u1ea7u m\u1ee5c c\xf4ng vi\u1ec7c";break;case Bt:e="H\u1ea1ng m\u1ee5c";break;case Wt:e="Level";break;case Qt:e="Block";break;case"discipline":e="B\u1ed9 m\xf4n";break;case Xt:e="Zone";break;case Yt:e="Type";break;case zt:e="\u0110\u01b0\u1eddng k\xednh";break;case Kt:e="S\u1ed1 hi\u1ec7u th\xe9p";break;case qt:e="M\u1eb7t coffa";break;case Jt:e="V\u1eadt li\u1ec7u";break;case Zt:e="System Type";break;case $t:e="System Classification";break;case te:e="Family";break;case ee:e="Size";break;case ne:e="Room Name";break;case ie:e="Room Numnber";break;case se:e="Guid";break;case re:e="ElementId";break;case ae:e="ExportSet";break;default:e=Rt(t)}return e},he=n(10),fe=n(39),me="default",ve="edit",_e=n(65),pe=n.n(_e),be=n(76),Ie=be.a.Option,je=function(t){return t.TitleRender},ge=function(t){return t.Items?t.Items.map((function(e,n){var i=void 0;return i=t.IdRender?t.IdRender(e):void 0===e?et():"string"!==typeof e&&isNaN(e)?e._id?e._id:e.id:e,Object(F.jsx)(Ie,{value:n,children:t.TitleRender(e)},i)})):[]},ye=function(t){if(!t.Items||!t.SearchValue||0===t.SearchValue.length)return t.Options;var e=t.Items.filter((function(e){return t.FilterRender(e).toLowerCase().includes(t.SearchValue.toLowerCase())})).map((function(e){return t.Items.indexOf(e)}));return t.Options.filter((function(t,n){return e.includes(n)}))},Oe=function(){function t(){var e=this;Object(o.a)(this,t),this.SearchValue=void 0,this.items=void 0,this.initialItems=void 0,this.IsSet_InitialItem=void 0,this.initialIndexs=void 0,this.GetInitialIndexs=function(){var t=e.InitialItems;return t?t.map((function(t){return e.Items.indexOf(t)})).filter((function(t){return-1!==t})):[]},this.selectedIndexs=[],this.selectedItems=void 0,this.OnSelectedItemChanged=void 0,this.SetValue=function(t){e.InitialItems=e.SelectedItems=t},this.GetSelectedItems=function(){return e.SelectedIndexs.map((function(t){return e.Items[t]}))},this.placeholder=void 0,this.open=!1,this.OnSetOpen=void 0,this.canOpen=!0,this.disabled=!1,this.GetDisabled_Func=void 0,this.idRender=void 0,this.titleRender=void 0,this.filterRender=void 0,Object(h.makeObservable)(this,{items:h.observable,selectedIndexs:h.observable,open:h.observable,canOpen:h.observable,disabled:h.observable,SearchValue:h.observable})}return Object(c.a)(t,[{key:"Items",get:function(){return this.items},set:function(t){var e=this;Object(h.runInAction)((function(){e.items=t}))}},{key:"InitialItems",get:function(){return this.initialItems},set:function(t){this.IsSet_InitialItem=!0,this.initialItems=t,this.InitialIndexs=this.GetInitialIndexs(),this.SelectedIndexs=this.InitialIndexs}},{key:"InitialIndexs",get:function(){var t;return null!==(t=this.initialIndexs)&&void 0!==t?t:this.initialIndexs=this.GetInitialIndexs()},set:function(t){this.initialIndexs=t}},{key:"SelectedIndexs",get:function(){return this.selectedIndexs},set:function(t){var e=this;Object(h.runInAction)((function(){e.selectedIndexs=t,e.SelectedItems=e.GetSelectedItems()}))}},{key:"SelectedItems",get:function(){var t;return null!==(t=this.selectedItems)&&void 0!==t?t:this.selectedItems=this.GetSelectedItems()},set:function(t){var e;(this.selectedItems=t,this.IsSet_InitialItem)?this.IsSet_InitialItem=!1:null===(e=this.OnSelectedItemChanged)||void 0===e||e.call(this,t)}},{key:"Options",get:function(){return ge(this)}},{key:"FilterOptions",get:function(){return ye(this)}},{key:"Placeholder",get:function(){var t;return null!==(t=this.placeholder)&&void 0!==t?t:this.placeholder="ch\u1ecdn \u0111\u1ed1i t\u01b0\u1ee3ng ..."},set:function(t){this.placeholder=t}},{key:"Open",get:function(){return this.open},set:function(t){var e=this;Object(h.runInAction)((function(){var n;e.open=t,null===(n=e.OnSetOpen)||void 0===n||n.call(e,t)}))}},{key:"CanOpen",get:function(){return this.canOpen},set:function(t){this.canOpen=t}},{key:"Disabled",get:function(){return this.GetDisabled_Func?this.GetDisabled_Func():this.disabled},set:function(t){this.disabled=t}},{key:"IdRender",get:function(){var t;return null!==(t=this.idRender)&&void 0!==t?t:this.idRender=function(t){return"string"===typeof t?t:null===t||void 0===t?void 0:t._id}},set:function(t){this.idRender=t}},{key:"TitleRender",get:function(){var t;return null!==(t=this.titleRender)&&void 0!==t?t:this.titleRender=function(t){return t}},set:function(t){this.titleRender=t}},{key:"FilterRender",get:function(){var t;return null!==(t=this.filterRender)&&void 0!==t?t:this.filterRender=je(this)},set:function(t){this.filterRender=t}},{key:"View",get:function(){return Object(F.jsx)(De,{store:this})}}]),t}(),Se=(be.a.Option,function(t){Object(u.a)(n,t);var e=Object(l.a)(n);function n(t){var i;Object(o.a)(this,n),(i=e.call(this,t)).onValueChange=function(t){i.state.SelectedIndexs=t},i.onDropdownVisibleChange=function(t){i.state.Open=t};var s=i.props.store;return i.state=s||new Oe,i}return Object(c.a)(n,[{key:"render",value:function(){var t=this.state,e=this.props.style?this.props.style:{width:"100%"},n=t.Placeholder,i=(t.Items,t.SelectedIndexs),s=t.InitialIndexs;return 0===i.length&&(i=s,t.InitialIndexs=[]),Object(F.jsx)(F.Fragment,{children:Object(F.jsx)(be.a,{style:e,mode:"multiple",placeholder:n,optionFilterProp:"children",onChange:this.onValueChange,value:i,filterOption:!1,onSearch:function(e){return t.SearchValue=e},open:t.CanOpen&&t.Open,onDropdownVisibleChange:this.onDropdownVisibleChange,disabled:t.Disabled,children:t.FilterOptions})})}}]),n}(i.Component)),De=Object(d.observer)(Se),Me=n(286),ke=n(114),Ce=n(79),Ve=n(172),we=n(105),Te=n(140),xe=function(){function t(){var e=this;Object(o.a)(this,t),this.items=void 0,this.IsSet_InitialItem=void 0,this.initialItem=void 0,this.initialIndex=void 0,this.GetInitialIndex=function(){var t=e.Items.indexOf(e.InitialItem);return-1!==t?t:void 0},this.selectedIndex=void 0,this.selectedItem=void 0,this.SetValue=function(t){e.InitialItem=e.SelectedItem=t},this.GetSelectedItem=function(){var t=e.SelectedIndex;if(void 0!==t&&-1!==t)return e.Items[t]},this.OnSelectedItemChanged=void 0,this.placeholder=void 0,this.CanClear=!1,this.Clear=function(){e.SelectedIndex=void 0},this.open=!1,this.OnSetOpen=void 0,this.canOpen=!0,this.isDisabled=!1,this.disabled=!1,this.GetDisabled_Func=void 0,this.idRender=void 0,this.titleRender=void 0,this.filterRender=void 0,Object(h.makeObservable)(this,{items:h.observable,selectedIndex:h.observable,CanClear:h.observable,open:h.observable,canOpen:h.observable,isDisabled:h.observable,disabled:h.observable})}return Object(c.a)(t,[{key:"Items",get:function(){var t;return null!==(t=this.items)&&void 0!==t?t:this.items=[]},set:function(t){this.items=t}},{key:"InitialItem",get:function(){return this.initialItem},set:function(t){this.IsSet_InitialItem=!0,this.initialItem=t,this.InitialIndex=this.GetInitialIndex(),this.SelectedIndex=this.InitialIndex}},{key:"InitialIndex",get:function(){var t;return null!==(t=this.initialIndex)&&void 0!==t?t:this.initialIndex=this.GetInitialIndex()},set:function(t){this.initialIndex=t}},{key:"SelectedIndex",get:function(){return this.selectedIndex},set:function(t){var e=this;Object(h.runInAction)((function(){e.selectedIndex=t,e.SelectedItem=e.GetSelectedItem()}))}},{key:"SelectedItem",get:function(){var t;return null!==(t=this.selectedItem)&&void 0!==t?t:this.selectedItem=this.GetSelectedItem()},set:function(t){this.selectedItem=t,this.IsSet_InitialItem?this.IsSet_InitialItem=!1:this.OnSelectedItemChanged&&this.OnSelectedItemChanged(t)}},{key:"Options",get:function(){return ge(this)}},{key:"FilterOptions",get:function(){return ye(this)}},{key:"Placeholder",get:function(){var t;return null!==(t=this.placeholder)&&void 0!==t?t:this.placeholder="ch\u1ecdn \u0111\u1ed1i t\u01b0\u1ee3ng ..."},set:function(t){this.placeholder=t}},{key:"DivStyle",get:function(){return this.CanClear?{position:"relative",padding:"0 22px 0 0"}:{}}},{key:"Open",get:function(){return this.open},set:function(t){var e=this;Object(h.runInAction)((function(){var n;e.open=t,null===(n=e.OnSetOpen)||void 0===n||n.call(e,t)}))}},{key:"CanOpen",get:function(){return this.canOpen},set:function(t){this.canOpen=t}},{key:"IsDisabled",get:function(){return this.isDisabled},set:function(t){this.isDisabled=t}},{key:"Disabled",get:function(){return this.GetDisabled_Func?this.GetDisabled_Func():this.disabled},set:function(t){this.disabled=t}},{key:"IdRender",get:function(){var t;return null!==(t=this.idRender)&&void 0!==t?t:this.idRender=function(t){return"string"===typeof t?t:null===t||void 0===t?void 0:t._id}},set:function(t){this.idRender=t}},{key:"TitleRender",get:function(){var t;return null!==(t=this.titleRender)&&void 0!==t?t:this.titleRender=function(t){return t}},set:function(t){this.titleRender=t}},{key:"FilterRender",get:function(){var t;return null!==(t=this.filterRender)&&void 0!==t?t:this.filterRender=je(this)},set:function(t){this.filterRender=t}},{key:"View",get:function(){return Object(F.jsx)(Le,{store:this})}}]),t}(),Fe=Object(c.a)((function t(){var e=this;Object(o.a)(this,t),this.getClassName=function(){return e.className||(e.className="float ".concat(e.location)),e.className}})),Ne=function(t){Object(u.a)(n,t);var e=Object(l.a)(n);function n(t){var i;Object(o.a)(this,n),(i=e.call(this,t)).getWrapperContent=function(){var t=i.state.wrapper;return t||""};var s=i.props.store;return i.state=s||function(t){var e=new Fe;return e.location=t,e}("top right"),i}return Object(c.a)(n,[{key:"render",value:function(){var t=this.state;return Object(F.jsx)(F.Fragment,{children:Object(F.jsx)("span",{className:t.getClassName(),children:this.getWrapperContent()})})}}]),n}(i.Component),Re=(Object(d.observer)(Ne),n(439),be.a.Option,function(t){Object(u.a)(n,t);var e=Object(l.a)(n);function n(t){var i;Object(o.a)(this,n),(i=e.call(this,t)).onValueChange=function(t){i.state.SelectedIndex=t},i.onDropdownVisibleChange=function(t){i.state.Open=t};var s=i.props.store;return i.state=s||new xe,i}return Object(c.a)(n,[{key:"render",value:function(){var t=this.state,e=this.props.className?this.props.className:"",n=this.props.style?this.props.style:{width:"100%"},i=t.Placeholder,s=(t.Items,t.SelectedIndex),r=t.InitialIndex;return-1===s&&(s=r,t.InitialIndex=-1),Object(F.jsx)(F.Fragment,{children:Object(F.jsx)("div",{className:"select__wrapper ".concat(e),style:t.DivStyle,children:Object(F.jsx)(be.a,{style:n,showSearch:!0,placeholder:i,optionFilterProp:"children",onChange:this.onValueChange,value:s,filterOption:!1,onSearch:function(e){return t.SearchValue=e},open:t.CanOpen&&t.Open,onDropdownVisibleChange:this.onDropdownVisibleChange,disabled:t.Disabled||t.IsDisabled,children:t.FilterOptions})})})}}]),n}(i.Component)),Le=Object(d.observer)(Re),Ge="inside",Pe="lower",Ee=function(){function t(){var e=this;Object(o.a)(this,t),this.ReferenceRow=void 0,this.Location=Ge,this.ToggleLocation=function(){switch(e.Location){case Ge:e.Location=Pe;break;case Pe:e.Location=Ge}},Object(h.makeObservable)(this,{Location:h.observable})}return Object(c.a)(t,[{key:"Color",get:function(){return function(t){switch(t.Location){case Ge:return"#52c41a";case Pe:return"#faad14"}}(this)}},{key:"ButtonStyle",get:function(){return{width:50,backgroundColor:this.Color,border:"none"}}}]),t}(),Ue=function(t,e){var n=new xe;return n.Items=t,n.InitialItem=e,n},Ae="input",He="select",Be=n(2),We=n(290),ze=n.n(We),Ke=function(t){Object(u.a)(n,t);var e=Object(l.a)(n);function n(t){var i;Object(o.a)(this,n),(i=e.call(this,t)).handleChange=function(t){i.state.Content=t.target.value},i.OnPaste=function(t){t.preventDefault();var e=ft(t);i.state.Content=e},i.OnKeyDown=function(t){var e=i.state;e.OnKeyDown?e.OnKeyDown(t):(t.ctrlKey&&66==t.which||t.ctrlKey&&73==t.which||13==t.keyCode)&&t.preventDefault()},i.contentEditable=s.a.createRef();var r=i.props.store;if(r)i.state=r;else{i.state=_("N\u1ed9i dung input")}return i.state.Ref=s.a.createRef(),i}return Object(c.a)(n,[{key:"render",value:function(){var t,e=this.state,n=e.Content,i=this.props.className?this.props.className:"",s=this.props.style,r=this.props.onFocus?this.props.onFocus:e.OnFocus;return e.OnKeyDown=e.OnKeyDown?e.OnKeyDown:this.props.onKeyDown,Object(F.jsxs)(F.Fragment,{children:[e.State===f?Object(F.jsx)(ze.a,(t={ref:e.Ref,className:"ant-input ".concat(i),style:s,innerRef:this.contentEditable,placeholder:e.Placeholder},Object(Be.a)(t,"style",s),Object(Be.a)(t,"html",n||""),Object(Be.a)(t,"onChange",this.handleChange),Object(Be.a)(t,"onPaste",this.OnPaste),Object(Be.a)(t,"onKeyDown",this.OnKeyDown),Object(Be.a)(t,"onFocus",r),t)):"",e.State===m?Object(F.jsx)(x.a.Password,{value:n,onChange:this.handleChange,className:i,style:s}):""]})}}]),n}(i.Component),qe=Object(d.observer)(Ke),Qe=function(){function t(){var e=this;Object(o.a)(this,t),this.items=void 0,this.inputTitle=void 0,this.outputTitle=void 0,this.availableItems=void 0,this.selectedItems=[],this.GetKey=function(t){return"string"===typeof t?t:t.id?t.id:nt()},this.Select=function(t){var n=e.AvailableItems.indexOf(t);e.AvailableItems.splice(n,1),e.SelectedItems.push(t),e.IsChanged=!0},this.Unselect=function(t){var n=e.SelectedItems.indexOf(t);e.SelectedItems.splice(n,1);var i=e.Items.indexOf(t);i<e.AvailableItems.length?e.AvailableItems.splice(i,0,t):e.AvailableItems.push(t),e.IsChanged=!0},Object(h.makeObservable)(this,{items:h.observable,availableItems:h.observable,selectedItems:h.observable,inputTitle:h.observable,outputTitle:h.observable})}return Object(c.a)(t,[{key:"Items",get:function(){return this.items},set:function(t){var e=this;Object(h.runInAction)((function(){e.items=t,e.AvailableItems=Object(he.a)(e.Items),e.SelectedItems=[]}))}},{key:"InputTitle",get:function(){return this.inputTitle||(this.inputTitle="D\u1eef li\u1ec7u input"),this.inputTitle},set:function(t){this.inputTitle=t}},{key:"OutputTitle",get:function(){return this.outputTitle||(this.outputTitle="D\u1eef li\u1ec7u output"),this.outputTitle},set:function(t){this.outputTitle=t}},{key:"AvailableItems",get:function(){return this.availableItems},set:function(t){this.availableItems=t}},{key:"SelectedItems",get:function(){return this.selectedItems},set:function(t){this.selectedItems=t}},{key:"IsChanged",set:function(t){this.OnSelectedItemChanged&&this.OnSelectedItemChanged(this.SelectedItems)}},{key:"Render",get:function(){return this.render||(this.render=Ye(this)),this.render},set:function(t){this.render=t}}]),t}(),Xe=function(t,e,n,i){var s=new Qe;return s.Items=t,s.Render=e,s.InputTitle=n,s.OutputTitle=i,s},Ye=function(t){return function(t){return t}},Je=(n(443),function(t){Object(u.a)(n,t);var e=Object(l.a)(n);function n(t){var i;Object(o.a)(this,n),(i=e.call(this,t)).onValueChange=function(t){i.state.SelectedIndexs=t},i.onDropdownVisibleChange=function(t){i.state.Open=t};var s=i.props.store;return i.state=s||Xe(["a","b","c","d","e","f","g","h","i","j","k","q","r","s","t"]),i}return Object(c.a)(n,[{key:"render",value:function(){var t=this.state;this.props.style;return Object(F.jsx)(F.Fragment,{children:Object(F.jsxs)("table",{className:"tc_table",children:[Object(F.jsx)("thead",{children:Object(F.jsxs)("tr",{children:[Object(F.jsx)("th",{children:Object(F.jsx)("div",{className:"tc_table__title",children:Object(F.jsx)("span",{children:t.InputTitle})})}),Object(F.jsx)("th",{children:Object(F.jsx)("div",{className:"tc_table__title",children:t.OutputTitle})})]})}),Object(F.jsx)("tbody",{children:Object(F.jsxs)("tr",{children:[Object(F.jsx)("td",{children:Object(F.jsx)("span",{className:"tc_select__partition__items",children:t.AvailableItems.map((function(e){return Object(F.jsx)("span",{onClick:function(){return t.Select(e)},children:t.Render(e)},t.GetKey(e))}))})}),Object(F.jsx)("td",{children:Object(F.jsx)("span",{className:"tc_select__partition__items",children:t.SelectedItems.map((function(e){return Object(F.jsx)("span",{onClick:function(){return t.Unselect(e)},children:t.Render(e)},t.GetKey(e))}))})})]})})]})})}}]),n}(i.Component)),Ze=Object(d.observer)(Je),$e="lower",tn="upper",en="both",nn="none",sn="celldata",rn="unitlist",an="unit",on="delete",cn="addsub",un="removedata",ln=function(t){Object(u.a)(n,t);var e=Object(l.a)(n);function n(t){var i;Object(o.a)(this,n),(i=e.call(this,t)).getWrapperContent=function(){var t=i.state.wrapper;return t||""};var s=i.props.store;return i.state=s||{content:"N\u1ed9i dung"},i}return Object(c.a)(n,[{key:"render",value:function(){var t=this.state.content,e=this.props.className,n=this.props.style;return Object(F.jsxs)(F.Fragment,{children:[Object(F.jsx)("span",{className:e,style:n,children:t}),this.getWrapperContent()]})}}]),n}(i.Component),dn=Object(d.observer)(ln),hn=(be.a.Option,Object(d.observer)((function(t){var e,n=t.store;return Object(F.jsx)(F.Fragment,{children:Object(F.jsx)("td",{style:n.ColorData.Td_Style,children:Object(F.jsxs)("div",{className:"w-full flex",children:[Object(F.jsx)("div",{className:"flex-1",children:n.IsHaveWarning?Object(F.jsx)(Ve.a,{trigger:"hover",content:Object(F.jsx)("div",{children:n.TLS_LevelGroup_Descriptions?n.TLS_LevelGroup_Descriptions.map((function(t){return Object(F.jsx)("span",{children:t},t)})):""}),children:Object(F.jsx)(Te.a,{className:"masscell__warningicon"})}):""}),Object(F.jsxs)("div",{style:n.ColorData.ValueStyle,children:[null===(e=n.ValueData.CurrentItem)||void 0===e?void 0:e.ValueString,n.ColorData.RatioView,n.Items&&0===n.Items.length?"":n.ViewDetail.View]})]})})})}))),fn=function(){function t(){Object(o.a)(this,t)}return Object(c.a)(t,[{key:"Render",get:function(){return this.render||(this.render=mn(this)),this.render},set:function(t){this.render=t}}]),t}(),mn=function(t){switch(t.State){case me:return function(t,e){var n=e.ClassName,i=e.Style,s=e.OnDoubleClick,r=e.OnClick;return Object(F.jsxs)(F.Fragment,{children:[Object(F.jsx)("span",{className:"value__wrapper ".concat(n),style:i,onDoubleClick:s,onClick:r,children:t}),e.Is_Tool_Visible&&e.Is_Edit_Visible?Object(F.jsx)(T.a,{type:"primary",size:"small",className:"left10 btn-warning",onClick:e.Edit,children:"e"}):""]})};case ve:return function(t,e){var n,i=e.ClassName,s=e.Style,r=e.OnFocus;return Object(F.jsx)(F.Fragment,{children:Object(F.jsxs)("div",{className:"input__wrapper ".concat(i),children:[Object(F.jsx)(R,(n={ref:e.Ref,className:"input__main",style:s,store:e},Object(Be.a)(n,"ref",e.Ref),Object(Be.a)(n,"onFocus",r),n)),e.Is_Tool_Visible&&e.Is_OK_Visible?Object(F.jsx)(T.a,{type:"primary",size:"small",onClick:e.EditOK,children:"ok"}):""]})})};default:return}},vn=Object(c.a)((function t(){var e=this;Object(o.a)(this,t),this.Items=[],this.GetRender=function(t){var n=e.Items,i=n.findIndex((function(e){return e.State===t}));if(-1===i){var s=function(t,e){var n=new fn;return n.State=t,n.Render=e,n}(t);return n.push(s),s}return n[i]}})),_n=function(){function t(){var e=this;Object(o.a)(this,t),this.content=void 0,this.onSetContent=void 0,this.OnKeyDown=void 0,this.placeholder="n\u1ed9i dung input",this.State=f,this.IsEditing=!1,this.titleFunc=void 0,this.render_Dict=void 0,this.OnSet_RenderState_Func_Dict=[],this.renderState=me,this.CanChange_RenderState=!0,this.Is_Tool_Visible=!0,this.Is_Edit_Visible=!0,this.Is_OK_Visible=!0,this.Edit=function(){e.RenderState===me&&(e.RenderState=ve)},this.EditOK=function(){e.RenderState=me},this.Render=function(){return e.Render_Dict.GetRender(e.RenderState).Render(e.Content,e)},this.OnSet_Ref_Func_Dict=[],this.ref=void 0,this.ref_Element=void 0,this.Focus=function(){var t=function(){var t;null===(t=e.Ref_Element)||void 0===t||t.focus()};e.Ref?t():ot(e.OnSet_Ref_Func_Dict,(function(){return t()}))},this.IsEscape=void 0,Object(h.makeObservable)(this,{content:h.observable,placeholder:h.observable,State:h.observable,IsEditing:h.observable,renderState:h.observable,Is_Tool_Visible:h.observable,Is_Edit_Visible:h.observable,Is_OK_Visible:h.observable,CanChange_RenderState:h.observable})}return Object(c.a)(t,[{key:"Content",get:function(){return this.content},set:function(t){var e;this.content=t,null===(e=this.onSetContent)||void 0===e||e.call(this,t)}},{key:"Placeholder",set:function(t){this.placeholder=t}},{key:"TitleFunc",get:function(){var t,e=this;return null!==(t=this.titleFunc)&&void 0!==t?t:this.titleFunc=function(){return e.Content}},set:function(t){this.titleFunc=t}},{key:"Render_Dict",get:function(){var t;return null!==(t=this.render_Dict)&&void 0!==t?t:this.render_Dict=new vn},set:function(t){this.render_Dict=t}},{key:"RenderState",get:function(){return this.renderState},set:function(t){this.CanChange_RenderState&&(this.renderState=t,this.OnSet_RenderState_Func_Dict.forEach((function(t){return t.Value()})))}},{key:"Ref",get:function(){return this.ref},set:function(t){var e=this;this.ref=t,ct(this.OnSet_Ref_Func_Dict,(function(t){return e.OnSet_Ref_Func_Dict=t}))}},{key:"Ref_Element",get:function(){var t,e=this;return null!==(t=this.ref_Element)&&void 0!==t?t:this.ref_Element=function(){var t=e.Ref.current;return t&&t.getEl&&(t=t.getEl()),t}()}},{key:"View",get:function(){return Object(F.jsx)(bn,{store:this})}}]),t}(),pn=(n(444),function(t){Object(u.a)(n,t);var e=Object(l.a)(n);function n(t){var i;Object(o.a)(this,n);var r=(i=e.call(this,t)).props.store;return i.state=r||new _n,i.state.Ref=s.a.createRef(),i}return Object(c.a)(n,[{key:"render",value:function(){var t=this.state;return t.ClassName=this.props.className?this.props.className:"",t.Style=this.props.style,t.OnFocus=t.OnFocus?t.OnFocus:this.props.onFocus,t.OnDoubleClick=t.OnDoubleClick?t.OnDoubleClick:this.props.onDoubleClick,t.OnClick=t.OnClick?t.OnClick:this.props.onClick,Object(F.jsx)(F.Fragment,{children:t.Render()})}}]),n}(i.Component)),bn=Object(d.observer)(pn),In=(n(445),be.a.Option,Object(d.observer)((function(t){var e=t.store;return Object(F.jsx)(F.Fragment,{children:Object(F.jsx)("td",{className:"massrow__unit__td",onMouseEnter:e.OnMouseEnter,onMouseLeave:e.OnMouseLeave,children:e.MainView})})}))),jn=Object(d.observer)((function(t){var e,n=t.store;return Object(F.jsxs)(F.Fragment,{children:[Object(F.jsxs)("tr",{className:n.UnitData.MissingCss,children:[Object(F.jsx)("th",{scope:"row",children:Object(F.jsx)("div",{onMouseEnter:n.ShowHover,onMouseLeave:n.HideHover,children:Object(F.jsxs)("div",{className:"flex",style:{marginLeft:15*n.Rank},children:[Object(F.jsx)(T.a,{size:"small",className:"mr-1 min-w-[25px] ".concat(n.IsHaveSub?"":"invisible"),type:"primary",onClick:n.ToggleSub,children:Object(F.jsx)(dn,{store:n.ToggleButtonContentVM})}),Object(F.jsxs)("div",{className:"flex-1",children:[Object(F.jsx)("span",{onDoubleClick:n.EditTitle,children:Object(F.jsx)(bn,{store:n.Editable_TitleVM})}),n.IsHave_Addition_Wrapper?Object(F.jsxs)("div",{children:[n.ReplaceInformation_Element,n.RawValue_Element]}):""]}),Object(F.jsxs)("div",{className:"ml-3 w-[130px]",children:[n.HoverData.View,n.ModalElement]})]})})}),n.Cells.map((function(t){return Object(F.jsx)(hn,{store:t},t.id)})),Object(F.jsx)(In,{store:n.UnitData})]}),n.IsDataPending_View,n.IsShowSub&&(null===(e=n.subDict.filteredItems)||void 0===e?void 0:e.map((function(t,e){return t.view})))]})})),gn="retitle",yn="subgroup",On="delete",Sn="replace",Dn="add",Mn="move",kn="unit",Cn=function(){function t(){var e=this;Object(o.a)(this,t),this._id=void 0,this.Dict=void 0,this.Is_Original_SupRow=void 0,this.supItem=void 0,this.Get_SubItems_FromApi=function(t,n,i){_o(e,t,n,i)},this._subDict=void 0,this.refreshSubItems=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=e.subDict;0!==n.items.length&&n.filteredItemsState===fe.PropertyState.notset&&n.refreshFilteredItems(),t&&n.filteredItemsState===fe.PropertyState.done&&n.items.forEach((function(e){return e.refreshSubItems(t)}))},this.cells=void 0,this.GetCell=function(t){return e.Cells.find((function(e){return e.Column===t}))},this.update=void 0,this.isReplaced=void 0,this.Original_SupRow=void 0,this.subFields=[],this.TempSubFields=void 0,this.isShowSub=!1,this.toggleButtonContent=void 0,this.toggleButtonContentVM=void 0,this.IsPending_HaveSub=void 0,this.IsToolVisible=!1,this.FieldInputType=He,this.Toggle_FieldInputType=function(){switch(e.FieldInputType){case He:e.TempField=e.FieldInputVM.Content,e.FieldInputType=Ae;break;case Ae:e.FieldSelectVM.InitialItem=e.TempField,e.FieldInputType=He}},this.TempField=void 0,this.fieldInputVM=void 0,this.fieldSelectVM=void 0,this.IsShowSubFieldSelect=void 0,this.subFieldSelectVM=void 0,this.Name=void 0,this.title=void 0,this.ReTitle=function(t,n,i){uo(e,t,n,i)},this.titleVM=void 0,this.EditTitle=function(){e.HideHover(),e.Editable_TitleVM.RenderState=ve},this.editable_TitleVM=void 0,this.locationSelectVM=void 0,this.GetCellByColumn=function(t){var n=e.Cells.findIndex((function(e){return e.Column===t}));return-1!==n?e.Cells[n]:void 0},this.ToggleSub=function(){po(e)},this.MoveUp=function(){var t=e.CurrentList;if(t){var n=e.Index;0!==n&&bo(e,t[n-1])}},this.MoveDown=function(){var t=e.CurrentList;if(t){var n=e.Index;t.length-1!==n&&bo(e,t[n+1])}},this.AddSub=function(){za(e,e.Table)},this.deleteData=void 0,this.replaceFactory=void 0,this.ReplaceOK=function(t){var n=e.ReplaceFactory,i=n.ReferenceRow;if(i){var s=n.Location;i===e&&s===Pe||i===e.SupItem&&s===Ge||(e.Replace(i,s,t),n.Location=Ge)}},this.Replace_SubItems=function(){e.Table.CommandDict.Do({action:Sn,target:{type:"row",key:e.RetrieveData},value:e.Temp_SelectSubItems},e)},this.Replace_SubItems_Main=function(t,n,i){var s;i&&(s=[],i((function(){s.forEach((function(t){return t()}))}))),t.forEach((function(t){t.Replace(e,Ge,(function(t){s&&s.push(t)}))})),e.IsShowSub=!0,n&&n()},this.Replace=function(t,n,i){e.Original_SupRow;var s,r=void 0;switch(n){case Ge:r=t;break;case Pe:r=t.SupItem}if(e.SupItem!==r){var a=[],o=e.IsReplaced;if(a.push((function(){return e.IsReplaced=o})),e.IsReplaced=!0,e.Update.Run({Section:on,Data:{DeleteType:"default"}},tn,!0,(function(t){return a.push(t)})),i){var c=e.SupItem;a.push((function(){return e.SupItem=c}))}e.SupItem=r,null===(s=r)||void 0===s||s.Update.Run({Section:cn,Data:{Item:e}},nn,!0,(function(t){return a.push(t)}));var u=e.IsShowSubFieldSelect;a.push((function(){e.IsShowSubFieldSelect=u})),e.IsShowSubFieldSelect=!1,i&&i((function(){a.forEach((function(t){return t()}))}))}},this.isModalVisible=!1,this.OpenModal=function(){var t;e.IsModalVisible=!0,e.TitleVM.Content=e.Title,e.FieldInputVM.Content=e.Field;var n=e.FieldSelectVM,i=(t=n.Items).findIndex((function(t){return t.Value===e.Field}));n.InitialItem=-1!==i?t[i]:void 0,e.TempField=e.Field;var s=e.SubFieldSelectVM;t=s.Items,s.InitialItems=t.filter((function(t){return-1!==e.SubFields.indexOf(t.Value)})),e.Temp_SelectSubItems=void 0,e.SelectSubItemsVM.Items=e.LocationStorageList;var r=e.LocationSelectVM;r.Items=e.LocationStorageList,r.InitialItem=void 0},this.ModalOK=function(){e.IsModalVisible=!1,e.Field!==e.TempField&&(e.Field=e.TempField),e.IsCreatedByUser||e.GroupFactory.Run(),e.Temp_SelectSubItems&&e.Replace_SubItems()},this.ModalCancel=function(){e.IsModalVisible=!1},this.PMS_WorkPackages=["THI C\xd4NG CH\xcdNH (HBC)","C\xd4NG T\xc1C CHU\u1ea8N B\u1eca PH\u1ea6N NG\u1ea6M","C\xd4NG T\xc1C CHU\u1ea8N B\u1eca PH\u1ea6N NG\u1ea6M (PH\u01af\u01a0NG ...)","K\u1ebft th\xfac th\xf4 - B\xe0n giao"],this.pms_WorkPackages_SelectVM=void 0,this.hoverData=void 0,this.ShowHover=function(){e.Editable_TitleVM.RenderState!==ve&&e.HoverData.Show()},this.HideHover=function(){e.HoverData.Hide()},this.toolElement=void 0,this.On_HandleTotalData_Cells_Func=[],this.is_HandleTotalData_Cells=void 0,this.HandleTotalData_Cells=void 0,this.AddHandleTotalData_Cell=function(t){e.HandleTotalData_Cells||(e.HandleTotalData_Cells=[]);var n=e.HandleTotalData_Cells;n.push(t),n.length===e.Cells.length&&(e.HandleTotalData_Cells=void 0,e.Is_HandleTotalData_Cells=!0)},this.IsHaveAdditionInformation=!1,this.AdditionInformation=void 0,this.Is_SelectSubItems_ModalOpen=!1,this.Open_SelectSubItems_Modal=function(){e.Is_SelectSubItems_ModalOpen=!0},this.SelectSubItems_ModalCancel=function(){e.Is_SelectSubItems_ModalOpen=!1},this.SelectSubItems_ModalOK=function(){e.Is_SelectSubItems_ModalOpen=!1},this.selectSubItemsVM=void 0,this.temp_SelectSubItems=void 0,this.rawValue=void 0,this.IsCreatedByUser=void 0,this.unit_SetType=void 0,this.unitData=void 0,this.site=void 0,this.ViewElements=function(){e.Table.Dict.Forge.SelectElements(e.Items.map((function(t){return t.GetValue_Mas(se)})))},this.filterData=void 0,this.Field=void 0,this.isDataPending=!1,this.groupFactory=void 0,this.BindingCommand=void 0,this.MassGroupItem=void 0,this.OrderMGI=void 0,this.ReplaceMGI=void 0,Object(h.makeObservable)(this,{isShowSub:h.observable,IsToolVisible:h.observable,isModalVisible:h.observable,title:h.observable,rawValue:h.observable,FieldInputType:h.observable,IsHaveAdditionInformation:h.observable,Is_SelectSubItems_ModalOpen:h.observable,temp_SelectSubItems:h.observable,isDataPending:h.observable,IsPending_HaveSub:h.observable,supItem:h.observable})}return Object(c.a)(t,[{key:"id",get:function(){var t;return null!==(t=this._id)&&void 0!==t?t:this._id=fe.generalUtil.randomInt()}},{key:"Table",get:function(){var t;return this.Dict?this.Dict:null===(t=this.SupItem)||void 0===t?void 0:t.Table}},{key:"Index",get:function(){var t;return null===(t=this.CurrentList)||void 0===t?void 0:t.indexOf(this)}},{key:"SupItem",get:function(){return this.supItem},set:function(t){this.supItem=t}},{key:"Full_SupItems",get:function(){return qa(this)}},{key:"CurrentList",get:function(){return this.SupItem?this.SupItem.subDict.items:this.Table.MainRows}},{key:"subDict",get:function(){var t;return null!==(t=this._subDict)&&void 0!==t?t:this._subDict=Ka(this)}},{key:"AllItems",get:function(){var t=[this];return this.subDict.items.forEach((function(e){t.push.apply(t,e.AllItems)})),t}},{key:"Cells",get:function(){var t;return null!==(t=this.cells)&&void 0!==t?t:this.cells=to(this)}},{key:"Update",get:function(){var t;return null!==(t=this.update)&&void 0!==t?t:this.update=ao(this)}},{key:"Items",get:function(){var t=this.Cells.reduce((function(t,e){return t.concat(e.Items)}),[]);return t=t.filter((function(t,e,n){return n.indexOf(t)===e}))}},{key:"IsReplaced",get:function(){return this.isReplaced},set:function(t){this.isReplaced=t,(this.IsHaveAdditionInformation=Ya(this))&&(this.AdditionInformation=Ja(this))}},{key:"Original_Full_SupRows",get:function(){return Qa(this)}},{key:"Original_SupFields",get:function(){return Xa(this)}},{key:"SubFields",get:function(){return this.subFields},set:function(t){this.subFields=t,Ba(this,t)}},{key:"IsShowSub",get:function(){return this.isShowSub},set:function(t){var e=this;Object(h.runInAction)((function(){e.isShowSub=t,e.ToggleButtonContentVM.Content=Ua(e)}))}},{key:"ToggleButtonContent",get:function(){var t;return null!==(t=this.toggleButtonContent)&&void 0!==t?t:this.toggleButtonContent=Ua(this)},set:function(t){this.toggleButtonContent=t}},{key:"ToggleButtonContentVM",get:function(){var t,e=this;return null!==(t=this.toggleButtonContentVM)&&void 0!==t?t:this.toggleButtonContentVM=function(){var t=_(e.ToggleButtonContent);return t.OnSetContent=function(t){return e.ToggleButtonContent=t},t}()}},{key:"Rank",get:function(){return Ga(this)}},{key:"IsHaveSub",get:function(){return Ea(this)}},{key:"Style",get:function(){return Pa(this)}},{key:"FieldInputVM",get:function(){var t,e=this;return null!==(t=this.fieldInputVM)&&void 0!==t?t:this.fieldInputVM=function(){var t=_();return t.onSetContent=function(t){return e.TempField=t},t}()}},{key:"FieldSelectVM",get:function(){var t;return null!==(t=this.fieldSelectVM)&&void 0!==t?t:this.fieldSelectVM=Aa(this)}},{key:"FieldInputElement",get:function(){return Object(F.jsx)(F.Fragment,{children:Object(F.jsxs)("div",{className:"massrow__fieldinput_wrapper",children:[Object(F.jsx)("div",{className:"massrow__fieldinput",children:this.FieldInputType===He?Object(F.jsx)(Le,{store:this.FieldSelectVM}):Object(F.jsx)(qe,{store:this.FieldInputVM})}),this.IsCreatedByUser?Object(F.jsx)(Me.a,{unCheckedChildren:"inp",checkedChildren:"sel",checked:this.FieldInputType===He,onChange:this.Toggle_FieldInputType}):""]})})}},{key:"SubFieldSelectVM",get:function(){var t;return null!==(t=this.subFieldSelectVM)&&void 0!==t?t:this.subFieldSelectVM=Ha(this)}},{key:"Title",get:function(){return this.title},set:function(t){this.title=t,this.TitleVM.Content=t,this.Editable_TitleVM.Content=t}},{key:"TitleVM",get:function(){var t;return null!==(t=this.titleVM)&&void 0!==t?t:this.titleVM=_(this.Title,"ti\xeau \u0111\u1ec1")}},{key:"Editable_TitleVM",get:function(){var t;return null!==(t=this.editable_TitleVM)&&void 0!==t?t:this.editable_TitleVM=co(this)}},{key:"LocationStorageList",get:function(){return this.Table.AllRows}},{key:"LocationSelectVM",get:function(){var t;return null!==(t=this.locationSelectVM)&&void 0!==t?t:this.locationSelectVM=Wa(this)}},{key:"DeleteData",get:function(){var t;return null!==(t=this.deleteData)&&void 0!==t?t:this.deleteData=ro(this)}},{key:"ReplaceFactory",get:function(){var t;return null!==(t=this.replaceFactory)&&void 0!==t?t:this.replaceFactory=new Ee}},{key:"IsModalVisible",get:function(){return this.isModalVisible},set:function(t){var e=this;Object(h.runInAction)((function(){e.isModalVisible=t}))}},{key:"PMS_WorkPackages_SelectVM",get:function(){var t;return null!==(t=this.pms_WorkPackages_SelectVM)&&void 0!==t?t:this.pms_WorkPackages_SelectVM=Ue(this.PMS_WorkPackages)}},{key:"ModalElement",get:function(){this.ReplaceFactory;var t="180px";return Object(F.jsxs)(pe.a,{title:this.Title,visible:this.IsModalVisible,width:700,onOk:this.ModalOK,onCancel:this.ModalCancel,children:[Object(F.jsxs)(ke.a,{gutter:15,style:{marginTop:10},children:[Object(F.jsx)(Ce.a,{flex:t,children:Object(F.jsx)("b",{children:" Ti\xeau \u0111\u1ec1:"})}),Object(F.jsx)(Ce.a,{flex:"auto",children:Object(F.jsx)("b",{children:this.TitleVM.Content})})]}),Object(F.jsxs)(ke.a,{gutter:15,style:{marginTop:10},children:[Object(F.jsx)(Ce.a,{flex:t,children:Object(F.jsx)("b",{children:" Nh\xf3m hi\u1ec7n t\u1ea1i:"})}),Object(F.jsx)(Ce.a,{flex:"auto",children:this.FieldInputElement})]}),this.IsCreatedByUser?"":Object(F.jsxs)(ke.a,{gutter:15,style:{marginTop:10},children:[Object(F.jsx)(Ce.a,{flex:t,children:Object(F.jsx)("b",{children:" Thi\u1ebft l\u1eadp ph\xe2n nh\xf3m:"})}),Object(F.jsx)(Ce.a,{flex:"auto",children:Object(F.jsx)(De,{store:this.SubFieldSelectVM})})]}),Object(F.jsxs)(ke.a,{gutter:15,style:{marginTop:10},children:[Object(F.jsx)(Ce.a,{flex:t,className:"mass__modal__title__wrapper",children:Object(F.jsx)("b",{children:"\u0110\u1ed5i v\u1ecb tr\xed:"})}),Object(F.jsxs)(Ce.a,{flex:"auto",children:[Object(F.jsx)(T.a,{type:"primary",size:"small",className:this.Temp_SelectSubItems?"mass__modal__title__selectsubitems__button":"",onClick:this.Open_SelectSubItems_Modal,children:"ch\u1ecdn t\u1eadp con"}),this.SelectSubItems_ModalElement]})]}),this.Table.Dict.Dict.ViewItem.CanEdit_Site?Object(F.jsxs)(ke.a,{gutter:15,style:{marginTop:10},children:[Object(F.jsx)(Ce.a,{flex:t,children:Object(F.jsx)("b",{children:"Th\xf4ng tin c\xf4ng tr\u01b0\u1eddng:"})}),Object(F.jsxs)(Ce.a,{flex:"auto",children:[Object(F.jsx)(T.a,{type:"primary",size:"small",className:"btn-warning",onClick:this.Site.OpenModal,children:"..."}),this.Site.ModalView]})]}):""]})}},{key:"HoverData",get:function(){var t;return null!==(t=this.hoverData)&&void 0!==t?t:this.hoverData=Za(this)}},{key:"ToolElement",get:function(){var t;return null!==(t=this.toolElement)&&void 0!==t?t:this.toolElement=$a(this)}},{key:"ReplaceInformation_Element",get:function(){return Object(F.jsx)(F.Fragment,{children:this.IsHaveAdditionInformation?Object(F.jsx)(Ve.a,{trigger:"hover",content:Object(F.jsx)("span",{className:"info",children:this.ReplaceInformation}),children:Object(F.jsx)(Te.a,{className:"info"})}):""})}},{key:"ExportInfo",get:function(){var t,e={Key:this.Field,Value:this.Title};return this.SupItem?(t=Object(he.a)(this.SupItem.ExportInfo)).push(e):t=[e],t}},{key:"ExportValue",get:function(){var t=[];return this.Cells.forEach((function(e){var n,i=e.ValueData.CurrentItem;t.push({Key:null===(n=e.Column)||void 0===n?void 0:n.Name,Value:null===i||void 0===i?void 0:i.Value,Unit:null===i||void 0===i?void 0:i.Unit})})),t}},{key:"ExportData",get:function(){return{Infos:this.ExportInfo,Values:this.ExportValue}}},{key:"Is_HandleTotalData_Cells",get:function(){return this.is_HandleTotalData_Cells},set:function(t){var e=this;ct(this.On_HandleTotalData_Cells_Func,(function(t){return e.On_HandleTotalData_Cells_Func=t})),this.is_HandleTotalData_Cells=t}},{key:"IsHave_Addition_Wrapper",get:function(){return this.IsHaveAdditionInformation||this.IsShow_RawValue}},{key:"ReplaceInformation",get:function(){return vo(this)}},{key:"SelectSubItems_ModalElement",get:function(){return Object(F.jsx)(pe.a,{title:"Ch\u1ecdn t\u1eadp h\u1ee3p \u0111\u1ea7u m\u1ee5c con",visible:this.Is_SelectSubItems_ModalOpen,onOk:this.SelectSubItems_ModalOK,onCancel:this.SelectSubItems_ModalCancel,children:Object(F.jsx)("div",{className:"mass__subitemmodal__wrapper",children:Object(F.jsx)(Ze,{store:this.SelectSubItemsVM})})})}},{key:"SelectSubItemsVM",get:function(){var t,e=this;return null!==(t=this.selectSubItemsVM)&&void 0!==t?t:this.selectSubItemsVM=function(){var t=Xe([],(function(t){var e=15*t.Rank;return Object(F.jsx)("div",{style:{marginLeft:e},children:t.Title})}),"T\u1eadp h\u1ee3p v\u1ecb tr\xed","V\u1ecb tr\xed \u0111\u01b0\u1ee3c ch\u1ecdn");return t.OnSelectedItemChanged=function(t){return e.Temp_SelectSubItems=t},t}()}},{key:"Temp_SelectSubItems",get:function(){return this.temp_SelectSubItems},set:function(t){var e=this;Object(h.runInAction)((function(){e.temp_SelectSubItems=t}))}},{key:"FullValue",get:function(){return eo(this)}},{key:"RawValue",get:function(){return this.rawValue},set:function(t){this.rawValue=t,this.IsCreatedByUser||this.Title||(this.Title=t)}},{key:"IsShow_RawValue",get:function(){return no(this)}},{key:"RawValue_Element",get:function(){return Object(F.jsx)(F.Fragment,{children:this.IsShow_RawValue?Object(F.jsx)(Ve.a,{trigger:"hover",content:Object(F.jsx)("span",{className:"success",children:this.RawValue}),children:Object(F.jsx)(Te.a,{className:"success"})}):""})}},{key:"Unit_SetType",get:function(){var t;return null!==(t=this.unit_SetType)&&void 0!==t?t:this.unit_SetType=0===this.subDict.items.length?"upper":"both"},set:function(t){this.unit_SetType=t}},{key:"Unit",get:function(){return this.UnitData.CurrentUnit}},{key:"UnitData",get:function(){var t;return null!==(t=this.unitData)&&void 0!==t?t:this.unitData=so(this)}},{key:"Site",get:function(){var t;return null!==(t=this.site)&&void 0!==t?t:this.site=oo(this)}},{key:"FilterData",get:function(){var t;return null!==(t=this.filterData)&&void 0!==t?t:this.filterData=lo(this)}},{key:"RetrieveData",get:function(){return ho(this)}},{key:"FilterDict",get:function(){return fo(this)}},{key:"IsDataPending",get:function(){return this.isDataPending},set:function(t){var e=this;Object(h.runInAction)((function(){e.isDataPending=t}))}},{key:"IsDataPending_View",get:function(){return this.IsDataPending?Object(F.jsx)("tr",{children:Object(F.jsxs)("td",{children:[Object(F.jsx)(we.a,{}),Object(F.jsx)("span",{children:"loading data ..."})]})}):void 0}},{key:"GroupFactory",get:function(){var t;return null!==(t=this.groupFactory)&&void 0!==t?t:this.groupFactory=mo(this)}},{key:"view",get:function(){return Object(F.jsx)(jn,{store:this},this.id)}}]),t}(),Vn=(be.a.Option,function(t,e){var n=new Oe;return n.Items=t,n.InitialItems=e,n}),wn=function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2?arguments[2]:void 0,i=new _n;return i.Content=t,i.CanChange_RenderState=e,void 0===n&&(n=e),i.Is_Tool_Visible=n,i},Tn="enter",xn="esc",Fn=function(t){var e;return t.altKey&&13==t.keyCode?e="alt_enter":t.ctrlKey&&66==t.which?e="ctrl_b":t.ctrlKey&&73==t.which?e="ctrl_i":t.ctrlKey?e="ctrl":t.altKey?e="alt":13==t.keyCode?e=Tn:9==t.keyCode?e="tab":8==t.keyCode?e="backspace":46==t.keyCode?e="del":27==t.keyCode&&(e=xn),{key:e,value:t.key}},Nn=function(t,e,n){(!e||e())&&"default"===t.RenderState&&(t.RenderState="edit",n&&n())},Rn=function(t,e){t.RenderState="default",e&&e()},Ln=function(t,e,n){var i=wn(t[e]),s=function(){return Rn(i)};return i.Is_Tool_Visible=!1,i.OnKeyDown=function(t){var e=Fn(t),n=e.key;e.value;switch(n){case Tn:s();break;case xn:i.IsEscape=!0,s()}},at(i.OnSet_RenderState_Func_Dict,(function(){if("default"===i.RenderState){if(i.IsEscape)return i.Content=t[e],void(i.IsEscape=!1);if(i.Content===t[e])return;t[e]=i.Content,n&&n()}}),!1),i},Gn=n(639),Pn=n(640),En=Object(d.observer)((function(t){var e,n,i,s=t.store;return Object(F.jsx)(F.Fragment,{children:Object(F.jsx)(F.Fragment,{children:Object(F.jsxs)("div",{className:"f",children:[null!==(e=s.Dict)&&void 0!==e&&null!==(n=e.Table.Dict.Forge)&&void 0!==n&&n.Is_Visible?Object(F.jsx)(T.a,{type:"primary",size:"small",onClick:s.Method("ViewElements"),children:Object(F.jsx)(L,{className:"forge__togglevisible__icon",width:12,height:12})}):"",Object(F.jsx)(T.a,{size:"small",type:"primary",className:"btn-success",onClick:s.Method("MoveUp"),children:Object(F.jsx)(Gn.a,{})}),Object(F.jsx)(T.a,{size:"small",type:"primary",className:"btn-success",onClick:s.Method("MoveDown"),children:Object(F.jsx)(Pn.a,{})}),Object(F.jsx)(T.a,{type:"primary",size:"small",className:"btn-warning",onClick:s.Method("OpenModal"),children:"..."}),Object(F.jsx)(T.a,{size:"small",type:"primary",className:"btn-success",onClick:s.Method("AddSub"),children:"+"}),null===(i=s.Dict)||void 0===i?void 0:i.DeleteData.DeleteVM.View]})})})})),Un=function(){function t(){var e=this;Object(o.a)(this,t),this.Dict=void 0,this.editable_TitleVM_RenderState=void 0,this.Method=function(t){return e.Dict[t]},Object(h.makeObservable)(this,{editable_TitleVM_RenderState:h.observable})}return Object(c.a)(t,[{key:"Editable_TitleVM",get:function(){var t;return null===(t=this.Dict)||void 0===t?void 0:t.Editable_TitleVM}},{key:"Editable_TitleVM_RenderState",get:function(){var t;return null!==(t=this.editable_TitleVM_RenderState)&&void 0!==t?t:this.editable_TitleVM_RenderState=this.Editable_TitleVM.RenderState},set:function(t){this.editable_TitleVM_RenderState=t,this.Editable_TitleVM.RenderState=t}},{key:"View",get:function(){return Object(F.jsx)(En,{store:this})}}]),t}(),An=function(){function t(){Object(o.a)(this,t)}return Object(c.a)(t,[{key:"Values",get:function(){return this.values},set:function(t){this.values=t}},{key:"ValueStorageList",get:function(){return this.valueStorageList||(this.valueStorageList=$n(this)),this.valueStorageList}},{key:"ApiData",get:function(){return ti(this)}}]),t}(),Hn="category",Bn="parameter",Wn="bystring",zn="bynumber",Kn="byequal",qn="bycontain",Qn="bynotcontain",Xn="byequal",Yn="bysmaller",Jn="bybigger",Zn="bybetween",$n=function(t){var e=[];switch(t.CategoryType){case Hn:e=[];break;case Bn:e=Yd.Instance.ParameterNames}return e},ti=function(t){return{valueType:t.ValueType,numberFilterType:t.NumberFilterType,stringFilterType:t.StringFilterType,values:t.Values}},ei=function(t,e){if(void 0===e||null===e)return!1;var n=!1,i=t.Values;switch(t.ValueType){case Wn:if("string"===typeof e)switch(t.StringFilterType){case Kn:i.forEach((function(t){n||t!==e||(n=!0)}));break;case qn:var s=e.toLowerCase();i.forEach((function(t){!n&&s.includes(t.toLowerCase())&&(n=!0)}));break;case Qn:s=e.toLowerCase();n=!0,i.forEach((function(t){n&&s.includes(t.toLowerCase())&&(n=!1)}))}break;case zn:if(!isNaN(e))switch(t.NumberFilterType){case Xn:return e===i[0];case Yn:return e<i[0];case"bysmallerorequal":return e<=i[0];case Jn:return e>i[0];case"bybiggerorequal":return e>=i[0];case Zn:var r=i[0],a=i[1];return t.IsEqualLeft&&r===e||r<e&&e<a||t.IsEqualRight&&e===a}}return n},ni="https://api.bimdev.vn/api/hb_masscell",ii=function(){function t(){Object(o.a)(this,t),this.MassItem=void 0,this.originValue=void 0,this.OnSet_Replace_Value_Func_Dict=[],this.IsGet_Replace_Value=void 0,this.replace_Value=void 0,this.OnSet_Value_Func_Dict=[],this.IsGet_Value=void 0,this.value=void 0}return Object(c.a)(t,[{key:"Origin_Value",get:function(){var t;return null!==(t=this.originValue)&&void 0!==t?t:this.originValue=Rs(this)}},{key:"Replace_Value",get:function(){return this.replace_Value||Ls(this),this.replace_Value},set:function(t){var e=this;this.replace_Value=t,ct(this.OnSet_Replace_Value_Func_Dict,(function(t){return e.OnSet_Replace_Value_Func_Dict=t}))}},{key:"Value",get:function(){return this.value||Gs(this),this.value},set:function(t){var e=this;this.value=t,ct(this.OnSet_Value_Func_Dict,(function(t){return e.OnSet_Value_Func_Dict=t}))}}]),t}(),si="https://api.bimdev.vn/api/hbphase",ri=function(){function t(){var e=this;Object(o.a)(this,t),this.OnSet_id_Func_Dict=[],this.__id=void 0,this.tempId=void 0,this.name=void 0,this.description=void 0,this.Is_FirstCreated=!1,this.OnGet_TypicalLevelSetting_Func=[],this.IsGet_TypicalLevelSetting=void 0,this.typicalLevelSetting=void 0,this.Run=function(t){Zi(e,t)},this.Save=function(t){e.SaveDatabase(!1,t)},this.SaveDatabase=function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=arguments.length>1?arguments[1]:void 0;dt(e,si,(function(){t&&O.b.success("save successfully!"),null===n||void 0===n||n()}))},this.Dict=void 0,this.Delete=function(){e.CurrentList.splice(e.Index,1),e.DeleteDatabase(!0)},this.DeleteDatabase=function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=arguments.length>1?arguments[1]:void 0;ht(e,si,(function(){t&&O.b.success("delete successflly!"),null===n||void 0===n||n()}))}}return Object(c.a)(t,[{key:"_id",get:function(){return this.__id},set:function(t){var e=this;this.__id=t,ct(this.OnSet_id_Func_Dict,(function(t){return e.OnSet_id_Func_Dict=t}))}},{key:"TempId",get:function(){var t;return null!==(t=this.tempId)&&void 0!==t?t:this.tempId=nt()}},{key:"id",get:function(){return this._id?this._id:this.TempId}},{key:"Name",get:function(){var t;return null!==(t=this.name)&&void 0!==t?t:this.name="t\xean version"},set:function(t){this.name=t}},{key:"Description",get:function(){var t;return null!==(t=this.description)&&void 0!==t?t:this.description="m\xf4 t\u1ea3"},set:function(t){this.description=t}},{key:"TypicalLevelSetting",get:function(){return this.typicalLevelSetting||Ji(this),this.typicalLevelSetting},set:function(t){var e=this;this.typicalLevelSetting=t,ct(this.OnGet_TypicalLevelSetting_Func,(function(t){return e.OnGet_TypicalLevelSetting_Func=t}))}},{key:"ApiData",get:function(){var t;return{_id:this._id,projectId:null===(t=Yd.Instance.CurrentProject)||void 0===t?void 0:t._id,name:this.Name,description:this.Description}}},{key:"CurrentList",get:function(){var t;return null===(t=this.Dict)||void 0===t?void 0:t.Items}},{key:"Index",get:function(){return this.CurrentList.indexOf(this)}}]),t}(),ai=function(){function t(){var e=this;Object(o.a)(this,t),this.Delete=function(){e.Dict.LevelGroups.splice(e.Index,1)},this.OnGetLevelStorageList_Func_Dict=[],this.IsEqual=function(t){return di(e,t)}}return Object(c.a)(t,[{key:"id",get:function(){return this._id||(this._id=nt()),this._id}},{key:"Index",get:function(){return this.Dict.LevelGroups.indexOf(this)}},{key:"ApiData",get:function(){return{levels:this.Levels?this.Levels:[],primary:this.Primary}}},{key:"Count",get:function(){return this.Levels.length}},{key:"GetLevelStorageList",get:function(){return this.getLevelStorageList},set:function(t){this.getLevelStorageList=t,this.OnGetLevelStorageList_Func_Dict.forEach((function(t){return t.Value()}))}},{key:"LevelStorageList",get:function(){var t=this,e=this.Dict.LevelStorageList;return e||this.IsGet_LevelStorageList||(this.IsGet_LevelStorageList=!0,this.Setting.OnGetLevelStorageList_Funcs.push((function(){t.GetLevelStorageList=!0}))),e}},{key:"Setting",get:function(){return this.Dict.Setting}},{key:"LevelIndexs",get:function(){var t=this;return this.Levels.map((function(e){return t.LevelStorageList.indexOf(e)}))}},{key:"MinLevel",get:function(){return this.LevelStorageList[Math.min.apply(Math,this.LevelIndexs)]}},{key:"MaxLevel",get:function(){return this.LevelStorageList[Math.max.apply(Math,this.LevelIndexs)]}},{key:"Description",get:function(){if(this.LevelStorageList)return"Typ: ".concat(this.MinLevel," - ").concat(this.MaxLevel," (").concat(this.Count,")")}},{key:"FullDescription",get:function(){if(this.Description)return"".concat(this.Dict.FilterDescription," (").concat(this.Description,")")}},{key:"Primary",get:function(){return this.primary||(this.primary=ui(this)),this.primary},set:function(t){this.primary=t}},{key:"Primary_Values",get:function(){return li(this)}}]),t}(),oi=function(t,e){var n=new ai;return Array.isArray(t)?n.Levels=t:(n.Levels=t.levels,n.Primary=t.primary),n.Dict=e,n},ci=function(t){var e=new ai;return e.Dict=t,e},ui=function(t){if(t.Levels&&0!==t.Levels.length)return t.Levels[0]},li=function(t){var e=t.Primary,n=t.Setting.Binding.Items,i=n.findIndex((function(t){return t.Name===e}));return-1!==i?n[i].Values:[]},di=function(t,e){if(t.Primary!==e.Primary)return!1;var n=t.Levels,i=e.Levels;if(n.length!==i.length)return!1;var s=Object(he.a)(i),r=!0;return n.forEach((function(t){if(r){var e=s.findIndex((function(e){return t===e}));-1!==e?s.splice(e,1):r=!1}})),r},hi="input",fi="select",mi=function(){function t(){var e=this;Object(o.a)(this,t),this.InputType=fi,this.IsEqual=function(t){return n=t,e.Value===n.Value;var n}}return Object(c.a)(t,[{key:"Value",get:function(){return this.value},set:function(t){this.value=t}},{key:"ApiData",get:function(){return{value:this.Value,inputType:this.InputType}}}]),t}(),vi=function(){function t(){var e=this;Object(o.a)(this,t),this.Delete=function(){e.Dict.Filters.splice(e.Index,1)},this.Items=[],this.AddItem=function(){var t=new mi;return e.Items.push(t),t},this.IsEqual=function(t){return bi(e,t)}}return Object(c.a)(t,[{key:"id",get:function(){return this._id||(this._id=nt()),this._id}},{key:"Index",get:function(){return this.Dict.Filters.indexOf(this)}},{key:"Values",get:function(){return this.Items.filter((function(t){return t.Value})).map((function(t){return t.Value}))}},{key:"Field",get:function(){return this.field||(this.field=this.FieldStorageList[0]),this.field},set:function(t){this.field=t}},{key:"FieldStorageList",get:function(){return this.Dict.FieldFilterStorageList}},{key:"ApiData",get:function(){return{field:this.Field,items:this.Items.filter((function(t){return t.Value})).map((function(t){return t.ApiData}))}}},{key:"Description",get:function(){var t=this.Values.reduce((function(t,e,n,i){return 0!==i.indexOf(e)&&(t+=", "),t+=e}),"");return"".concat(this.Field,": ").concat(t)}}]),t}(),_i=function(t){var e=new vi;return e.Dict=t,e},pi=function(t,e){var n=new vi;return n.Field=t.Field,n.Items=t.Items.map((function(t){return function(t){var e=new mi;return e.Value=t.Value,e.InputType=t.InputType,e}(t)})),n.Dict=e||t.Dict,n},bi=function(t,e){if(t.Field!==e.Field)return!1;var n=t.Items,i=e.Items;if(n.length!==i.length)return!1;var s=Object(he.a)(i),r=!0;return n.forEach((function(t){if(r){var e=s.findIndex((function(e){return t.IsEqual(e)}));-1!==e?s.splice(e,1):r=!1}})),r},Ii=function(){function t(){var e=this;Object(o.a)(this,t),this.Name="t\xean setting",this.Delete=function(){e.Dict.PageItems.splice(e.Index,1)},this.AddLevelGroup=function(){var t=ci(e);return e.LevelGroups.push(t),t},this.AddFilter=function(){var t=_i(e);return e.Filters.push(t),t},this.IsEqual=function(t){return Di(e,t)}}return Object(c.a)(t,[{key:"id",get:function(){return this._id||(this._id=nt()),this._id}},{key:"Index",get:function(){return this.Dict.PageItems.indexOf(this)}},{key:"FieldFilterStorageList",get:function(){return this.Dict.FieldFilterStorageList}},{key:"Setting",get:function(){return this.Dict.Setting}},{key:"LevelStorageList",get:function(){return this.Dict.LevelStorageList}},{key:"LevelGroups",get:function(){return this.levelGroups||(this.levelGroups=Oi(this)),this.levelGroups},set:function(t){this.levelGroups=t}},{key:"Filters",get:function(){return this.filters||(this.filters=Si(this)),this.filters},set:function(t){this.filters=t}},{key:"FilterDescription",get:function(){return this.Filters.reduce((function(t,e,n,i){return 0!==i.indexOf(e)&&(t+="; "),t+=e.Description}),"")}},{key:"ApiData",get:function(){return{name:this.Name,levelGroups:this.LevelGroups.map((function(t){return t.ApiData})).filter((function(t){return 0!==t.levels.length})),filters:this.Filters.map((function(t){return t.ApiData}))}}}]),t}(),ji=function(t,e){var n=new Ii;return n.Name=t.name,n.Filters=t.filters.map((function(t){return function(t,e){var n=new vi;return n.Field=t.field,t.items?n.Items=t.items.map((function(t){var e=new mi;return e.Value=t.value,e.InputType=t.inputType,e})):n.Items=t.values.map((function(t){var e=new mi;return e.Value=t,e})),n.Dict=e,n}(t,n)})),n.LevelGroups=t.levelGroups?t.levelGroups.map((function(t){return oi(t,n)})):t.levels.map((function(t){return oi(t,n)})),n.Dict=e,n},gi=function(t){var e=new Ii;return e.Name="setting 1",e.Dict=t,e},yi=function(t,e){var n=new Ii;return n.Name=t.Name,n.Filters=t.Filters.map((function(t){return pi(t,n)})),n.LevelGroups=t.LevelGroups.map((function(t){return function(t,e){var n=new ai;return n.Levels=t.Levels,n.Primary=t.Primary,n.Dict=e||t.Dict,n}(t,n)})),n.Dict=e||t.Dict,n},Oi=function(t){return[ci(t)]},Si=function(t){return[_i(t)]},Di=function(t,e){var n=t.Filters,i=e.Filters;if(n.length!==i.length)return!1;var s=Object(he.a)(i),r=!0;if(n.forEach((function(t){if(r){var e=s.findIndex((function(e){return t.IsEqual(e)}));-1!==e?s.splice(e,1):r=!1}})),!r)return!1;var a=t.LevelGroups,o=e.LevelGroups;return a.length===o.length&&(a.forEach((function(t,e){r&&(t.IsEqual(o[e])||(r=!1))})),r)},Mi=function(){function t(){var e=this;Object(o.a)(this,t),this.AddPageItem=function(){var t=gi(e);return e.PageItems.push(t),t.Name="setting ".concat(t.Index+1),t},this.IsEqual=function(t){return Ti(e,t)}}return Object(c.a)(t,[{key:"Setting",get:function(){return this.Dict}},{key:"LevelStorageList",get:function(){return this.Dict.LevelStorageList}},{key:"PageItems",get:function(){return this.pageItems||(this.pageItems=wi(this)),this.pageItems},set:function(t){this.pageItems=t}},{key:"FieldFilterStorageList",get:function(){return this.Dict.FieldFilterStorageList}},{key:"ApiData",get:function(){return{pageItems:this.PageItems.map((function(t){return t.ApiData}))}}}]),t}(),ki=function(t,e){var n=new Mi;return n.PageItems=t.pageItems.map((function(t){return ji(t,n)})),n.Dict=e,n},Ci=function(t){var e=new Mi;return e.Dict=t,e},Vi=function(t,e){var n=new Mi;return n.PageItems=t.PageItems.map((function(t){return yi(t,n)})),n.Dict=e||t.Dict,n},wi=function(t){return[gi(t)]},Ti=function(t,e){var n=t.PageItems,i=e.PageItems;if(n.length!==i.length)return!1;var s=!0;return n.forEach((function(t,e){s&&(t.IsEqual(i[e])||(s=!1))})),s},xi=function(){function t(){var e=this;Object(o.a)(this,t),this.Delete=function(){e.Dict.Items.splice(e.Index,1)},this.Name="",this.Values=[]}return Object(c.a)(t,[{key:"TempId",get:function(){return this.tempId||(this.tempId=nt()),this.tempId}},{key:"id",get:function(){return this._id?this._id:this.TempId}},{key:"Index",get:function(){return this.Dict.Items.indexOf(this)}},{key:"ApiData",get:function(){return{name:this.Name,values:this.Values}}}]),t}(),Fi=function(){function t(){var e=this;Object(o.a)(this,t),this.Items=[],this.AddItem=function(){var t=function(t){var e=new xi;return e.Dict=t,e}(e);return t.Name="t\xean level",e.Items.push(t),t},this.Update_LevelData=function(){e.LevelStorageList=Li(e)},this.OnSet_LevelStorageList_Func_Dict=[],this.Move=function(t,n){var i=e.Items;it(i,t,n)},this.Insert=function(t,n){var i=e.Items;st(i,t,n)}}return Object(c.a)(t,[{key:"LevelStorageList",get:function(){return this.levelStorageList||(this.levelStorageList=Li(this)),this.levelStorageList},set:function(t){var e=this;this.levelStorageList=t,ct(this.OnSet_LevelStorageList_Func_Dict,(function(t){return e.OnSet_LevelStorageList_Func_Dict=t}))}},{key:"ApiData",get:function(){return{items:this.Items.map((function(t){return t.ApiData}))}}}]),t}(),Ni=function(t,e){var n=new Fi;return n.Items=t.items.map((function(t){return function(t,e){var n=new xi;return n.Name=t.name,n.Values=t.values,n.Dict=e,n}(t,n)})),n},Ri=function(t){var e=new Fi;return e.Items=[],e},Li=function(t){return t.Items.map((function(t){return t.Name}))},Gi=function(){function t(){Object(o.a)(this,t),this.OnSet_LevelStorageList_Func_Dict=[]}return Object(c.a)(t,[{key:"LevelStorageList",get:function(){return this.levelStorageList||(this.levelStorageList=Pi(this)),this.levelStorageList},set:function(t){var e=this;this.levelStorageList=t,ct(this.OnSet_LevelStorageList_Func_Dict,(function(t){return e.OnSet_LevelStorageList_Func_Dict=t}))}},{key:"FieldFilterStorageList",get:function(){return this.Dict.FieldFilterStorageList}},{key:"ApiData",get:function(){return{binding:this.Binding.ApiData,typical:this.Typical.ApiData}}}]),t}(),Pi=function(t){return t.Binding.LevelStorageList},Ei=function(){function t(){var e=this;Object(o.a)(this,t),this.Delete=function(){var t=e._id;V("https://api.bimdev.vn/api/hbs/delete",{_id:t}).then((function(t){return t.data})).then((function(t){return O.b.success("Delete setting successfully")})),e.Dict.Items.splice(e.Index,1),e.OnDelete&&e.OnDelete(),e.Dict.Input.EditItemId=void 0},this.SaveDatabase=function(t){dt(e,e.Url,(function(n,i){var s=e.Dict.Items;if(i)s.push(e);else{var r=s.indexOf((function(t){return t._id===e._id}));s[r]=e}t&&t(n,i)}))}}return Object(c.a)(t,[{key:"Name",get:function(){return this.name},set:function(t){this.name=t,this.OnNameChanged&&this.OnNameChanged(t)}},{key:"Description",get:function(){return this.description},set:function(t){this.description=t,this.OnDescriptionChanged&&this.OnDescriptionChanged(t)}},{key:"Data",get:function(){return this.data},set:function(t){this.data=t,this.OnDataChanged&&this.OnDataChanged(t)}},{key:"DisplayContent",get:function(){return this.Name}},{key:"Index",get:function(){return this.Dict.Items.indexOf(this)}},{key:"ApiData",get:function(){var t;return{_id:this._id,projectId:null===(t=this.Project)||void 0===t?void 0:t._id,settingType:this.SettingType,name:this.Name,description:this.Description,data:this.Data.ApiData}}}]),t}(),Ui=function(t){var e,n={projectId:null===(e=Yd.Instance.CurrentProject)||void 0===e?void 0:e._id,isUpdated:!1};w("".concat("https://api.bimdev.vn/api/hb_massreport_status","/update"),n).then((function(t){return t.data})).then((function(e){return null===t||void 0===t?void 0:t(e)}))},Ai=function(t){Object(u.a)(n,t);var e=Object(l.a)(n);function n(){var t;Object(o.a)(this,n);for(var i=arguments.length,s=new Array(i),r=0;r<i;r++)s[r]=arguments[r];return(t=e.call.apply(e,[this].concat(s))).Save=function(){qi(Object(U.a)(t));var e=t.Data;e.OldTypical.IsEqual(e.Typical)||(e.OldTypical=Vi(e.Typical),Ui())},t.OnGetLevelStorageList_Funcs=[],t}return Object(c.a)(n,[{key:"FieldFilterStorageList",get:function(){return this.fieldFilterStorageList||(this.fieldFilterStorageList=Ki()),this.fieldFilterStorageList}},{key:"LevelStorageList",get:function(){return this.levelStorageList||(this.levelStorageList=Qi(this)),this.levelStorageList},set:function(t){this.levelStorageList=t,this.GetLevelStorageList=!0}},{key:"GetLevelStorageList",set:function(t){this.OnGetLevelStorageList_Funcs.forEach((function(t){return t()}))}}]),n}(Ei),Hi="level",Bi="masstype",Wi=function(t,e,n){var i=new Ai;return i._id=t._id,i.Name=t.name,i.Description=t.description,i.SettingType=t.settingType,i.Data=function(t,e){var n,i=new Gi;return t.typical?(n=i.Binding=Ni(t.binding),i.Typical=ki(t.typical,i),i.OldTypical=Vi(i.Typical)):(n=i.Binding=Ri(),i.Typical=ki(t,i)),i.Dict=e,ot(n.OnSet_LevelStorageList_Func_Dict,(function(){return i.LevelStorageList=Pi(i)}),!1),i}(t.data,i),i.Project=e,i.Phase=n,i},zi=function(t){var e=new Ai;return e.Name="thi\u1ebft l\u1eadp ...",e.Description="M\xf4 t\u1ea3 thi\u1ebft l\u1eadp ...",e.SettingType="typicallevel",e.Data=function(t){var e=new Gi,n=e.Binding=Ri();return e.Typical=Ci(e),e.OldTypical=Vi(e.Typical),e.Dict=t,ot(n.OnSet_LevelStorageList_Func_Dict,(function(){return e.LevelStorageList=Pi(e)}),!1),e}(e),e.Project=t,e},Ki=function(){return le()},qi=function(t){var e=t._id,n=t.ApiData,i="https://api.bimdev.vn/api/hbs/".concat("tl"),s=!!e;(s?V("".concat(i,"/edit"),n):w("".concat(i,"/add"),n)).then((function(t){return t.data})).then((function(e){s&&(t._id=e._id),O.b.success("add setting successfully!")}))},Qi=function(t){var e=t.Project.Level_Dict,n=function(t){return t.map((function(t){return t.Name}))};if(e.Items)return n(e.Items);e.OnGetItemsDone_Funcs.push((function(){t.LevelStorageList=n(e.Items)}))},Xi=function(){return Yd.Instance},Yi=function(t){var e=new ri;return e.Dict=t,e},Ji=function(t){var e;if(!t.IsGet_TypicalLevelSetting){t.IsGet_TypicalLevelSetting=!0;var n={projectId:null===(e=Xi().CurrentProject)||void 0===e?void 0:e._id,phaseId:t._id};w("".concat("https://api.bimdev.vn/api/hbs/tl","/get"),n).then((function(t){return t.data})).then((function(e){!function(e){t.TypicalLevelSetting=Wi(e,Xi().CurrentProject,t),t.IsGet_TypicalLevelSetting=!1}(e)}))}},Zi=function(t,e){var n=vt(4,(function(){null===e||void 0===e||e()}));t.Save((function(){!function(){var e,i={phaseId:t._id,projectId:null===(e=Xi().CurrentProject)||void 0===e?void 0:e._id};w("".concat(si,"/save_exportsetversion"),i).then((function(t){return t.data})).then((function(t){n()}))}(),function(){var e,i={phaseId:t._id,projectId:null===(e=Xi().CurrentProject)||void 0===e?void 0:e._id};w("".concat(si,"/save_report"),i).then((function(t){return t.data})).then((function(t){n()}))}(),function(){var e,i={phaseId:t._id,projectId:null===(e=Xi().CurrentProject)||void 0===e?void 0:e._id};w("".concat(si,"/save_levelsetting"),i).then((function(t){return t.data})).then((function(t){n()}))}(),function(){var e,i={phaseId:t._id,projectId:null===(e=Xi().CurrentProject)||void 0===e?void 0:e._id};w("".concat(si,"/save_exportset_value"),i).then((function(t){return t.data})).then((function(t){n()}))}()}))},$i=function(){function t(){var e=this;Object(o.a)(this,t),this.Dict=void 0,this.OnSet_Items_Func=[],this.IsGet_Items=void 0,this.items=void 0,this.AddItem=function(){var t,n=Yi(e);return n.Is_FirstCreated=!0,null===(t=e.Items)||void 0===t||t.push(n),n},this.GetItem=function(t,n){var i=function(e){var i=e.find((function(e){return e._id===t}));null===n||void 0===n||n(i)},s=e;s.Items?i(s.Items):ot(s.OnSet_Items_Func,(function(){return i(s.Items)}))}}return Object(c.a)(t,[{key:"Project",get:function(){return this.Dict instanceof Ns?this.Dict:void 0}},{key:"Items",get:function(){return this.items||es(this),this.items},set:function(t){var e=this;this.items=t,ct(this.OnSet_Items_Func,(function(t){return e.OnSet_Items_Func=t}))}}]),t}(),ts=function(t){var e=new $i;return e.Dict=t,e},es=function(t){var e;if(!t.IsGet_Items){t.IsGet_Items=!0;var n=function(e){t.Items=e.map((function(e){return function(t,e){if(t){var n=Yi(e);return n._id=t._id,n.Name=t.name,n.Description=t.description,n}}(e,t)})),t.IsGet_Items=!1};!function(t,e){t=t||{},w("".concat(si,"/list"),t).then((function(t){return t.data})).then((function(t){null===e||void 0===e||e(t)}))}({projectId:t.Project?t.Project._id:null===(e=Yd.Instance.CurrentProject)||void 0===e?void 0:e._id},(function(t){n(t)}))}},ns=function(){function t(){var e=this;Object(o.a)(this,t),this.Project=void 0,this.OnSet_Items_Func=[],this.IsGet_Items=void 0,this.items=void 0,this.OnSet_Undefined_Item_Func=[],this.IsGet_Undefined_Item=void 0,this.undefined_Item=void 0,this.GetLevel=function(t,n){us(e,t,n)}}return Object(c.a)(t,[{key:"Items",get:function(){return this.items||os(this),this.items},set:function(t){var e=this;this.items=t,ct(this.OnSet_Items_Func,(function(t){return e.OnSet_Items_Func=t}))}},{key:"Undefined_Item",get:function(){return this.undefined_Item||cs(this),this.undefined_Item},set:function(t){var e=this;this.undefined_Item=t,ct(this.OnSet_Undefined_Item_Func,(function(t){return e.OnSet_Undefined_Item_Func=t}))}}]),t}(),is=function(){function t(){Object(o.a)(this,t),this._id=void 0,this.Dict=void 0,this.Name=void 0,this.Elevation=void 0}return Object(c.a)(t,[{key:"name",get:function(){return this.Name}}]),t}(),ss="https://api.bimdev.vn/api/hbl",rs=function(t,e){var n=new is;return n._id=t._id,n.Name=t.name,n.Elevation=t.elevation,n.Dict=e,n},as=function(t){var e=new ns;return e.Project=t,e},os=function(t){var e;if(!t.IsGet_Items){t.IsGet_Items=!0;!function(t,e){t=t||{},w("".concat(ss,"/list"),t).then((function(t){return t.data})).then((function(t){return null===e||void 0===e?void 0:e(t)}))}({projectId:null===(e=t.Project)||void 0===e?void 0:e._id},(function(e){return function(e){t.Items=e.map((function(e){return rs(e,t)})),t.IsGet_Items=!1}(e)}))}},cs=function(t){if(!t.IsGet_Undefined_Item){t.IsGet_Undefined_Item=!0;var e={type:"undefined"};w("".concat(ss,"/get"),e).then((function(t){return t.data})).then((function(e){!function(e){t.Undefined_Item=rs(e,t),t.IsGet_Undefined_Item=!1}(e)}))}},us=function(t,e,n){if(e&&0!==e.length){var i=function(){var i=t.Items,s=i.find((function(t){return t.Name===e}));if(s)null===n||void 0===n||n(s);else{var r,a={projectId:null===(r=t.Project)||void 0===r?void 0:r._id,name:e};w("".concat(ss,"/add"),a).then((function(t){return t.data})).then((function(e){!function(e){s=rs(e,t),i.push(s),null===n||void 0===n||n(s)}(e)}))}};t.Items?i():ot(t.OnSet_Items_Func,i)}else{var s=function(){null===n||void 0===n||n(t.Undefined_Item)};t.Undefined_Item?s():ot(t.OnSet_Undefined_Item_Func,s)}},ls="https://api.bimdev.vn/api/hbs/lv",ds=function(t){Object(u.a)(n,t);var e=Object(l.a)(n);function n(){var t;Object(o.a)(this,n);for(var i=arguments.length,s=new Array(i),r=0;r<i;r++)s[r]=arguments[r];return(t=e.call.apply(e,[this].concat(s))).SettingType=Hi,t.Url=ls,t}return Object(c.a)(n)}(Ei),hs="https://api.bimdev.vn/api/hbes",fs=function(){function t(){var e=this;Object(o.a)(this,t),this.OnSet_id_Func_Dict=[],this.__id=void 0,this.tempId=void 0,this.Dict=void 0,this.Name=void 0,this.Description=void 0,this.massTypeId=void 0,this.RetrieveFrom=void 0,this.projectId=void 0,this.mass_Multiply=void 0,this.Old_MassMultiply=void 0,this.phaseDict=void 0,this.Save=function(t){e.SaveDatabase(!1,t),e.Old_MassMultiply!==e.Mass_Multiply&&(e.Old_MassMultiply=e.Mass_Multiply,Ui())},this.SaveDatabase=function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=arguments.length>1?arguments[1]:void 0;dt(e,hs,(function(){t&&O.b.success("save successfully!"),null===n||void 0===n||n()}))},this.Delete=function(){e.CurrentList.splice(e.Index,1),e.DeleteDatabase(!0)},this.DeleteDatabase=function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=arguments.length>1?arguments[1]:void 0;ht(e,hs,(function(){t&&O.b.success("delete successflly!"),null===n||void 0===n||n()}))},this.NewVersion=function(t){return ys(e,t)},this.SaveMassItems=function(){Os(e)},this.OnSet_MassItems_Func=[],this.IsGet_MassItems=void 0,this.massItems=void 0}return Object(c.a)(t,[{key:"_id",get:function(){return this.__id},set:function(t){var e=this;this.__id=t,ct(this.OnSet_id_Func_Dict,(function(t){return e.OnSet_id_Func_Dict=t}))}},{key:"TempId",get:function(){var t;return null!==(t=this.tempId)&&void 0!==t?t:this.tempId=nt()}},{key:"id",get:function(){return this._id?this._id:this.TempId}},{key:"Mass_Multiply",get:function(){var t;return null!==(t=this.mass_Multiply)&&void 0!==t?t:this.mass_Multiply=1},set:function(t){this.mass_Multiply=t}},{key:"Project",get:function(){var t;return null===(t=this.Dict)||void 0===t?void 0:t.Project}},{key:"PhaseDict",get:function(){var t;return null!==(t=this.phaseDict)&&void 0!==t?t:this.phaseDict=gs(this)}},{key:"ApiData",get:function(){var t,e=this.Dict;return{_id:this._id,projectId:null===e||void 0===e||null===(t=e.Project)||void 0===t?void 0:t._id,name:this.Name,description:this.Description,massTypeId:this.massTypeId,retrieveFrom:this.RetrieveFrom,mass_Multiply:this.Mass_Multiply}}},{key:"CurrentList",get:function(){var t;return null===(t=this.Dict)||void 0===t?void 0:t.Items}},{key:"Index",get:function(){return this.CurrentList.indexOf(this)}},{key:"MassItems",get:function(){return this.massItems||js(this),this.massItems},set:function(t){var e=this;this.massItems=t,ct(this.OnSet_MassItems_Func,(function(t){return e.OnSet_MassItems_Func=t}))}}]),t}(),ms=function(t,e){w("https://api.bimdev.vn/api/hbmr/list-210921",t,void 0,2e6).then((function(t){return t.data})).then((function(t){return null===e||void 0===e?void 0:e(t)}))},vs=function(){function t(){Object(o.a)(this,t),this._id=void 0,this.Dict=void 0,this.phaseId=void 0,this.OnSet_Mass_Multiply_Func=[],this.IsGet_Mass_Multiply=void 0,this.mass_Multiply=void 0}return Object(c.a)(t,[{key:"exportSetId",get:function(){return this.Dict.exportSetId}},{key:"Mass_Multiply",get:function(){return this.mass_Multiply||ps(this),this.mass_Multiply},set:function(t){var e=this;this.mass_Multiply=t,ct(this.OnSet_Mass_Multiply_Func,(function(t){return e.OnSet_Mass_Multiply_Func=t}))}}]),t}(),_s=function(t){var e=new vs;return e.Dict=t,e},ps=function(t){if(!t.IsGet_Mass_Multiply){t.IsGet_Mass_Multiply=!0;!function(t,e){t=t||{},w("".concat("https://api.bimdev.vn/api/hb_exportset_phase","/list"),t).then((function(t){return t.data})).then((function(t){return null===e||void 0===e?void 0:e(t)}))}({exportSetId:t.exportSetId,phaseId:t.phaseId},(function(e){!function(e){t.Mass_Multiply=e.mass_Multiply,t.IsGet_Mass_Multiply=!1}(e[0])}))}},bs=function(){function t(){var e=this;Object(o.a)(this,t),this.Dict=void 0,this.Items=[],this.GetItem=function(t,n){var i=e.Items,s=i.find((function(e){return e.phaseId===t}));s||((s=_s(e)).phaseId=t,i.push(s)),n(s)}}return Object(c.a)(t,[{key:"ExportSet",get:function(){return this.Dict}},{key:"exportSetId",get:function(){return this.ExportSet._id}}]),t}(),Is=function(t,e){var n=new fs;return n._id=t._id,n.projectId=t.projectId,n.Name=t.name,n.Description=t.description,n.massTypeId=t.massTypeId,n.Dict=e,n.RetrieveFrom=t.retrieveFrom?t.retrieveFrom:"model",n.Old_MassMultiply=n.Mass_Multiply=t.mass_Multiply,n},js=function(t){if(!t.IsGet_MassItems){t.IsGet_MassItems=!0;var e=function(e){t.MassItems=e.map((function(t){return Ws(t)})),t.IsGet_MassItems=!1};if(t._id){var n={otherData:{exportSetId:t._id}};ms(n,(function(t){e(t.masses)}))}else e([])}},gs=function(t){return function(t){var e=new bs;return e.Dict=t,e}(t)},ys=function(t,e){var n={exportSetId:t._id};w("".concat("https://api.bimdev.vn/api/hbesv","/add"),n).then((function(t){return t.data})).then((function(t){return null===e||void 0===e?void 0:e(t)}))},Os=function(t){var e=t.MassItems;t.NewVersion((function(n){!function(n){var i={projectId:t.Project._id,exportSetId:t._id,exportSetVersionId:n,items:e.map((function(t){return t.ApiData_ForInput}))};w("".concat("https://api.bimdev.vn/api/hbm","/addlist"),i).then((function(t){return t.data})).then((function(t){O.b.success("import data successfully!")}))}(n._id)}))},Ss=function(){function t(){var e=this;Object(o.a)(this,t),this._id=void 0,this.tempId=void 0,this.Dict=void 0,this.Project=void 0,this.UseType=void 0,this.OnSet_Items_Func=[],this.IsGet_Items=void 0,this.items=void 0,this.AddItem=function(t){var n,i=function(t){var e=new fs;return e.Dict=t,e}(e);return i.Name="T\xean b\u1ea3ng",i.RetrieveFrom=t,i.SaveDatabase(),null===(n=e.Items)||void 0===n||n.push(i),i},this.GetItem=function(t,n){var i=function(e){var i=e.find((function(e){return e._id===t}));null===n||void 0===n||n(i)},s=e;s.Items?i(s.Items):ot(s.OnSet_Items_Func,(function(){return i(s.Items)}))},this.Get_AddItem=function(t,n){var i=function(i){var s=i.find((function(e){return e._id===t._id}));s||(s=Is(t,e),i.push(s)),null===n||void 0===n||n(s)},s=e;s.Items?i(s.Items):ot(s.OnSet_Items_Func,(function(){return i(s.Items)}))},this.CurrentItem=void 0}return Object(c.a)(t,[{key:"TempId",get:function(){var t;return null!==(t=this.tempId)&&void 0!==t?t:this.tempId=nt()}},{key:"id",get:function(){return this._id?this._id:this.TempId}},{key:"Items",get:function(){return this.items||Ds(this),this.items},set:function(t){var e=this;this.items=t,ct(this.OnSet_Items_Func,(function(t){return e.OnSet_Items_Func=t}))}}]),t}(),Ds=function(t){if(!t.IsGet_Items){t.IsGet_Items=!0;!function(){var e;!function(t,e){t=t||{},w("".concat(hs,"/list"),t).then((function(t){return t.data})).then((function(t){return null===e||void 0===e?void 0:e(t)}))}({projectId:null===(e=t.Project)||void 0===e?void 0:e._id},(function(e){!function(e){t.Items=e.map((function(e){return Is(e,t)})),t.IsGet_Items=!1}(e)}))}()}},Ms="https://api.bimdev.vn/api/hbp",ks=function(t,e){if(t){var n=Cs(e);return n._id=t._id,n.Name=t.name,n.Code=t.code,n.Fortest=t.fortest,n}},Cs=function(t){var e=new Ns;return e.Dict=t,e},Vs=function(t,e){t=t||{};w("".concat(Ms,"/list"),t).then((function(t){return t.data})).then((function(t){e&&e(t)}))},ws=function(t){return function(t){var e=new Ss;return t instanceof Ns&&(e.Project=t),e.Dict=t,e}(t)},Ts=function(t){t.IsGet_LevelDict||(t.IsGet_LevelDict=!0,function(t,e){var n=as(t);null===e||void 0===e||e(n)}(t,(function(e){t.LevelDict=e,t.IsGet_LevelDict=!1})))},xs=function(t){t.IsGet_LevelSetting||(t.IsGet_LevelSetting=!0,t.LevelSetting=function(t){var e=new ds;return e.Name="thi\u1ebft l\u1eadp level",e.Description="M\xf4 t\u1ea3 thi\u1ebft l\u1eadp",e.Data=Ri(),e.Project=t,e}(t))},Fs=function(t){if(!t.IsGet_Commands){t.IsGet_Commands=!0;var e=function(e,n){"invalid"===n&&t.Commands||(t.Commands=e&&0!==e.length?e[0].commands:[],t.IsGet_Commands=!1)},n=Yd.Instance.UserDict.LoginUser;if(n){var i={userId:n._id,projectId:t._id};w("".concat("https://api.bimdev.vn/api/hb_upc","/list"),i).then((function(t){return t.data})).then((function(t){e(t)}))}else e(void 0,"invalid")}},Ns=function(){function t(){var e=this;Object(o.a)(this,t),this.OnSet_id_Func_Dict=[],this.__id=void 0,this.tempId=void 0,this.Name=void 0,this.Code=void 0,this.Fortest=void 0,this.phase_Dict=void 0,this.exportSet_Dict=void 0,this.OnSet_LevelDict_Func_Dict=[],this.IsGet_LevelDict=void 0,this.levelDict=void 0,this.OnSet_LevelSetting_Func_Dict=[],this.IsGet_LevelSetting=void 0,this.levelSetting=void 0,this.OnGetTypicalLevelSetting_Func_Dict=[],this.getTypicalLevelSetting=void 0,this.IsOnGetDb_Async=void 0,this.typicalLevelSetting=void 0,this.typicalLevelSetting_ForEdit=void 0,this.url=void 0,this.OnSet_Commands_Func=[],this.Reset_Commands=function(){e.Commands=void 0,Fs(e)},this.IsGet_Commands=void 0,this.commands=void 0,this.Save=function(t){e.SaveDatabase(!1,t)},this.SaveDatabase=function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=arguments.length>1?arguments[1]:void 0;dt(e,Ms,(function(){t&&O.b.success("save successfully!"),n&&n()}))},this.Dict=void 0,this.Delete=function(){e.CurrentList.splice(e.Index,1),e.DeleteDatabase(!0)},this.DeleteDatabase=function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=arguments.length>1?arguments[1]:void 0;ht(e,Ms,(function(){t&&O.b.success("delete successflly!"),n&&n()}))}}return Object(c.a)(t,[{key:"_id",get:function(){return this.__id},set:function(t){var e=this;this.__id=t,ct(this.OnSet_id_Func_Dict,(function(t){return e.OnSet_id_Func_Dict=t}))}},{key:"TempId",get:function(){var t;return null!==(t=this.tempId)&&void 0!==t?t:this.tempId=nt()}},{key:"id",get:function(){return this._id?this._id:this.TempId}},{key:"Phase_Dict",get:function(){var t;return null!==(t=this.phase_Dict)&&void 0!==t?t:this.phase_Dict=ts(this)}},{key:"ExportSet_Dict",get:function(){var t;return null!==(t=this.exportSet_Dict)&&void 0!==t?t:this.exportSet_Dict=ws(this)}},{key:"LevelDict",get:function(){return this.levelDict||Ts(this),this.levelDict},set:function(t){var e=this;this.levelDict=t,ct(this.OnSet_LevelDict_Func_Dict,(function(t){return e.OnSet_LevelDict_Func_Dict=t}))}},{key:"LevelSetting",get:function(){return this.levelSetting||xs(this),this.levelSetting},set:function(t){var e=this;this.levelSetting=t,ct(this.OnSet_LevelSetting_Func_Dict,(function(t){return e.OnSet_LevelSetting_Func_Dict=t}))}},{key:"GetTypicalLevelSetting",get:function(){return this.getTypicalLevelSetting},set:function(t){var e=this;this.getTypicalLevelSetting=t,ct(this.OnGetTypicalLevelSetting_Func_Dict,(function(t){return e.OnGetTypicalLevelSetting_Func_Dict=t}))}},{key:"TypicalLevelSetting",get:function(){var t=this;return this.typicalLevelSetting||this.IsOnGetDb_Async||(this.IsOnGetDb_Async=!0,function(t,e,n){var i={projectId:t._id,phaseId:null===e||void 0===e?void 0:e._id},s="https://api.bimdev.vn/api/hbs/".concat("tl");w("".concat(s,"/get"),i).then((function(t){return t.data})).then((function(i){var s=i?Wi(i,t,e):void 0,r=s||zi(t);n(s,r)}))}(this,null,(function(e,n){t.TypicalLevelSetting=e,t.TypicalLevelSetting_ForEdit=n,t.GetTypicalLevelSetting=!0}))),this.typicalLevelSetting},set:function(t){this.typicalLevelSetting=t}},{key:"TypicalLevelSetting_ForEdit",get:function(){var t;return null!==(t=this.typicalLevelSetting_ForEdit)&&void 0!==t?t:this.typicalLevelSetting_ForEdit=this.TypicalLevelSetting},set:function(t){this.typicalLevelSetting_ForEdit=t}},{key:"Url",get:function(){if(!this.url){var t="".concat(".").concat("/#","/project");t="".concat(t,"/").concat(this._id),this.url=t}return this.url}},{key:"Commands",get:function(){return this.commands||Fs(this),this.commands},set:function(t){var e=this;this.commands=t,ct(this.OnSet_Commands_Func,(function(t){return e.OnSet_Commands_Func=t}))}},{key:"ApiData",get:function(){return{_id:this._id,name:this.Name,code:this.Code,fortest:this.Fortest?this.Fortest:void 0,order:this.Index}}},{key:"CurrentList",get:function(){var t;return null===(t=this.Dict)||void 0===t?void 0:t.Items}},{key:"Index",get:function(){return this.CurrentList.indexOf(this)}}]),t}(),Rs=function(t){return t.MassItem.GetValue_Mas(Wt)},Ls=function(t){if(!t.IsGet_Replace_Value){t.IsGet_Replace_Value=!0;var e=t.MassItem,n=e.Phase?e.Phase:e.Project,i=t.Origin_Value,s=function(e){var n,s=e.Data.Binding.Items,r=!1;s.forEach((function(t){!r&&t.Values.includes(i)&&(r=!0,n=t.Name)})),t.Replace_Value=n||i,t.IsGet_Replace_Value=!1};n&&(n.TypicalLevelSetting?s(n.TypicalLevelSetting):ot(n instanceof Ns?n.OnGetTypicalLevelSetting_Func_Dict:n.OnGet_TypicalLevelSetting_Func,(function(){return s(n.TypicalLevelSetting)})))}},Gs=function(t){if(!t.IsGet_Value){t.IsGet_Value=!0;var e=function(e){t.Value=e};t.Replace_Value?e(t.Replace_Value):(t.value=t.Origin_Value,ot(t.OnSet_Replace_Value_Func_Dict,(function(){return e(t.Replace_Value)}),!1))}},Ps=function(){function t(){var e=this;Object(o.a)(this,t),this._id=void 0,this.Row=void 0,this.MassItem=void 0,this.Url=void 0,this.SaveDatabase=function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=arguments.length>1?arguments[1]:void 0;dt(e,e.Url,(function(){e.Row&&(e._id=void 0),t&&O.b.success("save successfully!"),null===n||void 0===n||n()}))},this.Run=function(){Us(e)}}return Object(c.a)(t,[{key:"ApiData",get:function(){var t,e=this,n={_id:this._id};if(this.Row){var i;n.projectId=null===(i=Yd.Instance.CurrentProject)||void 0===i?void 0:i._id;var s=this.Row;n.filter=s.FilterData;t=n.input={}}else{var r;n.massId=null===(r=this.MassItem)||void 0===r?void 0:r._id,t=n}return Ft().forEach((function(n){t[Nt(n)]=e[n]})),n}}]),t}(),Es=function(t){var e=new Ps;return t instanceof Cn?(e.Url="https://api.bimdev.vn/api/hb_se",e.Row=t):t instanceof Xs&&(e.Url="https://api.bimdev.vn/api/hb_si",e.MassItem=t),e},Us=function(t){t.SaveDatabase(!1);var e=t.Row.Items,n=e.length,i=0,s=function(){++i===n&&O.b.success("save successfully!")};e.forEach((function(e){var n,i=null===(n=e.Site)||void 0===n?void 0:n._id,r=e.Site=function(t,e){var n=Es(e),i=t;return Ft().forEach((function(t){n[t]=i[t]})),n}(t,e);r._id=i,r.SaveDatabase(!1,s)}))},As="raw",Hs=function(){function t(){var e=this;Object(o.a)(this,t),this.Dict=void 0,this.Data=[],this.OnGet_FullData_Func_Dict=[],this.IsGet_FullData=void 0,this.fullData=void 0,this.GetItem=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:As,i=arguments.length>2?arguments[2]:void 0,s=function(){var i=n===As?e.Data:e.FullData,s=i.find((function(e){return e.Unit===t}));return s||n!==As||((s=new tr).Unit=t,i.push(s)),s};if(n===As||!e.FullData)return s();ot(e.OnGet_FullData_Func_Dict,(function(){var t=s();null===i||void 0===i||i(t)}))},this.GetValue=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:As,i=arguments.length>2?arguments[2]:void 0,s=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r=function(){var i=(n===As?e.Data:e.FullData).find((function(e){return e.Unit===t})),r=0!==i.RawValue?i.RawValue:i.Value;return s?i.ValueString_Render(r):r};if(n===As||!e.FullData)return r();ot(e.OnGet_FullData_Func_Dict,(function(){var t=r();null===i||void 0===i||i(t)}))}}return Object(c.a)(t,[{key:"FullData",get:function(){return this.fullData||function(t){if(!t.IsGet_FullData){t.IsGet_FullData=!0;var e=t.Dict,n=vt(2,(function(){var n=e.TLS_LevelGroup?e.TLS_LevelGroup.Count:1,i=e.ExportSet,s=function(e){t.FullData=t.Data.map((function(t){var i=Zs(t);return i.Value*=n*e,i})),t.IsGet_FullData=!1};if(e.Phase)i.PhaseDict.GetItem(e.Phase._id,(function(t){t.Mass_Multiply?s(t.Mass_Multiply):ot(t.OnSet_Mass_Multiply_Func,(function(){return s(t.Mass_Multiply)}))}));else{var r=i.Mass_Multiply?i.Mass_Multiply:1;s(r)}})),i=e;i.TLS_LevelGroup||i.Get_TLS_LevelGroup?n():ot(i.OnGet_TLS_LevelGroup_Func_Dict,n),i.ExportSet?n():ot(i.OnSet_ExportSet_Func,n)}}(this),this.fullData},set:function(t){var e=this;this.fullData=t,ct(this.OnGet_FullData_Func_Dict,(function(t){return e.OnGet_FullData_Func_Dict=t}))}}]),t}(),Bs=function(){return Yd.Instance},Ws=function(t){var e=new Xs;if(e._id=t._id,e.Quantity=t.quantity?t.quantity:1,t.valueData?e.ValueDict.Data=t.valueData.map((function(t){return Ys(t,e)})):e.ValueDict.Data=[Ys(t,e)],t.ExportSets&&0!==t.ExportSets.length&&Bs().ExportSet_Dict_ForMass.Get_AddItem(t.ExportSets[0],(function(t){return e.ExportSet=t})),0!==t.massTypes.length)e.MassType_Obj=t.massTypes[0];else if(e.ExportSet){Bs().MassType_Dict.ListData.GetItemById(e.ExportSet.massTypeId,(function(t){return e.MassType_Obj=t}))}return 0!==t.workItems.length&&(e.WorkItem_Obj=t.workItems[0]),0!==t.levels.length&&(e.Level_Obj=t.levels[0]),e.Info=t.info,e.projectId=t.projectId,e.exportSetId=t.exportSetId,e.exportSetVersionId=t.exportSetVersionId,e.Element=t.Elements&&0!==t.Elements.length?t.Elements[0]:void 0,e.Site=0!==t.SiteInfos.length?function(t,e){var n=Es(e);return n._id=t._id,Ft().forEach((function(e){n[e]=t[Nt(e)]})),n}(t.SiteInfos[0],e):void 0,e},zs=function(t,e){if(e){var n=void 0;return e.PageItems.forEach((function(e){!n&&Ks(t,e)&&(n=e)})),n}},Ks=function(t,e){var n=e.Filters,i=!0;return n.forEach((function(e){if(i){var n=e.Field,s=t.GetValue_Mas(n);i=e.Values.includes(s)}})),i},qs=function(t,e){if(e){var n=void 0,i=t.GetValue_Mas(Wt);return e.LevelGroups.forEach((function(t){var e=t.Primary_Values;!n&&e.includes(i)&&(n=t)})),n}},Qs=function(t){return function(t,e){var n=new ii;return n.MassItem=t,n}(t)},Xs=function(){function t(){var e=this;Object(o.a)(this,t),this._id=void 0,this.projectId=void 0,this.Project=void 0,this.Phase=void 0,this.OnSet_ExportSet_Func=[],this.exportSetVersionId=void 0,this.exportSetId=void 0,this.exportSet=void 0,this.IsGetElement=!1,this.elementId=void 0,this.Element=void 0,this.OnGetElementDone_Funcs=[],this.OnSet_MassType_Obj_Func=[],this.massType_Obj=void 0,this.WorkItem_Obj=void 0,this.Level_Obj=void 0,this.Info=void 0,this.Quantity=void 0,this.Unit=void 0,this.Value=void 0,this.GetValue=function(t,n){var i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(t){var s;if(t===Wt&&i){var r=e.LevelItem;return!r.IsGet_Value&&n&&(s=!0,ot(r.OnSet_Value_Func_Dict,(function(){n(r.Value)}))),{Value:r.Value,IsHandle:s}}return t===Ht?(s=!0,e.MassType_Obj?n(e.GetValue_Mas(t)):ot(e.OnSet_MassType_Obj_Func,(function(){return n(e.GetValue_Mas(t))})),{IsHandle:s}):t===Lt?(s=!0,e.Project&&n(e.GetValue_Mas(t)),{IsHandle:s}):{Value:e.GetValue_Mas(t),IsHandle:s}}},this.GetValue_Mas=function(t){if(t){var n=function(t,e){switch(e){case Lt:case Ht:case Gt:return{fields:[e],isFromElement:!1};case Bt:case At:case"rebarType":case"partition":case Wt:case zt:case Kt:case qt:case Qt:case Xt:case Yt:case Jt:case ne:case ie:case Zt:case $t:case te:case ee:case se:case re:switch(e){case Jt:case qt:return{fields:["Info",e],isFromElement:!1};case Xt:return[{fields:["Info",e],isFromElement:!1},{fields:["Element","info","locate",e],isFromElement:!0}];case Bt:return[{fields:["WorkItem"],isFromElement:!1},{fields:["Element","info","identify",e],isFromElement:!0}];case Wt:return[{fields:["Level"],isFromElement:!1},{fields:["Element","info","locate",e],isFromElement:!0}]}if(t.Element&&e!==Jt){var n=void 0;switch(e){case se:case re:return{fields:["Element",e],isFromElement:!0};case At:case Yt:case Zt:case $t:case te:n="identify";break;case Qt:case ne:case ie:n="locate";break;case ee:n="geometry"}return{fields:["Element","info",n,e],isFromElement:!0}}return{fields:["Info",e],isFromElement:!1};case ae:return{fields:["ExportSet","Name"]};default:return{fields:["Site",e]}}}(e,t),i=function(n){var i=n.fields;return!n.isFromElement||e.Element?function(){var n=e,s=!0;if(i.forEach((function(t){if(s){var e=n[t];void 0!==(n=e)&&null!==n||(s=!1)}})),t===Et){var r=2;"each"===e.Unit&&(r=0),n=n.toLocaleString("en-US",{maximumFractionDigits:r})}return n}():void 0};return function(){if(Array.isArray(n)){var t,e=!1;return n.forEach((function(n){if(!e){var s=i(n);s&&(t=s,e=!0)}})),t}return i(n)}()}},this.AddDatabase=function(t){var n=e.ApiData,i=n._id,s="https://api.bimdev.vn/api/hbm",r=i?"edit":"add";(i?V("".concat(s,"/").concat(r),n):w("".concat(s,"/").concat(r),n)).then((function(t){return t.data})).then((function(n){"add"===r&&(e._id=n._id),null===t||void 0===t||t(n),O.b.success("".concat(r," mass successfully"))}))},this.DeleteDatabase=function(t){var n={_id:e._id};V("".concat("https://api.bimdev.vn/api/hbm","/delete"),n).then((function(t){return t.data})).then((function(e){null===t||void 0===t||t(e),O.b.success("delete mass successfully")}))},this.OnGet_TLS_LevelGroup_Func_Dict=[],this.IsGet_TLS_LevelGroup=void 0,this.get_TLS_LevelGroup=void 0,this.tls_LevelGroup=void 0,this.OnGet_FullValue_Func_Dict=[],this.get_FullValue=void 0,this.valueDict=void 0,this.levelItem=void 0,this.originLevelItem=void 0,this.site=void 0}return Object(c.a)(t,[{key:"ExportSet",get:function(){return this.exportSet},set:function(t){var e=this;this.exportSet=t,ct(this.OnSet_ExportSet_Func,(function(t){return e.OnSet_ExportSet_Func=t}))}},{key:"GetElementDone",set:function(t){this.OnGetElementDone_Funcs.forEach((function(t){return t()}))}},{key:"MassType_Obj",get:function(){return this.massType_Obj},set:function(t){var e=this;this.massType_Obj=t,ct(this.OnSet_MassType_Obj_Func,(function(t){return e.OnSet_MassType_Obj_Func=t}))}},{key:"MassType",get:function(){var t;return null===(t=this.MassType_Obj)||void 0===t?void 0:t.name}},{key:"workItemId",get:function(){var t;return null===(t=this.WorkItem_Obj)||void 0===t?void 0:t._id}},{key:"WorkItem",get:function(){var t;return null===(t=this.WorkItem_Obj)||void 0===t?void 0:t.name}},{key:"levelId",get:function(){var t;return null===(t=this.Level_Obj)||void 0===t?void 0:t._id}},{key:"Level",get:function(){var t;return null===(t=this.Level_Obj)||void 0===t?void 0:t.name}},{key:"ApiData",get:function(){return{_id:this._id,projectId:this.projectId,elementId:this.elementId,exportSetId:this.exportSetId,exportSetVersionId:this.exportSetVersionId,value:this.Value,unit:this.Unit,massType:this.MassType,info:this.Info}}},{key:"ApiData_ForInput",get:function(){return{valueData:this.ValueDict.Data.map((function(t){return t.ApiData})),info:this.Info,levelId:this.levelId,workItemId:this.workItemId}}},{key:"Get_TLS_LevelGroup",get:function(){return this.get_TLS_LevelGroup},set:function(t){this.get_TLS_LevelGroup=t}},{key:"TLS_LevelGroup",get:function(){return this.tls_LevelGroup||function(t){if(!t.IsGet_TLS_LevelGroup){t.IsGet_TLS_LevelGroup=!0;var e=function(e){t.TLS_LevelGroup=e,t.IsGet_TLS_LevelGroup=!1},n=function(e){var n=e.Data.Typical,i=zs(t,n);return qs(t,i)};!function(){if(t.Phase){var i=t.Phase;i.TypicalLevelSetting?e(n(i.TypicalLevelSetting)):ot(i.OnGet_TypicalLevelSetting_Func,(function(){return e(n(i.TypicalLevelSetting))}))}else{var s=t.Project,r=s.TypicalLevelSetting;s.GetTypicalLevelSetting||r?e(n(r)):ot(s.OnGetTypicalLevelSetting_Func_Dict,(function(){return e(n(s.TypicalLevelSetting))}))}}()}}(this),this.tls_LevelGroup},set:function(t){this.tls_LevelGroup=t,this.Get_TLS_LevelGroup=!0,this.OnGet_TLS_LevelGroup_Func_Dict.forEach((function(t){return t.Value()}))}},{key:"Get_FullValue",set:function(t){var e=this;ct(this.OnGet_FullValue_Func_Dict,(function(t){return e.OnGet_FullValue_Func_Dict=t})),this.get_FullValue=t}},{key:"ValueDict",get:function(){var t;return null!==(t=this.valueDict)&&void 0!==t?t:this.valueDict=function(t){var e=new Hs;return e.Dict=t,e}(this)}},{key:"LevelItem",get:function(){var t;return null!==(t=this.levelItem)&&void 0!==t?t:this.levelItem=this.OriginLevelItem}},{key:"OriginLevelItem",get:function(){var t;return null!==(t=this.originLevelItem)&&void 0!==t?t:this.originLevelItem=Qs(this)}},{key:"Site",get:function(){return this.site},set:function(t){this.site=t}}]),t}(),Ys=function(t,e){var n=Js(e);return n.RawValue=t.value,n.Unit=t.unit,n},Js=function(t){var e=new tr;return e.Dict=t,e},Zs=function(t,e){e||(e=t.Dict);var n=new tr;return n.Dict=e,n.Value=t.Value,n.Unit=t.Unit,n},$s=function(t,e){var n=2;if("each"===t.Unit)n=0;else n=2;var i=e.toLocaleString("en-US",{maximumFractionDigits:n});return"".concat(i)},tr=function(){function t(){var e=this;Object(o.a)(this,t),this.Dict=void 0,this.quantity=void 0,this.IsMissing=void 0,this.Unit=void 0,this.RawValue=0,this.value=void 0,this.ValueString_Render=function(t){return $s(e,t)}}return Object(c.a)(t,[{key:"Quantity",get:function(){var t;return null!==(t=this.quantity)&&void 0!==t?t:this.quantity=function(t){var e=t.Dict;return e&&e instanceof Xs?e.Quantity:1}(this)},set:function(t){this.quantity=t}},{key:"Value",get:function(){var t;return null!==(t=this.value)&&void 0!==t?t:this.value=this.RawValue*this.Quantity},set:function(t){this.value=t}},{key:"ValueString",get:function(){return $s(this,this.Value)}},{key:"ApiData",get:function(){return{unit:this.Unit,value:this.Value}}}]),t}(),er="each",nr=function(){return["m","m2","m3","kg",er]},ir=function(t){var e;switch(t){case er:e="S\u1ed1 l\u01b0\u1ee3ng (c\xe1i)";break;case"m":e="Chi\u1ec1u d\xe0i (m)";break;case"m2":e="Di\u1ec7n t\xedch (m2)";break;case"m3":e="Th\u1ec3 t\xedch (m3)";break;case"kg":e="Kh\u1ed1i l\u01b0\u1ee3ng (kg)"}return e},sr="subcells",rr="unit",ar=Object(c.a)((function t(){var e=this;Object(o.a)(this,t),this.Host=void 0,this.Update_SubCells=function(t,n,i){var s=e.Host;s.SubCells=Er(s),e.Update_TotalValueData(void 0,n,i)},this.Update_TotalValueData=function(t,n,i){e.Host.ValueData.RefreshData(i)},this.Update_Unit=function(t,n,i){e.Host;e.Update_ValueCurrent(void 0,n,i)},this.Update_ValueCurrent=function(t,n,i){var s=e.Host,r=s.ValueData,a=s.Unit,o=function(){var t;r.CurrentItem=null===(t=r.Data)||void 0===t?void 0:t.find((function(t){return t.Unit===a})),null===i||void 0===i||i()};r.Data?o():ot(r.OnSet_Data_Func,o)},this.Run=function(t){var n,i,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:nn,r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],a=arguments.length>3?arguments[3]:void 0;Array.isArray(t)||(t=[t]),s||(s=nn),void 0===r&&(r=!0);var o=function(){return null===a||void 0===a?void 0:a()},c=vt(2,o);if(r){var u=vt(t.length,c);t.forEach((function(t){e.RunItem(t,s,u)}))}else c();var l=function(){var t;return null===(t=e.Host)||void 0===t?void 0:t.SubCells},d=function(){var t;return null===(t=e.Host)||void 0===t?void 0:t.SupItem};switch(s){case nn:c();break;case $e:var h=l(),f=vt(h.length,c);h.forEach((function(e){e.Update.Run(t,s,void 0,f)}));break;case tn:null===(n=d())||void 0===n||n.Update.Run(t,s,void 0,c);break;case en:var m=vt(2,c);h=l(),f=vt(h.length,m);h.forEach((function(e){e.Update.Run(t,$e)})),null===(i=d())||void 0===i||i.Update.Run(t,tn,void 0,m)}},this.RunItem=function(t,n,i){var s="string"===typeof t?t:t.Section,r=t.Data;switch(s){case sr:e.Update_SubCells(r,n,i);break;case"valuelist":e.Update_TotalValueData(r,n,i);break;case rr:e.Update_Unit(r,n,i);break;case"valuecurrent":e.Update_ValueCurrent(r,n,i)}}})),or=n(641),cr=function(){function t(){var e=this;Object(o.a)(this,t),this.OnSet_id_Func_Dict=[],this.__id=void 0,this.Dict=void 0,this.Open=function(){var t=function(){var t="".concat(".").concat("/#","/massdetail"),n=function(e){return window.open(function(e){return"".concat(t,"/").concat(e)}(e),"_blank")},i=function(){n(e._id)};if(e._id)i();else{var s=e.ApiData;ur(s,(function(t){e._id=t._id,i()}))}},n=e.Dict;n.Items?t():(n.getItems_FromApi(),ot(n.onSet_Items_Func,t))}}return Object(c.a)(t,[{key:"_id",get:function(){return this.__id},set:function(t){var e=this;this.__id=t,ct(this.OnSet_id_Func_Dict,(function(t){return e.OnSet_id_Func_Dict=t}))}},{key:"ApiData",get:function(){var t,e,n=this.Dict;n.Table.ColumnField===Gt&&(t=null===(e=n.Column)||void 0===e?void 0:e.Data._id);return{massIds:n.AllItems.map((function(t){return t._id})),phaseId:t}}},{key:"View",get:function(){return Object(F.jsx)("a",{className:"ml-10",onClick:this.Open,children:Object(F.jsx)(or.a,{})})}}]),t}(),ur=function(t,e){t=t||{};w("".concat("https://api.bimdev.vn/api/hbdv/updatemass"),t).then((function(t){return t.data})).then((function(t){return null===e||void 0===e?void 0:e(t)}))},lr="https://api.bimdev.vn/api/hb_masscell_valuedata",dr=function(){function t(){var e=this;Object(o.a)(this,t),this.OnSet_id_Func_Dict=[],this.__id=void 0,this.tempId=void 0,this.Dict=void 0,this.OnSet_Data_Func=[],this.isGet_Data=fe.PropertyState.notset,this.data=void 0,this.RefreshData=function(t){hr(e,t)},this.currentItem=void 0,this.Save=function(t){e.SaveDatabase(!1,t)},this.SaveDatabase=function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=arguments.length>1?arguments[1]:void 0;dt(e,lr,(function(){t&&O.b.success("save successfully!"),null===n||void 0===n||n()}))},Object(h.makeObservable)(this,{currentItem:h.observable,data:h.observable})}return Object(c.a)(t,[{key:"_id",get:function(){return this.__id},set:function(t){var e=this;this.__id=t,ct(this.OnSet_id_Func_Dict,(function(t){return e.OnSet_id_Func_Dict=t}))}},{key:"TempId",get:function(){var t;return null!==(t=this.tempId)&&void 0!==t?t:this.tempId=nt()}},{key:"id",get:function(){return this._id?this._id:this.TempId}},{key:"Cell",get:function(){return this.Dict}},{key:"Data",get:function(){return this.data||hr(this),this.data},set:function(t){var e=this;Object(h.runInAction)((function(){var n,i;e.data=t,e.isGet_Data=fe.PropertyState.done,null===(n=e.Cell)||void 0===n||null===(i=n.Row)||void 0===i||i.AddHandleTotalData_Cell(e.Cell),ct(e.OnSet_Data_Func,(function(t){return e.OnSet_Data_Func=t}))}))}},{key:"CurrentItem",get:function(){this.Data;return this.currentItem},set:function(t){var e=this;Object(h.runInAction)((function(){e.currentItem=t}))}},{key:"ApiData",get:function(){var t,e,n;return{cellId:this.Cell._id,reportId:null===(t=this.Cell)||void 0===t||null===(e=t.Column)||void 0===e?void 0:e.Report._id,valueData:null===(n=this.Data)||void 0===n?void 0:n.map((function(t){return t.ApiData}))}}}]),t}(),hr=function(t,e){if(t.isGet_Data!==fe.PropertyState.pending){t.isGet_Data=fe.PropertyState.pending;var n,i=t.Dict,s=nr().map((function(t){var e=new tr;return e.Unit=t,e})),r=function(){s=s.filter((function(t){return t.Value})),t.Data=s,null===e||void 0===e||e()},a=0!==i.SubCells.length?i.SubCells:i.Items;if(!a)if(null!==(n=i.Row)&&void 0!==n&&n.IsCreatedByUser)return void r();if(0!==a.length){var o=fe.generalUtil.increFunc(a.length,r),c=function(t,e){s.forEach((function(e,n){var i=e.Unit,s=t.find((function(t){return t.Unit===i}));void 0===s?e.IsMissing=!0:e.Value+=s.Value})),o()};a.forEach((function(t){if(t instanceof Wr){var e=t,n=e.ValueData;n.Data?c(n.Data):ot(n.OnSet_Data_Func,(function(){c(n.Data)}))}else{var i=t,s=i.ValueDict;s.FullData?c(s.FullData):ot(s.OnGet_FullData_Func_Dict,(function(){c(s.FullData)}))}}))}else r()}},fr="https://api.bimdev.vn/api/hb_masscell_query",mr=function(t,e,n){var i=function(t){var i=t.valueId;if(i){var s,r=function(){var e=function(t){switch(t){case Ht:return"massType";case Lt:return"project";case Gt:return"phase";default:return t}}(t.field);return e="".concat(e,"Id")}();if(r)return s=r,"object"===n?e[s]=i:(s="".concat(s,"s"),e[s]||(e[s]=[]),e[s].push(i)),!0;throw 500}};t.Items.forEach((function(t){i(t)}))},vr=function(){function t(){Object(o.a)(this,t),this.Dict=void 0,this.field=void 0,this.valueId=void 0}return Object(c.a)(t,[{key:"ApiData",get:function(){return{field:this.field,valueId:this.valueId}}}]),t}(),_r=function(t){var e=new vr;return e.Dict=t,e},pr=function(){function t(){var e=this;Object(o.a)(this,t),this.Dict=void 0,this.value=void 0,this.valueId=void 0,this.Is_Inherit_FromSup=!0,this.items=void 0,this.Set_FromMassItem=function(t){var n=function(t){switch(t){case Ht:return"MassType_Obj";case Bt:return"WorkItem_Obj";case Wt:return"Level_Obj";default:return}}(e.Field);n&&(e.Value=t[n])},this.Set_FromApi=function(t){e.Is_Inherit_FromSup=!1,e.Items=t.map((function(t){return function(t,e){var n=_r(e);return n.valueId=t.valueId,n.field=t.field,n}(t,e)}))},this.AddQuery=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"object";if(mr(e,t,n),e.Is_Inherit_FromSup){var i=e.Cell;i.SupItem&&i.SupItem.QueryData.AddQuery(t,n)}},this.SaveDatabase=function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=arguments.length>1?arguments[1]:void 0;dt(e,fr,(function(){t&&O.b.success("save successfully!"),null===n||void 0===n||n()}))}}return Object(c.a)(t,[{key:"Cell",get:function(){return this.Dict}},{key:"Row",get:function(){return this.Cell.Row}},{key:"Value",get:function(){return this.value},set:function(t){this.value=t,this.valueId=null===t||void 0===t?void 0:t._id}},{key:"Field",get:function(){return this.Row.Field},set:function(t){this.Row.Field=t}},{key:"Items",get:function(){var t;return null!==(t=this.items)&&void 0!==t?t:this.items=br(this)},set:function(t){this.items=t}},{key:"AllItems",get:function(){return Ir(this)}},{key:"ApiData",get:function(){return{cellId:this.Cell._id,items:this.AllItems.map((function(t){return t.ApiData}))}}}]),t}(),br=function(t){var e=_r(t);return e.field=t.Field,e.valueId=t.valueId,[e]},Ir=function(t){var e=[t.Items];if(t.Is_Inherit_FromSup){var n=t.Cell;n.SupItem&&e.push(n.SupItem.QueryData.AllItems)}return e.reverse(),e.reduce((function(t,e){return t.push.apply(t,e),t}),[])},jr="https://api.bimdev.vn/api/hb_masscell_subgroup",gr=function(){function t(){var e=this;Object(o.a)(this,t),this._id=void 0,this.Dict=void 0,this.item=void 0,this.Save=function(t){var n=function(){return null===t||void 0===t?void 0:t()};if(e.Row.IsHaveSub){var i=[Ht,Bt,Wt],s=!0;if(e.SupFields.forEach((function(t){s&&(i.includes(t)||(s=!1))})),s)if(i.includes(e.SubField)){e._id=void 0;var r=function(){return Dr(e,t)};e.Cell.HaveValue_SubCells?r():ot(e.Cell.OnSet_HaveValue_SubCells_Func,r)}else n();else n()}else n()},this.SaveDatabase=function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=arguments.length>1?arguments[1]:void 0;dt(e,jr,(function(){t&&O.b.success("save successfully!"),null===n||void 0===n||n()}))}}return Object(c.a)(t,[{key:"Cell",get:function(){return this.Dict}},{key:"Row",get:function(){return this.Cell.Row}},{key:"Column",get:function(){return this.Cell.Column}},{key:"SupFields",get:function(){var t=this.Row.Original_SupFields;return t.push(this.Row.Field),t}},{key:"SubField",get:function(){return this.Row.SubFields[0]}},{key:"Item",get:function(){var t;return null!==(t=this.item)&&void 0!==t?t:this.item=Sr(this)}},{key:"ApiData",get:function(){return{cellId:this.Cell._id,reportId:this.Column.Report._id,subfield:this.SubField}}}]),t}(),yr="https://api.bimdev.vn/api/hb_masscell_subgroup_item",Or=function(){function t(){var e=this;Object(o.a)(this,t),this._id=void 0,this.Dict=void 0,this.Save=function(t){e._id=void 0,e.SaveDatabase(!1,t)},this.SaveDatabase=function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=arguments.length>1?arguments[1]:void 0;dt(e,yr,(function(){t&&O.b.success("save successfully!"),null===n||void 0===n||n()}))}}return Object(c.a)(t,[{key:"Cell",get:function(){var t;return null===(t=this.Dict)||void 0===t?void 0:t.Cell}},{key:"Row",get:function(){return this.Cell.Row}},{key:"ApiData",get:function(){var t,e;return{hostId:null===(t=this.Dict)||void 0===t?void 0:t._id,cellIds:null===(e=this.Cell.HaveValue_SubCells)||void 0===e?void 0:e.map((function(t){return t._id}))}}}]),t}(),Sr=function(t){return function(t){var e=new Or;return e.Dict=t,e}(t)},Dr=function(t,e){var n,i=null===(n=t.Dict)||void 0===n?void 0:n.HaveValue_SubCells,s=i.length,r=0,a=function(){++r===s&&(null===e||void 0===e||e())},o=function(){i.forEach((function(t){var e;null===(e=t.SubGroupData)||void 0===e||e.Save(a)}))},c=function(e){t.Item.Save(e)},u=function(){!function(e){var n=t.ApiData;w("".concat(jr,"/find"),n).then((function(t){return t.data})).then((function(t){t=1===t.length?t[0]:void 0,e(t)}))}((function(e){var n;e?(t._id=e._id,c(o)):(n=function(){return c(o)},t.SaveDatabase(!1,n))}))},l=i.length,d=0,h=function(){++d===l&&u()};i.forEach((function(t){t.Save(h)}))},Mr="bycell",kr=function(){function t(){Object(o.a)(this,t),this.Dict=void 0,this.IsGet_BackgroundColor=void 0,this.backgroundColor=void 0,Object(h.makeObservable)(this,{})}return Object(c.a)(t,[{key:"Cell",get:function(){return this.Dict}},{key:"Column",get:function(){return this.Cell.Column}},{key:"ValueItem",get:function(){return this.Cell.ValueData.CurrentItem}},{key:"BackgroundColor",get:function(){var t;return null!==(t=this.backgroundColor)&&void 0!==t?t:this.backgroundColor=Vr(this)},set:function(t){this.backgroundColor=t}},{key:"Td_Style",get:function(){return this.BackgroundColor?{backgroundColor:this.BackgroundColor}:void 0}},{key:"Color",get:function(){return wr(this)}},{key:"ValueStyle",get:function(){return this.Color?{color:this.Color,fontWeight:"bold"}:{fontWeight:"bold"}}},{key:"VCS_Item",get:function(){return Tr(this)}},{key:"Ratio",get:function(){return xr(this)}},{key:"RatioView",get:function(){return Fr(this)}}]),t}(),Cr=(n(506),function(){return Yd.Instance}),Vr=function(t){return t.VCS_Item?t.VCS_Item.Color:"#FFFFFF"},wr=function(t){return t.VCS_Item?"#FFFFFF":"#1890ff"},Tr=function(t){var e=t.Ratio;if(void 0!==e)return Cr().VersionCompareSetting.Items.find((function(t){return ei(t.Filter,e)}))},xr=function(t){var e,n;if(Nr(t)){var i=t.ValueItem,s=null===(e=t.Cell)||void 0===e||null===(n=e.Row)||void 0===n?void 0:n.Cells[0].ValueData.CurrentItem;if(i&&s)return i.Value/s.Value}},Fr=function(t){var e=t.Ratio,n=100*(e-1);return void 0!==e?Object(F.jsxs)("span",{className:"cell__ratio",children:["(",n>100?">100":n.toFixed(1),"%)"]}):""},Nr=function(t){var e,n=t.Column;return"project"!==n.key.field&&0!==n.Index&&2===(null===(e=Cr().Current_MassTable.Columns)||void 0===e?void 0:e.length)},Rr=function(){return Yd.Instance},Lr=function(t){if(t.getItemsState!==fe.PropertyState.pending){t.getItemsState=fe.PropertyState.pending;var e=t.Column;!function(){var n={},i={queryData:n};t.QueryData.AddQuery(n),e.QueryData.AddQuery(i,"list"),ms(i,(function(n){!function(n){var i=function(){t.Items=n[0].masses.map((function(t){var n,i=Ws(t);return null===(n=e.MassItem_Handle)||void 0===n||n.call(e,i),i}))};switch(e.Field){case Lt:e.Project?i():fe.generalUtil.add(e.OnSet_Project_Func,i);break;case Gt:e.Phase?i():fe.generalUtil.add(e.OnSet_Phase_Func,i)}}(n)}))}()}},Gr=function(t){return function(t){var e=new kr;return e.Dict=t,e}(t)},Pr=function(t){return function(t){var e=new dr;return e.Dict=t,e}(t)},Er=function(t){var e=t.Row.subDict.items;if(0!==e.length){var n=t.Column;return e.map((function(t,e,i){return t.GetCellByColumn(n)})).filter((function(t){return void 0!==t}))}return[]},Ur=function(t){return function(t){var e=new cr;return e.Dict=t,e}(t)},Ar=function(t){return function(t){var e=new pr;return e.Dict=t,e}(t)},Hr=function(t){return function(t){var e=new gr;return e.Dict=t,e}(t)},Br=function(t,e){var n=t.ValueData,i=function(){n.Save()},s=function(e){t.SaveDatabase(!1,(function(){null===e||void 0===e||e(),t.QueryData.SaveDatabase(!1),i()}))},r=function(){0!==n.Data.length?function(e){var n,i={fullkey:null===(n=t.Row)||void 0===n?void 0:n.FullValue},s=t.Column;s.QueryData.AddQuery(i),i.reportId=s.Report._id,w("".concat(ni,"/find"),i).then((function(t){return t.data})).then((function(t){t=1===t.length?t[0]:void 0,null===e||void 0===e||e(t)}))}((function(n){n?(t._id=n._id,e&&e(),i()):s(e)})):null===e||void 0===e||e()};n.Data?r():ot(n.OnSet_Data_Func,r)},Wr=function(){function t(){var e=this;Object(o.a)(this,t),this.OnSet_id_Func_Dict=[],this.__id=void 0,this.tempId=void 0,this.Dict=void 0,this.Column=void 0,this.Row=void 0,this.onSet_Items_Func=[],this.getItemsState=fe.PropertyState.notset,this.items=void 0,this.getItems_FromApi=function(){Lr(e)},this.valueData=void 0,this.IsGet_SupItem=void 0,this.supItem=void 0,this.subCells=void 0,this.OnSet_HaveValue_SubCells_Func=[],this.IsGet_HaveValue_SubCells=void 0,this.haveValue_SubCells=void 0,this.update=void 0,this.viewDetail=void 0,this.IsGet_TotalValueData=void 0,this.TotalValue=void 0,this.OnGet_TotalValueData_Func=[],this.TotalValueData=void 0,this.CurrentTotalValueItem=void 0,this.colorData=void 0,this.isHaveVCS_Item=void 0,this.vcs_Item=void 0,this.valueColor="#1890ff",this.tdBgColor=void 0,this.OnGet_TLS_LevelGroups_Func_Dict=[],this.IsGet_TLS_LevelGroups=void 0,this.OnGet_TLS_LevelGroups_Funcs=[],this.tls_LevelGroups=void 0,this.isHaveWarning=void 0,this.IsGet_TLS_LevelGroup_Descriptions=void 0,this.tls_LevelGroup_Descriptions=void 0,this.queryData=void 0,this.SubGroups_Query=void 0,this.subGroupData=void 0,this.createType=void 0,this.Save=function(t){var n=function(){return Br(e,t)},i=e.SupItem;i?i._id?n():ot(i.OnSet_id_Func_Dict,n):n()},this.SaveDatabase=function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=arguments.length>1?arguments[1]:void 0;dt(e,ni,(function(){t&&O.b.success("save successfully!"),null===n||void 0===n||n()}))},Object(h.makeObservable)(this,{valueColor:h.observable,tdBgColor:h.observable,isHaveWarning:h.observable,tls_LevelGroup_Descriptions:h.observable,vcs_Item:h.observable,items:h.observable})}return Object(c.a)(t,[{key:"_id",get:function(){return this.__id},set:function(t){var e=this;this.__id=t,ct(this.OnSet_id_Func_Dict,(function(t){return e.OnSet_id_Func_Dict=t}))}},{key:"TempId",get:function(){var t;return null!==(t=this.tempId)&&void 0!==t?t:this.tempId=nt()}},{key:"id",get:function(){return this._id?this._id:this.TempId}},{key:"Table",get:function(){return this.Dict}},{key:"ColumnIndex",get:function(){return this.Column.Index}},{key:"Items",get:function(){return this.items},set:function(t){var e=this;Object(h.runInAction)((function(){e.items=t,e.getItemsState=fe.PropertyState.done,fe.generalUtil.handle(e.onSet_Items_Func,(function(t){return e.onSet_Items_Func=t}))}))}},{key:"Unit",get:function(){var t;return null===(t=this.Row)||void 0===t?void 0:t.Unit}},{key:"ValueData",get:function(){var t;return null!==(t=this.valueData)&&void 0!==t?t:this.valueData=Pr(this)}},{key:"SupItem",get:function(){var t;return null!==(t=this.supItem)&&void 0!==t?t:this.supItem=function(t){var e;if(!t.IsGet_SupItem){t.IsGet_SupItem=!0;var n=null===(e=t.Row)||void 0===e?void 0:e.SupItem;if(n){var i=n.Cells,s=i.findIndex((function(e){return e.Column===t.Column}));return-1!==s?i[s]:void 0}}}(this)},set:function(t){this.supItem=t}},{key:"SubCells",get:function(){var t;return null!==(t=this.subCells)&&void 0!==t?t:this.subCells=Er(this)},set:function(t){this.subCells=t,this.HaveValue_SubCells=void 0}},{key:"HaveValue_SubCells",get:function(){return this.haveValue_SubCells||function(t){if(!t.IsGet_HaveValue_SubCells){t.IsGet_HaveValue_SubCells=!0;var e=t.SubCells,n=vt(e.length,(function(){t.HaveValue_SubCells=e.filter((function(t){var e;return 0!==(null===(e=t.ValueData.Data)||void 0===e?void 0:e.length)})),t.IsGet_HaveValue_SubCells=!1}));e.forEach((function(t){var e=t.ValueData;e.Data?n():ot(e.OnSet_Data_Func,n)}))}}(this),this.haveValue_SubCells},set:function(t){var e=this;this.haveValue_SubCells=t,ct(this.OnSet_HaveValue_SubCells_Func,(function(t){return e.OnSet_HaveValue_SubCells_Func=t}))}},{key:"Update",get:function(){var t;return null!==(t=this.update)&&void 0!==t?t:this.update=function(t){var e=new ar;return e.Host=t,e}(this)}},{key:"ViewDetail",get:function(){var t;return null!==(t=this.viewDetail)&&void 0!==t?t:this.viewDetail=Ur(this)}},{key:"AllItems",get:function(){return this.SubCells?this.SubCells.map((function(t){return t.Items})).reduce((function(t,e){return t.concat(e)}),[]):this.Items}},{key:"ColorData",get:function(){var t;return null!==(t=this.colorData)&&void 0!==t?t:this.colorData=Gr(this)}},{key:"IsHaveVCS_Item",get:function(){var t;return null!==(t=this.isHaveVCS_Item)&&void 0!==t?t:this.isHaveVCS_Item=function(t){var e,n;return(null===(e=t.Dict)||void 0===e?void 0:e.ColumnField)===Gt&&2===(null===(n=Rr().MassResultComp.Phases)||void 0===n?void 0:n.length)&&1===t.ColumnIndex}(this)},set:function(t){this.isHaveVCS_Item=t}},{key:"VCS_Item",get:function(){return this.vcs_Item},set:function(t){var e;this.vcs_Item=t,this.ValueColor=(e=this).IsHaveVCS_Item&&e.VCS_Item?"#FFFFFF":"#1890ff",this.TDBgColor=function(t){return t.IsHaveVCS_Item&&t.VCS_Item?t.VCS_Item.Color:"#FFFFFF"}(this)}},{key:"ValueColor",get:function(){return this.valueColor},set:function(t){this.valueColor=t}},{key:"TDBgColor",get:function(){return this.tdBgColor},set:function(t){this.tdBgColor=t}},{key:"AStyle",get:function(){return{color:this.ValueColor,fontWeight:"bold"}}},{key:"TDStyle",get:function(){return{backgroundColor:this.TDBgColor}}},{key:"Get_TLS_LevelGroups",set:function(t){this.OnGet_TLS_LevelGroups_Func_Dict.forEach((function(t){return t.Value()}))}},{key:"TLS_LevelGroups",get:function(){return this.tls_LevelGroups||function(t){if(!t.IsGet_TLS_LevelGroups){t.IsGet_TLS_LevelGroups=!0;var e=[],n=0,i=t.SubCells?t.SubCells.length:t.Items.length,s=function(t,e){-1===e.findIndex((function(e){return e.id===t.id}))&&e.push(t)},r=function(r){n++,r&&(Array.isArray(r)?r.forEach((function(t){return s(t,e)})):s(r,e)),n===i&&(t.TLS_LevelGroups=e)};t.SubCells?t.SubCells.forEach((function(t){t.TLS_LevelGroups?r(t.TLS_LevelGroups):at(t.OnGet_TLS_LevelGroups_Func_Dict,(function(){return r(t.TLS_LevelGroups)}))})):t.Items.forEach((function(t){var e=t;e.TLS_LevelGroup||e.Get_TLS_LevelGroup?r(e.TLS_LevelGroup):at(e.OnGet_TLS_LevelGroup_Func_Dict,(function(){return r(e.TLS_LevelGroup)}))}))}}(this),this.tls_LevelGroups},set:function(t){this.tls_LevelGroups=t,this.Get_TLS_LevelGroups=!0}},{key:"IsHaveWarning",get:function(){var t;return null!==(t=this.isHaveWarning)&&void 0!==t?t:this.isHaveWarning=function(t){var e;if((null===(e=t.Row)||void 0===e?void 0:e.Field)!==Wt)return!1;var n=function(t){return 0!==t.length};if(t.TLS_LevelGroups)return n(t.TLS_LevelGroups);at(t.OnGet_TLS_LevelGroups_Func_Dict,(function(){t.IsHaveWarning=n(t.TLS_LevelGroups)}))}(this)},set:function(t){this.isHaveWarning=t}},{key:"TLS_LevelGroup_Descriptions",get:function(){return this.tls_LevelGroup_Descriptions||function(t){if(!t.IsGet_TLS_LevelGroup_Descriptions){t.IsGet_TLS_LevelGroup_Descriptions=!0;var e=function(e,n,i,s){i++,-1===n.indexOf(e)&&n.push(e),i===s&&(t.TLS_LevelGroup_Descriptions=n)},n=function(t){var n=[],i=t.length;t.forEach((function(t){t.FullDescription?e(t.FullDescription,n,0,i):at(t.OnGetLevelStorageList_Func_Dict,(function(){e(t.FullDescription,n,0,i)}),!1)}))};t.TLS_LevelGroups?n(t.TLS_LevelGroups):t.OnGet_TLS_LevelGroups_Funcs.push((function(){n(t.TLS_LevelGroups)}))}}(this),this.tls_LevelGroup_Descriptions},set:function(t){this.tls_LevelGroup_Descriptions=t}},{key:"QueryData",get:function(){var t;return null!==(t=this.queryData)&&void 0!==t?t:this.queryData=Ar(this)}},{key:"SubGroupData",get:function(){var t;return null!==(t=this.subGroupData)&&void 0!==t?t:this.subGroupData=Hr(this)}},{key:"CreateType",get:function(){var t;return null!==(t=this.createType)&&void 0!==t?t:this.createType="byitem"},set:function(t){this.createType=t,this.Items=function(t){if(t.CreateType!==Mr)return[]}(this)}},{key:"ApiData",get:function(){var t,e,n,i=this.Column,s={_id:this._id,supId:null===(t=this.SupItem)||void 0===t?void 0:t._id,key:null===(e=this.Row)||void 0===e?void 0:e.RawValue,fullkey:null===(n=this.Row)||void 0===n?void 0:n.FullValue};return null===i||void 0===i||i.QueryData.AddQuery(s),s.reportId=null===i||void 0===i?void 0:i.Report._id,s}}]),t}(),zr="text",Kr="select",qr=function(t){if(!t.IsGet_UnitDict){t.IsGet_UnitDict=!0;var e=t.Dict,n=function(){var n;e.Cells.map((function(t){return t.ValueData.Data})).forEach((function(t,e){if(0===e)n=t.map((function(t){return{Unit:t.Unit,IsMissing:t.IsMissing}}));else{var i=[];t.forEach((function(t){var e=n.findIndex((function(e){return e.Unit===t.Unit}));-1===e?(n.push({Unit:t.Unit,IsMissing:t.IsMissing}),i.push(n.length-1)):i.push(e)}));for(var s=0;s<n.length;s++)i.includes(s)||(n[s].IsMissing=!0)}})),t.UnitDict=n,t.IsGet_UnitDict=!1};e.Is_HandleTotalData_Cells?n():ot(e.On_HandleTotalData_Cells_Func,n)}},Qr=function(t,e){var n=t.Dict;t.Table.CommandDict.Do({action:kn,target:{type:"row",key:n.RetrieveData},value:e},n)},Xr=function(t,e){var n,i=t.CurrentUnit;if(i)n=function(){t.SetUnit_FromHost(i)};else{var s=[],r=t.Dict;!function t(e){var n=e.UnitData.CurrentUnit;e!==r&&e.UnitData.CurrentUnit?s.push({Row:e,Unit:n,DirectionType:$e}):(s.push({Row:e,Unit:void 0,DirectionType:e===r?tn:nn}),e.subDict.items.forEach((function(e){return t(e)})))}(r),n=function(){s.forEach((function(t){t.Row.Update.Run({Section:an,Data:{Unit:t.Unit}},t.DirectionType)}))}}e(n)},Yr=function(){function t(){var e=this;Object(o.a)(this,t),this.Dict=void 0,this.update_DirectionType=void 0,this.OnSet_UnitDict_Func=[],this.IsGet_UnitDict=void 0,this.unitDict=void 0,this.Reset_UnitDict=function(){qr(e)},this.IsMissing_Pending=void 0,this.currentUnitItem=void 0,this.currentUnit=void 0,this.SetUnit_FromHost=function(t){var n=function(){if(e.IsUndo=!1,t){var n=e.UnitDict,i=n.findIndex((function(e){return e.Unit===t}));-1!==i?e.Unit_SelectVM.SetValue(n[i]):(e.IsMissing_Pending=!0,e.Unit_SelectVM.SetValue(void 0))}else e.Unit_SelectVM.SetValue(t)};e.UnitDict?n():ot(e.OnSet_UnitDict_Func,n)},this.Is_Unit_Select_Created=void 0,this.unit_SelectVM=void 0,this.renderState=zr,this.OnMouseEnter=function(){e.RenderState=Kr},this.OnMouseLeave=function(){e.Unit_SelectVM.Open||(e.RenderState=zr)},this.IsUndo=!0,this.SelectUnit_Main=function(t,n,i){!function(t,e,n,i){Xr(t,i),t.CurrentUnitItem=e,null===n||void 0===n||n()}(e,t,n,i)},this.SetUndo=function(t){Xr(e,t)},this.ItemRender=function(t){return function(t,e){return Object(F.jsx)(F.Fragment,{children:e?Object(F.jsxs)("div",{className:"f-ac",children:[Object(F.jsx)("div",{className:"f1",children:e.Unit}),e.IsMissing?Object(F.jsx)(Ve.a,{trigger:"hover",content:Object(F.jsx)("span",{className:"warning",children:"M\u1ed9t s\u1ed1 \u0111\u1ea7u m\u1ee5c con kh\xf4ng c\xf3 \u0111\u01a1n v\u1ecb n\xe0y!"}),children:Object(F.jsx)(Te.a,{className:"warning"})}):""]}):""})}(0,t)},this.isMissing=!1,Object(h.makeObservable)(this,{unitDict:h.observable,renderState:h.observable,currentUnitItem:h.observable,isMissing:h.observable})}return Object(c.a)(t,[{key:"Row",get:function(){return this.Dict}},{key:"Table",get:function(){return this.Row.Table}},{key:"Update_DirectionType",get:function(){var t;return null!==(t=this.update_DirectionType)&&void 0!==t?t:this.update_DirectionType=0===this.Dict.subDict.items.length?tn:nn},set:function(t){this.update_DirectionType=t}},{key:"UnitDict",get:function(){return this.unitDict||qr(this),this.unitDict},set:function(t){var e=this;Object(h.runInAction)((function(){e.unitDict=t,ct(e.OnSet_UnitDict_Func,(function(t){return e.OnSet_UnitDict_Func=t}))}))}},{key:"CurrentUnitItem",get:function(){return this.currentUnitItem},set:function(t){this.currentUnitItem=t,this.IsMissing_Pending?(this.IsMissing_Pending=!1,this.IsMissing=!0):this.IsMissing=!1,this.CurrentUnit=null===t||void 0===t?void 0:t.Unit}},{key:"CurrentUnit",get:function(){return this.currentUnit},set:function(t){this.currentUnit===t&&(this.Update_DirectionType=nn),this.currentUnit=t,function(t,e){var n=t.Update_DirectionType,i=t.Dict;i.Update.Run({Section:sn,Data:{Sections:rr}},nn),n!==nn&&i.Update.Run(an,n,!1),t.Update_DirectionType=en}(this)}},{key:"Unit_SelectVM",get:function(){var t;return null!==(t=this.unit_SelectVM)&&void 0!==t?t:this.unit_SelectVM=function(t){var e=new xe;e.Placeholder="...";var n=function(){var n=t.UnitDict;if(e.Items=n,e.IdRender=function(t){return t.Unit},e.TitleRender=function(e){return t.ItemRender(e)},!t.Is_Unit_Select_Created){var i=t.Dict;t.Is_Unit_Select_Created=!0,t.Update_DirectionType===tn&&t.SetUnit_FromHost(io(i))}};return t.UnitDict&&n(),ot(t.OnSet_UnitDict_Func,n,!1),e.OnSelectedItemChanged=function(e){t.IsUndo?Qr(t,e):(t.IsUndo=!0,t.CurrentUnitItem=e)},e.OnSetOpen=function(e){e||(t.RenderState=zr)},e}(this)}},{key:"Unit_RenderView",get:function(){return(t=this).ItemRender(t.CurrentUnitItem);var t}},{key:"RenderState",get:function(){return this.renderState},set:function(t){var e=this;Object(h.runInAction)((function(){e.renderState=t}))}},{key:"MainView",get:function(){this.Unit_SelectVM;switch(this.RenderState){case Kr:return Object(F.jsx)(Le,{className:"massrow__unit__select",store:this.Unit_SelectVM});case zr:return this.Unit_RenderView}}},{key:"Update",get:function(){return this.Row.Update}},{key:"IsMissing",get:function(){return this.isMissing},set:function(t){var e=this;Object(h.runInAction)((function(){e.isMissing=t}))}},{key:"MissingCss",get:function(){return this.IsMissing?"mr__unit__missing":""}}]),t}(),Jr="manual",Zr="mouseEvent",$r="hidden",ta="mobx",ea="style",na=(n(507),function(t){Object(u.a)(n,t);var e=Object(l.a)(n);function n(t){var i;Object(o.a)(this,n);var s=(i=e.call(this,t)).props.store;return i.state=s||new sa,i}return Object(c.a)(n,[{key:"render",value:function(){var t=this.state;return t.ClassName=t.ClassName?t.ClassName:this.props.className?this.props.className:"",t.Style=t.Style?t.Style:this.props.style,Object(F.jsx)(F.Fragment,{children:t.UseType===ea||t.Is_Visible?Object(F.jsx)(F.Fragment,{children:Object(F.jsxs)("div",{style:t.WrapperStyle,children:[t.WrapperView,t.AdditionElement]})}):t.VisibleType===$r?Object(F.jsx)("div",{className:t.BlankStyle}):""})}}]),n}(i.Component)),ia=Object(d.observer)(na),sa=function(){function t(){var e=this;Object(o.a)(this,t),this.is_Visible=void 0,this.ToggleType=Jr,this.VisibleType="collapse",this.is_Hover_Visible=void 0,this.Show_Hover=function(t){t.stopPropagation(),e.OnPre_ShowHover&&e.OnPre_ShowHover(),e.Is_Hover_Visible=!0},this.Toggle_Hover=function(t){e.Is_Hover_Visible=t},this.PreRun=function(t){t.stopPropagation(),e.IsRun_Cancel=!1,e.OnPreRun&&e.OnPreRun(),e.IsRun_Cancel||e.Run()},this.PreCancel=function(t){t.stopPropagation(),e.Cancel()},this.Show=function(){e.Is_Visible=!0},this.Hide=function(){e.IsRun_Cancel=!1,e.OnPreHide&&e.OnPreHide(),e.IsRun_Cancel||e.Is_Hover_Visible||(e.Is_Visible=!1)},this.className=void 0,this.style=void 0,this.AdditionElement="",this.BlankStyle="delete__blank",this.Title="X\xe1c nh\u1eadn l\u1ec7nh?",this.UseType=ta,Object(h.makeObservable)(this,{is_Visible:h.observable,is_Hover_Visible:h.observable,VisibleType:h.observable,UseType:h.observable,className:h.observable,style:h.observable})}return Object(c.a)(t,[{key:"id",get:function(){return this._id||(this._id=nt()),this._id},set:function(t){this._id=t}},{key:"Is_Visible",get:function(){var t;return null!==(t=this.is_Visible)&&void 0!==t?t:this.is_Visible=this.ToggleType===Jr},set:function(t){var e=this;Object(h.runInAction)((function(){e.is_Visible=t}))}},{key:"Is_Hover_Visible",get:function(){return this.is_Hover_Visible},set:function(t){this.is_Hover_Visible=t,this.ToggleType===Zr&&(t||(this.Is_Visible=!1)),this.OnSet_Is_Hover_Visible&&this.OnSet_Is_Hover_Visible(t)}},{key:"Run",get:function(){var t;return this.run||(this.run=(t=this,function(){t.Is_Hover_Visible=!1,t.OnRun&&t.OnRun()})),this.run},set:function(t){this.run=t}},{key:"Cancel",get:function(){var t;return this.cancel||(this.cancel=(t=this,function(){t.Is_Hover_Visible=!1,t.OnCancel&&t.OnCancel()})),this.cancel},set:function(t){this.cancel=t}},{key:"ClassName",get:function(){return this.className},set:function(t){var e=this;Object(h.runInAction)((function(){e.className=t}))}},{key:"Style",get:function(){return this.style},set:function(t){var e=this;Object(h.runInAction)((function(){e.style=t}))}},{key:"ShowHover_Button",get:function(){return this.showHover_Button?this.showHover_Button:this.Retrieve_ShowHover_Button()},set:function(t){this.showHover_Button=t}},{key:"Retrieve_ShowHover_Button",get:function(){var t;return this.retrieve_ShowHover_Button||(this.retrieve_ShowHover_Button=(t=this,function(){return Object(F.jsx)(T.a,{type:"primary",size:"small",className:"btn_delete ".concat(t.ClassName),style:t.Style,onClick:t.Show_Hover,children:"x"})})),this.retrieve_ShowHover_Button},set:function(t){this.retrieve_ShowHover_Button=t}},{key:"View",get:function(){return Object(F.jsx)(ia,{store:this},this.id)}},{key:"WrapperView",get:function(){return this.Retrieve_WrapperView()}},{key:"Retrieve_WrapperView",get:function(){var t;return this.retrieve_WrapperView||(this.retrieve_WrapperView=(t=this,function(){return Object(F.jsx)(Ve.a,{content:Object(F.jsx)(F.Fragment,{children:t.Modal_ContentView}),title:t.Title,trigger:"click",visible:t.Is_Hover_Visible,onVisibleChange:t.Toggle_Hover,children:t.ShowHover_Button})})),this.retrieve_WrapperView},set:function(t){this.retrieve_WrapperView=t}},{key:"Modal_ButtonView",get:function(){var t;return this.modal_ButtonView||(this.modal_ButtonView=(t=this,Object(F.jsxs)("div",{className:"delete__btn-group",children:[Object(F.jsx)(T.a,{type:"primary",size:"small",onClick:t.PreRun,children:"ok"}),Object(F.jsx)(T.a,{type:"text",size:"small",className:"btn_blank",onClick:t.PreCancel,children:"cancel"})]}))),this.modal_ButtonView},set:function(t){this.modal_ButtonView=t}},{key:"Modal_InfoView",get:function(){return this.modal_InfoView||(this.modal_InfoView=""),this.modal_InfoView},set:function(t){this.modal_InfoView=t}},{key:"Modal_ContentView",get:function(){var t;return this.modal_ContentView||(this.modal_ContentView=(t=this,Object(F.jsxs)(F.Fragment,{children:[t.Modal_InfoView,t.Modal_ButtonView]}))),this.modal_ContentView},set:function(t){this.modal_ContentView=t}},{key:"WrapperStyle",get:function(){switch(this.UseType){case ta:return;case ea:return this.Is_Visible?void 0:{display:"none"}}}}]),t}(),ra=function(){function t(){var e=this;Object(o.a)(this,t),this.Host=void 0,this.Run=function(t,n){!function(t,e,n){var i=[];n&&n((function(){i.forEach((function(t){return t()}))}));var s=e.DeleteType,r=t.Host,a=r.Table,o=r.SupItem,c=r.CurrentList;if(s===un){var u=a.TBody.RemoveRows,l=u.length;n&&i.push((function(){u.splice(l,1)})),u.push(r)}o&&1===c.length?e.IsContinue=!0:(e.IsContinue=!1,l=r.Index,n&&i.push((function(){c.splice(l,0,r)})),c.splice(l,1),o&&(n&&(i.push((function(){null===o||void 0===o||o.Update.Run([{Section:sn,Data:{Sections:sr}},rn],tn)})),o.UnitData.SetUndo((function(t){i.push(t)}))),o.Update.Run([{Section:sn,Data:{Sections:sr}},rn,an],tn)))}(e,t,n)},this.DeleteHost=function(){var t=e.Host;t.Table.CommandDict.Do({action:On,target:{type:"row",key:t.RetrieveData}},t)},this.DeleteHost_Main=function(t,n){e.Host.Update.Run({Section:on,Data:{DeleteType:un}},tn,!0,n),t&&t()},this.deleteVM=void 0}return Object(c.a)(t,[{key:"DeleteVM",get:function(){var t;return null!==(t=this.deleteVM)&&void 0!==t?t:this.deleteVM=function(t){var e=new sa;return e.ToggleType=Jr,e.OnRun=function(){t.DeleteHost()},e}(this)}}]),t}(),aa=function(){function t(){var e=this;Object(o.a)(this,t),this.Host=void 0,this.Update_Units=function(t,n,i){e.UnitData.Reset_UnitDict()},this.Update_Unit=function(t,n,i){var s,r;if(t)r=t.Unit;else switch(n){case tn:r=io(e.Host);break;case $e:r=null===(s=e.SupItem)||void 0===s?void 0:s.Unit}var a=e.UnitData;a.Update_DirectionType=nn,a.SetUnit_FromHost(r)},this.Update_CellData=function(t,n,i){if(t&&t.Unit_SetType&&(e.Host.Unit_SetType=t.Unit_SetType),!t||!t.Sections)throw"invalid";e.Cells.forEach((function(e){return e.Update.Run(t.Sections)}))},this.Update_Delete=function(t,n,i){var s;null===(s=e.Host)||void 0===s||s.DeleteData.Run(t,i),e.IsContinue=t.IsContinue},this.Update_AddSub=function(t,n,i){var s=e.Host,r=s.subDict.items,a=[];i&&(i((function(){a.forEach((function(t){return t()}))})),a.push((function(){r.splice(r.length-1,1),s.Update.Run([{Section:sn,Data:{Sections:sr}},rn],tn)})),s.UnitData.SetUndo((function(t){a.push(t)}))),r.push(t.Item),s.Update.Run([{Section:sn,Data:{Sections:sr}},rn,an],tn),e.IsContinue=!1},this.Run=function(t,n){var i,s,r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],a=arguments.length>3?arguments[3]:void 0;if(n){var o=[],c=function(){o.forEach((function(t){return t()}))};if(Array.isArray(t)||(t=[t]),r&&t.forEach((function(t){e.RunItem(t,n,(function(t){o.push(t)}))})),e.IsContinue)switch(n){case nn:break;case $e:e.SubItems.forEach((function(e){e.Update.Run(t,n)}));break;case tn:null===(i=e.SupItem)||void 0===i||i.Update.Run(t,n);break;case en:e.SubItems.forEach((function(e){e.Update.Run(t,$e)})),null===(s=e.SupItem)||void 0===s||s.Update.Run(t,tn)}else e.IsContinue=!0;null===a||void 0===a||a(c)}else O.b.error("dirType is undefined!")},this.RunItem=function(t,n,i){var s="string"===typeof t?t:t.Section,r=t.Data;switch(s){case rn:e.Update_Units(r,n,i);break;case an:e.Update_Unit(r,n,i);break;case sn:e.Update_CellData(r,n,i);break;case on:e.Update_Delete(r,n,i);break;case cn:e.Update_AddSub(r,n,i)}},this.IsContinue=!0}return Object(c.a)(t,[{key:"UnitData",get:function(){return this.Host.UnitData}},{key:"Cells",get:function(){return this.Host.Cells}},{key:"SupItem",get:function(){return this.Host.SupItem}},{key:"SubItems",get:function(){return this.Host.subDict.items}}]),t}(),oa=function(){function t(){var e=this;Object(o.a)(this,t),this.ModelItem=void 0,this.Dict=void 0,this.GetValue=function(t){return e.ModelItem[t]},this.SetValue=function(t,n){e.ModelItem[t]=n},this.inputVMs=void 0,this.Initial=function(){ga(e)},this.Is_Run_Valid=void 0,this.Is_OK_Valid=void 0,this.Run_SetValue=function(){ya(e)},this.OpenModal=function(){e.Initial(),e.Is_Modal_Visible=!0,e.Is_Run_Valid=!1},this.ModalCancel=function(){e.Is_Modal_Visible=!1},this.ModalOK=function(){e.Run_SetValue(),e.Is_OK_Valid?(e.Is_Modal_Visible=!1,e.Is_Run_Valid=!0,e.Run()):O.b.warn("B\u1ea1n ph\u1ea3i \u0111i\u1ec1n \u0111\u1ee7 c\xe1c tr\u01b0\u1eddng th\xf4ng tin!")},this.Run=function(){var t;e.Is_Run_Valid&&(null===(t=e.ModelItem)||void 0===t||t.Run())},this.SaveDatabase=function(){var t,n=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],i=arguments.length>1?arguments[1]:void 0;null===(t=e.ModelItem)||void 0===t||t.SaveDatabase(n,i)},this.Is_Modal_Visible=!1,Object(h.makeObservable)(this,{Is_Modal_Visible:h.observable})}return Object(c.a)(t,[{key:"InputVMs",get:function(){var t;return null!==(t=this.inputVMs)&&void 0!==t?t:this.inputVMs=pa(this)}},{key:"InputView",get:function(){return Ia(this)}},{key:"ModalView",get:function(){return ja(this)}}]),t}(),ca=(n(508),n(509),function(t){if(t.length<1||t.length>2)return!1;if(isNaN(t))return!1;var e=parseInt(t);return!(e<1||e>31)}),ua=function(t){if(t.length<1||t.length>2)return!1;if(isNaN(t))return!1;var e=parseInt(t);return!(e<1||e>12)},la=function(t){return 4===t.length&&!isNaN(t)},da=function(t){return function(t,e){if(t){var n;if("dd/MM/yyyy"===e){var i=t.split("/");if(3!==i.length)return;if(!ca(i[0])||!ua(i[1])||!la(i[2]))return;n=i.reverse().join("-")}else n=t;return new Date(n)}}(t.Content,"dd/MM/yyyy")},ha=n(226),fa=n.n(ha),ma=(n(510),function(){function t(){var e=this;Object(o.a)(this,t),this.content=void 0,this.date=void 0,this.dateOnPicker=void 0,this.SetDate=function(t){e.Date=t,e.content=function(t,e){if(t){t.toLocaleDateString("en-US",{weekday:"short"});var n=t.toLocaleDateString("en-US",{day:"numeric"}),i=t.toLocaleDateString("en-US",{month:"2-digit"}),s=t.toLocaleDateString("en-US",{year:"numeric"});return"".concat(n,"/").concat(i,"/").concat(s)}}(t)},this.Set_DateOnPicker=function(t){e.HidePopover(),e.SetDate(t)},this.placeholder="n\u1ed9i dung input",this.State="text",this.Is_Popover_Visible=!1,this.ShowPopover=function(){e.Is_Popover_Visible=!0},this.HidePopover=function(){e.Is_Popover_Visible=!1},Object(h.makeObservable)(this,{content:h.observable,placeholder:h.observable,dateOnPicker:h.observable,Is_Popover_Visible:h.observable})}return Object(c.a)(t,[{key:"Content",get:function(){return this.content},set:function(t){this.content=t,this.Date=da(this)}},{key:"Date",get:function(){return this.date||(this.date=da(this)),this.date},set:function(t){this.date=t,this.DateOnPicker=t}},{key:"DateOnPicker",get:function(){return this.dateOnPicker||(this.dateOnPicker=this.Date),this.dateOnPicker},set:function(t){t&&(this.dateOnPicker=t)}},{key:"Placeholder",set:function(t){this.placeholder=t}},{key:"DatePickerView",get:function(){return Object(F.jsxs)("div",{className:"datepicker__popover__wrapper",children:[Object(F.jsx)(fa.a,{selected:this.DateOnPicker,inline:!0,value:this.DateOnPicker,onSelect:this.Set_DateOnPicker}),Object(F.jsx)(T.a,{type:"primary",size:"small",className:"btn-danger",onClick:this.HidePopover,children:"x"})]})}}]),t}()),va=function(t){Object(u.a)(n,t);var e=Object(l.a)(n);function n(t){var i;Object(o.a)(this,n);var s=(i=e.call(this,t)).props.store;return i.state=s||new ma,i}return Object(c.a)(n,[{key:"render",value:function(){var t=this.state;return Object(F.jsx)(F.Fragment,{children:Object(F.jsx)(Ve.a,{content:t.DatePickerView,visible:t.Is_Popover_Visible,children:Object(F.jsx)(R,{store:t,onFocus:t.ShowPopover})})})}}]),n}(i.Component),_a=Object(d.observer)(va),pa=function(t){return Ft().map((function(t){var e;if(t===Mt)e=new ma;else e=new v;return e.Placeholder="",e.Field=t,e}))},ba=function(t,e){var n=function(t,e){return e.Field===Mt?(e.Initial=function(){return e.SetDate(t.GetValue(e.Field))},e.GetValue=function(){return e.Date},Object(F.jsx)(_a,{store:e})):(e.Initial=function(){return e.Content=t.GetValue(e.Field)},e.GetValue=function(){return e.Content},Object(F.jsx)(R,{store:e}))}(t,e),i=e.Field;switch(i){case kt:case Ct:case Vt:case wt:var s=qg.Instance.SG_Dict_Dict,r=[],a=Object(F.jsx)(T.a,{type:"primary",size:"small",className:"btn-warning",onClick:function(){return r[0]()},children:"..."}),o=s.Popover_Render(a);return r.push((function(){s.CurrentField=i,s.CurrentMassType=t.Dict.MassType,s.SetValue=function(t){return e.Content=t},s.CurrentPopover=o})),Object(F.jsxs)("div",{className:"f-ac",children:[Object(F.jsx)("div",{className:"f1",children:n}),o.View]});default:return n}},Ia=function(t){return Object(F.jsx)("table",{className:"siteinput__table",children:Object(F.jsx)("tbody",{children:t.InputVMs.map((function(e){return Object(F.jsxs)("tr",{className:"siteinput__tr",children:[Object(F.jsx)("th",{className:"siteinput__title",children:Rt(e.Field)+":"}),Object(F.jsx)("td",{className:"siteinput__input",children:ba(t,e)})]},et())}))})})},ja=function(t){return Object(F.jsx)(pe.a,{title:"Th\xf4ng tin c\xf4ng tr\u01b0\u1eddng",visible:t.Is_Modal_Visible,footer:Object(F.jsxs)(F.Fragment,{children:[Object(F.jsx)(T.a,{type:"primary",size:"small",onClick:t.ModalOK,children:"run"}),Object(F.jsx)(T.a,{type:"text",size:"small",onClick:t.ModalCancel,children:"cancel"})]}),children:t.InputView})},ga=function(t){t.InputVMs.forEach((function(t){t.Initial()}))},ya=function(t){var e=t.Is_OK_Valid=!0;t.InputVMs.forEach((function(n){if(e){var i=n.GetValue();!i||"string"===typeof i&&0===i.length?t.Is_OK_Valid=!1:t.SetValue(n.Field,i)}}))},Oa=function(){function t(){var e=this;Object(o.a)(this,t),this.Dict=void 0,this.Run=function(t){Da(e,t)},this.MainRun=function(t,n,i){ka(e,t,n,i)}}return Object(c.a)(t,[{key:"Row",get:function(){return this.Dict}},{key:"Fields",get:function(){return this.Row.TempSubFields},set:function(t){this.Row.TempSubFields=t}}]),t}(),Sa=function(){return Yd.Instance},Da=function(t,e){if(Ma(t)){var n=t.Row;n.Table.CommandDict.Do({action:yn,target:{type:"row",key:n.RetrieveData},value:t.Fields},n)}},Ma=function(t){t.Fields||(t.Fields=[]);var e=t.Fields,n=t.Row,i=!0;return n.SubFields.length!==e.length?i=!1:n.SubFields.forEach((function(t,n){i&&t!==e[n]&&(i=!1)})),!i},ka=function(t,e,n,i){t.Fields=e;var s=[];i&&i((function(){s.forEach((function(t){return t()}))}));var r=function(t){i&&s.push(t)},a=t.Row,o=fe.generalUtil.increFunc(2,(function(){a.IsDataPending=!1,null===n||void 0===n||n()})),c=function(){xa(t,(function(){Fa(t,o),Na(t,o)}),r)},u=[];Ca(t,r);var l=a.IsShowSub;i&&s.push((function(){a.IsShowSub=l})),a.IsShowSub=!0,a.IsDataPending=!0;var d=t.Fields,h=a.Cells,f=fe.generalUtil.increFunc(h.length,(function(){var t=fe.generalUtil.increFunc(u.length,c);u.forEach((function(e){return e(t)}))}));h.forEach((function(t){Va(t,d,f,void 0,(function(t){return u.push(t)}))}))},Ca=function(t,e){var n=[];e&&e((function(){n.forEach((function(t){return t()}))}));var i=t.Row,s=t.Fields;if(e){var r=i.subDict.items;n.push((function(){i.subDict.items=r}))}i.subDict.items=[];var a=i.SubFields;e&&n.push((function(){i.SubFields=a})),i.SubFields=s},Va=function t(e,n,i,s,r){var a,o=[];if(null===r||void 0===r||r((function(t){var e=fe.generalUtil.increFunc(o.length,t);o.forEach((function(t){return t(e)}))})),e.SubGroups_Query&&(a=e.SubGroups_Query.find((function(t){return t.subfield===n[0]}))),a){wa(e,a,(function(){var s=n.filter((function(t,e){return 0!==e}));if(0!==s.length){var r=e.SubCells.length,a=0,c=function(){++a===r&&(null===i||void 0===i||i())};e.SubCells.forEach((function(e){t(e,s,c,void 0,(function(t){return o.push(t)}))}))}else null===i||void 0===i||i()}),void 0,(function(t){return o.push(t)}))}else{var c=function(){return Ta(e,n,i,void 0,(function(t){return o.push(t)}))};e.Items?c():(fe.generalUtil.add(e.onSet_Items_Func,c),e.getItems_FromApi())}},wa=function(t,e,n,i,s){var r=t.Row,a=t.Column;null===s||void 0===s||s((function(e){(t.SubCells=Er(t)).map((function(t){return t.ValueData})).filter((function(t){return!t.Data})).forEach((function(t){t.Data=[]})),e()})),r.Get_SubItems_FromApi(e._id,a,(function(){return null===n||void 0===n?void 0:n()}))},Ta=function(t,e,n,i,s){var r=function(){null===n||void 0===n||n()},a=t.Items;if(null===s||void 0===s||s((function(e){var n=function(){return null===e||void 0===e?void 0:e()};if(0!==a.length){t.Update.Run(sr,void 0,void 0,(function(){var e;null===(e=t.SubGroupData)||void 0===e||e.Save(n)}))}else{(t.SubCells=Er(t)).map((function(t){return t.ValueData})).forEach((function(t){t.Data=[]})),n()}})),0!==a.length){var o=t.Row;o.Table.BuildData.ByItem.HandleItems(t.Items,t.Column,o,e,r)}else r()},xa=function(t,e,n){var i=[];n&&n((function(){i.forEach((function(t){return t()}))}));var s=t.Row;if(n){var r=s.Unit;i.push((function(){s.Update.Run({Section:an,Data:{Unit:r}},nn)}))}s.Update.Run({Section:an,Data:{Unit:s.Unit?s.Unit:er}},$e),e&&e()},Fa=function(t,e){!function t(n,i){var s=n.filter((function(t,e){return 0!==e})),r=[];0!==s.length?(i.forEach((function(t){var e=t.subDict.items;e.forEach((function(t){t.SubFields=s})),r.push.apply(r,e)})),s.length>1?t(s,r):null===e||void 0===e||e()):null===e||void 0===e||e()}(t.Fields,[t.Row])},Na=function(t,e){var n=function(){return null===e||void 0===e?void 0:e()},i=Sa().Current_MassTable.Columns,s=i.length,r=i[s-1].Field;if(s>1&&r===Lt)n();else{var a=t.Fields.findIndex((function(t){return t===Wt}));if(-1!==a){var o,c,u=t.Row,l=u.Rank+a,d=[];!function t(e){var n=e.Rank;n===l?d.push(e):n<l&&e.subDict.items.forEach((function(e){return t(e)}))}(u);var h=vt(2,(function(){var t=o.Data.Binding.Items.map((function(t){return t.Name})),e=function(){t.push.apply(t,c.Items.map((function(t){return t.Name})));d.forEach((function(e){return function(e){var n=e.subDict.items.sort((function(e,n){var i=t.indexOf(e.RawValue),s=t.indexOf(n.RawValue);return-1===i||-1===s?s:i-s}));e.subDict.items=n}(e)})),n()};c.Items?e():ot(c.OnSet_Items_Func,e)})),f=function(t){o=t,h()},m=function(t){c=t,h()},v=i[s-1][r];v.TypicalLevelSetting?f(v.TypicalLevelSetting):ot(v instanceof Ns?v.OnGetTypicalLevelSetting_Func_Dict:v.OnGet_TypicalLevelSetting_Func,(function(){return f(v.TypicalLevelSetting)}));var _=r===Lt?v:Sa().CurrentProject;_.LevelDict?m(_.LevelDict):ot(_.OnSet_LevelDict_Func_Dict,(function(){return m(_.LevelDict)}))}else n()}},Ra=function(){return Yd.Instance},La=function(t,e,n,i,s){!function(){var r=[];t.forEach((function(t){var s=t.key,a=i.GetRow(s,n),o=a.GetCell(e);o.SubGroups_Query=t.subgroups,0!==t.queries.length&&o.QueryData.Set_FromApi(t.queries[0].items),o._id=t._id,o.CreateType="bycell",o.ValueData.Data=t.valueData.map((function(t){return Ys(t)})),r.push(a)})),null===s||void 0===s||s(r)}()},Ga=function(t){return t.SupItem?t.SupItem.Rank+1:0},Pa=function(t){return{marginLeft:20*t.Rank}},Ea=function(t){return t.IsPending_HaveSub||0!==t.subDict.items.length},Ua=function(t){return t.IsShowSub?"-":"+"},Aa=function(t){var e=t.Table.Dict.Dict.MassItemField_Dict,n=Ue(e,t.Field);return n.TitleRender=function(t){return t.Name},n.Placeholder="ch\u1ecdn nh\xf3m",n.IsDisabled=!t.IsCreatedByUser,n.OnSelectedItemChanged=function(e){return t.TempField=null===e||void 0===e?void 0:e.Value},n},Ha=function(t){var e=t.Table.Dict.Dict.MassItemField_Dict,n=Vn(e,void 0);return n.TitleRender=function(t){return t.Name},n.Placeholder="ch\u1ecdn ph\xe2n nh\xf3m",n.OnSelectedItemChanged=function(e){return t.TempSubFields=e.map((function(t){return t.Value}))},n},Ba=function(t,e){var n=t.TempSubFields,i=!0;if(n&&n.length===e.length){var s=!0;e.forEach((function(t,e){s&&n.indexOf(t)!==e&&(s=!1)})),i=!s}i&&t.SubFieldSelectVM.SetValue(e)},Wa=function(t){var e=Ue([],void 0);return e.Placeholder="ch\u1ecdn v\u1ecb tr\xed",e.TitleRender=function(t){var e=15*t.Rank;return Object(F.jsx)("div",{style:{marginLeft:e},children:t.Title})},e.OnSelectedItemChanged=function(e){t.ReplaceFactory.ReferenceRow=e},e},za=function(t,e){e.CommandDict.Do({action:Dn,target:{type:"row",key:null===t||void 0===t?void 0:t.RetrieveData}},t)},Ka=function(t){var e=new fe.Dict(t);return e.items=[],e},qa=function(t){var e=t.SupItem,n=[];return e&&(n=Object(he.a)(e.Full_SupItems)).push(e),n},Qa=function(t){for(var e=[],n=t.Original_SupRow;n;)e.push(n),n=n.Original_SupRow;return e.reverse(),e},Xa=function(t){return t.Original_Full_SupRows.map((function(t){return t.Field}))},Ya=function(t){return!!t.IsReplaced},Ja=function(t){return t.Original_Full_SupRows.reduce((function(t,e,n){return 0!=n&&(t+=" > "),t+=e.Title}),"")},Za=function(t){var e=new sa;return e.ToggleType=Zr,e.VisibleType=$r,e.BlankStyle="massrow__hover__blank",e.OnPreHide=function(){t.DeleteData.DeleteVM.Is_Hover_Visible&&(e.IsRun_Cancel=!0)},e.Retrieve_WrapperView=function(){return t.ToolElement.View},e},$a=function(t){var e=new Un;return e.Dict=t,e},to=function(t){var e=t.Table;return e.Columns.map((function(n){var i=new Wr;return i.Column=n,i.Row=t,i.Dict=e,i}))},eo=function(t){return t.Original_SupRow?"".concat(t.Original_SupRow.FullValue,"__").concat(t.RawValue):t.RawValue},no=function(t){return!t.IsCreatedByUser&&t.RawValue!==t.Title},io=function(t){var e,n=!1,i=t.subDict.items;return 0!==i.length?i.forEach((function(t){n||(void 0===e&&(e=t.Unit),e&&e===t.Unit||(e=void 0,n=!0))})):e=er,e},so=function(t){var e=new Yr;return e.Dict=t,e},ro=function(t){var e=new ra;return e.Host=t,e},ao=function(t){var e=new aa;return e.Host=t,e},oo=function(t){return function(t,e){var n=new oa;return n.ModelItem=t,n.Dict=e,n}(Es(t),t)},co=function(t){var e=wn(t.Title);return e.Is_Tool_Visible=!1,e.Placeholder="t\xean \u0111\u1ea7u m\u1ee5c ...",e.OnKeyDown=function(t){var n=Fn(t),i=n.key;n.value;switch(i){case Tn:if(!e.Content||0===e.Content.length)return void O.b.warn("B\u1ea1n ph\u1ea3i \u0111i\u1ec1n t\xean \u0110\u1ea7u m\u1ee5c!");e.RenderState=me;break;case xn:e.IsEscape=!0,e.RenderState=me}},at(e.OnSet_RenderState_Func_Dict,(function(){if(e.RenderState===me){if(e.IsEscape)return e.Content=t.Title,void(e.IsEscape=!1);if(e.Content===t.Title)return;if(t.BindingCommand)t.ReTitle(e.Content),t.BindingCommand.Result(t),t.BindingCommand=void 0;else t.Table.CommandDict.Do({action:gn,target:{type:"row",key:t.RetrieveData},value:e.Content},t)}}),!1),e},uo=function(t,e,n,i){var s=[];i&&(s=[],i((function(){s.forEach((function(t){return t()}))})));var r=t.Editable_TitleVM,a=t.Title;s.push((function(){return t.Title=a})),t.Title=e,t.ToolElement.editable_TitleVM_RenderState=r.RenderState,n&&n()},lo=function(t){var e=function(t){return{field:t.Field,value:t.RawValue}},n=t.Original_Full_SupRows.map((function(t){return e(t)}));return n.push(e(t)),n},ho=function(t){var e=t.Full_SupItems.map((function(t){return t.FullValue}));return e.push(t.FullValue),e},fo=function(t){if(t.IsCreatedByUser){var e=t.subDict.items;return 0===e.length?[]:e.map((function(t){return t.FilterDict})).filter((function(t){return 0!==t.length}))}return t.FilterData},mo=function(t){return function(t){var e=new Oa;return e.Dict=t,e}(t)},vo=function(t){if(t.SupItem===t.Original_SupRow)return"";var e="Replace",n=t.Original_Full_SupRows,i=n.length;return n.forEach((function(t,n){0==n&&(e+=": "),e+=t.Title,i>1&&n!==i-1&&(e+=" > ")})),e},_o=function(t,e,n,i){!function(t,e){t=t||{},w("".concat("https://api.bimdev.vn/api/hb_masscell","/list"),t).then((function(t){return t.data})).then((function(t){return null===e||void 0===e?void 0:e(t)}))}({hostId:e,reportId:n.Report._id},(function(e){La(e,n,t,t.Table,(function(t){null===i||void 0===i||i()}))}))},po=function(t){if(t.IsPending_HaveSub){var e=t.SubFields,n=function(){t.SubFields=e,t.IsPending_HaveSub=!1},i=t.GroupFactory;i.Fields=[e[0]],t.SubFields=[],i.Run((function(){return function(n){if(e.length>1){var i=e.filter((function(t,e){return 0!==e}));t.subDict.items.forEach((function(t){t.SubFields=i,t.IsPending_HaveSub=!0}))}null===n||void 0===n||n()}(n)}))}else t.IsShowSub=!t.IsShowSub},bo=function(t,e){Ra().Current_MassTable.CommandDict.Do({action:Mn,target:{type:"rowlist",key:[t.RetrieveData,e.RetrieveData]}},[t,e])},Io=function(){function t(){var e=this;Object(o.a)(this,t),this.Data=void 0,this.Dict=void 0,this.target=void 0,this.Do=function(t){wo(e,t)},this.Undo=void 0,this.Result=function(t){To(e,t)},this.Clone=function(){return Co(e)}}return Object(c.a)(t,[{key:"Table",get:function(){return Yd.Instance.Current_MassTable}},{key:"Target",get:function(){var t;return null!==(t=this.target)&&void 0!==t?t:this.target=Vo(this)},set:function(t){this.target=t}},{key:"ApiData",get:function(){return this.Data.ApiData}},{key:"CanUser_ForTemplate",get:function(){var t=this.Data;switch(t.Action){case Sn:return!1;case Dn:return!t.Target.key;default:return 1===t.Target.key.length}}}]),t}(),jo=function(t){var e=new yo;return e.Dict=t,e},go=function(t){return t.KeyValue.map((function(t){return Yd.Instance.Current_MassTable.TBody.GetRow(t)}))},yo=function(){function t(){var e=this;Object(o.a)(this,t),this.Dict=void 0,this.rowValue=void 0,this.keyValue=void 0,this.Clone=function(){return function(t){var e=new yo;return e.KeyValue=t.KeyValue,e.Dict=t.Dict,e}(e)}}return Object(c.a)(t,[{key:"RowValue",get:function(){var t;return null!==(t=this.rowValue)&&void 0!==t?t:this.rowValue=go(this)},set:function(t){this.rowValue=t}},{key:"KeyValue",get:function(){var t;return null!==(t=this.keyValue)&&void 0!==t?t:this.keyValue=this.RowValue.map((function(t){return t.RetrieveData}))},set:function(t){this.keyValue=t}},{key:"ApiData",get:function(){return this.KeyValue}}]),t}(),Oo=function(){function t(){var e=this;Object(o.a)(this,t),this.Dict=void 0,this.Action=void 0,this.Target=void 0,this.Value=void 0,this.Result=void 0,this.Clone=function(){return Mo(e)}}return Object(c.a)(t,[{key:"ApiData",get:function(){var t={action:this.Action,target:this.Target,result:this.Result};return this.Value instanceof yo?t.value=this.Value.ApiData:t.value=this.Value,t}}]),t}(),So=function(t,e){var n=Do(e),i=n.Action=t.action;return n.Target=t.target,n.Result=t.result,n.Value=i===Sn?function(t,e){var n=jo(e);t[0]instanceof Cn?(n.RowValue=t,n.KeyValue):n.KeyValue=t;return n}(t.value,n):t.value,n},Do=function(t){var e=new Oo;return e.Dict=t,e},Mo=function(t){var e=new Oo;return e.Action=t.Action,e.Target=t.Target,t.Value instanceof yo?e.Value=t.Value.Clone():e.Value=t.Value,e.Result=t.Result,e.Dict=t.Dict,e},ko=function(t,e,n){var i=new Io;return i.Data=So(t,i),i.Target=e,i.Dict=n,i},Co=function(t,e){var n=new Io;return n.Data=t.Data.Clone(),n.Dict=e||t.Dict,n},Vo=function(t){var e=t.Data.Target,n=e.type,i=e.key;if(i){var s=t.Table;switch(n){case"row":return s.TBody.GetRow(i);case"rowlist":return i.map((function(t){return s.TBody.GetRow(t)}))}}},wo=function(t,e){var n=function(e){return t.Undo=e},i=function(){return null===e||void 0===e?void 0:e()},s=t.Target,r=t.Data,a=r.Action,o=r.Value,c=r.Result,u=r.Target.type;if(s||a===Dn)switch(a){case gn:s.ReTitle(o,i,n);break;case yn:s.GroupFactory.MainRun(o,i,n);break;case On:if("row"===u)s.DeleteData.DeleteHost_Main(i,n);break;case Sn:s.Replace_SubItems_Main(o.RowValue,i,n);break;case Dn:var l=function(t,e,n,i){var s=Ra().Current_MassTable,r=[];i&&i((function(){r.forEach((function(t){return t()}))}));var a=new Cn;a.IsCreatedByUser=!0,a.RawValue=e?e.raw:et(),t?(a.SupItem=t,t.IsShowSub=!0):a.Dict=s;var o=a.CurrentList;return r.push((function(){o.splice(o.length-1,1)})),o.push(a),e?a.Title=e.title:a.Editable_TitleVM.RenderState=ve,null===n||void 0===n||n(),a}(s,c,i,n);c||(l.BindingCommand=t);break;case Mn:!function(t,e,n,i){var s=[];i&&i((function(){s.forEach((function(t){return t()}))}));var r=t.CurrentList;i&&s.push((function(){it(r,t.Index,e.Index)})),it(r,t.Index,e.Index),null===n||void 0===n||n()}(s[0],s[1],i,n);break;case kn:s.UnitData.SelectUnit_Main(o,i,n)}else i()},To=function(t,e){var n=t.Data;if(n.Action===Dn)n.Result={raw:e.RawValue,title:e.Title}},xo=function(){function t(){var e=this;Object(o.a)(this,t),this.Dict=void 0,this.PreItems=[],this.Items=[],this.itemsForUndo=void 0,this.MaxLength=15,this.Do=function(t,n){e.Add(t,n).Do()},this.Add=function(t,n){var i=ko(t,n,e);e.Items.push(i);var s=e.ItemsForUndo;return s.length===e.MaxLength&&s.splice(0,1),s.push(i),i},this.Undo=function(){var t=e.Items,n=e.ItemsForUndo;if(0!==n.length){var i=t.splice(t.length-1,1)[0];n.splice(n.length-1,1),i.Undo()}},Object(h.makeObservable)(this,{itemsForUndo:h.observable})}return Object(c.a)(t,[{key:"Table",get:function(){return Yd.Instance.Current_MassTable}},{key:"ItemsForUndo",get:function(){var t,e=this;return null!==(t=this.itemsForUndo)&&void 0!==t?t:Object(h.runInAction)((function(){return e.itemsForUndo=[]}))},set:function(t){var e=this;Object(h.runInAction)((function(){e.itemsForUndo=t}))}},{key:"AllItems",get:function(){return this.PreItems.concat(this.Items)}},{key:"ButtonView",get:function(){return No(this)}},{key:"Disabled",get:function(){return 0===this.ItemsForUndo.length}},{key:"ApiData",get:function(){return this.Items.map((function(t){return t.ApiData}))}}]),t}(),Fo=Object(d.observer)((function(t){var e=t.width,n=t.height,i=t.className;return e=e||512,n=n||512,Object(F.jsx)(F.Fragment,{children:Object(F.jsx)("svg",{className:i,width:e,height:n,viewBox:"0 0 25.64 25.64",children:Object(F.jsx)("path",{d:"M10.385,1.499C10.096,1.378,9.76,1.446,9.537,1.667L0.228,8.98c-0.304,0.302-0.304,0.797,0,1.1\r l9.309,7.278c0.148,0.15,0.348,0.229,0.549,0.229c0.102,0,0.203-0.021,0.299-0.059c0.291-0.121,0.465-0.404,0.465-0.719V12.45\r c9.955,0,14.309,2.808,13.646,11.751C28.713,9.893,20.619,6.659,10.85,6.659V2.217C10.849,1.902,10.676,1.619,10.385,1.499z"})})})})),No=(n(551),function(t){return Object(F.jsx)(T.a,{type:"primary",size:"small",className:"commanddict__button btn-warning",onClick:t.Undo,disabled:t.Disabled,children:Object(F.jsx)(Fo,{width:12,height:12})})}),Ro=Object(c.a)((function t(){var e=this;Object(o.a)(this,t),this.Table=void 0,this.Run=function(){var t=vt(1,(function(){!function(){var t;(null===(t=e.Table)||void 0===t?void 0:t.Columns).forEach((function(t){t.Report.Update()}))}()}));e.Save_MainRows(t)},this.Save_MainRows=function(t){var n,i=null===(n=e.Table)||void 0===n?void 0:n.MainRows,s=vt(i.length,t);i.forEach((function(t){var e=t.Cells,n=vt(e.length,s);e.forEach((function(t){var e=function(){t.Save(n)};if(t.CreateType===Mr)n();else{var i=t.ValueData;i.Data?e():ot(i.OnSet_Data_Func,e)}}))}))}})),Lo=function(){function t(){var e=this;Object(o.a)(this,t),this.Table=void 0,this.bycell=void 0,this.byitem=void 0,this.Run=function(){Jo(e)},this.Finish=function(){ec(e)}}return Object(c.a)(t,[{key:"Data",get:function(){return this.Table.Data}},{key:"ByCell",get:function(){var t;return null!==(t=this.bycell)&&void 0!==t?t:this.bycell=Xo(this)}},{key:"ByItem",get:function(){var t;return null!==(t=this.byitem)&&void 0!==t?t:this.byitem=Yo(this)}}]),t}(),Go=function(){function t(){var e=this;Object(o.a)(this,t),this.Dict=void 0,this.Run=function(t,n,i){Po(e,t,n,i)}}return Object(c.a)(t,[{key:"Table",get:function(){return this.Dict.Table}}]),t}(),Po=function(t,e,n,i){var s=t.Table;La(e,n,void 0,s,(function(t){null===i||void 0===i||i()}))},Eo=function(){function t(){var e=this;Object(o.a)(this,t),this.Dict=void 0,this.valueItem_Data=void 0,this.RunType="overview",this.HandleItems=function(t,n,i,s,r){var a=fe.generalUtil.increFunc(t.length,(function(){e.Table.MainRows.forEach((function(t){return t.refreshSubItems(!0)})),null===r||void 0===r||r()}));t.forEach((function(t){return e.HandleItem(t,n,i,s,a)}))},this.HandleItem=function(t,n,i,s,r){var a;r&&(a=function(){var t=e.ValueItem_Data;0===t.HandledItems.length?null===r||void 0===r||r():fe.generalUtil.add(t.on_Clear_Func,r)}),Ho(e,t,n,s,i,a)}}return Object(c.a)(t,[{key:"Table",get:function(){return this.Dict.Table}},{key:"ValueItem_Data",get:function(){var t;return null!==(t=this.valueItem_Data)&&void 0!==t?t:this.valueItem_Data=Ao(this)}}]),t}(),Uo=Object(c.a)((function t(){var e=this;Object(o.a)(this,t),this.Dict=void 0,this.HandledItems=[],this.AddItem=function(t){e.HandledItems.push(t)},this.on_DeleteItem_Func=[],this.on_Clear_Func=[],this.DeleteItem=function(t){var n=e.HandledItems;-1!==n.findIndex((function(e){return e==t}))&&(n.splice(n.indexOf(t),1),fe.generalUtil.handle(e.on_DeleteItem_Func,(function(t){return e.on_DeleteItem_Func=t})),0===n.length&&fe.generalUtil.handle(e.on_Clear_Func,(function(t){return e.on_Clear_Func=t})))}})),Ao=function(t){return function(t){var e=new Uo;return e.Dict=t,e}(t)},Ho=function(t,e,n,i,s,r){Bo(t,e,n,s?[s]:[],i,0,r)},Bo=function(t,e,n,i,s,r,a){var o=s[r],c=function(o){Wo(t,e,n,i,o,s,r,a)};if(o){var u=t.ValueItem_Data,l={Item:e,Field:o},d=!1,h=e.GetValue(o,(function(t){c(t),u.DeleteItem(l),d=!0}));if(h.IsHandle)d||u.AddItem(l);else{var f=h.Value;c(f)}}else c(void 0)},Wo=function(t,e,n,i,s,r,a,o){var c=t.Table,u=0!==i.length?i[i.length-1]:void 0,l=r[a];if(l){var d=function(t,e){var n=void 0;switch(e){case Lt:case Gt:n=t.Name;break;case Pt:n=t.FullName;break;default:n=t}return n||"undefined"}(s,l);u&&"".concat(u.FullValue,"__").concat(d);!function(s){s.Field=l,i.push(s);var c=s.GetCell(n);c.QueryData.Set_FromMassItem(e),c.Items||(c.Items=[]),c.Items.push(e),a===r.length-1?null===o||void 0===o||o():Bo(t,e,n,i,r,a+1,o)}(c.GetRow(d,u))}else null===o||void 0===o||o()},zo=function(){function t(){Object(o.a)(this,t),this.isSaveData=true}return Object(c.a)(t,null,[{key:"instance",get:function(){var e;return null!==(e=this._instance)&&void 0!==e?e:this._instance=new t}}]),t}();zo._instance=void 0;var Ko=zo.instance,qo="https://api.bimdev.vn/api/hb_massreport",Qo=function(){function t(){var e=this;Object(o.a)(this,t),this._id=void 0,this.projectId=void 0,this.versionIds=void 0,this.phaseIds=void 0,this.IsUpdate_MassType=!1,this.Update=function(t){e.IsUpdate_MassType=!0,e.SaveDatabase(!1,t)},this.SaveDatabase=function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=arguments.length>1?arguments[1]:void 0;dt(e,qo,(function(){t&&O.b.success("save successfully!"),null===n||void 0===n||n()}))}}return Object(c.a)(t,[{key:"ApiData",get:function(){return{_id:this._id,projectId:this.projectId,versionIds:this.versionIds,phaseIds:this.phaseIds,isUpdate_MassType:this.IsUpdate_MassType}}}]),t}(),Xo=function(t){return function(t){var e=new Go;return e.Dict=t,e}(t)},Yo=function(t){return function(t){var e=new Eo;return e.Dict=t,e}(t)},Jo=function(t){var e=t.Table;Zo(t);var n=t.Data,i=fe.generalUtil.increFunc(n.length,(function(){$o(t,(function(){tc(t,t.Finish)}))}));n.forEach((function(t){e.GetColumn(t.key).Report=function(t){var e=new Qo;return e._id=t._id,e.projectId=t.projectId,e.versionIds=t.versionIds,e.phaseIds=t.phaseIds,e}(t.report)})),n.forEach((function(n){var s=e.GetColumn(n.key);if(n.cells)t.ByCell.Run(n.cells,s,i);else{var r=function(){var e=n.masses.map((function(t){var e=Ws(t);return s.MassItem_Handle(e),e}));t.ByItem.HandleItems(e,s,void 0,[Ht],i)};switch(n.key.field){case"project":s.Project?r():ot(s.OnSet_Project_Func,r);break;case"phase":s.Phase?r():ot(s.OnSet_Phase_Func,r)}}}))},Zo=function(t){var e=t.Table;e.Columns=[],e.CreatedByUser_Rows=[],e.Handled_CreatedByUser_Rows=[]},$o=function(t,e){var n=t.Table,i=n.MainRows;i.forEach((function(t){return t.Field=Ht})),Ko.isSaveData&&n.SaveValue.Run(),n.TBody.Rows=i,null===e||void 0===e||e()},tc=function(t,e){var n=t.Table,i=function(){return null===e||void 0===e?void 0:e()},s=Yd.Instance.Mgs_Dict_Dict.Current_MGS;if(s){var r=function(){var t=n.CommandDict,e=t.PreItems=s.CommandData.Items.map((function(e){return e.Clone(t)})),r=e.length;if(0!==r){var a=0;!function t(){e[a].Do((function(){++a===r?i():t()}))}()}else i()};s.CommandData?r():ot(s.OnSet_CommandData_Func,r)}else i()},ec=function(t){t.Table.Is_Render_Done=!0},nc=function(t){return function(t){var e=new xo;return e.Dict=t,e}(t)},ic=function(t){return function(t){var e=new Ro;return e.Table=t,e}(t)},sc=function(t){return function(t){var e=new Lo;return e.Table=t,e}(t)},rc=n(293),ac=n.n(rc),oc=n(294),cc=n(295),uc=function(){function t(){var e=this;Object(o.a)(this,t),this.Export=function(){var t=cc.write(e.Workbook,{bookType:"xlsx",type:"array"}),n=new Blob([t],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=UTF-8"});oc.saveAs(n,e.FileName+".xlsx")}}return Object(c.a)(t,[{key:"Workbook",get:function(){return this.Override_Get_Workbook?this.Override_Get_Workbook():this.workbook},set:function(t){this.workbook=t}},{key:"FileName",get:function(){return this.Override_Get_FileName?this.Override_Get_FileName():this.fileName},set:function(t){this.fileName=t}}]),t}(),lc=function(){function t(){Object(o.a)(this,t),this.row=0,this.column=0}return Object(c.a)(t,[{key:"Row",get:function(){return this.Override_Get_Row?this.Override_Get_Row():this.row},set:function(t){this.row=t,this.Override_Get_Row=void 0}},{key:"Column",get:function(){return this.Override_Get_Column?this.Override_Get_Column():this.column},set:function(t){this.column=t,this.Override_Get_Column=void 0}},{key:"Formula",get:function(){return this.Override_Get_Formula?this.Override_Get_Formula():this.formula},set:function(t){this.formula=t,this.Override_Get_Formula=void 0}},{key:"Address",get:function(){return ut(this.Row,this.Column)}},{key:"SubItems",get:function(){return this.subItems||(this.subItems=function(t){var e=t.Column;return t.Dict.SubItems.map((function(t){var n=t.Cells,i=n.findIndex((function(t){return t.Column===e}));return-1!==i?n[i]:void 0})).filter((function(t){return void 0!==t}))}(this)),this.subItems}},{key:"IsContinueSubRows",get:function(){return void 0===this.isContinueSubRows&&(this.isContinueSubRows=function(t){var e=!0;return t.SubItems.forEach((function(t){e&&0!==t.SubItems.length&&(e=!1)})),e}(this)),this.isContinueSubRows}},{key:"ResultData",get:function(){return{t:this.Type,v:this.Value,f:this.Formula,z:this.Format,s:this.Style}}}]),t}(),dc=function(){function t(){Object(o.a)(this,t),this.ValueCell_Dict=[]}return Object(c.a)(t,[{key:"Rank",get:function(){return this.Row.Rank}},{key:"SubItems",get:function(){return this.subItems||(this.subItems=mc(this)),this.subItems}},{key:"FullItems",get:function(){return jc(this)}},{key:"Cells",get:function(){return this.cells||(this.cells=_c(this)),this.cells}},{key:"TitleCell",get:function(){return this.titleCell||(this.titleCell=pc(this)),this.titleCell}},{key:"ValueCells",get:function(){return this.valueCells||(this.valueCells=bc(this)),this.valueCells}},{key:"UnitCell",get:function(){return this.unitCell||(this.unitCell=Ic(this)),this.unitCell}},{key:"FullIndex",get:function(){return this.Worksheet.FullRows.indexOf(this)}},{key:"Title",get:function(){return this.title||(this.title=vc(this)),this.title}}]),t}(),hc="s",fc=function(t,e,n){var i=new dc;return i.Row=t,i.Worksheet=e,i.SupItem=n,i},mc=function(t){return t.Row.SubItems.map((function(e){return fc(e,t.Worksheet,t)}))},vc=function(t){for(var e=t.Row,n="",i=0;i<e.Rank;i++)n+="   ";return n+=e.Title},_c=function(t){var e=[t.TitleCell];return e.push.apply(e,t.ValueCells),e.push(t.UnitCell),e},pc=function(t){var e=t.Worksheet,n=e.First_ValueColumn,i=e.First_ValueRow,s=new lc;s.Dict=t,s.Type=hc;return s.Value=t.Title,s.Column=0+n,s.Override_Get_Row=function(){return t.FullIndex+i},s},bc=function(t){var e=t.Worksheet,n=e.First_ValueColumn,i=e.First_ValueRow,s=function(){return t.FullIndex+i},r=t.Row,a=r.Table.Columns;return r.Cells.map((function(e){var i,o=new lc;o.Dict=t,o.Type="n",o.Value=null===(i=e.ValueData.CurrentItem)||void 0===i?void 0:i.Value,o.Format="0.00",o.Column=a.indexOf(e.Column)+1+n,o.Override_Get_Row=s,o.Override_Get_Formula=function(){var t,e=o.SubItems,n=e.length;if(0!==n&&r.Unit)return o.IsContinueSubRows?t="SUM(".concat(e[0].Address,":").concat(e[n-1].Address,")"):(t=e.reduce((function(t,e,n){return 0!==n&&(t+=","),t+=e.Address}),"SUM("),t+=")"),t};var c=e.Column.Name;return t.ValueCell_Dict.push({Key:c,Value:o}),o}))},Ic=function(t){var e=t.Worksheet,n=e.First_ValueColumn,i=e.First_ValueRow,s=t.Row,r=new lc;r.Dict=t,r.Type=hc,r.Value=s.Unit;return r.Column=n+s.Table.Columns.length+1,r.Override_Get_Row=function(){return t.FullIndex+i},r},jc=function(t){var e=[t];return t.SubItems.forEach((function(t){e.push.apply(e,t.FullItems)})),e},gc=function(){function t(){Object(o.a)(this,t),this.First_TitleColumn=0,this.First_TitleRow=0,this.First_ValueColumn=0,this.First_ValueRow=1}return Object(c.a)(t,[{key:"Table",get:function(){return this.Workbook.Table}},{key:"MainRows",get:function(){var t;return this.mainRows||(this.mainRows=(t=this).Table.MainRows.map((function(e){return fc(e,t)}))),this.mainRows}},{key:"FullRows",get:function(){return this.fullRows||(this.fullRows=function(t){var e=[];return t.MainRows.forEach((function(t){e.push.apply(e,t.FullItems)})),e}(this)),this.fullRows}},{key:"ValueCells",get:function(){return this.valueCells||(this.valueCells=function(t){var e=[];return t.FullRows.forEach((function(t){e.push.apply(e,t.Cells)})),e}(this)),this.valueCells}},{key:"TitleCells",get:function(){return this.titleCells||(this.titleCells=function(t){var e=t.First_TitleColumn,n=t.First_TitleRow,i=[],s=function(t){var e=new lc;return e.Type=hc,e.Row=n,e.Column=t,i.push(e),e};s(e).Value="\u0110\u1ea7u m\u1ee5c";var r=t.Table.Columns;return r.forEach((function(t,n){s(n+e+1).Value=t.Name})),s(e+r.length+1).Value="\u0110\u01a1n v\u1ecb",i}(this)),this.titleCells}},{key:"AllCells",get:function(){return this.allCells||(this.allCells=this.TitleCells.concat(this.ValueCells)),this.allCells}},{key:"RangeName",get:function(){return function(t){var e=t.AllCells,n=e.reduce((function(t,e){var n=t.minRow,i=t.minCol,s=t.maxRow,r=t.maxCol;return{minRow:n<e.Row?n:e.Row,minCol:i<e.Column?i:e.Column,maxRow:s>e.Row?s:e.Row,maxCol:r>e.Column?r:e.Column}}),Object(Be.a)({minRow:e[0].Row,minCol:e[0].Column,maxRow:e[0].Row},"maxRow",e[0].Column));return lt(n.minRow,n.minCol,n.maxRow,n.maxCol)}(this)}},{key:"ResultData",get:function(){var t={"!ref":this.RangeName};return this.AllCells.forEach((function(e){t[e.Address]=e.ResultData})),t}}]),t}(),yc=function(){function t(){Object(o.a)(this,t),this.infoFields=[],this.First_TitleColumn=0,this.First_TitleRow=0,this.First_ValueColumn=0,this.First_ValueRow=1}return Object(c.a)(t,[{key:"Table",get:function(){return this.Workbook.Table}},{key:"DataRows",get:function(){return this.dataRows||(this.dataRows=this.Workbook.Data_WS.FullRows.filter((function(t){return 0===t.SubItems.length}))),this.dataRows}},{key:"TableRows",get:function(){return this.tableRows||(this.tableRows=this.DataRows.map((function(t){return t.Row}))),this.tableRows}},{key:"Records",get:function(){var t;return this.records||(this.records=(t=this).DataRows.map((function(e){e.Cells;var n=e.Row.ExportData,i=t.InfoFields;return n.Infos.map((function(t){return t.Key})).forEach((function(t){i.includes(t)||i.push(t)})),{Binding_DataRow:e,Value:n}}))),this.records}},{key:"InfoFields",get:function(){return this.infoFields},set:function(t){this.infoFields=t}},{key:"ValueFields",get:function(){return this.valueFields||(this.valueFields=this.Table.Columns.map((function(t){return t.Name}))),this.valueFields}},{key:"ValueCells",get:function(){return this.valueCells||(this.valueCells=function(t){var e=t.First_ValueColumn,n=t.First_ValueRow,i=t.Records,s=[],r=t.InfoFields,a=r.length,o=t.ValueFields;return i.forEach((function(t,i){var c,u=t.Binding_DataRow.ValueCell_Dict,l=t.Value,d=i+n;l.Infos.forEach((function(t){(c=new lc).Type=hc,c.Value=t.Value,c.Column=r.indexOf(t.Key)+e,c.Row=d,s.push(c)})),l.Values.forEach((function(t){var n=t.Key,i=t.Value;(c=new lc).Type="n",c.Value=i,c.Format="0.00",c.Column=o.indexOf(n)+e+a,c.Row=d,s.push(c);var r=u.findIndex((function(t){return t.Key===n})),l=u[r].Value;i&&(l.Formula="raw_data!".concat(c.Address)),(c=new lc).Type=hc,c.Value=t.Unit,c.Column=o.indexOf(n)+e+a+1,c.Row=d,s.push(c)}))})),s}(this)),this.valueCells}},{key:"TitleCells",get:function(){return this.titleCells||(this.titleCells=function(t){t.Records;var e=t.First_TitleColumn,n=t.First_TitleRow,i=[],s=function(t){var e=new lc;return e.Type=hc,e.Row=n,e.Column=t,i.push(e),e},r=t.InfoFields.map((function(t){return de(t)})).concat(t.ValueFields);return r.forEach((function(t,n){s(n+e).Value=t})),s(e+r.length).Value="\u0110\u01a1n v\u1ecb",i}(this)),this.titleCells}},{key:"AllCells",get:function(){return this.allCells||(this.allCells=this.TitleCells.concat(this.ValueCells)),this.allCells}},{key:"RangeName",get:function(){return function(t){var e=t.AllCells,n=e.reduce((function(t,e){var n=t.minRow,i=t.minCol,s=t.maxRow,r=t.maxCol;return{minRow:n<e.Row?n:e.Row,minCol:i<e.Column?i:e.Column,maxRow:s>e.Row?s:e.Row,maxCol:r>e.Column?r:e.Column}}),Object(Be.a)({minRow:e[0].Row,minCol:e[0].Column,maxRow:e[0].Row},"maxRow",e[0].Column));return lt(n.minRow,n.minCol,n.maxRow,n.maxCol)}(this)}},{key:"ResultData",get:function(){var t={"!ref":this.RangeName};return this.AllCells.forEach((function(e){t[e.Address]=e.ResultData})),t}}]),t}(),Oc=function(){function t(){Object(o.a)(this,t)}return Object(c.a)(t,[{key:"All_WS",get:function(){return[this.RawData_WS,this.Data_WS]}},{key:"Data_WS",get:function(){return this.data_WS||(this.data_WS=Sc(this)),this.data_WS}},{key:"RawData_WS",get:function(){return this.rawData_WS||(this.rawData_WS=Dc(this)),this.rawData_WS}},{key:"ResultData",get:function(){var t={Sheets:{},SheetNames:[]};return this.All_WS.forEach((function(e){t.Sheets[e.Title]=e.ResultData,t.SheetNames.push(e.Title)})),t}}]),t}(),Sc=function(t){var e=new gc;return e.Workbook=t,e.Title="data",e},Dc=function(t){var e=new yc;return e.Workbook=t,e.Title="raw_data",e},Mc=function(){function t(){var e=this;Object(o.a)(this,t),this._id=void 0,this.tempId=void 0,this.Dict=void 0,this.rows=[],this.RemoveRows=[],this.GetRow=function(t){var n,i=e.Rows,s=!0;return t.forEach((function(t){if(s){if(!(n=i.find((function(e){return e.FullValue===t}))))return void(s=!1);i=n.subDict.items}})),n},Object(h.makeObservable)(this,{rows:h.observable})}return Object(c.a)(t,[{key:"TempId",get:function(){var t;return null!==(t=this.tempId)&&void 0!==t?t:this.tempId=nt()}},{key:"id",get:function(){return this._id?this._id:this.TempId}},{key:"Rows",get:function(){return this.rows},set:function(t){this.rows=t}},{key:"View",get:function(){var t;return Object(F.jsx)("tbody",{children:null===(t=this.Rows)||void 0===t?void 0:t.map((function(t,e){return Object(F.jsx)(jn,{store:t},t.id)}))})}}]),t}(),kc=(n(558),n(301)),Cc=Object(d.observer)((function(t){var e,n=t.store;return Object(F.jsx)(F.Fragment,{children:Object(F.jsx)("tbody",{children:null===(e=n.Rows)||void 0===e?void 0:e.map((function(t,e){return Object(F.jsx)(jn,{store:t},t.id)}))})})})),Vc=(be.a.Option,Object(d.observer)((function(t){var e,n,i=t.store;return Object(F.jsx)(F.Fragment,{children:i.Is_Render_Done?Object(F.jsx)(F.Fragment,{children:Object(F.jsxs)("div",{className:"masstable__wrapper",children:[Object(F.jsx)("div",{className:"masstable__title__wrapper f-jc",children:Object(F.jsxs)("div",{className:"f",children:[Object(F.jsx)("h4",{className:"masstable__title text-lg",children:"B\u1ea2NG T\u1ed4NG H\u1ee2P KH\u1ed0I L\u01af\u1ee2NG"}),Object(F.jsxs)("div",{className:"masstable__title__tool f",children:[qg.Instance.Mgs_Dict_Dict.Save_MGS_View,Object(F.jsx)(T.a,{type:"primary",size:"small",onClick:i.Export,className:"masstable__export",children:Object(F.jsx)(kc.a,{})}),null===(e=i.Dict.Forge)||void 0===e?void 0:e.ToggleView_Button]})]})}),Object(F.jsx)("div",{className:"f-jc",children:Object(F.jsxs)("div",{className:"f",children:[Object(F.jsx)("div",{className:"masstable__undo",children:i.CommandDict.ButtonView}),Object(F.jsxs)("table",{className:"table table-bordered table-sm masstable",children:[Object(F.jsx)("thead",{className:"thead-light",children:Object(F.jsxs)("tr",{children:[Object(F.jsx)("th",{scope:"col",className:"masstitle__th",children:Object(F.jsx)(T.a,{onClick:i.AddMainRow,type:"primary",size:"small",style:{backgroundColor:"#52c41a",border:"none"},children:"+"})}),null===(n=i.Columns)||void 0===n?void 0:n.map((function(t){return t.View}))]})}),Object(F.jsx)(Cc,{store:i.TBody},i.TBody.id)]})]})})]})}):""})}))),wc=function(){function t(){var e=this;Object(o.a)(this,t),this.Dict=void 0,this.items=void 0,this.AddQuery=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"object";mr(e,t,n)}}return Object(c.a)(t,[{key:"Column",get:function(){return this.Dict}},{key:"Value",get:function(){return this.Column.Data}},{key:"valueId",get:function(){return this.Value._id}},{key:"Field",get:function(){return this.Column.Field}},{key:"Items",get:function(){var t;return null!==(t=this.items)&&void 0!==t?t:this.items=Tc(this)}},{key:"ApiData",get:function(){var t={};return this.AddQuery(t),t}}]),t}(),Tc=function(t){var e,n=t.Column,i=n.key;switch(n.Field){case Lt:var s=_r(t);return s.field=Lt,s.valueId=i.value,[s];case Gt:var r=_r(t);r.field=Lt,r.valueId=null===(e=Yd.Instance.CurrentProject)||void 0===e?void 0:e._id;var a=_r(t);return a.field=Gt,a.valueId=i.value,[r,a]}},xc=function(){return Yd.Instance},Fc=function(t){return function(t){var e=new wc;return e.Dict=t,e}(t)},Nc=(n(559),Object(d.observer)((function(t){var e,n,i=t.store;return Object(F.jsx)(F.Fragment,{children:Object(F.jsx)("th",{scope:"col",className:"text-center masscolumn \n        ".concat(i.Field===Gt&&1===i.Index&&2===(null===(e=i.Table)||void 0===e||null===(n=e.Columns)||void 0===n?void 0:n.length)?"phase":"project"),children:i.Name})})}))),Rc=function(){function t(){Object(o.a)(this,t),this._id=void 0,this.Table=void 0,this.Cells=[],this.key=void 0,this.field=void 0,this.OnSet_Project_Func=[],this.IsGet_Project=void 0,this.project=void 0,this.OnSet_Phase_Func=[],this.IsGet_Phase=void 0,this.phase=void 0,this.OnSet_Name_Func=[],this.IsGet_Name=void 0,this.name=void 0,this.queryData=void 0,this.massItem_Handle=void 0,this.Data=void 0,this.Report=void 0,Object(h.makeObservable)(this,{name:h.observable})}return Object(c.a)(t,[{key:"id",get:function(){var t;return null!==(t=this._id)&&void 0!==t?t:this._id=et()}},{key:"Index",get:function(){var t;return(null===(t=this.Table)||void 0===t?void 0:t.Columns).indexOf(this)}},{key:"Field",get:function(){var t;return null!==(t=this.field)&&void 0!==t?t:this.field="project"===this.key.field?Lt:Gt}},{key:"Project",get:function(){return this.project||function(t){if(!t.IsGet_Project){t.IsGet_Project=!0;var e=function(e){t.Project=e,t.IsGet_Project=!1};switch(t.Field){case Lt:var n=function(n){var i=n.find((function(e){return e._id===t.key.value}));e(i)},i=xc().Project_Dict;i.Items?n(i.Items):ot(i.OnSet_Items_Func,(function(){return n(i.Items)}));break;case Gt:e(xc().CurrentProject)}}}(this),this.project},set:function(t){var e=this;this.project=t,ct(this.OnSet_Project_Func,(function(t){return e.OnSet_Project_Func=t}))}},{key:"Phase",get:function(){var t;return this.phase||(t=this).IsGet_Phase||(t.IsGet_Phase=!0,t.Field===Gt&&xc().CurrentProject.Phase_Dict.GetItem(t.key.value,(function(e){t.Phase=e,t.IsGet_Phase=!1}))),this.phase},set:function(t){var e=this;this.phase=t,ct(this.OnSet_Phase_Func,(function(t){return e.OnSet_Phase_Func=t}))}},{key:"Name",get:function(){return this.name||function(t){var e;if(!t.IsGet_Name){t.IsGet_Name=!0;var n,i=t.key,s=function(e){t.Name=e.find((function(t){return t._id===i.value})).Name,t.IsGet_Name=!1};switch(i.field){case"project":n=xc().Project_Dict;break;case"phase":n=null===(e=xc().CurrentProject)||void 0===e?void 0:e.Phase_Dict}n.Items?s(n.Items):ot(n.OnSet_Items_Func,(function(){return s(n.Items)}))}}(this),this.name},set:function(t){var e=this;Object(h.runInAction)((function(){e.name=t,ct(e.OnSet_Name_Func,(function(t){return e.OnSet_Name_Func=t}))}))}},{key:"QueryData",get:function(){var t;return null!==(t=this.queryData)&&void 0!==t?t:this.queryData=Fc(this)}},{key:"MassItem_Handle",get:function(){var t;return null!==(t=this.massItem_Handle)&&void 0!==t?t:this.massItem_Handle=function(t){switch(t.Field){case Lt:return function(e){return e.Project=t.Project};case Gt:return function(e){return e.Phase=t.Phase}}}(this)}},{key:"View",get:function(){return Object(F.jsx)(Nc,{store:this},this.id)}}]),t}(),Lc=function(){function t(){var e=this;Object(o.a)(this,t),this._id=void 0,this.tempId=void 0,this.Dict=void 0,this.tbody=void 0,this.columnField=void 0,this.Columns=void 0,this.GetColumn=function(t){var n=e.Columns,i=null===n||void 0===n?void 0:n.find((function(e){return e.key.value===t.value}));return i||((i=new Rc).Table=e,i.key=t,n.push(i)),i},this.GetRow=function(t,n){var i=n?n.subDict.items:e.MainRows,s=n?"".concat(n.FullValue,"__").concat(t):t,r=i.find((function(t){return t.FullValue===s}));return r||((r=new Cn).Original_SupRow=r.SupItem=n,r.RawValue=t,n?n.subDict.filteredItemsState=fe.PropertyState.notset:r.Dict=e,i.push(r)),r},this.MassGroupSetting=void 0,this.buildData=void 0,this.OnSetHandledRatio_Funcs=[],this.handledRatio=void 0,this.AddMainRow=function(){return za(void 0,e)},this.excelExport=void 0,this.Export=function(){e.ExcelExport.Export()},this.CreatedByUser_Rows=void 0,this.Handled_CreatedByUser_Rows=void 0,this.Add_Handled_CreatedByUser_Row=function(t){var n,i,s;null===(n=e.Handled_CreatedByUser_Rows)||void 0===n||n.push(t),null===(i=e.CreatedByUser_Rows)||void 0===i||i.length,null===(s=e.Handled_CreatedByUser_Rows)||void 0===s||s.length},this.commandDict=void 0,this.saveValue=void 0,this.is_Render_Done=void 0,Object(h.makeObservable)(this,{is_Render_Done:h.observable,Columns:h.observable,columnField:h.observable,tbody:h.observable})}return Object(c.a)(t,[{key:"TempId",get:function(){var t;return null!==(t=this.tempId)&&void 0!==t?t:this.tempId=nt()}},{key:"id",get:function(){return this._id?this._id:this.TempId}},{key:"TBody",get:function(){var t,e=this;return null!==(t=this.tbody)&&void 0!==t?t:this.tbody=function(){var t=e.tbody=new Mc;return t.Dict=e,t}()}},{key:"ColumnField",get:function(){var t;return null!==(t=this.columnField)&&void 0!==t?t:this.columnField=this.Dict.Dict.IsHavePhase?Gt:Lt},set:function(t){this.columnField=t}},{key:"MainRows",get:function(){return this.TBody.Rows},set:function(t){this.TBody.Rows=t}},{key:"AllRows",get:function(){return function(t){var e=[];return t.MainRows.forEach((function(t){e.push.apply(e,t.AllItems)})),e}(this)}},{key:"Data",get:function(){return this.Dict.Data}},{key:"BuildData",get:function(){var t;return null!==(t=this.buildData)&&void 0!==t?t:this.buildData=sc(this)}},{key:"HandledRatio",get:function(){return this.handledRatio},set:function(t){this.handledRatio=t,this.OnSetHandledRatio_Funcs.forEach((function(e){return e(t)}))}},{key:"ExportTitle",get:function(){var t,e=null===(t=Yd.Instance.CurrentProject)||void 0===t?void 0:t.Name;e=e?e+"_":"",this.ColumnField===Gt&&(e+="phase_");var n=ac()(Date.now()).format("YYMMDD");return e+="masstable_".concat(n)}},{key:"ExcelWorkbook",get:function(){return function(t){var e=new Oc;return e.Table=t,e}(this).ResultData}},{key:"ExcelExport",get:function(){var t,e=this;return null!==(t=this.excelExport)&&void 0!==t?t:this.excelExport=function(t,e,n,i){var s=new uc;return s.FileName=t,s.Override_Get_FileName=n,s.Workbook=e,s.Override_Get_Workbook=i,s}(void 0,void 0,(function(){return e.ExportTitle}),(function(){return e.ExcelWorkbook}))}},{key:"CommandDict",get:function(){var t;return null!==(t=this.commandDict)&&void 0!==t?t:this.commandDict=nc(this)}},{key:"SaveValue",get:function(){var t;return null!==(t=this.saveValue)&&void 0!==t?t:this.saveValue=ic(this)}},{key:"Is_Render_Done",get:function(){return this.is_Render_Done},set:function(t){this.is_Render_Done=t,this.Dict.IsDataPending=!1}},{key:"View",get:function(){return Object(F.jsx)(Vc,{store:this},this.id)}}]),t}(),Gc=function(){return Yd.Instance},Pc=function(t){if(!t.IsGet_Forge){t.IsGet_Forge=!0;var e=function(e){t.Forge=e?0!=e.length?function(t,e){var n=Ot(e);return n._id=t._id,n.InputVM.Content=n.DocumentId=t.documentId,n}(e[0],t):Ot(t):void 0,t.IsGet_Forge=!1};if(t.MassTable&&Gc().CurrentProject)!function(t,e){t=t||{},w("".concat(p,"/list"),t).then((function(t){return t.data})).then((function(t){e&&e(t)}))}({projectId:Gc().CurrentProject._id},(function(t){e(t)}));else e(void 0)}},Ec=function(){function t(){Object(o.a)(this,t),this.Dict=void 0,this.data=void 0,this.MassGroupSetting=void 0,this.massTable=void 0,this.isDataPending=!1,this.loadingSpinTipVM=void 0,this.handledRatio=0,this.OnSet_Forge_Func=[],this.IsGet_Forge=void 0,this.forge=void 0,Object(h.makeObservable)(this,{massTable:h.observable,isDataPending:h.observable,forge:h.observable})}return Object(c.a)(t,[{key:"Data",get:function(){return this.data},set:function(t){this.data=t,this.IsDataPending=!0,this.MassTable=function(t){var e=Gc().Current_MassTable=new Lc;return e.OnSetHandledRatio_Funcs.push((function(e){t.HandledRatio=e})),e.Dict=t,e.BuildData.Run(),e}(this)}},{key:"MassTable",get:function(){return this.massTable},set:function(t){var e=this;Object(h.runInAction)((function(){e.massTable=t}))}},{key:"IsDataPending",get:function(){return this.isDataPending},set:function(t){var e=this;Object(h.runInAction)((function(){e.isDataPending=t}))}},{key:"LoadingSpinTip",get:function(){return"loading data ... (".concat((100*this.HandledRatio).toFixed(1),"%)")}},{key:"LoadingSpinTipVM",get:function(){var t;return null!==(t=this.loadingSpinTipVM)&&void 0!==t?t:this.loadingSpinTipVM=_(this.LoadingSpinTip)}},{key:"HandledRatio",get:function(){return this.handledRatio},set:function(t){this.handledRatio=t,this.LoadingSpinTipVM.Content=this.LoadingSpinTip}},{key:"Forge",get:function(){return this.forge||Pc(this),this.forge},set:function(t){var e=this;Object(h.runInAction)((function(){e.forge=t,ct(e.OnSet_Forge_Func,(function(t){return e.OnSet_Forge_Func=t}))}))}}]),t}(),Uc=function(){return Yd.Instance},Ac=function(){return Yd.Instance},Hc=function(){function t(){var e=this;Object(o.a)(this,t),this.ViewItem=void 0,this.Projects=[],this.Phases=[],this.massItem_Dict=void 0,this.OnGetItemsDone_Funcs=[],this.isHavePhase=!1,this.MassItemField_Dict=void 0,this.MassGroupSetting=void 0,this.GetMassData=function(){Ac().Project_Dict_ForMassDetail=void 0,e.MassItem_Dict.IsDataPending=!0,void 0===Ac().Is_First_Get_MassTable?Ac().Is_First_Get_MassTable=!0:Ac().Is_First_Get_MassTable=!1,ms(e.ApiData,(function(t){e.MassItemField_Dict=function(t){var e;return 0!==(null===(e=t.Projects)||void 0===e?void 0:e.length)||t.IsHavePhase?Uc().MIF_Dict_ForInput:Uc().MIF_Dict_ForMassGroup}(e);var n=e.MassItem_Dict;n.MassGroupSetting=e.MassGroupSetting?e.MassGroupSetting:void 0,n.Data=t,e.GetItemsDone=!0}))}}return Object(c.a)(t,[{key:"ApiData",get:function(){return function(t){var e,n,i,s;return{projectIds:Uc().CurrentProject?[null===(e=Uc().CurrentProject)||void 0===e?void 0:e._id]:null===(n=t.Projects)||void 0===n?void 0:n.map((function(t){return t._id})),phaseIds:t.IsHavePhase?null===(i=t.Phases)||void 0===i?void 0:i.map((function(t){return t._id})):void 0,otherData:{skip:void 0,take:void 0,massGroupId:null===(s=Uc().Mgs_Dict_Dict.Current_MGS)||void 0===s?void 0:s._id}}}(this)}},{key:"MassItem_Dict",get:function(){var t;return null!==(t=this.massItem_Dict)&&void 0!==t?t:this.massItem_Dict=function(t){var e=new Ec;return e.Dict=t,e}(this)}},{key:"GetItemsDone",set:function(t){this.OnGetItemsDone_Funcs.forEach((function(t){return t()}))}},{key:"IsHavePhase",get:function(){return this.isHavePhase},set:function(t){this.isHavePhase=t}}]),t}(),Bc=Object(c.a)((function t(){Object(o.a)(this,t)})),Wc=function(){function t(){Object(o.a)(this,t)}return Object(c.a)(t,[{key:"Items",get:function(){return this.items||(this.items=function(t){var e=[],n=new Bc;n.Color="#1956c9";var i=new An;return i.ValueType=zn,i.NumberFilterType=Yn,i.Values=[.8],n.Filter=i,e.push(n),(n=new Bc).Color="#3f79d6",(i=new An).ValueType=zn,i.NumberFilterType=Zn,i.IsEqualLeft=!0,i.Values=[.8,.85],n.Filter=i,e.push(n),(n=new Bc).Color="#6f9fe9",(i=new An).ValueType=zn,i.NumberFilterType=Zn,i.IsEqualLeft=!0,i.Values=[.85,.9],n.Filter=i,e.push(n),(n=new Bc).Color="#a5c2f2",(i=new An).ValueType=zn,i.NumberFilterType=Zn,i.IsEqualLeft=!0,i.Values=[.9,.95],n.Filter=i,e.push(n),(n=new Bc).Color="#c9d9f6",(i=new An).ValueType=zn,i.NumberFilterType=Zn,i.IsEqualLeft=!0,i.Values=[.95,1],n.Filter=i,e.push(n),(n=new Bc).Color="#f3cccc",(i=new An).ValueType=zn,i.NumberFilterType=Zn,i.IsEqualRight=!0,i.Values=[1,1.05],n.Filter=i,e.push(n),(n=new Bc).Color="#e9999a",(i=new An).ValueType=zn,i.NumberFilterType=Zn,i.IsEqualRight=!0,i.Values=[1.05,1.1],n.Filter=i,e.push(n),(n=new Bc).Color="#de6568",(i=new An).ValueType=zn,i.NumberFilterType=Zn,i.IsEqualRight=!0,i.Values=[1.1,1.15],n.Filter=i,e.push(n),(n=new Bc).Color="#c90010",(i=new An).ValueType=zn,i.NumberFilterType=Zn,i.IsEqualRight=!0,i.Values=[1.15,1.2],n.Filter=i,e.push(n),(n=new Bc).Color="#980009",(i=new An).ValueType=zn,i.NumberFilterType=Jn,i.Values=[1.2],n.Filter=i,e.push(n),e}()),this.items}}]),t}(),zc=Object(c.a)((function t(){Object(o.a)(this,t),this.Values=[],this.Count=0})),Kc=Object(c.a)((function t(){var e=this;Object(o.a)(this,t),this.Items=[],this.AddItem=function(t){var n=e.Items,i=void 0,s=n.findIndex((function(e){return function(t,e){var n=!0,i=!0;return t.length===e.length&&(t.forEach((function(t,s){n&&!e.includes(t)&&(n=!1,i=!1)})),i)}(e.Values,t)}));return-1===s?((i=new zc).Values=t,n.push(i)):i=n[s],i.Count++,i}})),qc=function(){return oe().map((function(t){return{_id:t,Name:de(t),Value:t}}))},Qc=function(){function t(){var e=this;Object(o.a)(this,t),this.OnSet_Items_Func=[],this.IsGet_Items=void 0,this.items=void 0,this.AddItem=function(){var t,n=Cs(e);return n.Name="T\xean d\u1ef1 \xe1n",null===(t=e.Items)||void 0===t||t.push(n),n},this.Get_Project=function(t){var n=e.Items;if(n){var i=n.findIndex((function(e){return e._id===t._id}));if(-1===i){var s=ks(t,e);return s&&n.push(s),s}return n[i]}},this.Move=function(t,n){var i=e.Items;i&&(it(i,t,n),i&&i[t].Save(),i&&i[n].Save())},this.Insert=function(t,n){var i=e.Items;if(i){st(i,t,n);for(var s=t>n?t:n,r=0;r<s+1;r++)i[r].Save()}}}return Object(c.a)(t,[{key:"Items",get:function(){return this.items||Yc(this),this.items},set:function(t){var e=this;this.items=t,ct(this.OnSet_Items_Func,(function(t){return e.OnSet_Items_Func=t}))}}]),t}(),Xc=function(){var t=new Qc;return t},Yc=function t(e){if(!e.IsGet_Items){e.IsGet_Items=!0;var n=Yd.Instance;!function(){var t={};pt("admin")&&(t.fortest=!0),Vs(t,(function(t){!function(t){e.Items=t.map((function(t){return ks(t,e)})),e.IsGet_Items=!1}(t)}))}(),ot(n.OnSet_AdminCommands_Func,(function(){return t(e)}),!1)}},Jc=function(){function t(){Object(o.a)(this,t)}return Object(c.a)(t,[{key:"Items",get:function(){return this.items||(this.items=ju(this)),this.items}},{key:"Current_MGS",get:function(){return this.current_MGS},set:function(t){this.current_MGS=t}}]),t}(),Zc=function(){function t(){var e=this;Object(o.a)(this,t),this.OnSet_id_Func_Dict=[],this.OnSet_Items_Func=[],this.AddItem=function(t){e.Items.push(t),e.OnAddItem&&e.OnAddItem(t)}}return Object(c.a)(t,[{key:"_id",get:function(){return this.__id},set:function(t){var e=this;this.__id=t,ct(this.OnSet_id_Func_Dict,(function(t){return e.OnSet_id_Func_Dict=t}))}},{key:"TempId",get:function(){return this.tempId||(this.tempId=nt()),this.tempId}},{key:"id",get:function(){return this._id?this._id:this.TempId}},{key:"Project",get:function(){return this.project},set:function(t){this.project!==t&&(this.project=t,vu(this))}},{key:"Category",get:function(){return bu(this)}},{key:"CategoryName",get:function(){return Iu(this)}},{key:"Items",get:function(){return this.items||_u(this),this.items},set:function(t){var e=this;this.items=t,ct(this.OnSet_Items_Func,(function(t){return e.OnSet_Items_Func=t}))}},{key:"Main_CurrentItem",get:function(){return this.main_CurrentItem},set:function(t){this.main_CurrentItem=t,this.Used_MassGroupComponent=void 0,this.Used_MassGroupItem=void 0}},{key:"Save",get:function(){return this.save||(this.save=pu(this)),this.save}}]),t}(),$c="https://api.bimdev.vn/api/hb_mgs_command",tu="project",eu="template",nu=function(){function t(){var e=this;Object(o.a)(this,t),this.OnSet_id_Func_Dict=[],this.Save=function(t){e.Dict.UseType===tu&&(e.Items=e.Table_CommandDict.AllItems),e.SaveDatabase(!1,t)},this.SaveDatabase=function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=arguments.length>1?arguments[1]:void 0;dt(e,$c,(function(){t&&O.b.success("save successfully!"),n&&n()}),"edit")}}return Object(c.a)(t,[{key:"_id",get:function(){return this.__id},set:function(t){var e=this;this.__id=t,ct(this.OnSet_id_Func_Dict,(function(t){return e.OnSet_id_Func_Dict=t}))}},{key:"TempId",get:function(){return this.tempId||(this.tempId=nt()),this.tempId}},{key:"id",get:function(){return this._id?this._id:this.TempId}},{key:"Table",get:function(){return Yd.Instance.Current_MassTable}},{key:"Table_CommandDict",get:function(){return this.Table.CommandDict}},{key:"ApiData",get:function(){return{_id:this._id,dictId:this.Dict._id,items:this.Items.map((function(t){return t.ApiData}))}}}]),t}(),iu=function(t){var e=new nu;return e.Dict=t,e},su="https://api.bimdev.vn/api/hb_mgs",ru=function(){function t(){var e=this;Object(o.a)(this,t),this.OnSet_id_Func_Dict=[],this.OnSet_CommandData_Func=[],this.SaveDatabase=function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=arguments.length>1?arguments[1]:void 0,i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],s=function(){n&&n()};if(i){var r=function(t){var n=function(t){e.CommandData.Save(t)};e.CommandData?n(t):ot(e.OnSet_CommandData_Func,(function(){return n(t)}))};e._id?r(s):ot(e.OnSet_id_Func_Dict,(function(){return r(s)}))}dt(e,su,(function(){t&&O.b.success("save successfully!"),i||s()}))},this.Delete=function(){e.CurrentList.splice(e.Index,1),e.DeleteDatabase(!0)},this.DeleteDatabase=function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=arguments.length>1?arguments[1]:void 0;ht(e,su,(function(){t&&O.b.success("delete successfully!"),n&&n()}))}}return Object(c.a)(t,[{key:"_id",get:function(){return this.__id},set:function(t){var e=this;this.__id=t,ct(this.OnSet_id_Func_Dict,(function(t){return e.OnSet_id_Func_Dict=t}))}},{key:"TempId",get:function(){return this.tempId||(this.tempId=nt()),this.tempId}},{key:"id",get:function(){return this._id?this._id:this.TempId}},{key:"CommandData",get:function(){return this.commandData||uu(this),this.commandData},set:function(t){var e=this;this.commandData=t,ct(this.OnSet_CommandData_Func,(function(t){return e.OnSet_CommandData_Func=t}))}},{key:"AddTemplate",get:function(){return this.addTemplate||(this.addTemplate=cu(this)),this.addTemplate}},{key:"UseType",get:function(){return this.Dict.UseType}},{key:"ApiData",get:function(){var t,e=this.Dict;return{_id:this._id,projectId:null===(t=e.Project)||void 0===t?void 0:t._id,useType:e.UseType,name:this.Name,description:this.Description}}},{key:"CurrentList",get:function(){return this.Dict.Items}},{key:"Index",get:function(){return this.CurrentList.indexOf(this)}}]),t}(),au=function(t){var e=t.Dict,n=mt(Yd.Instance.Mgs_Dict_Dict.Items,(function(t){return t.UseType===eu})).Save;n.Name=t.InputName;var i=function(t){n.Command_Items=t.Items.filter((function(t){return t.CanUser_ForTemplate})),n.Run()};e.CommandData?i(e.CommandData):ot(e.OnSet_CommandData_Func,(function(){return i(e.CommandData)}))},ou=Object(c.a)((function t(){var e=this;Object(o.a)(this,t),this.Run=function(){au(e)}})),cu=function(t){var e=new ou;return e.Dict=t,e},uu=function(t){if(!t.IsGet_CommandData){t.IsGet_CommandData=!0;var e,n,i=function(e){t.CommandData=e?function(t,e){var n=iu(e);return t?(n._id=t._id,t.items&&(n.Items=t.items.map((function(t){return ko(t)}))),n):n}(e[0],t):iu(t),t.IsGet_CommandData=!1};if(t._id){e={dictId:t._id},n=function(t){i(t)},e=e||{},w("".concat($c,"/list"),e).then((function(t){return t.data})).then((function(t){n&&n(t)}))}else i()}},lu=function(){function t(){var e=this;Object(o.a)(this,t),this.Run=function(){du(e)}}return Object(c.a)(t,[{key:"MassGroupSetting",get:function(){return this.massGroupSetting},set:function(t){this.massGroupSetting=t}}]),t}(),du=function(t){var e=t.Dict,n=function(){var n=e.Items,i=t.Name;!function(){var s=mt(n,(function(t){return t.Name===i}));s||((s=function(t){var e=new ru;return e.Dict=t,e}(e)).Name=i,e.AddItem(s));var r=function(){s.SaveDatabase(!1,(function(){O.b.success("save successfully!")}))};if(s.UseType===eu){var a=function(){s.CommandData.Items=t.Command_Items,r()};s.CommandData?a():ot(s.OnSet_CommandData_Func,a)}else r()}()};e.Items?n():ot(e.OnSet_Items_Func,n)},hu="main",fu="template",mu=function(t,e){var n=new Zc;return n.UseType=t,n.Dict=e,n},vu=function(t){t.IsGet_Items=!1,_u(t)},_u=function(t){if(!t.IsGet_Items){t.IsGet_Items=!0;var e=function(e){var n=!0;if(t.UseType===tu){var i,s=null===(i=Yd.Instance.CurrentProject)||void 0===i?void 0:i._id;if(s)if(0!==e.length)n=e[0].projectId===s;else{var r=t.Items;r&&0!==r.length&&(n=r[0].projectId!==s)}}n&&(t.Items=e.map((function(e){return function(t,e){var n=new ru;return n._id=t._id,n.projectId=t.projectId,n.Name=t.name,n.Description=t.description,n.Dict=e,n}(e,t)})),t.IsGet_Items=!1)};!function(){var n;!function(t,e){t=t||{},w("".concat(su,"/list"),t).then((function(t){return t.data})).then((function(t){e&&e(t)}))}({projectId:null===(n=t.Project)||void 0===n?void 0:n._id,useType:t.UseType},(function(t){e(t)}))}()}},pu=function(t){return function(t){var e=new lu;return e.Dict=t,e}(t)},bu=function(t){switch(t.UseType){case tu:return hu;case eu:return fu}},Iu=function(t){switch(t.Category){case hu:return"Main";case fu:return"Template"}},ju=function(t){return[mu(tu,t),mu(eu,t)]},gu=function(){function t(){Object(o.a)(this,t)}return Object(c.a)(t,[{key:"Items",get:function(){return this.items||(this.items=xu(this)),this.items}},{key:"Current_MDS",get:function(){return this.current_MDS},set:function(t){if(this.current_MDS=t,t){var e=t.Data;this.Table.Refresh_Columns(e.infos,e.values)}}},{key:"Table",get:function(){return Yd.Instance.MassDetail_Table}}]),t}(),yu=function(){function t(){var e=this;Object(o.a)(this,t),this.OnSet_id_Func_Dict=[],this.OnSet_Items_Func=[],this.AddItem=function(t){e.Items.push(t),e.OnAddItem&&e.OnAddItem(t)}}return Object(c.a)(t,[{key:"_id",get:function(){return this.__id},set:function(t){var e=this;this.__id=t,ct(this.OnSet_id_Func_Dict,(function(t){return e.OnSet_id_Func_Dict=t}))}},{key:"TempId",get:function(){return this.tempId||(this.tempId=nt()),this.tempId}},{key:"id",get:function(){return this._id?this._id:this.TempId}},{key:"Project",get:function(){return this.project},set:function(t){this.project!==t&&(this.project=t,Vu(this))}},{key:"Items",get:function(){return this.items||wu(this),this.items},set:function(t){var e=this;this.items=t,ct(this.OnSet_Items_Func,(function(t){return e.OnSet_Items_Func=t}))}},{key:"Save",get:function(){return this.save||(this.save=Tu(this)),this.save}}]),t}(),Ou="https://api.bimdev.vn/api/hb_mds",Su=function(){function t(){var e=this;Object(o.a)(this,t),this.OnSet_id_Func_Dict=[],this.OnSet_Data_Func=[],this.SaveDatabase=function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=arguments.length>1?arguments[1]:void 0;dt(e,Ou,(function(){t&&O.b.success("save successfully!"),n&&n()}))},this.Delete=function(){e.CurrentList.splice(e.Index,1),e.DeleteDatabase(!0)},this.DeleteDatabase=function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=arguments.length>1?arguments[1]:void 0;ht(e,Ou,(function(){t&&O.b.success("delete successfully!"),n&&n()}))}}return Object(c.a)(t,[{key:"_id",get:function(){return this.__id},set:function(t){var e=this;this.__id=t,ct(this.OnSet_id_Func_Dict,(function(t){return e.OnSet_id_Func_Dict=t}))}},{key:"TempId",get:function(){return this.tempId||(this.tempId=nt()),this.tempId}},{key:"id",get:function(){return this._id?this._id:this.TempId}},{key:"ApiData",get:function(){this.Dict;return{_id:this._id,name:this.Name,description:this.Description,data:this.Data}}},{key:"CurrentList",get:function(){return this.Dict.Items}},{key:"Index",get:function(){return this.CurrentList.indexOf(this)}}]),t}(),Du=function(t){var e=new Su;return e.Dict=t,e},Mu=function(){function t(){var e=this;Object(o.a)(this,t),this.Run=function(){ku(e)}}return Object(c.a)(t,[{key:"MassGroupSetting",get:function(){return this.massGroupSetting},set:function(t){this.massGroupSetting=t}}]),t}(),ku=function(t){var e=t.Dict,n=function(){var n=e.Items,i=t.Name,s=mt(n,(function(t){return t.Name===i}));s||((s=Du(e)).Name=i,e.AddItem(s)),s.Data=s.Dict.Dict.Table.ApiData,s.SaveDatabase(!0)};e.Items?n():ot(e.OnSet_Items_Func,n)},Cu=function(t){var e=new yu;return e.Dict=t,e},Vu=function(t){t.IsGet_Items=!1,wu(t)},wu=function(t){if(!t.IsGet_Items){t.IsGet_Items=!0;var e,n,i=function(e){t.Items=e.map((function(e){return function(t,e){var n=Du(e);return n._id=t._id,n.Name=t.name,n.Description=t.description,n.Data=t.data,n}(e,t)})),t.IsGet_Items=!1};n=function(t){i(t)},e=(e={})||{},w("".concat(Ou,"/list"),e).then((function(t){return t.data})).then((function(t){n&&n(t)}))}},Tu=function(t){return function(t){var e=new Mu;return e.Dict=t,e}(t)},xu=function(t){return[Cu(t)]},Fu="https://api.bimdev.vn/api/hb_sg",Nu=function(){function t(){var e=this;Object(o.a)(this,t),this.OnSet_id_Func_Dict=[],this.SaveDatabase=function(){},this.Delete=function(){e.CurrentList.splice(e.Index,1),e.Dict.Items.forEach((function(t){t.Items.splice(t.Items.indexOf(e),1)})),e.DeleteDatabase(!0)},this.DeleteDatabase=function(){}}return Object(c.a)(t,[{key:"_id",get:function(){return this.__id},set:function(t){var e=this;this.__id=t,ct(this.OnSet_id_Func_Dict,(function(t){return e.OnSet_id_Func_Dict=t}))}},{key:"TempId",get:function(){return this.tempId||(this.tempId=nt()),this.tempId}},{key:"id",get:function(){return this._id?this._id:this.TempId}},{key:"ApiData",get:function(){return{name:this.Name,massType:this.MassType,field:this.Field}}},{key:"CurrentList",get:function(){return this.Dict.Data}},{key:"Index",get:function(){return this.CurrentList.indexOf(this)}}]),t}(),Ru=function(t){var e=new Nu;return e.Dict=t,e},Lu=function(){function t(){var e=this;Object(o.a)(this,t),this.OnSet_id_Func_Dict=[],this.data=[],this.AddData=function(){var t=Ru(e);t.MassType=e.CurrentMassType,t.Field=e.CurrentField,e.Data.push(t),e.Items.forEach((function(e){e.Items.push(t)})),e.OnAddData&&e.OnAddData(t)},this.Initial=function(){zu(e)},this.SaveDatabase=function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=arguments.length>1?arguments[1]:void 0;dt(e,Fu,(function(){t&&O.b.success("save successfully!"),n&&n()}))}}return Object(c.a)(t,[{key:"_id",get:function(){return this.__id},set:function(t){var e=this;this.__id=t,ct(this.OnSet_id_Func_Dict,(function(t){return e.OnSet_id_Func_Dict=t}))}},{key:"TempId",get:function(){return this.tempId||(this.tempId=nt()),this.tempId}},{key:"id",get:function(){return this._id?this._id:this.TempId}},{key:"Items",get:function(){return this.items||(this.items=Wu(this)),this.items}},{key:"CurrentItem",get:function(){return this.currentItem},set:function(t){this.currentItem=t}},{key:"Data",get:function(){return this.data},set:function(t){this.data=t,this.OnSet_Data&&this.OnSet_Data(t)}},{key:"ApiData",get:function(){var t=Yd.Instance.CurrentProject;return{_id:this._id,projectId:t._id,data:this.Data.map((function(t){return t.ApiData}))}}}]),t}(),Gu=function(){function t(){var e=this;Object(o.a)(this,t),this.OnSet_id_Func_Dict=[],this.OnSet_Items_Func=[],this.Refresh_Items=function(){e.Items=Au(e)}}return Object(c.a)(t,[{key:"_id",get:function(){return this.__id},set:function(t){var e=this;this.__id=t,ct(this.OnSet_id_Func_Dict,(function(t){return e.OnSet_id_Func_Dict=t}))}},{key:"TempId",get:function(){return this.tempId||(this.tempId=nt()),this.tempId}},{key:"id",get:function(){return this._id?this._id:this.TempId}},{key:"Project",get:function(){return Yd.Instance.CurrentProject}},{key:"Items",get:function(){return this.items||(this.items=Au(this)),this.items},set:function(t){this.items=t,this.OnSet_Items&&this.OnSet_Items(t)}}]),t}(),Pu="partial",Eu="all",Uu=function(t,e){var n=new Gu;return n.Dict=e,n.UseType=t,n},Au=function(t){var e=t.Dict.Data,n=t.Dict.CurrentField;switch(t.UseType){case Pu:var i=t.Dict.CurrentMassType;return e.filter((function(t){return t.MassType===i&&t.Field===n}));case Eu:return e.filter((function(t){return t.Field===n}))}},Hu=function(t){var e=Bu();return e._id=t._id,e.Data=t.data.map((function(t){return function(t,e){var n=Ru(e);return n.Name=t.name,n.MassType=t.massType,n.Field=t.field,n}(t,e)})),e},Bu=function(){return new Lu},Wu=function(t){return[Uu(Pu,t),Uu(Eu,t)]},zu=function(t){t.Items.forEach((function(t){t.Refresh_Items()}))},Ku="https://api.bimdev.vn/api/hbmt",qu=function(){function t(){var e=this;Object(o.a)(this,t),this.OnSet_id_Func_Dict=[],this.__id=void 0,this.tempId=void 0,this.Dict=void 0,this.Name=void 0,this.Data=void 0,this.SaveDatabase=function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=arguments.length>1?arguments[1]:void 0;dt(e,Ku,(function(){t&&O.b.success("save successfully!"),null===n||void 0===n||n()}))},this.Delete=function(){e.CurrentList.splice(e.Index,1),e.DeleteDatabase(!0)},this.DeleteDatabase=function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=arguments.length>1?arguments[1]:void 0;ht(e,Ku,(function(){t&&O.b.success("delete successfully!"),null===n||void 0===n||n()}))}}return Object(c.a)(t,[{key:"_id",get:function(){return this.__id},set:function(t){var e=this;this.__id=t,ct(this.OnSet_id_Func_Dict,(function(t){return e.OnSet_id_Func_Dict=t}))}},{key:"TempId",get:function(){var t;return null!==(t=this.tempId)&&void 0!==t?t:this.tempId=nt()}},{key:"id",get:function(){return this._id?this._id:this.TempId}},{key:"name",get:function(){return this.Name}},{key:"ApiData",get:function(){return{_id:this._id,name:this.Name}}},{key:"CurrentList",get:function(){var t;return null===(t=this.Dict)||void 0===t?void 0:t.Items}},{key:"Index",get:function(){return this.CurrentList.indexOf(this)}}]),t}(),Qu=function(t){var e=new qu;return e.Dict=t,e},Xu=function(t){if(!t.IsGet_Items){t.IsGet_Items=!0;var e,n,i=function(e){t.Items=e.map((function(e){return function(t,e){var n=Qu(e);return n._id=t._id,n.Name=t.name,n}(e,t)})),t.IsGet_Items=!1};n=function(t){i(t)},e=(e={})||{},w("".concat(Ku,"/list"),e).then((function(t){return t.data})).then((function(t){return null===n||void 0===n?void 0:n(t)}))}},Yu=function(){function t(){var e=this;Object(o.a)(this,t),this._id=void 0,this.Dict=void 0,this.OnSet_Items_Func=[],this.IsGet_Items=void 0,this.items=void 0,this.AddItem=function(){var t,n=Qu(e);return null===(t=e.Items)||void 0===t||t.push(n),n},this.GetItemById=function(t,n){!function(t,e,n){var i=function(){var i=t.Items.find((function(t){return t._id===e}));null===n||void 0===n||n(i)};t.Items?i():ot(t.OnSet_Items_Func,i)}(e,t,n)}}return Object(c.a)(t,[{key:"id",get:function(){return this._id}},{key:"Items",get:function(){return this.items||Xu(this),this.items},set:function(t){var e=this;this.items=t,ct(this.OnSet_Items_Func,(function(t){return e.OnSet_Items_Func=t}))}}]),t}(),Ju="https://api.bimdev.vn/api/hbmt_mb",Zu=function(){function t(){var e=this;Object(o.a)(this,t),this.OnSet_id_Func_Dict=[],this.__id=void 0,this.tempId=void 0,this.Dict=void 0,this.Name=void 0,this.Delete=function(){e.CurrentList.splice(e.Index,1)}}return Object(c.a)(t,[{key:"_id",get:function(){return this.__id},set:function(t){var e=this;this.__id=t,ct(this.OnSet_id_Func_Dict,(function(t){return e.OnSet_id_Func_Dict=t}))}},{key:"TempId",get:function(){var t;return null!==(t=this.tempId)&&void 0!==t?t:this.tempId=nt()}},{key:"id",get:function(){return this._id?this._id:this.TempId}},{key:"CurrentList",get:function(){var t;return null===(t=this.Dict)||void 0===t?void 0:t.Materials}},{key:"Index",get:function(){return this.CurrentList.indexOf(this)}}]),t}(),$u=function(t){var e=new Zu;return e.Dict=t,e},tl=function(){function t(){var e=this;Object(o.a)(this,t),this.OnSet_id_Func_Dict=[],this.__id=void 0,this.tempId=void 0,this.MassType=void 0,this.Dict=void 0,this.Materials=[],this.AddMaterial=function(){var t,n=$u(e);return null===(t=e.Materials)||void 0===t||t.push(n),n},this.SaveDatabase=function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=arguments.length>1?arguments[1]:void 0;dt(e,Ju,(function(){t&&O.b.success("save successfully!"),null===n||void 0===n||n()}))},this.Delete=function(){e.CurrentList.splice(e.Index,1),e.DeleteDatabase(!0)},this.DeleteDatabase=function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=arguments.length>1?arguments[1]:void 0;ht(e,Ju,(function(){t&&O.b.success("delete successfully!"),null===n||void 0===n||n()}))}}return Object(c.a)(t,[{key:"_id",get:function(){return this.__id},set:function(t){var e=this;this.__id=t,ct(this.OnSet_id_Func_Dict,(function(t){return e.OnSet_id_Func_Dict=t}))}},{key:"TempId",get:function(){var t;return null!==(t=this.tempId)&&void 0!==t?t:this.tempId=nt()}},{key:"id",get:function(){return this._id?this._id:this.TempId}},{key:"ApiData",get:function(){var t;return{_id:this._id,massType:this.MassType,materials:null===(t=this.Materials)||void 0===t?void 0:t.map((function(t){return t.Name}))}}},{key:"CurrentList",get:function(){var t;return null===(t=this.Dict)||void 0===t?void 0:t.Items}},{key:"Index",get:function(){return this.CurrentList.indexOf(this)}}]),t}(),el=function(t,e){var n=nl(e);return n._id=t._id,n.MassType=t.massType,n.Materials=t.materials.map((function(t){return function(t,e){var n=$u(e);return n.Name=t,n}(t,n)})),n},nl=function(t){var e=new tl;return e.Dict=t,e},il=function(t){if(!t.IsGet_Items){t.IsGet_Items=!0;var e,n;n=function(e){!function(e){t.Items=e.map((function(e){return el(e,t)})),t.IsGet_Items=!1}(e)},e=(e={})||{},w("".concat(Ju,"/list"),e).then((function(t){return t.data})).then((function(t){return null===n||void 0===n?void 0:n(t)}))}},sl=function(){function t(){var e=this;Object(o.a)(this,t),this._id=void 0,this.Dict=void 0,this.OnSet_Items_Func=[],this.IsGet_Items=void 0,this.items=void 0,this.AddItem=function(){var t,n=nl(e);return null===(t=e.Items)||void 0===t||t.push(n),n}}return Object(c.a)(t,[{key:"id",get:function(){return this._id}},{key:"Items",get:function(){return this.items||il(this),this.items},set:function(t){var e=this;this.items=t,ct(this.OnSet_Items_Func,(function(t){return e.OnSet_Items_Func=t}))}}]),t}(),rl="https://api.bimdev.vn/api/hbmt_cb",al=function(){function t(){var e=this;Object(o.a)(this,t),this.OnSet_id_Func_Dict=[],this.__id=void 0,this.tempId=void 0,this.Dict=void 0,this.MassType=void 0,this.Categories=[],this.SaveDatabase=function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=arguments.length>1?arguments[1]:void 0;dt(e,rl,(function(){t&&O.b.success("save successfully!"),null===n||void 0===n||n()}))},this.Delete=function(){e.CurrentList.splice(e.Index,1),e.DeleteDatabase(!0)},this.DeleteDatabase=function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=arguments.length>1?arguments[1]:void 0;ht(e,rl,(function(){t&&O.b.success("delete successfully!"),null===n||void 0===n||n()}))}}return Object(c.a)(t,[{key:"_id",get:function(){return this.__id},set:function(t){var e=this;this.__id=t,ct(this.OnSet_id_Func_Dict,(function(t){return e.OnSet_id_Func_Dict=t}))}},{key:"TempId",get:function(){var t;return null!==(t=this.tempId)&&void 0!==t?t:this.tempId=nt()}},{key:"id",get:function(){return this._id?this._id:this.TempId}},{key:"ApiData",get:function(){return{_id:this._id,massType:this.MassType,categories:this.Categories}}},{key:"CurrentList",get:function(){var t;return null===(t=this.Dict)||void 0===t?void 0:t.Items}},{key:"Index",get:function(){return this.CurrentList.indexOf(this)}}]),t}(),ol=function(t){var e=new al;return e.Dict=t,e},cl=function(t){if(!t.IsGet_Items){t.IsGet_Items=!0;var e,n,i=function(e){t.Items=e.map((function(e){return function(t,e){var n=ol(e);return n._id=t._id,n.MassType=t.massType,n.Categories=t.categories,n}(e,t)})),t.IsGet_Items=!1};n=function(t){i(t)},e=(e={})||{},w("".concat(rl,"/list"),e).then((function(t){return t.data})).then((function(t){return null===n||void 0===n?void 0:n(t)}))}},ul=function(){function t(){var e=this;Object(o.a)(this,t),this._id=void 0,this.Dict=void 0,this.OnSet_Items_Func=[],this.IsGet_Items=void 0,this.items=void 0,this.AddItem=function(){var t,n=ol(e);return null===(t=e.Items)||void 0===t||t.push(n),n}}return Object(c.a)(t,[{key:"id",get:function(){return this._id}},{key:"Items",get:function(){return this.items||cl(this),this.items},set:function(t){var e=this;this.items=t,ct(this.OnSet_Items_Func,(function(t){return e.OnSet_Items_Func=t}))}}]),t}(),ll="https://api.bimdev.vn/api/hbmt_sb",dl=function(){function t(){var e=this;Object(o.a)(this,t),this.OnSet_id_Func_Dict=[],this.__id=void 0,this.tempId=void 0,this.Dict=void 0,this.Name=void 0,this.Delete=function(){e.CurrentList.splice(e.Index,1)}}return Object(c.a)(t,[{key:"_id",get:function(){return this.__id},set:function(t){var e=this;this.__id=t,ct(this.OnSet_id_Func_Dict,(function(t){return e.OnSet_id_Func_Dict=t}))}},{key:"TempId",get:function(){var t;return null!==(t=this.tempId)&&void 0!==t?t:this.tempId=nt()}},{key:"id",get:function(){return this._id?this._id:this.TempId}},{key:"CurrentList",get:function(){var t;return null===(t=this.Dict)||void 0===t?void 0:t.Types}},{key:"Index",get:function(){return this.CurrentList.indexOf(this)}}]),t}(),hl=function(t){var e=new dl;return e.Dict=t,e},fl=function(){function t(){var e=this;Object(o.a)(this,t),this.OnSet_id_Func_Dict=[],this.__id=void 0,this.tempId=void 0,this.Dict=void 0,this.Classification=void 0,this.Types=[],this.AddType=function(){var t=hl(e);return e.Types.push(t),t},this.Delete=function(){e.CurrentList.splice(e.Index,1)}}return Object(c.a)(t,[{key:"_id",get:function(){return this.__id},set:function(t){var e=this;this.__id=t,ct(this.OnSet_id_Func_Dict,(function(t){return e.OnSet_id_Func_Dict=t}))}},{key:"TempId",get:function(){var t;return null!==(t=this.tempId)&&void 0!==t?t:this.tempId=nt()}},{key:"id",get:function(){return this._id?this._id:this.TempId}},{key:"ApiData",get:function(){return{classification:this.Classification,types:this.Types.map((function(t){return t.Name}))}}},{key:"CurrentList",get:function(){var t;return null===(t=this.Dict)||void 0===t?void 0:t.Systems}},{key:"Index",get:function(){return this.CurrentList.indexOf(this)}}]),t}(),ml=function(t,e){var n=vl(e);return n.Classification=t.classification,n.Types=t.types.map((function(t){return function(t,e){var n=hl(e);return n.Name=t,n}(t,n)})),n},vl=function(t){var e=new fl;return e.Dict=t,e},_l=function(){function t(){var e=this;Object(o.a)(this,t),this.OnSet_id_Func_Dict=[],this.__id=void 0,this.tempId=void 0,this.Dict=void 0,this.MassType=void 0,this.Systems=[],this.AddSystem=function(){var t=vl(e);return e.Systems.push(t),t},this.SaveDatabase=function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=arguments.length>1?arguments[1]:void 0;dt(e,ll,(function(){t&&O.b.success("save successfully!"),null===n||void 0===n||n()}))},this.Delete=function(){e.CurrentList.splice(e.Index,1),e.DeleteDatabase(!0)},this.DeleteDatabase=function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=arguments.length>1?arguments[1]:void 0;ht(e,ll,(function(){t&&O.b.success("delete successfully!"),null===n||void 0===n||n()}))}}return Object(c.a)(t,[{key:"_id",get:function(){return this.__id},set:function(t){var e=this;this.__id=t,ct(this.OnSet_id_Func_Dict,(function(t){return e.OnSet_id_Func_Dict=t}))}},{key:"TempId",get:function(){var t;return null!==(t=this.tempId)&&void 0!==t?t:this.tempId=nt()}},{key:"id",get:function(){return this._id?this._id:this.TempId}},{key:"ApiData",get:function(){return{_id:this._id,massType:this.MassType,systems:this.Systems.map((function(t){return t.ApiData}))}}},{key:"CurrentList",get:function(){var t;return null===(t=this.Dict)||void 0===t?void 0:t.Items}},{key:"Index",get:function(){return this.CurrentList.indexOf(this)}}]),t}(),pl=function(t){var e=new _l;return e.Dict=t,e},bl=function(t){if(!t.IsGet_Items){t.IsGet_Items=!0;var e,n,i=function(e){t.Items=e.map((function(e){return function(t,e){var n=pl(e);return n._id=t._id,n.MassType=t.massType,n.Systems=t.systems.map((function(t){return ml(t,n)})),n}(e,t)})),t.IsGet_Items=!1};n=function(t){i(t)},e=(e={})||{},w("".concat(ll,"/list"),e).then((function(t){return t.data})).then((function(t){return null===n||void 0===n?void 0:n(t)}))}},Il=function(){function t(){var e=this;Object(o.a)(this,t),this._id=void 0,this.Dict=void 0,this.OnSet_Items_Func=[],this.IsGet_Items=void 0,this.items=void 0,this.AddItem=function(){var t,n=pl(e);return null===(t=e.Items)||void 0===t||t.push(n),n}}return Object(c.a)(t,[{key:"id",get:function(){return this._id}},{key:"Items",get:function(){return this.items||bl(this),this.items},set:function(t){var e=this;this.items=t,ct(this.OnSet_Items_Func,(function(t){return e.OnSet_Items_Func=t}))}}]),t}(),jl=function(){function t(){Object(o.a)(this,t),this.listData=void 0,this.categoryBindingData=void 0,this.materialBindingData=void 0,this.systemBindingData=void 0}return Object(c.a)(t,[{key:"ListData",get:function(){var t;return null!==(t=this.listData)&&void 0!==t?t:this.listData=function(t){var e=new Yu;return e.Dict=t,e}(this)}},{key:"CategoryBindingData",get:function(){var t;return null!==(t=this.categoryBindingData)&&void 0!==t?t:this.categoryBindingData=function(t){var e=new ul;return e.Dict=t,e}(this)}},{key:"MaterialBindingData",get:function(){var t;return null!==(t=this.materialBindingData)&&void 0!==t?t:this.materialBindingData=function(t){var e=new sl;return e.Dict=t,e}(this)}},{key:"SystemBindingData",get:function(){var t;return null!==(t=this.systemBindingData)&&void 0!==t?t:this.systemBindingData=function(t){var e=new Il;return e.Dict=t,e}(this)}}]),t}(),gl="https://api.bimdev.vn/api/hbcategory",yl=function(){function t(){var e=this;Object(o.a)(this,t),this.OnSet_id_Func_Dict=[],this.__id=void 0,this.tempId=void 0,this.Dict=void 0,this.Name=void 0,this.SaveDatabase=function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=arguments.length>1?arguments[1]:void 0;dt(e,gl,(function(){t&&O.b.success("save successfully!"),n&&n()}))},this.Delete=function(){e.CurrentList.splice(e.Index,1),e.DeleteDatabase(!0)},this.DeleteDatabase=function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=arguments.length>1?arguments[1]:void 0;ht(e,gl,(function(){t&&O.b.success("delete successfully!"),n&&n()}))}}return Object(c.a)(t,[{key:"_id",get:function(){return this.__id},set:function(t){var e=this;this.__id=t,ct(this.OnSet_id_Func_Dict,(function(t){return e.OnSet_id_Func_Dict=t}))}},{key:"TempId",get:function(){var t;return null!==(t=this.tempId)&&void 0!==t?t:this.tempId=nt()}},{key:"id",get:function(){return this._id?this._id:this.TempId}},{key:"ApiData",get:function(){this.Dict;return{_id:this._id,name:this.Name}}},{key:"CurrentList",get:function(){var t;return null===(t=this.Dict)||void 0===t?void 0:t.Items}},{key:"Index",get:function(){return this.CurrentList.indexOf(this)}}]),t}(),Ol=function(t){var e=new yl;return e.Dict=t,e},Sl=function(t){if(!t.IsGet_Items){t.IsGet_Items=!0;var e,n,i=function(e){t.Items=e.map((function(e){return function(t,e){var n=Ol(e);return n._id=t._id,n.Name=t.name,n}(e,t)})),t.IsGet_Items=!1};n=function(t){i(t)},e=(e={})||{},w("".concat(gl,"/list"),e).then((function(t){return t.data})).then((function(t){return null===n||void 0===n?void 0:n(t)}))}},Dl=function(){function t(){var e=this;Object(o.a)(this,t),this.id=void 0,this.OnSet_Items_Func=[],this.items=void 0,this.IsGet_Items=void 0,this.AddItem=function(){var t,n=Ol(e);return null===(t=e.Items)||void 0===t||t.push(n),n}}return Object(c.a)(t,[{key:"Items",get:function(){return this.items||Sl(this),this.items},set:function(t){var e=this;this.items=t,ct(this.OnSet_Items_Func,(function(t){return e.OnSet_Items_Func=t}))}}]),t}(),Ml="https://api.bimdev.vn/api/hb_parameter",kl=function(){function t(){var e=this;Object(o.a)(this,t),this.OnSet_id_Func_Dict=[],this.__id=void 0,this.tempId=void 0,this.Dict=void 0,this.Name=void 0,this.SaveDatabase=function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=arguments.length>1?arguments[1]:void 0;dt(e,Ml,(function(){t&&O.b.success("save successfully!"),null===n||void 0===n||n()}))},this.Delete=function(){e.CurrentList.splice(e.Index,1),e.DeleteDatabase(!0)},this.DeleteDatabase=function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=arguments.length>1?arguments[1]:void 0;ht(e,Ml,(function(){t&&O.b.success("delete successfully!"),null===n||void 0===n||n()}))}}return Object(c.a)(t,[{key:"_id",get:function(){return this.__id},set:function(t){var e=this;this.__id=t,ct(this.OnSet_id_Func_Dict,(function(t){return e.OnSet_id_Func_Dict=t}))}},{key:"TempId",get:function(){var t;return null!==(t=this.tempId)&&void 0!==t?t:this.tempId=nt()}},{key:"id",get:function(){return this._id?this._id:this.TempId}},{key:"ApiData",get:function(){return{_id:this._id,name:this.Name}}},{key:"CurrentList",get:function(){var t;return null===(t=this.Dict)||void 0===t?void 0:t.Items}},{key:"Index",get:function(){return this.CurrentList.indexOf(this)}}]),t}(),Cl=function(t){var e=new kl;return e.Dict=t,e},Vl=function(t){if(!t.IsGet_Items){t.IsGet_Items=!0;var e,n,i=function(e){t.Items=e.map((function(e){return function(t,e){var n=Cl(e);return n._id=t._id,n.Name=t.name,n}(e,t)})),t.IsGet_Items=!1};n=function(t){i(t)},e=(e={})||{},w("".concat(Ml,"/list"),e).then((function(t){return t.data})).then((function(t){return null===n||void 0===n?void 0:n(t)}))}},wl=function(){function t(){var e=this;Object(o.a)(this,t),this._id=void 0,this.Dict=void 0,this.OnSet_Items_Func=[],this.IsGet_Items=void 0,this.items=void 0,this.AddItem=function(){var t,n=Cl(e);return null===(t=e.Items)||void 0===t||t.push(n),n}}return Object(c.a)(t,[{key:"id",get:function(){return this._id}},{key:"Items",get:function(){return this.items||Vl(this),this.items},set:function(t){var e=this;this.items=t,ct(this.OnSet_Items_Func,(function(t){return e.OnSet_Items_Func=t}))}}]),t}(),Tl="byname",xl=function(){function t(){Object(o.a)(this,t),this.Dict=void 0,this.ExportType=Tl,this.MassType=void 0}return Object(c.a)(t,[{key:"ApiData",get:function(){var t={retrieveType:this.ExportType};if(this.ExportType===Tl)t.name=this.MassType;else t.defaultValue=this.MassType;return t}}]),t}(),Fl="byparameter",Nl="byparameterlist",Rl="bysumparameters",Ll="bymaterialparameter",Gl=function(){function t(){var e=this;Object(o.a)(this,t),this.OnSet_id_Func_Dict=[],this.__id=void 0,this.tempId=void 0,this.Dict=void 0,this.RetrieveTypes=[Fl],this.Parameter=void 0,this.ParameterList=[],this.SumParameters=[],this.Delete=function(){e.CurrentList.splice(e.Index,1)}}return Object(c.a)(t,[{key:"_id",get:function(){return this.__id},set:function(t){var e=this;this.__id=t,ct(this.OnSet_id_Func_Dict,(function(t){return e.OnSet_id_Func_Dict=t}))}},{key:"TempId",get:function(){var t;return null!==(t=this.tempId)&&void 0!==t?t:this.tempId=nt()}},{key:"id",get:function(){return this._id?this._id:this.TempId}},{key:"ApiData",get:function(){var t={valueRetrieveTypes:this.RetrieveTypes},e=this.RetrieveTypes;return(e.includes(Ll)||e.includes(Fl))&&(t.parameter=this.Parameter),e.includes(Nl)&&(t.parameterList=this.ParameterList),e.includes(Rl)&&(t.sumParameters=this.SumParameters),t}},{key:"CurrentList",get:function(){var t;return null===(t=this.Dict)||void 0===t?void 0:t.ValueInfos}},{key:"Index",get:function(){return this.CurrentList.indexOf(this)}}]),t}(),Pl=function(t){var e=new Gl;return e.Dict=t,e},El="element",Ul=function(){function t(){var e=this;Object(o.a)(this,t),this.OnSet_id_Func_Dict=[],this.__id=void 0,this.tempId=void 0,this.Dict=void 0,this.massTypeExport=void 0,this.ClassifyValueBy=El,this.ValueInfos=[],this.AddValueInfo=function(){var t=Pl(e);return e.ValueInfos.push(t),t},this.Delete=function(){e.CurrentList.splice(e.Index,1)}}return Object(c.a)(t,[{key:"_id",get:function(){return this.__id},set:function(t){var e=this;this.__id=t,ct(this.OnSet_id_Func_Dict,(function(t){return e.OnSet_id_Func_Dict=t}))}},{key:"TempId",get:function(){var t;return null!==(t=this.tempId)&&void 0!==t?t:this.tempId=nt()}},{key:"id",get:function(){return this._id?this._id:this.TempId}},{key:"ApiData",get:function(){return{massType:this.MassTypeExport.ApiData,classifyValueBy:this.ClassifyValueBy,valueInfos:this.ValueInfos.map((function(t){return t.ApiData}))}}},{key:"MassTypeExport",get:function(){var t;return null!==(t=this.massTypeExport)&&void 0!==t?t:this.massTypeExport=Wl(this)},set:function(t){this.massTypeExport=t}},{key:"CurrentList",get:function(){return this.Dict.MassInfos}},{key:"Index",get:function(){return this.CurrentList.indexOf(this)}}]),t}(),Al=function(t){var e=new xl;return e.Dict=t,e},Hl=function(t,e){var n=Bl(e);return n.MassTypeExport=function(t,e){var n=Al(e);n.ExportType=t.retrieveType,t.retrieveType===Tl?n.MassType=t.name:n.MassType=t.defaultValue;return n}(t.massType,n),n.ClassifyValueBy=t.classifyValueBy,n.ValueInfos=t.valueInfos.map((function(t){return function(t,e){var n=Pl(e);return n.RetrieveTypes=t.valueRetrieveTypes,n.Parameter=t.parameter,n.ParameterList=t.parameterList?t.parameterList:[],n.SumParameters=t.sumParameters?t.sumParameters:[],n}(t,n)})),n},Bl=function(t){var e=new Ul;return e.Dict=t,e},Wl=function(t){var e=new xl;return e.Dict=t,e},zl=function(){function t(){var e=this;Object(o.a)(this,t),this.OnSet_id_Func_Dict=[],this.__id=void 0,this.tempId=void 0,this.Dict=void 0,this.Name=void 0,this.Categories=[],this.filter=void 0,this.MassInfos=[],this.AddMassInfo=function(){var t=Bl(e);return e.MassInfos.push(t),t},this.Delete=function(){e.CurrentList.splice(e.Index,1)}}return Object(c.a)(t,[{key:"_id",get:function(){return this.__id},set:function(t){var e=this;this.__id=t,ct(this.OnSet_id_Func_Dict,(function(t){return e.OnSet_id_Func_Dict=t}))}},{key:"TempId",get:function(){var t;return null!==(t=this.tempId)&&void 0!==t?t:this.tempId=nt()}},{key:"id",get:function(){return this._id?this._id:this.TempId}},{key:"Filter",get:function(){var t;return null!==(t=this.filter)&&void 0!==t?t:this.filter=Yl(this)},set:function(t){this.filter=t}},{key:"ApiData",get:function(){return{name:this.Name,filter:this.Filter.ApiData,massInfos:this.MassInfos.map((function(t){return t.ApiData}))}}},{key:"CurrentList",get:function(){var t;return null===(t=this.Dict)||void 0===t?void 0:t.Types}},{key:"Index",get:function(){return this.CurrentList.indexOf(this)}}]),t}(),Kl=function(){function t(){Object(o.a)(this,t),this.Dict=void 0,this.IsByCategory=!0,this.Categories=[]}return Object(c.a)(t,[{key:"ApiData",get:function(){return{isByCategory:this.IsByCategory,categories:this.Categories}}}]),t}(),ql=function(t){var e=new Kl;return e.Dict=t,e},Ql=function(t,e){var n=Xl(e);return n.Name=t.name,n.Filter=function(t,e){var n=ql(e);return n.IsByCategory=void 0===t.isByCategory||t.isByCategory,n.Categories=t.categories,n}(t.filter,n),n.MassInfos=t.massInfos.map((function(t){return Hl(t,n)})),n},Xl=function(t){var e=new zl;return e.Dict=t,e},Yl=function(t){return ql(t)},Jl=function(){function t(){var e=this;Object(o.a)(this,t),this.OnSet_id_Func_Dict=[],this.__id=void 0,this.tempId=void 0,this.Dict=void 0,this.Name=void 0,this.Types=[],this.AddType=function(){var t,n=Xl(e);return null===(t=e.Types)||void 0===t||t.push(n),n},this.Delete=function(){e.CurrentList.splice(e.Index,1)}}return Object(c.a)(t,[{key:"_id",get:function(){return this.__id},set:function(t){var e=this;this.__id=t,ct(this.OnSet_id_Func_Dict,(function(t){return e.OnSet_id_Func_Dict=t}))}},{key:"TempId",get:function(){var t;return null!==(t=this.tempId)&&void 0!==t?t:this.tempId=nt()}},{key:"id",get:function(){return this._id?this._id:this.TempId}},{key:"ApiData",get:function(){var t;return{name:this.Name,items:null===(t=this.Types)||void 0===t?void 0:t.map((function(t){return t.ApiData}))}}},{key:"CurrentList",get:function(){var t;return null===(t=this.Dict)||void 0===t?void 0:t.Items}},{key:"Index",get:function(){return this.CurrentList.indexOf(this)}}]),t}(),Zl=function(t){var e=new Jl;return e.Dict=t,e},$l="https://api.bimdev.vn/api/hb_mes",td=function(t){if(!t.IsGet_Items){t.IsGet_Items=!0;var e=function(e){t.Items=e.map((function(e){return function(t,e){var n=Zl(e);return n.Name=t.name,n.Types=t.items.map((function(t){return Ql(t,n)})),n}(e,t)})),t.IsGet_Items=!1};ed({},(function(n){var i=0!==n.length?n[0]:void 0;t._id=i?i._id:void 0;var s=i?i.pageItems:[];e(s)}))}},ed=function(t,e){t=t||{};w("".concat($l,"/list"),t).then((function(t){return t.data})).then((function(t){return null===e||void 0===e?void 0:e(t)}))},nd=function(){function t(){var e=this;Object(o.a)(this,t),this._id=void 0,this.OnSet_Items_Func=[],this.IsGet_Items=void 0,this.items=void 0,this.AddItem=function(){var t,n=Zl(e);return null===(t=e.Items)||void 0===t||t.push(n),n},this.SaveDatabase=function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=arguments.length>1?arguments[1]:void 0;dt(e,$l,(function(){t&&O.b.success("save successfully!"),null===n||void 0===n||n()}))}}return Object(c.a)(t,[{key:"id",get:function(){return this._id}},{key:"Items",get:function(){return this.items||td(this),this.items},set:function(t){var e=this;this.items=t,ct(this.OnSet_Items_Func,(function(t){return e.OnSet_Items_Func=t}))}},{key:"ApiData",get:function(){var t;return{_id:this._id,pageItems:null===(t=this.Items)||void 0===t?void 0:t.map((function(t){return t.ApiData}))}}}]),t}(),id=function(){function t(){Object(o.a)(this,t),this._id=void 0,this.Dict=void 0,this.Name=void 0}return Object(c.a)(t,[{key:"name",get:function(){return this.Name}}]),t}(),sd="https://api.bimdev.vn/api/hb_workitem",rd=function(t,e){var n=new id;return n._id=t._id,n.Name=t.name,n.Dict=e,n},ad=function(t){if(!t.IsGet_Items){t.IsGet_Items=!0;!function(t,e){t=t||{},w("".concat(sd,"/list"),t).then((function(t){return t.data})).then((function(t){e&&e(t)}))}({},(function(e){return function(e){t.Items=e.map((function(e){return rd(e,t)})),t.IsGet_Items=!1}(e)}))}},od=function(t,e,n){if(e&&0!==e.length){var i=function(){var i=t.Items,s=i.find((function(t){return t.Name===e}));if(s)null===n||void 0===n||n(s);else{var r={name:e};w("".concat(sd,"/add"),r).then((function(t){return t.data})).then((function(e){!function(e){s=rd(e,t),i.push(s),null===n||void 0===n||n(s)}(e)}))}};t.Items?i():ot(t.OnSet_Items_Func,i)}else{var s=function(){null===n||void 0===n||n(t.Undefined_Item)};t.Undefined_Item?s():ot(t.OnSet_Undefined_Item_Func,s)}},cd=function(){function t(){var e=this;Object(o.a)(this,t),this.Dict=void 0,this.OnSet_Items_Func=[],this.IsGet_Items=void 0,this.items=void 0,this.OnSet_Undefined_Item_Func=[],this.IsGet_Undefined_Item=void 0,this.undefined_Item=void 0,this.GetItem=function(t,n){od(e,t,n)}}return Object(c.a)(t,[{key:"Items",get:function(){return this.items||ad(this),this.items},set:function(t){var e=this;this.items=t,ct(this.OnSet_Items_Func,(function(t){return e.OnSet_Items_Func=t}))}},{key:"Undefined_Item",get:function(){return this.undefined_Item||function(t){if(!t.IsGet_Undefined_Item){t.IsGet_Undefined_Item=!0;var e=function(e){t.Undefined_Item=e.find((function(t){return"undefined"===t.Name})),t.IsGet_Undefined_Item=!1};t.Items?e(t.Items):ot(t.OnSet_Items_Func,(function(){return e(t.Items)}))}}(this),this.undefined_Item},set:function(t){var e=this;this.undefined_Item=t,ct(this.OnSet_Undefined_Item_Func,(function(t){return e.OnSet_Undefined_Item_Func=t}))}}]),t}(),ud="userToken",ld=function(){function t(){Object(o.a)(this,t),this.OnSet_LoginUser_Func=[]}return Object(c.a)(t,[{key:"Token",get:function(){return this.token||(this.token=localStorage.getItem(ud)),this.token},set:function(t){this.token=t,t?localStorage.setItem(ud,t):localStorage.removeItem(ud)}},{key:"LoginUser",get:function(){return this.loginUser||vd(this),this.loginUser},set:function(t){var e=this;this.loginUser=t,t||(this.Token=t),this.OnSet_LoginUser&&this.OnSet_LoginUser(t),ct(this.OnSet_LoginUser_Func,(function(t){return e.OnSet_LoginUser_Func=t}))}},{key:"Config",get:function(){return{headers:{Authorization:"Bearer "+this.Token}}}}]),t}(),dd=function(){function t(){var e=this;Object(o.a)(this,t),this.OnSet_id_Func_Dict=[],this.SaveDatabase=function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=arguments.length>1?arguments[1]:void 0;dt(e,e.Url,(function(){t&&O.b.success("save successfully!"),n&&n()}))},this.Delete=function(){e.CurrentList.splice(e.Index,1),e._id&&e.DeleteDatabase(!1)},this.DeleteDatabase=function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=arguments.length>1?arguments[1]:void 0;ht(e,e.Url,(function(){t&&O.b.success("delete successflly!"),n&&n()}))}}return Object(c.a)(t,[{key:"_id",get:function(){return this.__id},set:function(t){var e=this;this.__id=t,ct(this.OnSet_id_Func_Dict,(function(t){return e.OnSet_id_Func_Dict=t}))}},{key:"TempId",get:function(){return this.tempId||(this.tempId=nt()),this.tempId}},{key:"id",get:function(){return this._id?this._id:this.TempId}},{key:"ApiData",get:function(){return this.GetApiData_Func?this.GetApiData_Func():{_id:this._id,username:this.Username,name:this.Name}}},{key:"Url",get:function(){return this.GetUrl_Func()}},{key:"CurrentList",get:function(){return this.Dict.Items}},{key:"Index",get:function(){return this.CurrentList.indexOf(this)}}]),t}(),hd=function(t,e){var n=fd(e);return n._id=t._id,n.Username=t.username,n.Name=t.name,t.userToken&&(e.Token=t.userToken),n},fd=function(t){var e=new dd;return e.Dict=t,e},md=function(t,e,n){e=e||{};w("".concat(t,"/list"),e).then((function(t){return t.data})).then((function(t){n&&n(t)}))},vd=function(t){if(!t.IsGet_LoginUser){t.IsGet_LoginUser=!0;var e=function(e){t.LoginUser=e?hd(e,t):void 0,t.IsGet_LoginUser=!0};if(t.Token){w("".concat(t.Url,"/token"),{},t.Config).then((function(t){return t.data})).then((function(t){e(t)}))}else e()}},_d=function(){function t(){Object(o.a)(this,t),this.OnSet_Users_Func=[],this.OnSet_Projects_Func=[]}return Object(c.a)(t,[{key:"Users",get:function(){return this.users||Fd(this),this.users},set:function(t){var e=this;this.users=t,ct(this.OnSet_Users_Func,(function(t){return e.OnSet_Users_Func=t}))}},{key:"GetUser_Func",get:function(){return this.getUser_Func||(this.getUser_Func=xd(this)),this.getUser_Func}},{key:"Projects",get:function(){return this.projects||Nd(this),this.projects},set:function(t){var e=this;this.projects=t,ct(this.OnSet_Projects_Func,(function(t){return e.OnSet_Projects_Func=t}))}},{key:"UserManager_Dict",get:function(){return this.userManager_Dict||(this.userManager_Dict=Rd(this)),this.userManager_Dict}},{key:"ProjectCommand_Dict",get:function(){return this.projectCommand_Dict||(this.projectCommand_Dict=Ld(this)),this.projectCommand_Dict}},{key:"ProjectGroupCommand_Dict",get:function(){return this.projectGroupCommand_Dict||(this.projectGroupCommand_Dict=Gd(this)),this.projectGroupCommand_Dict}}]),t}(),pd=function(){function t(){var e=this;Object(o.a)(this,t),this.OnSet_Items_Func=[],this.AddItem=function(t){e.Items.push(t),e.OnAddItem&&e.OnAddItem(t)},this.Save=function(){var t=e.Items,n=t.length;if(0===n)O.b.success("update data successfully!");else{var i=-1,s=function(){++i===n-1&&O.b.success("update data successfully!")};t.forEach((function(t){t.SaveDatabase(!1,s)}))}}}return Object(c.a)(t,[{key:"TempId",get:function(){return this.tempId||(this.tempId=nt()),this.tempId}},{key:"id",get:function(){return this._id?this._id:this.TempId}},{key:"Items",get:function(){return this.items||bd(this),this.items},set:function(t){var e=this;this.items=t,ct(this.OnSet_Items_Func,(function(t){return e.OnSet_Items_Func=t}))}}]),t}(),bd=function(t){if(!t.IsGet_Items){t.IsGet_Items=!0;var e=function(e){t.Items=e,t.IsGet_Items=!1},n=t.Dict;n.Users?e(n.Users):ot(n.OnSet_Users_Func,(function(){return e(n.Users)}))}},Id="https://api.bimdev.vn/api/hb_upc",jd=function(){function t(){var e=this;Object(o.a)(this,t),this.OnSet_id_Func_Dict=[],this.OnSet_User_Func=[],this.OnSet_Project_Func=[],this.Commands=[],this.SaveDatabase=function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=arguments.length>1?arguments[1]:void 0;dt(e,Id,(function(){t&&O.b.success("save successfully!"),n&&n()}))},this.Delete=function(){e.CurrentList.splice(e.Index,1),e._id&&e.DeleteDatabase(!1)},this.DeleteDatabase=function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=arguments.length>1?arguments[1]:void 0;ht(e,Id,(function(){t&&O.b.success("delete successflly!"),n&&n()}))}}return Object(c.a)(t,[{key:"_id",get:function(){return this.__id},set:function(t){var e=this;this.__id=t,ct(this.OnSet_id_Func_Dict,(function(t){return e.OnSet_id_Func_Dict=t}))}},{key:"TempId",get:function(){return this.tempId||(this.tempId=nt()),this.tempId}},{key:"id",get:function(){return this._id?this._id:this.TempId}},{key:"User",get:function(){return void 0===this.user&&yd(this),this.user},set:function(t){var e=this;this.user=t,this.userId=null===t||void 0===t?void 0:t._id,ct(this.OnSet_User_Func,(function(t){return e.OnSet_User_Func=t}))}},{key:"Project",get:function(){return void 0===this.project&&Od(this),this.project},set:function(t){var e=this;this.project=t,this.projectId=null===t||void 0===t?void 0:t._id,ct(this.OnSet_Project_Func,(function(t){return e.OnSet_Project_Func=t}))}},{key:"ApiData",get:function(){return{_id:this._id,userId:this.userId,projectId:this.projectId,commands:this.Commands}}},{key:"CurrentList",get:function(){return this.Dict.Items}},{key:"Index",get:function(){return this.CurrentList.indexOf(this)}}]),t}(),gd=function(t){var e=new jd;return e.Dict=t,e},yd=function(t){if(!t.IsGet_User){t.IsGet_User=!0;var e=function(e){t.User=e?mt(e,(function(e){return e._id===t.userId})):null,t.IsGet_User=!1};if(t.userId){var n=t.Dict.Dict;n.Users?e(n.Users):ot(n.OnSet_Users_Func,(function(){return e(n.Users)}))}else e()}},Od=function(t){if(!t.IsGet_Project){t.IsGet_Project=!0;var e=function(e){t.Project=e?mt(e,(function(e){return e._id===t.projectId})):null,t.IsGet_Project=!1};if(t.projectId){var n=t.Dict.Dict;n.Projects?e(n.Projects):ot(n.OnSet_Projects_Func,(function(){return e(n.Projects)}))}else e()}},Sd=function(){function t(){var e=this;Object(o.a)(this,t),this.OnSet_Items_Func=[],this.AddItem=function(t){e.Items.push(t),e.OnAddItem&&e.OnAddItem(t)},this.Save=function(){var t=e.Items,n=t.length;if(0===n)O.b.success("update data successfully!");else{var i=-1,s=function(){++i===n-1&&O.b.success("update data successfully!")};t.forEach((function(t){t.SaveDatabase(!1,s)}))}}}return Object(c.a)(t,[{key:"TempId",get:function(){return this.tempId||(this.tempId=nt()),this.tempId}},{key:"id",get:function(){return this._id?this._id:this.TempId}},{key:"Items",get:function(){return this.items||Dd(this),this.items},set:function(t){var e=this;this.items=t,ct(this.OnSet_Items_Func,(function(t){return e.OnSet_Items_Func=t}))}}]),t}(),Dd=function(t){if(!t.IsGet_Items){t.IsGet_Items=!0;var e,n,i=function(e){t.Items=e.map((function(e){return function(t,e){var n=gd(e);return n._id=t._id,n.projectId=t.projectId,n.userId=t.userId,n.Commands=t.commands,n}(e,t)})),t.IsGet_Items=!1};n=function(t){i(t)},e=(e={})||{},w("".concat(Id,"/list"),e).then((function(t){return t.data})).then((function(t){n&&n(t)}))}},Md="https://api.bimdev.vn/api/hb_upgc",kd=function(){function t(){var e=this;Object(o.a)(this,t),this.OnSet_id_Func_Dict=[],this.OnSet_User_Func=[],this.Commands=[],this.SaveDatabase=function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=arguments.length>1?arguments[1]:void 0;dt(e,Md,(function(){t&&O.b.success("save successfully!"),n&&n()}))},this.Delete=function(){e.CurrentList.splice(e.Index,1),e._id&&e.DeleteDatabase(!1)},this.DeleteDatabase=function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=arguments.length>1?arguments[1]:void 0;ht(e,Md,(function(){t&&O.b.success("delete successflly!"),n&&n()}))}}return Object(c.a)(t,[{key:"_id",get:function(){return this.__id},set:function(t){var e=this;this.__id=t,ct(this.OnSet_id_Func_Dict,(function(t){return e.OnSet_id_Func_Dict=t}))}},{key:"TempId",get:function(){return this.tempId||(this.tempId=nt()),this.tempId}},{key:"id",get:function(){return this._id?this._id:this.TempId}},{key:"User",get:function(){return void 0===this.user&&Vd(this),this.user},set:function(t){var e=this;this.user=t,this.userId=null===t||void 0===t?void 0:t._id,ct(this.OnSet_User_Func,(function(t){return e.OnSet_User_Func=t}))}},{key:"ApiData",get:function(){return{_id:this._id,userId:this.userId,commands:this.Commands}}},{key:"CurrentList",get:function(){return this.Dict.Items}},{key:"Index",get:function(){return this.CurrentList.indexOf(this)}}]),t}(),Cd=function(t){var e=new kd;return e.Dict=t,e},Vd=function(t){if(!t.IsGet_User){t.IsGet_User=!0;var e=function(e){t.User=e?mt(e,(function(e){return e._id===t.userId})):null,t.IsGet_User=!1};if(t.userId){var n=t.Dict.Dict;n.Users?e(n.Users):ot(n.OnSet_Users_Func,(function(){return e(n.Users)}))}else e()}},wd=function(){function t(){var e=this;Object(o.a)(this,t),this.OnSet_Items_Func=[],this.AddItem=function(t){e.Items.push(t),e.OnAddItem&&e.OnAddItem(t)},this.Save=function(){var t=e.Items,n=t.length;if(0===n)O.b.success("update data successfully!");else{var i=-1,s=function(){++i===n-1&&O.b.success("update data successfully!")};t.forEach((function(t){t.SaveDatabase(!1,s)}))}}}return Object(c.a)(t,[{key:"TempId",get:function(){return this.tempId||(this.tempId=nt()),this.tempId}},{key:"id",get:function(){return this._id?this._id:this.TempId}},{key:"Items",get:function(){return this.items||Td(this),this.items},set:function(t){var e=this;this.items=t,ct(this.OnSet_Items_Func,(function(t){return e.OnSet_Items_Func=t}))}}]),t}(),Td=function(t){if(!t.IsGet_Items){t.IsGet_Items=!0;var e,n,i=function(e){t.Items=e.map((function(e){return function(t,e){var n=Cd(e);return n._id=t._id,n.userId=t.userId,n.Commands=t.commands,n}(e,t)})),t.IsGet_Items=!1};n=function(t){i(t)},e=(e={})||{},w("".concat(Md,"/list"),e).then((function(t){return t.data})).then((function(t){n&&n(t)}))}},xd=function(t){return function(e){var n=e?hd(e):fd();return n.GetUrl_Func=function(){return"https://api.bimdev.vn/api/hbu"},n.GetApiData_Func=function(){return{_id:n._id,username:n.Username,name:n.Name,password:n.Password}},n.Dict=t.UserManager_Dict,n}},Fd=function(t){if(!t.IsGet_Users){t.IsGet_Users=!0;md("https://api.bimdev.vn/api/hbu",{},(function(e){return function(e){t.Users=e.map((function(e){return t.GetUser_Func(e)})),t.IsGet_Users=!1}(e)}))}},Nd=function(t){if(!t.IsGet_Projects){t.IsGet_Projects=!0;Vs({fortest:!0},(function(e){return function(e){t.Projects=e.map((function(t){return ks(t)})),t.IsGet_Projects=!1}(e)}))}},Rd=function(t){return function(t){var e=new pd;return e.Dict=t,e}(t)},Ld=function(t){return function(t){var e=new Sd;return e.Dict=t,e}(t)},Gd=function(t){return function(t){var e=new wd;return e.Dict=t,e}(t)},Pd=function(t){return[Ht,Bt,Wt,Qt,At,zt]},Ed=function(t){return ce().map((function(t){return{_id:t,Name:de(t),Value:t}}))},Ud=function(t){return ue().map((function(t){return{_id:t,Name:de(t),Value:t}}))},Ad=function(t){return nr().map((function(t){return{_id:t,Name:ir(t),Value:t}}))},Hd=function(t){return new Jc},Bd=function(t){return new gu},Wd=function(t){if(!t.IsGet_SG_Dict_Dict){t.IsGet_SG_Dict_Dict=!0;var e=function(e){e&&(t.SG_Dict_Dict=0!==e.length?Hu(e[0]):Bu()),t.IsGet_SG_Dict_Dict=!1},n=t.CurrentProject;if(n)!function(t,e){t=t||{},w("".concat(Fu,"/list"),t).then((function(t){return t.data})).then((function(t){e&&e(t)}))}({projectId:n._id},(function(t){e(t)}));else e(void 0)}},zd=function(t){var e=function(t,e){var n=new ld;return n.Url=t,n.Dict=e,n}("https://api.bimdev.vn/api/hbu",t);return e.OnSet_LoginUser=function(e){t.CurrentProject&&t.CurrentProject.Reset_Commands(),t.Reset_Commands(),t.Reset_AdminCommands()},e},Kd=function(t){return function(t){var e=new _d;return e.Dict=t,e}(t)},qd=function(t){if(!t.IsGet_Commands){t.IsGet_Commands=!0;var e=function(e,n){if("api"===n){if("project"===t.Command_FromType)return;t.Commands=e&&0!==e.length?e[0].commands:[]}else t.Commands=e;t.Command_FromType=n,t.IsGet_Commands=!1},n=t.CurrentProject;if(n)n.Commands?e(n.Commands):ot(n.OnSet_Commands_Func,(function(){e(n.Commands,"project")}));else{var i=t.UserDict.LoginUser;if(i){var s={userId:i._id};w("".concat("https://api.bimdev.vn/api/hb_upgc","/list"),s).then((function(t){return t.data})).then((function(t){e(t,"api")}))}else e(void 0,"api")}}},Qd=function(t){if(!t.IsGet_AdminCommands){t.IsGet_AdminCommands=!0;var e=function(e){t.AdminCommands=e&&0!==e.length?e[0].commands:[],t.IsGet_AdminCommands=!1},n=t.UserDict.LoginUser;if(n){var i={userId:n._id};w("".concat("https://api.bimdev.vn/api/hb_uc","/list"),i).then((function(t){return t.data})).then((function(t){e(t)}))}else e(void 0)}},Xd="web",Yd=function(){function t(){var e=this;Object(o.a)(this,t),this.project_Dict=void 0,this.project_Dict_ForMassDetail=void 0,this.currentProject=void 0,this.mgs_Dict_Dict=void 0,this.massGroupSetting_Dict=void 0,this.mds_Dict_Dict=void 0,this.OnSet_SG_Dict_Dict_Funcs=[],this.IsGet_SG_Dict_Dict=void 0,this.sg_Dict_Dict=void 0,this.phase_Dict_ForMassDetail=void 0,this.massResultComp=void 0,this.massItemFields=void 0,this.mifs_ForMassGroup=void 0,this.mif_Dict_ForMassGroup=void 0,this.mif_Dict_ForDetail=void 0,this.mif_Dict_ForInput=void 0,this.mut_Dict=void 0,this.versionCompareSetting=void 0,this.DebugPoints=[],this.tracking=void 0,this.IsDebug=!1,this.IsOutsource=!1,this.OnSet_CurrentProject_Func_Dict=[],this.ApiUrl="https://api.bimdev.vn/api",this.UpdatedDate="10/02/2022",this.Is_First_Get_MassTable=void 0,this.LoggingItems=[],this.userDict=void 0,this.admin=void 0,this.OnSet_Commands_Func=[],this.IsGet_Commands=void 0,this.Command_FromType=void 0,this.commands=void 0,this.Reset_Commands=function(){e.Commands=void 0,e.IsGet_Commands=!1,qd(e)},this.OnSet_AdminCommands_Func=[],this.IsGet_AdminCommands=void 0,this.Reset_AdminCommands=function(){e.adminCommands=void 0,e.IsGet_AdminCommands=!1,Qd(e)},this.adminCommands=void 0,this.massType_Dict=void 0,this.category_Dict=void 0,this.parameter_Dict=void 0,this.massExport_Dict=void 0,this.workItem_Dict=void 0,this.exportSet_Dict_ForMass=void 0,this.Current_MassTable=void 0,this.MassDetail_Table=void 0,this.DesignOption=Xd}return Object(c.a)(t,[{key:"Project_Dict",get:function(){var t;return null!==(t=this.project_Dict)&&void 0!==t?t:this.project_Dict=Xc(!0)}},{key:"Project_Dict_ForMassDetail",get:function(){var t;return null!==(t=this.project_Dict_ForMassDetail)&&void 0!==t?t:this.project_Dict_ForMassDetail=Xc()},set:function(t){this.project_Dict_ForMassDetail=t}},{key:"CurrentProject",get:function(){return this.currentProject},set:function(t){this.currentProject=t,this.Reset_Commands(),this.MassGroupSetting_Dict.Project=t}},{key:"Mgs_Dict_Dict",get:function(){var t;return null!==(t=this.mgs_Dict_Dict)&&void 0!==t?t:this.mgs_Dict_Dict=Hd()}},{key:"MassGroupSetting_Dict",get:function(){var t;return null!==(t=this.massGroupSetting_Dict)&&void 0!==t?t:this.massGroupSetting_Dict=this.Mgs_Dict_Dict.Items.find((function(t){return t.UseType===tu}))},set:function(t){}},{key:"Mds_Dict_Dict",get:function(){var t;return null!==(t=this.mds_Dict_Dict)&&void 0!==t?t:this.mds_Dict_Dict=Bd()}},{key:"SG_Dict_Dict",get:function(){return this.sg_Dict_Dict||Wd(this),this.sg_Dict_Dict},set:function(t){var e=this;this.sg_Dict_Dict=t,ct(this.OnSet_SG_Dict_Dict_Funcs,(function(t){return e.OnSet_SG_Dict_Dict_Funcs=t}))}},{key:"Phase_Dict_ForMassDetail",get:function(){var t;return null!==(t=this.phase_Dict_ForMassDetail)&&void 0!==t?t:this.phase_Dict_ForMassDetail=ts()}},{key:"MassResultComp",get:function(){var t;return null!==(t=this.massResultComp)&&void 0!==t?t:this.massResultComp=new Hc},set:function(t){this.massResultComp=t}},{key:"MassItemFields",get:function(){var t;return null!==(t=this.massItemFields)&&void 0!==t?t:this.massItemFields=Pd()}},{key:"MIFs_ForMassGroup",get:function(){var t;return null!==(t=this.mifs_ForMassGroup)&&void 0!==t?t:this.mifs_ForMassGroup=ce()}},{key:"MIF_Dict_ForMassGroup",get:function(){var t;return null!==(t=this.mif_Dict_ForMassGroup)&&void 0!==t?t:this.mif_Dict_ForMassGroup=Ed()}},{key:"MIF_Dict_ForDetail",get:function(){var t;return null!==(t=this.mif_Dict_ForDetail)&&void 0!==t?t:this.mif_Dict_ForDetail=Ud()}},{key:"MIF_Dict_ForInput",get:function(){var t;return null!==(t=this.mif_Dict_ForInput)&&void 0!==t?t:this.mif_Dict_ForInput=qc()}},{key:"MUT_Dict",get:function(){var t;return null!==(t=this.mut_Dict)&&void 0!==t?t:this.mut_Dict=Ad()}},{key:"VersionCompareSetting",get:function(){var t;return null!==(t=this.versionCompareSetting)&&void 0!==t?t:this.versionCompareSetting=new Wc}},{key:"Tracking",get:function(){var t;return null!==(t=this.tracking)&&void 0!==t?t:this.tracking=new Kc}},{key:"UserDict",get:function(){var t;return null!==(t=this.userDict)&&void 0!==t?t:this.userDict=zd(this)}},{key:"Admin",get:function(){var t;return null!==(t=this.admin)&&void 0!==t?t:this.admin=Kd(this)}},{key:"Commands",get:function(){return this.commands||qd(this),this.commands},set:function(t){var e=this;Object(h.runInAction)((function(){e.commands=t,ct(e.OnSet_Commands_Func,(function(t){return e.OnSet_Commands_Func=t}))}))}},{key:"AdminCommands",get:function(){return this.adminCommands||Qd(this),this.adminCommands},set:function(t){var e=this;this.adminCommands=t,ct(this.OnSet_AdminCommands_Func,(function(t){return e.OnSet_AdminCommands_Func=t}))}},{key:"MassType_Dict",get:function(){var t;return null!==(t=this.massType_Dict)&&void 0!==t?t:this.massType_Dict=new jl}},{key:"Category_Dict",get:function(){var t;return null!==(t=this.category_Dict)&&void 0!==t?t:this.category_Dict=new Dl}},{key:"Parameter_Dict",get:function(){var t;return null!==(t=this.parameter_Dict)&&void 0!==t?t:this.parameter_Dict=new wl}},{key:"MassExport_Dict",get:function(){var t;return null!==(t=this.massExport_Dict)&&void 0!==t?t:this.massExport_Dict=new nd}},{key:"WorkItem_Dict",get:function(){var t;return null!==(t=this.workItem_Dict)&&void 0!==t?t:this.workItem_Dict=new cd}},{key:"ExportSet_Dict_ForMass",get:function(){var t;return null!==(t=this.exportSet_Dict_ForMass)&&void 0!==t?t:this.exportSet_Dict_ForMass=function(t){var e=new Ss;return e.Items=[],e}()}}],[{key:"Instance",get:function(){var e;return null!==(e=this.instance)&&void 0!==e?e:this.instance=new t}}]),t}();Yd.instance=void 0;var Jd,Zd,$d,th,eh,nh="mass",ih="level",sh="mappinglevel",rh="typicallevel",ah="exportset",oh="phase",ch="inputdata",uh="category",lh="parameter",dh="masstype",hh="mt_list",fh="mt_material_binding",mh="mt_category_binding",vh="mt_system_binding",_h="massexport",ph="project",bh=n(4),Ih=function(){function t(){var e=this;Object(o.a)(this,t),this.ModelItem=void 0,this.Dict=void 0,this.nameVM=void 0,this.descriptionVM=void 0,this.is_FirstCreated=void 0,this.Run=function(){var t;null===(t=e.ModelItem)||void 0===t||t.Run((function(){e.Is_FirstCreated=!1,O.b.success("save successfully!")}))},this.Save=function(t){var n;e.Is_FirstCreated?null===t||void 0===t||t():null===(n=e.ModelItem)||void 0===n||n.Save(t)},this.Delete=function(){var t;e.CurrentList.splice(e.Index,1),null===(t=e.ModelItem)||void 0===t||t.Delete()},this.deleteVM=void 0,Object(h.makeObservable)(this,{is_FirstCreated:h.observable})}return Object(c.a)(t,[{key:"_id",get:function(){var t;return null===(t=this.ModelItem)||void 0===t?void 0:t._id}},{key:"id",get:function(){var t;return null===(t=this.ModelItem)||void 0===t?void 0:t.id}},{key:"Name",get:function(){var t;return null===(t=this.ModelItem)||void 0===t?void 0:t.Name},set:function(t){this.ModelItem.Name=t}},{key:"NameVM",get:function(){var t,e=this;return null!==(t=this.nameVM)&&void 0!==t?t:this.nameVM=Ln(this,"Name",(function(){return e.Save()}))}},{key:"NameView",get:function(){return Object(F.jsx)(bn,{className:"mgs__cell__main",store:this.NameVM})}},{key:"Description",get:function(){var t;return null===(t=this.ModelItem)||void 0===t?void 0:t.Description},set:function(t){this.ModelItem.Description=t}},{key:"DescriptionVM",get:function(){var t,e=this;return null!==(t=this.descriptionVM)&&void 0!==t?t:this.descriptionVM=Ln(this,"Description",(function(){return e.Save()}))}},{key:"DescriptionView",get:function(){return Object(F.jsx)(bn,{className:"mgs__cell__main",store:this.DescriptionVM})}},{key:"Is_FirstCreated",get:function(){var t,e;return null!==(t=this.is_FirstCreated)&&void 0!==t?t:this.is_FirstCreated=null===(e=this.ModelItem)||void 0===e?void 0:e.Is_FirstCreated},set:function(t){this.is_FirstCreated=t,this.ModelItem.Is_FirstCreated=t}},{key:"RowView",get:function(){return Oh(this)}},{key:"CurrentList",get:function(){return this.Dict.Items}},{key:"Index",get:function(){return this.CurrentList.indexOf(this)}},{key:"DeleteVM",get:function(){var t;return null!==(t=this.deleteVM)&&void 0!==t?t:this.deleteVM=yh(this)}}]),t}(),jh=n(139),gh=(n(560),function(t,e){if(t){var n=new Ih;return n.ModelItem=t,n.Dict=e,n}}),yh=function(t){var e=new sa;return e.ToggleType="manual",e.Title="X\xe1c nh\u1eadn x\xf3a?",e.OnRun=function(){t.Delete()},e},Oh=function(t){return Object(F.jsxs)("tr",{children:[Object(F.jsx)("td",{onMouseEnter:function(){return Nn(t.NameVM,(function(){return pt("edit")}))},onMouseLeave:function(){return Rn(t.NameVM)},children:t.NameView}),Object(F.jsx)("td",{onMouseEnter:function(){return Nn(t.DescriptionVM,(function(){return pt("edit")}))},onMouseLeave:function(){return Rn(t.DescriptionVM)},children:t.DescriptionView}),Object(F.jsx)("td",{children:Object(F.jsx)("div",{className:"f-jc",children:Object(F.jsx)("div",{children:t.Is_FirstCreated?Object(F.jsx)(T.a,{type:"primary",size:"small",onClick:t.Run,children:"Run"}):Object(F.jsx)(jh.a,{className:"phase__ok"})})})})]},t.id)},Sh=(n(561),Object(d.observer)((function(t){var e,n=t.store;return Object(F.jsx)(F.Fragment,{children:Object(F.jsxs)("table",{className:"table table-bordered",children:[Object(F.jsx)("thead",{className:"es__thead",children:Object(F.jsxs)("tr",{children:[Object(F.jsx)("th",{className:"phase__table__name",children:"T\xean"}),Object(F.jsx)("th",{className:"text-center",children:"M\xf4 t\u1ea3"}),Object(F.jsx)("th",{className:"phase__table__command"})]})}),Object(F.jsx)("tbody",{children:null===(e=n.Items)||void 0===e?void 0:e.map((function(t){return t.RowView}))})]})})}))),Dh=function(){function t(){var e=this;Object(o.a)(this,t),this.ModelItem=void 0,this.OnSet_Items_Func=[],this.IsGet_Items=void 0,this.items=void 0,this.OnGetItemsDone=void 0,this.AddItem=function(){var t,n,i=null===(t=e.ModelItem)||void 0===t?void 0:t.AddItem();if(i){var s=gh(i,e);if(s)return null===(n=e.Items)||void 0===n||n.push(s),s}},this.selectVM=void 0,Object(h.makeObservable)(this,{items:h.observable})}return Object(c.a)(t,[{key:"Items",get:function(){return this.items||Mh(this),this.items},set:function(t){var e=this;this.items=t,this.GetItemsDone=!0,ct(this.OnSet_Items_Func,(function(t){return e.OnSet_Items_Func=t}))}},{key:"GetItemsDone",set:function(t){this.OnGetItemsDone&&this.OnGetItemsDone(t)}},{key:"SelectVM",get:function(){var t;return null!==(t=this.selectVM)&&void 0!==t?t:this.selectVM=kh(this)}},{key:"TableView",get:function(){return Object(F.jsx)(Sh,{store:this})}},{key:"View",get:function(){return Object(F.jsxs)("div",{className:"f",children:[pt("edit")?Object(F.jsx)("div",{className:"es__add",children:Object(F.jsx)(T.a,{type:"primary",size:"small",className:"btn-success addproject",onClick:this.AddItem,children:"+"})}):"",Object(F.jsx)("div",{className:"es__main f1",children:Object(F.jsx)(Sh,{store:this})})]})}}]),t}(),Mh=function(t){if(!t.IsGet_Items){t.IsGet_Items=!0;var e=function(e){t.Items=e.map((function(e){return gh(e,t)})),t.IsGet_Items=!1},n=t.ModelItem;n.Items&&e(n.Items),ot(n.OnSet_Items_Func,(function(){return e(n.Items)}),!1)}},kh=function(t){var e=new Oe;e.Placeholder="ch\u1ecdn version";var n=function(){e.Items=t.Items;e.TitleRender=function(t){return t.Name}};return t.Items?n():ot(t.OnSet_Items_Func,n),e},Ch=(n(562),function(t){Object(u.a)(n,t);var e=Object(l.a)(n);function n(t){var i;Object(o.a)(this,n),(i=e.call(this,t)).onCheckedChange=function(t){var e=i.state,n=t.target.checked;e.OnCheckChanging&&e.OnCheckChanging(n),e.Cancel||(e.Ischecked=n)};var s=i.props.store;return i.state=s||Th(!1),i}return Object(c.a)(n,[{key:"render",value:function(){var t=this.state,e=t.ischecked,n=t.name,i=t.isDisable;return Object(F.jsx)(F.Fragment,{children:Object(F.jsxs)("label",{children:[Object(F.jsx)("input",{type:"checkbox",checked:e,onChange:this.onCheckedChange,disabled:i}),Object(F.jsx)("span",{className:"checkbox__title",children:n})]})})}}]),n}(i.Component)),Vh=Object(d.observer)(Ch),wh=function(){function t(){Object(o.a)(this,t),this.Cancel=!1,this.ischecked=void 0,this.isDisable=!1,Object(h.makeObservable)(this,{ischecked:h.observable,isDisable:h.observable,Cancel:h.observable})}return Object(c.a)(t,[{key:"Ischecked",set:function(t){var e;this.ischecked=t,null===(e=this.onCheckChange)||void 0===e||e.call(this,t)}},{key:"View",get:function(){return Object(F.jsx)(Vh,{store:this})}}]),t}(),Th=function(t,e){var n=new wh;return n.ischecked=e,n.name=t,n},xh=function(){function t(){var e=this;Object(o.a)(this,t),this.ModelItem=void 0,this.Dict=void 0,this.nameVM=void 0,this.codeVM=void 0,this.fortestVM=void 0,this.phase_DictVM=void 0,this.exportSet_Dict=void 0,this.OnSet_LevelSetting_Func_Dict=[],this.IsGet_LevelSetting=void 0,this.levelSetting=void 0,this.typicalLevelSetting=void 0,this.typicalLevelSetting_ForEdit=void 0,this.IsGet_Commands=void 0,this.commands=void 0,this.Save=function(t){var n;null===(n=e.ModelItem)||void 0===n||n.Save(t)},this.Delete=function(){var t;e.CurrentList.splice(e.Index,1),null===(t=e.ModelItem)||void 0===t||t.Delete()},this.deleteVM=void 0,Object(h.makeObservable)(this,{typicalLevelSetting:h.observable,typicalLevelSetting_ForEdit:h.observable,commands:h.observable})}return Object(c.a)(t,[{key:"_id",get:function(){var t;return null===(t=this.ModelItem)||void 0===t?void 0:t._id}},{key:"id",get:function(){var t;return null===(t=this.ModelItem)||void 0===t?void 0:t.id}},{key:"Name",get:function(){var t;return null===(t=this.ModelItem)||void 0===t?void 0:t.Name},set:function(t){this.ModelItem.Name=t}},{key:"NameVM",get:function(){var t,e=this;return null!==(t=this.nameVM)&&void 0!==t?t:this.nameVM=Ln(this,"Name",(function(){return e.Save()}))}},{key:"NameView",get:function(){return Object(F.jsx)(bn,{className:"mgs__cell__main",store:this.NameVM})}},{key:"Code",get:function(){var t;return null===(t=this.ModelItem)||void 0===t?void 0:t.Code},set:function(t){this.ModelItem.Code=t}},{key:"CodeVM",get:function(){var t,e=this;return null!==(t=this.codeVM)&&void 0!==t?t:this.codeVM=Ln(this,"Code",(function(){return e.Save()}))}},{key:"CodeView",get:function(){return Object(F.jsx)(bn,{className:"mgs__cell__main",store:this.CodeVM})}},{key:"Fortest",get:function(){var t;return null===(t=this.ModelItem)||void 0===t?void 0:t.Fortest},set:function(t){this.ModelItem.Fortest=t}},{key:"FortestVM",get:function(){var t,e=this;return null!==(t=this.fortestVM)&&void 0!==t?t:this.fortestVM=function(){var t=e.fortestVM=Th("",e.Fortest);return t.onCheckChange=function(t){e.Fortest=t,e.Save()},t}()}},{key:"Phase_DictVM",get:function(){var t;return null!==(t=this.phase_DictVM)&&void 0!==t?t:this.phase_DictVM=Iv(this)}},{key:"ExportSet_Dict",get:function(){var t;return null!==(t=this.exportSet_Dict)&&void 0!==t?t:this.exportSet_Dict=jv(this)}},{key:"DisplayContent",get:function(){return"".concat(this.Code," - ").concat(this.Name)}},{key:"Level_Dict",get:function(){var t;return null===(t=this.ModelItem)||void 0===t?void 0:t.LevelDict}},{key:"LevelSetting",get:function(){return this.levelSetting||gv(this),this.levelSetting},set:function(t){var e=this;this.levelSetting=t,ct(this.OnSet_LevelSetting_Func_Dict,(function(t){return e.OnSet_LevelSetting_Func_Dict=t}))}},{key:"TypicalLevelSetting",get:function(){var t;return null!==(t=this.typicalLevelSetting)&&void 0!==t?t:this.typicalLevelSetting=Ov(this)},set:function(t){this.typicalLevelSetting=t}},{key:"TypicalLevelSetting_ForEdit",get:function(){var t;return null!==(t=this.typicalLevelSetting_ForEdit)&&void 0!==t?t:this.typicalLevelSetting_ForEdit=Sv(this)},set:function(t){this.typicalLevelSetting_ForEdit=t}},{key:"Url",get:function(){var t;return null===(t=this.ModelItem)||void 0===t?void 0:t.Url}},{key:"Commands",get:function(){return this.commands||Dv(this),this.commands},set:function(t){this.commands=t}},{key:"RowView",get:function(){return kv(this)}},{key:"CurrentList",get:function(){var t;return null===(t=this.Dict)||void 0===t?void 0:t.Items}},{key:"Index",get:function(){return this.CurrentList.indexOf(this)}},{key:"DeleteVM",get:function(){var t;return null!==(t=this.deleteVM)&&void 0!==t?t:this.deleteVM=Mv(this)}}]),t}(),Fh=function(){function t(){var e=this;Object(o.a)(this,t),this.name=void 0,this.GetDataVM=function(){if(e.OnGetDataVM)return e.OnGetDataVM()},this.Delete=function(){e.Dict.Items.splice(e.Index,1)},Object(h.makeObservable)(this,{name:h.observable})}return Object(c.a)(t,[{key:"_id",get:function(){return this.ModelItem._id}},{key:"M2VM",get:function(){return this.ModelItem.M2VM},set:function(t){this.ModelItem.M2VM=t}},{key:"Name",get:function(){return this.name||(this.name=this.ModelItem.Name),this.name},set:function(t){this.name=t,this.M2VM||(this.ModelItem.Name=t)}},{key:"NameVM",get:function(){var t=this;this.nameVM||((this.nameVM=_(this.Name,"t\xean thi\u1ebft l\u1eadp ...")).onSetContent=function(e){return t.Name=e});return this.nameVM}},{key:"Description",get:function(){return this.description||(this.description=this.ModelItem.Description),this.description},set:function(t){this.description=t,this.M2VM||(this.ModelItem.Description=t)}},{key:"SettingType",get:function(){return this.settingType||(this.settingType=this.ModelItem.SettingType),this.settingType},set:function(t){this.settingType=t,this.ModelItem.SettingType=t}},{key:"SearchName",get:function(){return this.Name}},{key:"DisplayContent",get:function(){return this.Name}},{key:"Data",get:function(){return this.data||(this.data=this.ModelItem.Data),this.data},set:function(t){this.data=t,this.M2VM||(this.ModelItem.Data=t)}},{key:"DataVM",get:function(){return this.dataVM||(this.dataVM=this.GetDataVM()),this.dataVM},set:function(t){this.dataVM=t,t&&this.OnInitialSetDataVM&&this.OnInitialSetDataVM(t),this.M2VM||(this.Data=t?t.ModelItem:t)}},{key:"Index",get:function(){return this.Dict.Items.indexOf(this)}}]),t}(),Nh=function(t){Object(u.a)(n,t);var e=Object(l.a)(n);function n(){return Object(o.a)(this,n),e.apply(this,arguments)}return Object(c.a)(n)}(Fh),Rh=function(){function t(){var e=this;Object(o.a)(this,t),this.Is_ShowValue_Delete=void 0,this.ShowValue_Delete=function(){e.Commands.includes(jt)&&(e.Is_ShowValue_Delete=!0)},this.HideValue_Delete=function(){e.Is_ShowValue_Delete=!1},this.Delete=function(){e.Dict.Items.splice(e.Index,1),e.ModelItem.Delete()},Object(h.makeObservable)(this,{Is_ShowValue_Delete:h.observable})}return Object(c.a)(t,[{key:"id",get:function(){return this.ModelItem.id}},{key:"Name",get:function(){return this.ModelItem.Name},set:function(t){this.ModelItem.Name=t}},{key:"NameVM",get:function(){return this.nameVM||(this.nameVM=Ln(this,"Name")),this.nameVM}},{key:"NameView",get:function(){return Object(F.jsx)(bn,{className:"mgs__cell__main",store:this.NameVM})}},{key:"Values",get:function(){return this.ModelItem.Values},set:function(t){this.ModelItem.Values=t}},{key:"Value_StorageList",get:function(){return this.value_StorageList||Uh(this),this.value_StorageList},set:function(t){this.value_StorageList=t;var e=this.ValueVM;e.Items=t,e.InitialItems=this.Values}},{key:"ValueVM",get:function(){var t=this;if(!this.valueVM){var e=this.Value_StorageList?this.Value_StorageList:[],n=this.valueVM=Vn(e,this.Values);n.Placeholder="Cho\u0323n d\u01b0\u0303 li\xea\u0323u",n.OnSelectedItemChanged=function(e){return t.Values=e},n.GetDisabled_Func=function(){return!t.Commands.includes(jt)}}return this.valueVM}},{key:"Value_Element",get:function(){return Object(F.jsx)(F.Fragment,{children:Object(F.jsxs)("div",{className:"ls_item__value__wrapper",onMouseEnter:this.ShowValue_Delete,onMouseLeave:this.HideValue_Delete,children:[Object(F.jsx)(De,{store:this.ValueVM}),Object(F.jsx)("div",{className:"ls_item__value__delete",children:pt(jt)?this.DeleteVM.View:Object(F.jsx)("div",{})})]})})}},{key:"Index",get:function(){return this.Dict.Items.indexOf(this)}},{key:"IsLast",get:function(){return this.Dict.Items.length-1===this.Index}},{key:"DeleteVM",get:function(){return this.deleteVM||(this.deleteVM=Ah(this)),this.deleteVM}},{key:"Project",get:function(){return this.Dict.Project}},{key:"Commands",get:function(){return qg.Instance.Commands}},{key:"RowView",get:function(){return Hh(this)}}]),t}(),Lh=(n(563),function(t,e){return Object(bh.a)({userSelect:"none",background:t?"lightgreen":""},e)}),Gh=n(96),Ph=n(642),Eh=function(t,e){var n=new Rh;return n.ModelItem=t,n.Dict=e,n},Uh=function(t){if(!t.IsGet_Value_StorageList){t.IsGet_Value_StorageList=!0;var e=t.Project.ModelItem,n=function(e){var n=function(e){t.Value_StorageList=e.map((function(t){return t.Name})),t.IsGet_Value_StorageList=!1};e.Items?n(e.Items):ot(e.OnSet_Items_Func,(function(){return n(e.Items)}))};e.LevelDict?n(e.LevelDict):ot(e.OnSet_LevelDict_Func_Dict,(function(){n(e.LevelDict)}),!1)}},Ah=function(t){var e=new sa;return e.ToggleType="manual",e.Title="X\xe1c nh\u1eadn x\xf3a?",e.OnRun=function(){t.Delete()},e},Hh=function(t,e){return Object(F.jsx)(Gh.b,{draggableId:t.id,index:e,children:function(e,n){return Object(F.jsxs)("tr",Object(bh.a)(Object(bh.a)({},e.draggableProps),{},{ref:e.innerRef,style:Lh(n.isDragging,e.draggableProps.style),children:[Object(F.jsx)("td",Object(bh.a)(Object(bh.a)({},e.dragHandleProps),{},{className:"levelsetting__move__td",children:Object(F.jsx)(Ph.a,{})})),Object(F.jsx)("td",{onMouseEnter:function(){return Nn(t.NameVM,(function(){return pt("edit")}))},onMouseLeave:function(){return Rn(t.NameVM)},children:t.NameView}),Object(F.jsx)("td",{children:t.Value_Element})]}))}},t.id)},Bh=(n(565),function(t){Object(u.a)(n,t);var e=Object(l.a)(n);function n(t){var i;Object(o.a)(this,n);var s=(i=e.call(this,t)).props.store;return i.state=s||new zh,i}return Object(c.a)(n,[{key:"render",value:function(){var t,e=this.state;return console.log("mapping level count : ".concat(null===(t=e.Items)||void 0===t?void 0:t.length)),Object(F.jsx)(F.Fragment,{children:Object(F.jsxs)("table",{className:"table table-bordered",children:[Object(F.jsx)("thead",{className:"mt__thead",children:Object(F.jsxs)("tr",{children:[Object(F.jsx)("th",{className:"mt__table__move"}),Object(F.jsx)("th",{className:"mt__table__name",children:"T\xean"}),Object(F.jsx)("th",{children:"T\u01b0\u01a1ng \u0111\u01b0\u01a1ng v\u1edbi"})]})}),Object(F.jsx)(Gh.a,{onDragEnd:e.OnDragEnd,children:Object(F.jsx)(Gh.c,{droppableId:"mapping-level",children:function(t){return Object(F.jsxs)("tbody",Object(bh.a)(Object(bh.a)({},t.droppableProps),{},{ref:t.innerRef,children:[e.Items.map((function(t,e){return Hh(t,e)})),t.placeholder]}))}})})]})})}}]),n}(i.Component)),Wh=Object(d.observer)(Bh),zh=function(){function t(){var e=this;Object(o.a)(this,t),this.items=void 0,this.AddItem=function(){var t=Eh(e.ModelItem.AddItem(),e);return e.Items.push(t),t},this.Update_LevelData=function(){e.ModelItem.Update_LevelData(),O.b.success("save successfully!")},this.Move=function(t,n){var i=e.Items;it(i,t,n),e.ModelItem.Move(t,n)},this.Insert=function(t,n){var i=e.Items;st(i,t,n),e.ModelItem.Insert(t,n)},this.OnDragEnd=function(t){if(t.destination){var n=t.source.index,i=t.destination.index;e.Insert(n,i)}},Object(h.makeObservable)(this,{items:h.observable})}return Object(c.a)(t,[{key:"Items",get:function(){return this.items||(this.items=vf(this)),this.items},set:function(t){this.items=t}},{key:"Project",get:function(){return this.Dict.Project}},{key:"Commands",get:function(){return qg.Instance.Commands}},{key:"TableView",get:function(){return Object(F.jsx)(Wh,{store:this})}}]),t}(),Kh="default",qh="edit",Qh=function(){function t(){Object(o.a)(this,t)}return Object(c.a)(t,[{key:"Render",get:function(){return this.render||(this.render=Zh(this)),this.render},set:function(t){this.render=t}}]),t}(),Xh=function(){function t(){var e=this;Object(o.a)(this,t),this.renderState=void 0,this.Render=function(){var t=e.DataIndex,n=e.Item,i=Yh(e);return e.Table.Override_Get_CellRender?e.Table.Override_Get_CellRender(i,n,t,e,e.Row,e.Column):e.Render_Dict.GetRender(e.RenderState).Render(i,n,t,e,e.Row,e.Column)},Object(h.makeObservable)(this,{renderState:h.observable})}return Object(c.a)(t,[{key:"Key",get:function(){return"".concat(this.Column.Key,"_").concat(this.Row.Key)}},{key:"Item",get:function(){return this.Row.Item}},{key:"ColumnIndex",get:function(){return this.Row.Cells.indexOf(this)}},{key:"RowIndex",get:function(){return this.Row.Index}},{key:"RenderState",get:function(){return this.renderState||(this.renderState=this.Column.RenderState),this.renderState},set:function(t){this.renderState=t}},{key:"ValueVM",get:function(){if(!this.valueVM){var t=Yh(this);this.valueVM=_(t)}return this.valueVM}},{key:"Render_Dict",get:function(){return this.render_Dict||(this.render_Dict=this.Column.Render_Dict),this.render_Dict}},{key:"DataIndex",get:function(){return this.Column.DataIndex}}]),t}(),Yh=function(t){var e=t.DataIndex,n=t.Item;if(t.Table.Override_Get_CellValue)return t.Table.Override_Get_CellValue(n,t,t.Row,t.Column);var i=void 0;return e&&(i=n,e.forEach((function(t){i=i[t]}))),i},Jh=function(t,e){var n=new Qh;return n.State=t,n.Render=e,n},Zh=function(t){switch(t.State){case Kh:return function(t,e,n,i,s,r){return i.ValueVM.Content};case qh:return function(t,e,n,i,s,r){if(!n)return t;var a=i.ValueVM,o=n.length,c=e;return n.filter((function(t,e){return e<o-1})).forEach((function(t){return c=c[t]})),a.onSetContent=function(t){c[n[o-1]]=t},Object(F.jsx)(R,{store:a})};default:return}},$h=Object(c.a)((function t(){var e=this;Object(o.a)(this,t),this.Items=[],this.GetRender=function(t){var n=e.Items,i=n.findIndex((function(e){return e.State===t}));if(-1===i){var s=Jh(t);return n.push(s),s}return n[i]}})),tf=function(){function t(){Object(o.a)(this,t)}return Object(c.a)(t,[{key:"Render",get:function(){return this.render||(this.render=ef(this)),this.render},set:function(t){this.render=t}}]),t}(),ef=function(t){switch(t.State){case Kh:return function(t,e,n){return Object(F.jsx)(F.Fragment,{children:Object(F.jsxs)("div",{className:"column__title__wrapper",children:[t,n.CanHandleColumn&&e.IsShow_MoveCommand?Object(F.jsxs)("div",{className:"column__title__tool",children:[n.CanEditColumn?Object(F.jsx)(T.a,{type:"primary",size:"small",style:{backgroundColor:"#faad14",border:"none"},onClick:e.Edit,children:"e"}):"",n.CanDeleteColumn?Object(F.jsx)(T.a,{type:"primary",danger:!0,size:"small",onClick:e.Delete,children:"x"}):""]}):""]})})};case qh:return function(t,e,n){return Object(F.jsx)(F.Fragment,{children:Object(F.jsxs)("div",{className:"column__title__wrapper",children:[e.InputElement,Object(F.jsx)(T.a,{type:"primary",size:"small",onClick:e.OK,children:"ok"})]})})};default:return}},nf=Object(c.a)((function t(){var e=this;Object(o.a)(this,t),this.Items=[],this.GetRender=function(t){var n=e.Items,i=n.findIndex((function(e){return e.State===t}));if(-1===i){var s=function(t,e){var n=new tf;return n.State=t,n.Render=e,n}(t);return n.push(s),s}return n[i]}})),sf="select",rf="input",af=function(t,e,n,i){var s=new uf;s.Title=t,Array.isArray(e)?s.DataIndex=e:s.DataIndex=[e],s.Key=et(),s.Table=i;var r=s.Render_Dict;return n&&n.forEach((function(t){r.GetRender(t.State).Render=t.Render})),s},of=function(t,e,n){var i=new uf;return i.Title=t,i.DataIndex=n?[n]:[t],i.Key=et(),i.Table=e,i.OnSetTitleOK_Funcs.push((function(){i.InputType===rf&&(i.DataIndex=[i.Title]),e.Update()})),i},cf=function(t){var e=[Jh(Kh,(function(e,n,i,s,r){var a="";if(t.CanHandleItem&&t.CanEditItem){a=Object(F.jsx)(T.a,{type:"primary",size:"small",style:{backgroundColor:"#faad14",border:"none"},onClick:function(){return r.Edit()},children:"edit"})}var o="";if(t.CanHandleItem&&t.CanDeleteItem){o=Object(F.jsx)(T.a,{type:"primary",danger:!0,size:"small",onClick:function(){return t.DeleteItem(n,r)},children:"x"})}return Object(F.jsxs)(F.Fragment,{children:[a,o]})})),Jh(qh,(function(t,e,n,i,s){return Object(F.jsx)(T.a,{type:"primary",size:"small",onClick:function(){return s.OK()},children:"ok"})}))],n=af(undefined,null,e,t);return n.IsAction=!0,n.TitleRender_Dict.GetRender(Kh).Render=function(){return Object(F.jsxs)("div",{style:{display:"flex"},children:[Object(F.jsx)(T.a,{type:"primary",size:"small",onClick:t.AddColumn,children:"(+) c"}),t.CanHandleItem&&t.CanAddItem?Object(F.jsx)(T.a,{type:"primary",size:"small",onClick:t.AddItem,children:"(+) r"}):""]})},n},uf=function(){function t(){var e=this;Object(o.a)(this,t),this.TitleRenderState=Kh,this.RenderState=Kh,this.title=void 0,this.dataIndex=void 0,this.OnSetTitleOK_Funcs=[],this.Edit=function(){var t=e.Table;t.CanHandleColumn&&t.CanEditColumn&&(e.TitleRenderState=qh)},this.OK=function(){e.TitleRenderState=Kh,e.OnSetTitleOK_Funcs.forEach((function(t){return t(e)}))},this.Delete=function(){var t=e.Table;t.CanHandleColumn&&t.CanDeleteColumn&&(t.Columns.splice(e.Index,1),t.Update())},this.TitleRender=function(){var t=e.Title,n=e.Table;return e.TitleRender_Dict.GetRender(e.TitleRenderState).Render(t,e,n)},this.inputType=void 0,this.IsShow_MoveCommand=!1,this.Show_MoveCommand=function(){e.IsShow_MoveCommand=!0},this.Collapse_MoveCommand=function(){e.IsShow_MoveCommand=!1},this.MoveLeft=function(){var t=e.Index;if(0!==t){var n=e.CurrentList;1!==n.filter((function(t){return!t.IsActive})).length&&(it(n,t,t-1),e.Table.Update())}},this.MoveRight=function(){var t=e.Index,n=e.CurrentList,i=n.filter((function(t){return!t.IsActive}));1!==i.length&&t!==i.length&&(it(n,t,t+1),e.Table.Update())},Object(h.makeObservable)(this,{title:h.observable,TitleRenderState:h.observable,inputType:h.observable,IsShow_MoveCommand:h.observable})}return Object(c.a)(t,[{key:"Index",get:function(){return this.CurrentList.indexOf(this)}},{key:"CurrentList",get:function(){return this.Table.Columns},set:function(t){this.Table.Columns=t}},{key:"Title",get:function(){return this.title},set:function(t){this.title=t}},{key:"DataIndex",get:function(){return this.dataIndex},set:function(t){this.dataIndex=t}},{key:"Key",get:function(){return this.key||(this.key=nt()),this.key},set:function(t){this.key=t}},{key:"TitleRender_Dict",get:function(){return this.titleRender_Dict||(this.titleRender_Dict=new nf),this.titleRender_Dict}},{key:"Render_Dict",get:function(){return this.render_Dict||(this.render_Dict=new $h),this.render_Dict},set:function(t){this.render_Dict=t}},{key:"InputType",get:function(){return this.inputType||(this.inputType=this.Table.Column_InputType),this.inputType}},{key:"AllNames",get:function(){return this.Table.AllColumnNames}},{key:"InputVM",get:function(){var t=this;if(!this.inputVM){var e=this.inputVM=_(this.Title);e.onSetContent=function(e){return t.Title=e}}return e}},{key:"SelectVM",get:function(){var t=this;if(!this.selectVM){var e=this.AllNames,n=this.selectVM=Ue(this.AllNames);if(n.TitleRender=function(t){return t.Name},n.OnSelectedItemChanged=function(e){t.Title=e.Name,t.DataIndex=[e.Value]},this.Title){if(!n.InitialItem){var i=e.findIndex((function(e){return e.Name===t.Title}));n.InitialItem=e[i]}}else{var s=e[0];this.Title=s.Name,this.DataIndex=[s.Value],n.InitialItem=s}}return this.selectVM}},{key:"InputElement",get:function(){switch(this.InputType){case rf:return Object(F.jsx)(R,{store:this.InputVM});case sf:var t=this.Table.Column_Title_SelectWidth;return Object(F.jsx)("div",{style:{width:t},children:Object(F.jsx)(Le,{store:this.SelectVM})})}}},{key:"CanShow_MoveCommand",get:function(){return this.Table.CanShow_MoveCommand}}]),t}(),lf=function(){function t(){var e=this;Object(o.a)(this,t),this.Item=void 0,this.Edit=function(){var t=e.Table;t.CanHandleItem&&t.CanEditItem&&e.Cells.forEach((function(t){return t.RenderState=qh}))},this.OK=function(){e.Cells.forEach((function(t){return t.RenderState=Kh})),e.Table.EditItem(e.Item)},Object(h.makeObservable)(this,{Item:h.observable})}return Object(c.a)(t,[{key:"Key",get:function(){return this.key||(this.key=this.Item._id?this.Item._id:this.Item.id,this.key||(this.key=et())),this.key}},{key:"Index",get:function(){return this.Table.Rows.indexOf(this)}},{key:"Cells",get:function(){return this.cells||(this.cells=hf(this)),this.cells}}]),t}(),df=function(t,e){var n=new lf;return n.Item=t,n.Table=e,n},hf=function(t){return t.Table.Columns.map((function(e){return function(t,e){var n=new Xh;return n.Row=t,n.Column=e,n.Table=t.Table,n}(t,e)}))},ff=function(){function t(){var e,n=this;Object(o.a)(this,t),this.CanHandleItem=!0,this.CanAddItem=!0,this.CanDeleteItem=!0,this.CanEditItem=!0,this.CanHandleColumn=!0,this.CanAddColumn=!0,this.CanDeleteColumn=!0,this.CanEditColumn=!0,this.IsShowActionColumn=!0,this.columns=void 0,this.dataSource=void 0,this.rows=void 0,this.AddItem=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(n.CanHandleItem&&n.CanAddItem){void 0===t&&(t=n.OnGetItemForAdd?n.OnGetItemForAdd():{Key:et(),IsTypeNotDefined:!0}),n.DataSource.push(t);var i=df(t,n);n.Rows.push(i),e&&i.Edit()}},this.DeleteItem=function(t,e){if(n.CanHandleItem&&n.CanDeleteItem){var i=n.DataSource,s=i.indexOf(t);i.splice(s,1),n.Rows.splice(s,1),n.OnDeleteItem&&n.OnDeleteItem(t)}},this.EditItem=function(t){if(n.CanHandleItem&&n.CanEditItem){if(t.IsTypeNotDefined){var e=n.DataSource.findIndex((function(e){return e.Key===t.Key}));t=n.DataSource[e]=Object(bh.a)({},t)}n.OnEditItem&&n.OnEditItem(t)}},this.AddColumn=function(){if(n.CanHandleColumn&&n.CanDeleteColumn){var t=of(null,n),e=n.Columns.findIndex((function(t){return t.IsAction}));-1!==e?n.Columns.splice(e,0,t):n.Columns.push(t),t.Edit()}},this.Update=function(){n.Rows=null},this.Column_InputType=rf,this.AllColumnNames=[],this.CanShow_MoveCommand=!0,Object(h.makeObservable)(this,(e={columns:h.observable,dataSource:h.observable,rows:h.observable,AllColumnNames:h.observable,Column_InputType:h.observable,CanHandleItem:h.observable,CanAddItem:h.observable,CanDeleteItem:h.observable,CanEditItem:h.observable},Object(Be.a)(e,"CanHandleItem",h.observable),Object(Be.a)(e,"CanAddItem",h.observable),Object(Be.a)(e,"CanDeleteItem",h.observable),Object(Be.a)(e,"CanEditItem",h.observable),Object(Be.a)(e,"IsShowActionColumn",h.observable),e))}return Object(c.a)(t,[{key:"Columns",get:function(){return this.columns||(this.columns=[af("T\xean c\u1ea5u ki\u1ec7n","ElementName",null,this),af("\u0110\u01b0\u1eddng k\xednh","Diameter",null,this)],this.IsShowActionColumn&&this.columns.push(cf(this))),this.columns},set:function(t){this.columns=t,this.Rows=void 0}},{key:"DataSource",get:function(){return this.dataSource||(this.dataSource=[]),this.dataSource},set:function(t){this.dataSource=t,this.Rows=void 0}},{key:"Rows",get:function(){var t;return this.rows||(this.rows=(t=this).DataSource.map((function(e){return df(e,t)}))),this.rows},set:function(t){this.rows=t}}]),t}(),mf=function(t,e){var n=new zh;return n.ModelItem=t,n.Dict=e,n},vf=function(t){return t.ModelItem.Items.map((function(e){return Eh(e,t)}))},_f=function(){function t(){Object(o.a)(this,t),this.OnSet_LevelStorageList_Func_Dict=[]}return Object(c.a)(t,[{key:"Binding",get:function(){return this.binding||(this.binding=Pf(this)),this.binding}},{key:"Typical",get:function(){return this.typical||(this.typical=Ef(this)),this.typical}},{key:"LevelStorageList",get:function(){return this.levelStorageList||(this.levelStorageList=Uf(this)),this.levelStorageList},set:function(t){var e=this;this.levelStorageList=t,ct(this.OnSet_LevelStorageList_Func_Dict,(function(t){return e.OnSet_LevelStorageList_Func_Dict=t}))}},{key:"FieldFilterStorageList",get:function(){return this.Dict.FieldFilterStorageList}},{key:"SettingVM",get:function(){return this.Dict}},{key:"Project",get:function(){return this.Dict.Project}}]),t}(),pf="text",bf="input",If=function(){function t(){var e=this;Object(o.a)(this,t),this.Delete=function(){e.ModelItem.Delete(),e.Dict.LevelGroups.splice(e.Index,1),e.Primary=gf(e)},this.primary=void 0,this.isSelectOpen=void 0,Object(h.makeObservable)(this,{primary:h.observable,isSelectOpen:h.observable})}return Object(c.a)(t,[{key:"id",get:function(){return this.ModelItem.id}},{key:"LevelStorageList",get:function(){return this.levelStorageList||(this.levelStorageList=yf(this)),this.levelStorageList},set:function(t){this.levelStorageList=t;var e=this.LevelSelectVM;e.Items=t,e.InitialItems=this.Levels}},{key:"Levels",get:function(){return this.ModelItem.Levels},set:function(t){this.ModelItem.Levels=t}},{key:"SettingVM",get:function(){return this.Dict.SettingVM}},{key:"LevelSelectVM",get:function(){var t=this;if(!this.levelSelectVM){var e=this.LevelStorageList;e||this.SettingVM.ModelItem.OnGetLevelStorageList_Funcs.push((function(){var e=t.levelSelectVM;e.Items=t.LevelStorageList,e.InitialItems=t.Levels})),e=e||[];var n=this.levelSelectVM=Vn(e,this.Levels);n.Placeholder="ch\u1ecdn level ...",n.GetDisabled_Func=function(){return!t.Commands.includes(jt)},n.TitleRender=function(e){var n=_(t.IsSelectOpen||t.Primary===e?"click":"hover"),i=_(t.Primary===e?"primary":"dashed"),s=_(t.Primary===e?"":"Set");return Object(F.jsx)(Ve.a,{trigger:n.Content,content:Object(F.jsxs)("span",{children:[t.Primary!==e?Object(F.jsx)("span",{className:"levelgroup__addtext",children:s.Content}):"",Object(F.jsx)(T.a,{size:"small",type:i.Content,onClick:function(){t.Primary=e},children:"Primary"})]}),children:Object(F.jsx)("span",{className:t.Primary===e?"levelgroup__primary":"",children:e})})},n.OnSetOpen=function(e){return t.IsSelectOpen=e},n.OnSelectedItemChanged=function(e){t.Levels=e,-1===t.Levels.indexOf(t.Primary)&&(t.Primary=gf(t))}}return this.levelSelectVM}},{key:"Index",get:function(){return this.Dict.LevelGroups.indexOf(this)}},{key:"Primary",get:function(){return this.primary||(this.primary=this.ModelItem.Primary),this.primary},set:function(t){this.primary=this.ModelItem.Primary=t}},{key:"IsSelectOpen",get:function(){return this.isSelectOpen},set:function(t){this.isSelectOpen=t}},{key:"Commands",get:function(){return qg.Instance.Commands}}]),t}(),jf=function(t,e){var n=new If;return n.ModelItem=t,n.Dict=e,ot(e.OnSet_LevelStorageList_Func_Dict,(function(){return n.LevelStorageList=yf(n)}),!1),n},gf=function(t){if(t.Levels&&0!==t.Levels.length)return t.Levels[0]},yf=function(t){return t.Dict.LevelStorageList},Of=function(){function t(){var e=this;Object(o.a)(this,t),this.value=void 0,this.Delete=function(){e.Dict.ModelItem.Items.splice(e.Index,1),e.Dict.Items.splice(e.Index,1)},this.inputType=void 0,this.ToggleInputType=function(){switch(e.InputType){case hi:e.SelectVM.InitialItem=e.Value,e.Value=e.SelectVM.SelectedItem,e.InputType=fi;break;case fi:e.Value?e.ValueVM.Content=e.Value:(e.ValueVM.Content||(e.ValueVM.Content="value"),e.Value=e.ValueVM.Content),e.InputType=hi}},this.SwitchChecked_Funcs=function(){return e.InputType===fi},Object(h.makeObservable)(this,{inputType:h.observable,value:h.observable})}return Object(c.a)(t,[{key:"id",get:function(){return this._id||(this._id=nt()),this._id}},{key:"Index",get:function(){return this.Dict.Items.indexOf(this)}},{key:"Values",get:function(){return this.Dict.ModelItem.Items}},{key:"Value",get:function(){return this.value||(this.value=this.Values[this.Index].Value),this.value},set:function(t){this.value=this.Values[this.Index].Value=t}},{key:"ValueVM",get:function(){var t=this;this.valueVM||((this.valueVM=_(this.Value)).onSetContent=function(e){t.Value=e});return this.valueVM}},{key:"SelectVM",get:function(){var t=this;if(!this.selectVM){var e=this.selectVM=Ue(["C\u1ed9t","V\xe1ch","D\u1ea7m","S\xe0n"],this.Value);e.Placeholder="...",e.OnSetOpen=function(e){return t.SelectOpen=e},e.OnSelectedItemChanged=function(e){return t.Value=e}}return this.selectVM}},{key:"InputType",get:function(){return this.inputType||(this.inputType=this.ModelItem.InputType),this.inputType},set:function(t){this.inputType=this.ModelItem.InputType=t}},{key:"InputElement",get:function(){switch(this.InputType){case hi:return Object(F.jsx)(R,{store:this.ValueVM,className:"tls_filter__value__input"});case fi:return Object(F.jsx)(Le,{store:this.SelectVM,className:"tls_filter__value__select"})}}},{key:"SelectOpen",get:function(){return void 0===this.selectOpen&&(this.selectOpen=this.SelectVM.Open),this.selectOpen},set:function(t){this.selectOpen=t,this.PopoverState.Content=Df(this)}},{key:"PopoverState",get:function(){return this.popoverState||(this.popoverState=_(Df(this))),this.popoverState}},{key:"Commands",get:function(){return qg.Instance.Commands}}]),t}(),Sf=function(t,e){var n=new Of;return n.ModelItem=t,n.Dict=e,n},Df=function(t){return t.SelectOpen?"none":"hover"},Mf=function(){function t(){var e=this;Object(o.a)(this,t),this.Delete=function(){e.ModelItem.Delete(),e.Dict.Filters.splice(e.Index,1)},this.items=void 0,this.AddItem=function(){var t=Sf(e.ModelItem.AddItem(),e);return e.Items.push(t),t},Object(h.makeObservable)(this,{items:h.observable})}return Object(c.a)(t,[{key:"id",get:function(){return this.ModelItem.id}},{key:"Field",get:function(){return this.ModelItem.Field},set:function(t){this.ModelItem.Field=t}},{key:"FieldStorageList",get:function(){return this.Dict.FieldFilterStorageList}},{key:"FieldSelectVM",get:function(){var t=this;if(!this.fieldSelectVM){var e=this.fieldSelectVM=Ue(this.FieldStorageList,this.Field);e.Placeholder="ch\u1ecdn b\u1ed9 l\u1ecdc ...",e.OnSelectedItemChanged=function(e){return t.Field=e},e.GetDisabled_Func=function(){return!t.Commands.includes(jt)}}return this.fieldSelectVM}},{key:"Index",get:function(){return this.Dict.Filters.indexOf(this)}},{key:"Items",get:function(){return this.items||(this.items=Cf(this)),this.items}},{key:"Commands",get:function(){return qg.Instance.Commands}}]),t}(),kf=function(t,e){var n=new Mf;return n.ModelItem=t,n.Dict=e,n},Cf=function(t){return t.ModelItem.Items.map((function(e){return Sf(e,t)}))},Vf=function(){function t(){var e=this;Object(o.a)(this,t),this.name=void 0,this.State=pf,this.ToggleState=function(){switch(e.State){case pf:e.State=bf;break;case bf:e.NameVM.Content=e.Name,e.State=pf}},this.NameOK=function(){e.State=pf,e.Name=e.NameVM.Content},this.NameCancel=function(){e.State=pf},this.Delete=function(){e.ModelItem.Delete();var t=e.Index,n=e.IsLast,i=e.Dict,s=i.PageItems;s.splice(t,1),i.AllTabs.splice(t,1),0!==s.length&&(i.IsModelChangePageKey=!0,i.CurrentPageKey=(n?s[t-1]:s[t]).id)},this.OnSet_LevelStorageList_Func_Dict=[],this.levelGroups=void 0,this.AddLevelGroup=function(){var t=jf(e.ModelItem.AddLevelGroup(),e);return e.LevelGroups.push(t),t},this.filters=void 0,this.AddFilter=function(){var t=kf(e.ModelItem.AddFilter(),e);return e.Filters.push(t),t},Object(h.makeObservable)(this,{name:h.observable,State:h.observable,levelGroups:h.observable,filters:h.observable})}return Object(c.a)(t,[{key:"id",get:function(){var t;return null===(t=this.ModelItem)||void 0===t?void 0:t.id},set:function(t){this._id=t}},{key:"Name",get:function(){return this.name||(this.name=this.ModelItem.Name),this.name},set:function(t){this.name=this.ModelItem.Name=t}},{key:"DeleteMarginCss",get:function(){return this.State===bf?"tls_pageItem__deletemargin":""}},{key:"NameVM",get:function(){return this.nameVM||(this.nameVM=_(this.Name)),this.nameVM}},{key:"InputToolElement",get:function(){return Object(F.jsxs)("div",{children:[Object(F.jsx)(T.a,{type:"primary",size:"small",onClick:this.NameOK,children:"ok"}),Object(F.jsx)(T.a,{type:"dashed",size:"small",onClick:this.NameCancel,children:"cancel"})]})}},{key:"InputElement",get:function(){return Object(F.jsx)(qe,{className:"tls_pageItem_input",store:this.NameVM})}},{key:"TitleElement",get:function(){var t=Object(F.jsx)(T.a,{type:"primary",size:"small",onClick:this.Delete,className:"tls_pageItem__delete",children:"x"});switch(this.State){case pf:return Object(F.jsxs)(F.Fragment,{children:[Object(F.jsx)("span",{children:this.Name}),this.Commands.includes(jt)?Object(F.jsxs)(F.Fragment,{children:[Object(F.jsx)(T.a,{type:"primary",size:"small",className:"tls_pageItem__edit",onClick:this.ToggleState,children:"e"}),t]}):""]});case bf:return Object(F.jsxs)(F.Fragment,{children:[Object(F.jsx)(Ve.a,{content:this.InputToolElement,trigger:"focus",children:Object(F.jsx)("span",{children:this.InputElement})}),t]})}}},{key:"Index",get:function(){return this.Dict.PageItems.indexOf(this)}},{key:"IsLast",get:function(){return this.Dict.PageItems.length-1===this.Index}},{key:"SettingVM",get:function(){return this.Dict.SettingVM}},{key:"LevelStorageList",get:function(){return this.levelStorageList||(this.levelStorageList=Ff(this)),this.levelStorageList},set:function(t){var e=this;this.levelStorageList=t,ct(this.OnSet_LevelStorageList_Func_Dict,(function(t){return e.OnSet_LevelStorageList_Func_Dict=t}))}},{key:"LevelGroups",get:function(){return this.levelGroups||(this.levelGroups=Tf(this)),this.levelGroups}},{key:"FieldFilterStorageList",get:function(){return this.Dict.FieldFilterStorageList}},{key:"Filters",get:function(){return this.filters||(this.filters=xf(this)),this.filters}},{key:"Commands",get:function(){return qg.Instance.Commands}}]),t}(),wf=function(t,e){var n=new Vf;return n.ModelItem=t,n.Dict=e,ot(e.OnSet_LevelStorageList_Func_Dict,(function(){return n.LevelStorageList=Ff(n)}),!1),n},Tf=function(t){return t.ModelItem.LevelGroups.map((function(e){return jf(e,t)}))},xf=function(t){return t.ModelItem.Filters.map((function(e){return kf(e,t)}))},Ff=function(t){return t.Dict.LevelStorageList},Nf=function(){function t(){var e=this;Object(o.a)(this,t),this.OnSet_LevelStorageList_Func_Dict=[],this.pageItems=void 0,this.AddPageItem=function(){var t=wf(e.ModelItem.AddPageItem(),e);e.PageItems.push(t);var n=e.IsHaveAddCommandTab?1:0;return e.AllTabs.splice(e.AllTabs.length-n,0,t),e.CurrentPageKey=t.id,t},this.IsHaveAddCommandTab=!1,this.allTabs=void 0,this.currentPageKey=void 0,this.IsModelChangePageKey=!1,this.ChangePageKey=function(t){e.IsModelChangePageKey?e.IsModelChangePageKey=!1:e.CurrentPageKey=t},this.Save=function(){e.SettingVM.Save()},Object(h.makeObservable)(this,{pageItems:h.observable,currentPageKey:h.observable,allTabs:h.observable})}return Object(c.a)(t,[{key:"SettingVM",get:function(){return this.Dict.SettingVM}},{key:"LevelStorageList",get:function(){return this.levelStorageList||(this.levelStorageList=Lf(this)),this.levelStorageList},set:function(t){var e=this;this.levelStorageList=t,ct(this.OnSet_LevelStorageList_Func_Dict,(function(t){return e.OnSet_LevelStorageList_Func_Dict=t}))}},{key:"FieldFilterStorageList",get:function(){return this.Dict.FieldFilterStorageList}},{key:"PageItems",get:function(){return this.pageItems||(this.pageItems=Rf(this)),this.pageItems}},{key:"AddCommandTab",get:function(){return this.addCommandTab||(this.addCommandTab={id:"add",TitleElement:Object(F.jsx)(T.a,{className:"tls__tabs__add",type:"text",size:"small",onClick:this.AddPageItem,children:"+"})}),this.addCommandTab}},{key:"AllTabs",get:function(){if(!this.allTabs){var t=Object(he.a)(this.PageItems);this.IsHaveAddCommandTab&&t.push(this.AddCommandTab),this.allTabs=t}return this.allTabs}},{key:"CurrentPageKey",get:function(){return this.currentPageKey||(this.currentPageKey=Gf(this)),this.currentPageKey},set:function(t){this.currentPageKey=t}},{key:"Commands",get:function(){return qg.Instance.Commands}}]),t}(),Rf=function(t){return t.ModelItem.PageItems.map((function(e){return wf(e,t)}))},Lf=function(t){return t.Dict.LevelStorageList},Gf=function(t){return 0!==t.PageItems.length?t.PageItems[0].id:void 0},Pf=function(t){return mf(t.ModelItem.Binding,t)},Ef=function(t){return function(t,e){var n=new Nf;return n.ModelItem=t,n.Dict=e,ot(e.OnSet_LevelStorageList_Func_Dict,(function(){return n.LevelStorageList=Lf(n)}),!1),n}(t.ModelItem.Typical,t)},Uf=function(t){return t.ModelItem.LevelStorageList},Af=(n(566),n(567),n(568),n(643)),Hf=n(644),Bf=(be.a.Option,function(t){Object(u.a)(n,t);var e=Object(l.a)(n);function n(t){var i;Object(o.a)(this,n),(i=e.call(this,t)).onValueChange=function(t){i.state.SelectedIndex=t};var s=i.props.store;return i.state=s||new ff,i}return Object(c.a)(n,[{key:"render",value:function(){var t=this.state,e=t.Columns,n=this.props.className,i=this.props.style,s=t.Rows,r="";if(e&&s){var a=Object(F.jsx)("thead",{className:"thead-light",children:Object(F.jsx)("tr",{children:e.map((function(t){return Object(F.jsx)("th",{scope:"col",className:t.ClassName,children:Object(F.jsxs)("div",{className:"column__title__wrapper",onMouseEnter:t.Show_MoveCommand,onMouseLeave:t.Collapse_MoveCommand,children:[t.CanShow_MoveCommand?Object(F.jsx)("div",{className:"column__title__left",children:t.IsShow_MoveCommand?Object(F.jsx)(T.a,{type:"primary",size:"small",className:"column__title__move__button",onClick:t.MoveLeft,children:Object(F.jsx)(Af.a,{})}):Object(F.jsx)("div",{className:"column__title__move__blank"})}):"",t.TitleRender(),t.CanShow_MoveCommand?Object(F.jsx)("div",{className:"column__title__right",children:t.IsShow_MoveCommand?Object(F.jsx)(T.a,{type:"primary",size:"small",className:"column__title__move__button right",onClick:t.MoveRight,children:Object(F.jsx)(Hf.a,{})}):Object(F.jsx)("div",{className:"column__title__move__blank"})}):""]})},t.Key)}))})}),o=Object(F.jsx)("tbody",{children:s.map((function(t){return Object(F.jsx)("tr",{children:t.Cells.map((function(t){return Object(F.jsx)("td",{children:t.Render()},t.Key)}))},t.Key)}))});r=Object(F.jsxs)("table",{className:n,style:i,children:[a,o]})}return Object(F.jsx)(F.Fragment,{children:r})}}]),n}(i.Component)),Wf=Object(d.observer)(Bf),zf=n(645),Kf=function(t){Object(u.a)(n,t);var e=Object(l.a)(n);function n(t){var i;Object(o.a)(this,n);var s=(i=e.call(this,t)).props.store;return i.state=s||new zh,i}return Object(c.a)(n,[{key:"render",value:function(){var t=this.state;return Object(F.jsx)(F.Fragment,{children:Object(F.jsxs)("div",{className:"ls__wrapper",children:[t.Commands.includes(jt)?Object(F.jsxs)(F.Fragment,{children:[Object(F.jsx)(T.a,{type:"primary",size:"small",className:"ls__save__button",onClick:t.Update_LevelData,children:Object(F.jsx)(zf.a,{className:"tls__save"})}),Object(F.jsx)(T.a,{type:"primary",size:"small",className:"ls_add",onClick:t.AddItem,children:"+"})]}):"",t.TableView]})})}}]),n}(i.Component),qf=Object(d.observer)(Kf),Qf=n(157),Xf=(n(569),n(279),n(570),n(646)),Yf=(n(571),function(t){Object(u.a)(n,t);var e=Object(l.a)(n);function n(t){var i;Object(o.a)(this,n);var s=(i=e.call(this,t)).props.store;return i.state=s||new Of,i}return Object(c.a)(n,[{key:"render",value:function(){var t=this.state;return Object(F.jsx)(F.Fragment,{children:Object(F.jsx)("div",{className:"tls_filter__value",children:t.Commands.includes(jt)?Object(F.jsxs)(F.Fragment,{children:[Object(F.jsx)(Ve.a,{trigger:t.PopoverState.Content,content:Object(F.jsx)(Me.a,{unCheckedChildren:"inp",checkedChildren:"sel",checked:t.SwitchChecked_Funcs(),onChange:t.ToggleInputType}),children:Object(F.jsx)("span",{children:t.InputElement})}),Object(F.jsx)(T.a,{type:"primary",size:"small",onClick:t.Delete,className:"tls_filter__value__delete",children:"x"})]}):t.Value})})}}]),n}(i.Component)),Jf=Object(d.observer)(Yf),Zf=function(t){Object(u.a)(n,t);var e=Object(l.a)(n);function n(t){var i;Object(o.a)(this,n);var s=(i=e.call(this,t)).props.store;return i.state=s||new Mf,i}return Object(c.a)(n,[{key:"render",value:function(){var t=this.state;return Object(F.jsx)(F.Fragment,{children:Object(F.jsxs)("div",{className:"tls_filter__div",children:[Object(F.jsx)(Le,{store:t.FieldSelectVM,className:"tls_filter_fieldselect"}),Object(F.jsxs)("div",{className:"tls_filter__valuediv__wrapper",children:[t.Commands.includes(jt)?Object(F.jsx)(T.a,{type:"primary",size:"small",onClick:t.AddItem,className:"tls_filter__valuediv__addbutton",children:"+"}):"",Object(F.jsx)("div",{className:"tls_filter__valuediv",children:t.Items.map((function(t){return Object(F.jsx)(Jf,{store:t},t.id)}))})]}),t.Commands.includes(jt)?Object(F.jsx)(T.a,{size:"small",type:"text",className:"tls_filter__deletebutton",onClick:t.Delete,children:Object(F.jsx)(Xf.a,{className:"tls_filter__deleteicon"})}):""]})})}}]),n}(i.Component),$f=Object(d.observer)(Zf),tm=(n(572),function(t){Object(u.a)(n,t);var e=Object(l.a)(n);function n(t){var i;Object(o.a)(this,n);var s=(i=e.call(this,t)).props.store;return i.state=s||new If,i}return Object(c.a)(n,[{key:"render",value:function(){var t=this.state;return Object(F.jsx)(F.Fragment,{children:Object(F.jsxs)("div",{className:"levelgroup__container",children:[Object(F.jsx)(De,{store:t.LevelSelectVM}),t.Commands.includes(jt)?Object(F.jsx)(T.a,{size:"small",type:"text",className:"levelgroup__deletebutton",onClick:t.Delete,children:Object(F.jsx)(Xf.a,{className:"levelgroup__deleteicon"})}):""]})})}}]),n}(i.Component)),em=Object(d.observer)(tm),nm=(Qf.a.TabPane,function(t){Object(u.a)(n,t);var e=Object(l.a)(n);function n(t){var i;Object(o.a)(this,n);var s=(i=e.call(this,t)).props.store;return i.state=s||new Vf,i}return Object(c.a)(n,[{key:"render",value:function(){var t=this.state;return Object(F.jsx)(F.Fragment,{children:Object(F.jsxs)("div",{className:"tls__pageitem__wrapper",children:[Object(F.jsxs)("div",{className:"typicallevel__list",children:[Object(F.jsxs)("div",{className:"typicallevel__list__1",children:[t.Commands.includes(jt)?Object(F.jsx)(T.a,{type:"primary",size:"small",onClick:t.AddFilter,className:"typicallevel__addbutton",children:"+"}):"",Object(F.jsx)("span",{children:Object(F.jsx)("b",{children:"Thi\u1ebft l\u1eadp b\u1ed9 l\u1ecdc"})})]}),t.Filters.map((function(t){return Object(F.jsx)($f,{store:t},t.id)}))]}),Object(F.jsxs)("div",{className:"typicallevel__list",children:[Object(F.jsxs)("div",{className:"typicallevel__list__1",children:[t.Commands.includes(jt)?Object(F.jsx)(T.a,{type:"primary",size:"small",onClick:t.AddLevelGroup,className:"typicallevel__addbutton",children:"+"}):"",Object(F.jsx)("span",{children:Object(F.jsx)("b",{children:"Thi\u1ebft l\u1eadp level"})})]}),t.LevelGroups.map((function(t){return Object(F.jsx)(em,{store:t},t.id)}))]})]})})}}]),n}(i.Component)),im=Object(d.observer)(nm),sm=Qf.a.TabPane,rm=function(t){Object(u.a)(n,t);var e=Object(l.a)(n);function n(t){var i;Object(o.a)(this,n),(i=e.call(this,t)).onKeyDown=function(t){t.stopPropagation()};var s=i.props.store;return i.state=s||new Nf,i}return Object(c.a)(n,[{key:"render",value:function(){var t=this.state;return Object(F.jsx)(F.Fragment,{children:Object(F.jsxs)("div",{className:"tls",children:[t.Commands.includes(jt)?Object(F.jsx)(T.a,{type:"primary",size:"small",className:"tls__save__button",onClick:t.Save,children:Object(F.jsx)(zf.a,{className:"tls__save"})}):"",Object(F.jsx)("div",{className:"tls__tabs__wrapper",children:Object(F.jsxs)("div",{className:"tls__tabs__div",children:[t.Commands.includes(jt)?t.IsHaveAddCommandTab?"":Object(F.jsx)(T.a,{type:"primary",size:"small",onClick:t.AddPageItem,className:"tls__tabs__add__outside",children:"+"}):"",Object(F.jsx)(Qf.a,{type:"card",className:"tls__tabs",onChange:t.ChangePageKey,activeKey:t.CurrentPageKey,onKeyDown:this.onKeyDown,children:t.AllTabs.map((function(t){return Object(F.jsx)(sm,{tab:t.TitleElement,children:Object(F.jsx)(im,{store:t})},t.id)}))})]})})]})})}}]),n}(i.Component),am=Object(d.observer)(rm),om=function(t){Object(u.a)(n,t);var e=Object(l.a)(n);function n(){var t;Object(o.a)(this,n);for(var i=arguments.length,s=new Array(i),r=0;r<i;r++)s[r]=arguments[r];return(t=e.call.apply(e,[this].concat(s))).Save=function(){t.ModelItem.Save()},t}return Object(c.a)(n,[{key:"LevelStorageList",get:function(){return this.ModelItem.LevelStorageList}},{key:"FieldFilterStorageList",get:function(){return this.ModelItem.FieldFilterStorageList}},{key:"MappingView",get:function(){return Object(F.jsxs)("div",{className:"projectcomp__level",children:[Object(F.jsx)("div",{className:"projectcomp__title",children:Object(F.jsx)("h3",{children:"THI\xca\u0301T L\xc2\u0323P MAPPING T\xc2\u0300NG"})}),Object(F.jsx)(qf,{store:this.DataVM.Binding})]})}},{key:"TypicalView",get:function(){return Object(F.jsxs)("div",{className:"projectcomp__typicallevel",children:[Object(F.jsx)("div",{className:"projectcomp__title",children:Object(F.jsx)("h3",{children:"THI\xca\u0301T L\xc2\u0323P T\xc2\u0300NG \u0110I\xca\u0309N HI\u0300NH"})}),Object(F.jsx)(am,{store:this.DataVM.Typical})]})}}]),n}(Fh),cm=function(t,e){if(t){var n=new om;return n.ModelItem=t,n.Project=e,t.OnNameChanged=function(e){t.M2VM&&(n.Name=e)},t.OnDescriptionChanged=function(e){t.M2VM&&(n.Description=e)},t.OnDataChanged=function(e){t.M2VM&&(n.Data=e,n.DataVM=n.GetDataVM())},n.OnGetDataVM=function(){return function(t,e){var n=new _f;return n.ModelItem=t,n.Dict=e,ot(t.OnSet_LevelStorageList_Func_Dict,(function(){return n.LevelStorageList=Uf(n)}),!1),n}(t.Data,n)},n}},um=(n(573),"model"),lm="input",dm=function(){function t(){var e=this;Object(o.a)(this,t),this.ModelItem=void 0,this.Dict=void 0,this.renderState=me,this.nameVM=void 0,this.OnSet_MassType_Func=[],this.IsGet_MassType=void 0,this.TempMassType=void 0,this.massType=void 0,this.massType_Render=void 0,this.massType_Select=void 0,this.MassType_RenderState=me,this.MassType_Edit=function(){pt(jt)&&(e.MassType_RenderState=ve)},this.MassType_EditOK=function(){if(!e.MassType_Select.Open){if(e.MassType_RenderState=me,e.TempMassType===e.MassType)return;e.MassType=e.TempMassType,e.SaveDatabase(!1)}},this.descriptionVM=void 0,this.mass_MultiplyVM=void 0,this.isActive=!1,this.Set_Active=function(){var t,n,i,s;switch(e.RetrieveFrom){case um:i=null===(t=e.Dict)||void 0===t?void 0:t.ModelView,s="CurrentItem";break;case lm:i=null===(n=e.Dict)||void 0===n?void 0:n.InputView,s="TempCurrentItem"}s&&(i[s]&&(i[s].IsActive=!1),i[s]=e,e.IsActive=!0)},this.UnSet_Active=function(){var t,n,i,s;switch(e.RetrieveFrom){case um:i=null===(t=e.Dict)||void 0===t?void 0:t.ModelView,s="CurrentItem";break;case lm:i=null===(n=e.Dict)||void 0===n?void 0:n.InputView,s="TempCurrentItem"}s&&(i[s]=void 0,e.IsActive=!1)},this.activeTool=void 0,this.Save=function(t){var n;null===(n=e.ModelItem)||void 0===n||n.Save(t)},this.SaveDatabase=function(){var t,n=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],i=arguments.length>1?arguments[1]:void 0;null===(t=e.ModelItem)||void 0===t||t.SaveDatabase(n,i)},this.Delete=function(){var t;e.CurrentList.splice(e.Index,1),null===(t=e.ModelItem)||void 0===t||t.Delete()},this.deleteVM=void 0,this.OnSet_MassItems_Func=[],this.IsGet_MassItems=void 0,this.massItems=void 0,this.OnSet_MassItems_Table_Func=[],this.IsGet_MassItems_Table=void 0,this.massItems_Table=void 0,this.SaveMassItems=function(){var t;null===(t=e.ModelItem)||void 0===t||t.SaveMassItems()},this.CheckCommand=function(){var t;return null===(t=e.Commands)||void 0===t?void 0:t.includes(jt)},this.OnMouseEnter=void 0,this.OnMouseLeave=void 0,Object(h.makeObservable)(this,{isActive:h.observable,massItems:h.observable,massItems_Table:h.observable,renderState:h.observable,MassType_RenderState:h.observable})}return Object(c.a)(t,[{key:"id",get:function(){var t;return null===(t=this.ModelItem)||void 0===t?void 0:t.id}},{key:"projectId",get:function(){var t;return null===(t=this.ModelItem)||void 0===t?void 0:t.projectId}},{key:"RenderState",get:function(){return this.renderState},set:function(t){this.renderState=t,this.NameVM.RenderState=t,this.DescriptionVM.RenderState=t,t===me&&this.SaveDatabase(!1)}},{key:"ModalType",get:function(){var t;return null===(t=this.Dict)||void 0===t?void 0:t.InputView.ModalType}},{key:"Name",get:function(){var t;return null===(t=this.ModelItem)||void 0===t?void 0:t.Name},set:function(t){this.ModelItem.Name=t}},{key:"NameVM",get:function(){var t,e=this;return null!==(t=this.nameVM)&&void 0!==t?t:this.nameVM=Ln(this,"Name",(function(){return e.Save()}))}},{key:"NameView",get:function(){return Object(F.jsx)(bn,{className:"mgs__cell__main",store:this.NameVM})}},{key:"NameWrapper_View",get:function(){return Object(F.jsx)("div",{className:"mgs__cell__wrapper",children:this.NameView})}},{key:"MassType",get:function(){return this.massType||tv(this),this.massType},set:function(t){var e=this;this.massType=t,t&&(this.massTypeId=null===t||void 0===t?void 0:t.id,this.MassType_Render.Content=t.Name),ct(this.OnSet_MassType_Func,(function(t){return e.OnSet_MassType_Func=t}))}},{key:"massTypeId",get:function(){var t;return null===(t=this.ModelItem)||void 0===t?void 0:t.massTypeId},set:function(t){this.ModelItem.massTypeId=t}},{key:"MassType_Render",get:function(){var t;return null!==(t=this.massType_Render)&&void 0!==t?t:this.massType_Render=$m(this)}},{key:"MassType_Select",get:function(){var t;return null!==(t=this.massType_Select)&&void 0!==t?t:this.massType_Select=ev(this)}},{key:"MassType_View",get:function(){switch(this.MassType_RenderState){case me:return Object(F.jsx)(dn,{store:this.MassType_Render});case ve:return Object(F.jsx)(Le,{store:this.MassType_Select})}}},{key:"Description",get:function(){var t;return null===(t=this.ModelItem)||void 0===t?void 0:t.Description},set:function(t){this.ModelItem.Description=t}},{key:"DescriptionVM",get:function(){var t,e=this;return null!==(t=this.descriptionVM)&&void 0!==t?t:this.descriptionVM=Ln(this,"Description",(function(){return e.Save()}))}},{key:"DescriptionView",get:function(){return Object(F.jsx)(bn,{className:"mgs__cell__main",store:this.DescriptionVM})}},{key:"DescriptionWrapper_View",get:function(){return Object(F.jsx)("div",{className:"mgs__cell__wrapper",children:this.DescriptionView})}},{key:"InfoView",get:function(){return iv(this)}},{key:"RetrieveFrom",get:function(){var t;return null===(t=this.ModelItem)||void 0===t?void 0:t.RetrieveFrom}},{key:"Mass_Multiply",get:function(){var t;return null===(t=this.ModelItem)||void 0===t?void 0:t.Mass_Multiply},set:function(t){this.ModelItem.Mass_Multiply=t}},{key:"Mass_MultiplyVM",get:function(){var t,e=this;return null!==(t=this.mass_MultiplyVM)&&void 0!==t?t:this.mass_MultiplyVM=Ln(this,"Mass_Multiply",(function(){return e.Save()}))}},{key:"Project",get:function(){var t;return null===(t=this.Dict)||void 0===t?void 0:t.Project}},{key:"IsActive",get:function(){return this.isActive},set:function(t){this.isActive=t}},{key:"ActiveStyle",get:function(){return this.IsActive?"active":""}},{key:"ActiveTool",get:function(){var t;return null!==(t=this.activeTool)&&void 0!==t?t:this.activeTool=Xm(this)}},{key:"RowView",get:function(){return nv(this)}},{key:"CurrentList",get:function(){var t;return null===(t=this.Dict)||void 0===t?void 0:t.Items}},{key:"Index",get:function(){return this.CurrentList.indexOf(this)}},{key:"DeleteVM",get:function(){var t;return null!==(t=this.deleteVM)&&void 0!==t?t:this.deleteVM=Ym(this)}},{key:"MassItems",get:function(){return this.massItems||Jm(this),this.massItems},set:function(t){var e=this;this.massItems=t,ct(this.OnSet_MassItems_Func,(function(t){return e.OnSet_MassItems_Func=t}))}},{key:"MassItems_Table",get:function(){return this.massItems_Table||Zm(this),this.massItems_Table},set:function(t){var e=this;this.massItems_Table=t,ct(this.OnSet_MassItems_Table_Func,(function(t){return e.OnSet_MassItems_Table_Func=t}))}},{key:"Commands",get:function(){return qg.Instance.Commands}}]),t}(),hm=n(141),fm="info",mm="value",vm=(n(574),"input"),_m="detail",pm=function(){function t(){var e=this;Object(o.a)(this,t),this._id=void 0,this.tempId=void 0,this.Dict=void 0,this.Group=void 0,this.Fields=void 0,this.columns=void 0,this.AddColumn=function(){Cm(e),e.Table.Refresh_ColumnCount()},Object(h.makeObservable)(this,{columns:h.observable})}return Object(c.a)(t,[{key:"TempId",get:function(){var t;return null!==(t=this.tempId)&&void 0!==t?t:this.tempId=nt()}},{key:"id",get:function(){return this._id?this._id:this.TempId}},{key:"Title",get:function(){return Dm(this)}},{key:"DefaultField",get:function(){return km(this)}},{key:"Table",get:function(){return this.Dict}},{key:"Columns",get:function(){var t;return null!==(t=this.columns)&&void 0!==t?t:this.columns=Mm(this)}},{key:"ColumnsCount",get:function(){return this.Columns.length}},{key:"View",get:function(){return Object(F.jsxs)("th",{colSpan:this.ColumnsCount,children:[Object(F.jsx)("span",{children:this.Title}),this.Table.UseType===_m||pt(jt)?Object(F.jsx)(T.a,{type:"primary",size:"small",className:"es__mi__add btn-success",onClick:this.AddColumn,children:"+"}):""]},this.id)}},{key:"Commands",get:function(){return qg.Instance.Commands}}]),t}(),bm=function(){function t(){var e=this;Object(o.a)(this,t),this._id=void 0,this.tempId=void 0,this.Dict=void 0,this.renderState=me,this.Edit=function(){var t;(e.Table.UseType===_m||null!==(t=e.Commands)&&void 0!==t&&t.includes(jt))&&e.RenderState===me&&(e.RenderState=ve,e.Hide_Tool())},this.field=void 0,this.Group=void 0,this.title=void 0,this.titleSelect=void 0,this.Delete=function(){e.CurrentList.splice(e.Index,1),e.Table.Refresh_ColumnCount()},this.deleteVM=void 0,this.OnMouseEnter=function(){e.RenderState!==ve&&e.Show_Tool()},this.OnMouseLeave=function(){e.Hide_Tool()},this.Show_Tool=function(){e.DeleteVM.Show()},this.Hide_Tool=function(){e.DeleteVM.Hide()},this.MassItem_Render=function(t){var n=e.Field,i=new v;return(e.Group===fm?function(){var e=t.GetValue(n,(function(t){i.Content=t}),!1);i.Content=e.Value}:function(){i.Content=t.ValueDict.GetValue(n,"raw",void 0,!0)})(),Object(F.jsxs)("td",{children:[" ",i.Content," "]},e.id)},Object(h.makeObservable)(this,{renderState:h.observable,title:h.observable})}return Object(c.a)(t,[{key:"TempId",get:function(){var t;return null!==(t=this.tempId)&&void 0!==t?t:this.tempId=nt()}},{key:"id",get:function(){return this._id?this._id:this.TempId}},{key:"RenderState",get:function(){return this.renderState},set:function(t){this.renderState=t}},{key:"Field",get:function(){return this.field},set:function(t){this.field=t,this.Title=ym(this)}},{key:"Table",get:function(){return this.Dict.Table}},{key:"Title",get:function(){var t;return null!==(t=this.title)&&void 0!==t?t:this.title=ym(this)},set:function(t){this.title=t}},{key:"TitleSelect",get:function(){var t;return null!==(t=this.titleSelect)&&void 0!==t?t:this.titleSelect=gm(this)}},{key:"TitleView",get:function(){switch(this.RenderState){case me:return Object(F.jsxs)("div",{className:"f",children:[Object(F.jsxs)("div",{className:"f1",children:[" ",this.Title," "]}),this.Table.UseType===_m||pt(jt)?this.DeleteVM.View:""]});case ve:return Object(F.jsx)(Le,{store:this.TitleSelect})}}},{key:"View",get:function(){return Object(F.jsx)("th",{style:this.Table.Tr_Style,onDoubleClick:this.Edit,onMouseEnter:this.OnMouseEnter,onMouseLeave:this.OnMouseLeave,children:this.TitleView},this.id)}},{key:"CurrentList",get:function(){var t;return null===(t=this.Dict)||void 0===t?void 0:t.Columns}},{key:"Index",get:function(){return this.CurrentList.indexOf(this)}},{key:"DeleteVM",get:function(){var t;return null!==(t=this.deleteVM)&&void 0!==t?t:this.deleteVM=Om(this)}},{key:"Commands",get:function(){return qg.Instance.Commands}}]),t}(),Im=function(){return Yd.Instance},jm=function(t,e,n){var i=new bm;return i.Field=t,i.Group=e,i.Dict=n,i},gm=function(t){var e=new xe;switch(t.Group){case fm:e.Items=t.Table.UseType===vm?Im().MIF_Dict_ForInput:Im().MIF_Dict_ForMassGroup;break;case mm:e.Items=Im().MUT_Dict}return e.TitleRender=function(t){return t.Name},e.InitialItem=e.Items.find((function(e){return e.Name===t.Title})),e.OnSelectedItemChanged=function(e){t.Field=e.Value,t.RenderState=me},e},ym=function(t){var e,n=t.Field;switch(t.Group){case fm:e=de(n);break;case mm:e=ir(n)}return e},Om=function(t){var e=new sa;return e.ToggleType=Zr,e.Title="X\xe1c nh\u1eadn x\xf3a?",e.OnRun=function(){t.Delete()},e},Sm=function(t,e){var n=new pm;return n.Group=t,n.Dict=e,n},Dm=function(t){var e;switch(t.Group){case fm:e="TH\xd4NG TIN";break;case mm:e="GI\xc1 TR\u1eca"}return e},Mm=function(t){return t.Fields.map((function(e){return jm(e,t.Group,t)}))},km=function(t){var e;switch(t.Group){case fm:e=Bt;break;case mm:e=er}return e},Cm=function(t){var e=jm(t.DefaultField,t.Group,t);return t.Columns.push(e),e},Vm=(n(575),Object(d.observer)((function(t){var e=t.store;return Object(F.jsx)(F.Fragment,{children:Object(F.jsxs)("table",{className:"table table-bordered",children:[Object(F.jsxs)("thead",{className:"es__thead",children:[Object(F.jsx)("tr",{children:e.ColumnGroups.map((function(t){return t.View}))}),Object(F.jsx)("tr",{children:e.ColumnGroups.map((function(t){return t.Columns.map((function(t){return t.View}))}))})]}),Object(F.jsx)("tbody",{children:e.Items?e.Items.map((function(t){return Object(F.jsx)("tr",{children:e.ColumnGroups.map((function(e){return e.Columns.map((function(e){return e.MassItem_Render(t)}))}))},t._id)})):Object(F.jsx)("tr",{})})]})})}))),wm="https://api.bimdev.vn/api/hbes_table",Tm=function(){function t(){var e=this;Object(o.a)(this,t),this.OnSet_id_Func_Dict=[],this.__id=void 0,this.tempId=void 0,this.Dict=void 0,this.UseType=void 0,this.IsGet_Items=void 0,this.items=void 0,this.SetItems=function(t){e.Dict.ModelItem.MassItems=t},this.Refresh_Info=function(){e.Infos=Pm(e),e.Values=Um(e)},this.infos=void 0,this.values=void 0,this.Refresh_ColumnCount=function(){e.ColumnCount=Hm(e)},this.columnCount=void 0,this.columnGroups=void 0,this.GetColumnGroup=function(t){return e.ColumnGroups.find((function(e){return e.Group===t}))},this.SaveDatabase=function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=arguments.length>1?arguments[1]:void 0;dt(e,wm,(function(){t&&O.b.success("save successfully!"),n&&n()}))},this.save=void 0,this.pasteContent=void 0,this.pasteVM=void 0,this.OnPaste=function(t){var n=ft(t).split("\r\n");if(0!==n.length&&(1!==n.length||0!==n[0].length)){var i=n.map((function(t){return t.split("\t")})),s=i.length-1;1===i[s].length&&0===i[s][0].length&&i.splice(s,1);Bm(e,i,(function(t){e.SetItems(t),e.Dict.SaveMassItems(),e.PasteVM.Content=""}))}},this.Refresh_Columns=function(t,n){e.Infos=t,e.Values=n,e.ColumnGroups=Am(e),e.ColumnCount=Hm(e)},this.SetColumns=function(t){var n=t.infos,i=t.values;e.Infos=n,e.Values=i,e.ColumnGroups=Am(e),e.ColumnCount=Hm(e)},Object(h.makeObservable)(this,{items:h.observable,columnCount:h.observable,columnGroups:h.observable})}return Object(c.a)(t,[{key:"_id",get:function(){return this.__id},set:function(t){var e=this;this.__id=t,ct(this.OnSet_id_Func_Dict,(function(t){return e.OnSet_id_Func_Dict=t}))}},{key:"TempId",get:function(){var t;return null!==(t=this.tempId)&&void 0!==t?t:this.tempId=nt()}},{key:"id",get:function(){return this._id?this._id:this.TempId}},{key:"Items",get:function(){return this.items||Lm(this),this.items},set:function(t){this.items=t}},{key:"Infos",get:function(){var t;return null!==(t=this.infos)&&void 0!==t?t:this.infos=Gm(this)},set:function(t){this.infos=t}},{key:"InfoCount",get:function(){return this.Infos.length}},{key:"Values",get:function(){var t;return null!==(t=this.values)&&void 0!==t?t:this.values=Em(this)},set:function(t){this.values=t}},{key:"ValueCount",get:function(){return this.Values.length}},{key:"ColumnCount",get:function(){var t;return null!==(t=this.columnCount)&&void 0!==t?t:this.columnCount=Hm(this)},set:function(t){this.columnCount=t}},{key:"Tr_Style",get:function(){return{width:(1/this.ColumnCount*100).toFixed(1)+"%"}}},{key:"ColumnGroups",get:function(){var t;return null!==(t=this.columnGroups)&&void 0!==t?t:this.columnGroups=Am(this)},set:function(t){this.columnGroups=t}},{key:"ApiData",get:function(){this.Refresh_Info();var t={_id:this._id,infos:this.Infos,values:this.Values};return this.UseType===vm&&(t.dictId=this.Dict.ModelItem._id),t}},{key:"Save",get:function(){var t;return null!==(t=this.save)&&void 0!==t?t:this.save=Wm(this)}},{key:"PasteContent",get:function(){return this.pasteContent},set:function(t){this.pasteContent=t,t&&0!==t.length&&(this.PasteVM.Content="")}},{key:"PasteVM",get:function(){var t,e=this;return null!==(t=this.pasteVM)&&void 0!==t?t:this.pasteVM=function(){var t=new v;return t.Content="",t.Placeholder="paste d\u1eef li\u1ec7u ...",t.onSetContent=function(t){return e.PasteContent=t},t}()}},{key:"View",get:function(){return Object(F.jsx)(Vm,{store:this})}},{key:"WrapperView",get:function(){return Object(F.jsxs)("div",{children:[pt(jt)?Object(F.jsx)("div",{className:"es__table__tool__wrapper",children:Object(F.jsxs)("div",{className:"f-ac",children:[this.Dict.Dict?Object(F.jsxs)(F.Fragment,{children:[this.Dict.Dict.InputView.LoadSetting_PickView,Object(F.jsx)(T.a,{type:"primary",size:"small",className:"es__table__savesetting",onClick:this.Save,children:"L\u01afU \u0110\u1ea6U M\u1ee4C"})]}):"",this.UseType===vm?Object(F.jsx)(R,{store:this.PasteVM,className:"es__table__paste",onPaste:this.OnPaste}):""]})}):"",Object(F.jsx)(Vm,{store:this})]})}}]),t}(),xm="Concrete",Fm=function(){function t(){Object(o.a)(this,t),this._id=void 0,this.items=void 0,this.detailTable=void 0,this.MainMassType=void 0,Object(h.makeObservable)(this,{})}return Object(c.a)(t,[{key:"id",get:function(){return null===this||void 0===this?void 0:this._id},set:function(t){var e=this;this._id=t,function(t,e){var n="https://api.bimdev.vn/api/hbdv/massdetail?id=".concat(t);C(n).then((function(t){return t.data})).then((function(t){t.viewDetail;var n=t.masses,i=(t.phase,n.map((function(t){return Ws(t)})));null===e||void 0===e||e(i)}))}(t,(function(t){e.Items=t}))}},{key:"Items",get:function(){return this.items},set:function(t){this.items=t,this.MainMassType=function(t){var e=t.Items;return e&&0!==e.length?e[0].MassType:xm}(this),this.DetailTable.Items=t}},{key:"DetailTable",get:function(){var t;return null!==(t=this.detailTable)&&void 0!==t?t:this.detailTable=Rm(this)}}]),t}(),Nm=function(){return Yd.Instance},Rm=function(t){var e=new Tm;return t instanceof dm?e.UseType=vm:t instanceof Fm&&(Nm().MassDetail_Table=e,e.UseType=_m),e.Dict=t,e},Lm=function(t){if(!t.IsGet_Items){t.IsGet_Items=!0;var e=function(e){t.Items=e,t.IsGet_Items=!1},n=t.Dict;n instanceof dm&&(n.MassItems&&e(n.MassItems),ot(n.OnSet_MassItems_Func,(function(){return e(n.MassItems)}),!1))}},Gm=function(t){return[Bt,Wt]},Pm=function(t){return t.GetColumnGroup(fm).Columns.map((function(t){return t.Field}))},Em=function(t){return[er]},Um=function(t){return t.GetColumnGroup(mm).Columns.map((function(t){return t.Field}))},Am=function(t){var e=Sm(fm,t);e.Fields=t.Infos;var n=Sm(mm,t);return n.Fields=t.Values,[e,n]},Hm=function(t){return t.ColumnGroups.reduce((function(t,e){return t+e.Columns.length}),0)},Bm=function(t,e,n){t.Refresh_Info();var i,s,r=t.Infos,a=r.length,o=t.Values,c=a+o.length,u=e.length,l=[],d=function(){i&&s&&(null===n||void 0===n||n(l))},h=0,f=0;e.forEach((function(t){var e=new Xs,n=e.Info={},m=e.ValueDict;m.Dict=e,m.GetItem(er).Value=1;var v=Object(he.a)(r),_=t.filter((function(t,e){return e<a})),p=t.filter((function(t,e){return e>=a&&e<c})),b=[Wt,Bt];b.forEach((function(t){v.includes(t)||(v.push(t),_.push(void 0))}));for(var I=0,j=_.length,g=function(){++I===j&&++f===u&&(s=!0,d())},y=0;y<_.length;y++){var O=v[y],S=_[y];if(b.includes(O))!function(){var t=function(t,n){return e[t]=n};switch(O){case Wt:Nm().CurrentProject.LevelDict.GetLevel(S,(function(e){t("Level_Obj",e),g()}));break;case Bt:Nm().WorkItem_Dict.GetItem(S,(function(e){t("WorkItem_Obj",e),g()}))}}();else n[O]=S,g()}for(var D=0;D<p.length;D++){var M=p[D];isNaN(M)||(m.GetItem(o[D]).Value=parseFloat(M))}l.push(e),++h===u&&(i=!0,d())}))},Wm=function(t){switch(t.UseType){case vm:return t.SaveDatabase;case _m:return qg.Instance.Mds_Dict_Dict.OpenSave}},zm="edit",Km="pickitem",qm=function(){return qg.Instance},Qm=function(t,e){var n=new dm;return n.ModelItem=t,n.Dict=e,n},Xm=function(t){var e=new sa;return e.ToggleType=Jr,e.Retrieve_WrapperView=function(){return t.IsActive?Object(F.jsx)(T.a,{type:"primary",size:"small",onClick:t.UnSet_Active,className:"btn-warning",children:Object(F.jsx)(hm.a,{})}):Object(F.jsx)(T.a,{type:"primary",size:"small",onClick:t.Set_Active,children:Object(F.jsx)(jh.a,{})})},e},Ym=function(t){var e=new sa;return e.ToggleType=Jr,e.Title="X\xe1c nh\u1eadn x\xf3a?",e.OnRun=function(){t.Delete()},e},Jm=function(t){if(!t.IsGet_MassItems){t.IsGet_MassItems=!0;var e=function(e){t.MassItems=e,t.IsGet_MassItems=!1},n=t.ModelItem;n.MassItems&&e(n.MassItems),ot(n.OnSet_MassItems_Func,(function(){return e(n.MassItems)}),!1)}},Zm=function(t){if(!t.IsGet_MassItems_Table){t.IsGet_MassItems_Table=!0;!function(t,e){t=t||{},w("".concat(wm,"/list"),t).then((function(t){return t.data})).then((function(t){return null===e||void 0===e?void 0:e(t)}))}({dictId:t.ModelItem._id},(function(e){t.MassItems_Table=0!==e.length?function(t,e){var n=Rm(e);return n._id=t._id,n.Infos=t.infos,n.Values=t.values,n}(e[0],t):Rm(t),t.IsGet_MassItems_Table=!1}))}},$m=function(t){var e=new v;return t.MassType&&(e.Content=t.MassType.Name),e},tv=function(t){if(!t.IsGet_MassType){t.IsGet_MassType=!0;var e=function(e){var n=e,i=t.massTypeId;t.MassType=i?n.find((function(t){return t.id===i})):n[0],t.IsGet_MassType=!1},n=qm().MassType_Dict.ListData;n.Items?e(n.Items):ot(n.OnSet_Items_Func,(function(){return e(n.Items)}))}},ev=function(t){var e=new xe,n=function(n){e.Items=n;var i=function(){e.InitialItem=t.MassType};t.MassType?i():ot(t.OnSet_MassType_Func,i)},i=qm().MassType_Dict.ListData;return i.Items?n(i.Items):ot(i.OnSet_Items_Func,(function(){return n(i.Items)})),e.TitleRender=function(t){return t.Name},e.OnSelectedItemChanged=function(e){return t.TempMassType=e},e.OnSetOpen=function(e){e||t.MassType_EditOK()},e},nv=function(t){var e=function(){return t.RetrieveFrom!==lm||t.ModalType===Km};return Object(F.jsxs)("tr",{className:"es__row ".concat(e()?t.ActiveStyle:""),onMouseEnter:t.OnMouseEnter,onMouseLeave:t.OnMouseLeave,children:[Object(F.jsx)("td",{onMouseEnter:function(){return e()&&Nn(t.NameVM,t.CheckCommand)},onMouseLeave:function(){return e()&&Rn(t.NameVM)},children:t.NameWrapper_View}),t.RetrieveFrom===lm?Object(F.jsxs)(F.Fragment,{children:[Object(F.jsx)("td",{onMouseEnter:function(){return e()&&t.MassType_Edit()},onMouseLeave:function(){return e()&&t.MassType_EditOK()},children:t.MassType_View}),Object(F.jsx)("td",{onMouseEnter:function(){return e()&&Nn(t.DescriptionVM,t.CheckCommand)},onMouseLeave:function(){return e()&&Rn(t.DescriptionVM)},children:t.DescriptionWrapper_View})]}):Object(F.jsx)("td",{children:t.InfoView}),Object(F.jsx)("td",{children:Object(F.jsx)("div",{className:"f",children:e()?Object(F.jsxs)(F.Fragment,{children:[t.RetrieveFrom===lm?t.ActiveTool.View:"",pt(zm)?t.DeleteVM.View:""]}):Object(F.jsx)(F.Fragment,{children:Object(F.jsx)(T.a,{type:"primary",size:"small",onClick:function(){var e,n=null===(e=t.Dict)||void 0===e?void 0:e.InputView,i=function(t){n.CurrentItem.MassItems_Table.SetColumns({infos:t.Infos,values:t.Values}),n.Is_Modal_Visible=!1};t.MassItems_Table?i(t.MassItems_Table):ot(t.OnSet_MassItems_Table_Func,(function(){return i(t.MassItems_Table)}))},children:"ok"})})})})]})},iv=function(t){return Object(F.jsx)("table",{className:"w-100p es__info__table",children:Object(F.jsxs)("tbody",{children:[Object(F.jsxs)("tr",{children:[Object(F.jsx)("th",{children:"M\xf4 t\u1ea3:"}),Object(F.jsx)("td",{onMouseEnter:function(){return Nn(t.DescriptionVM,t.CheckCommand)},onMouseLeave:function(){return Rn(t.DescriptionVM)},children:t.DescriptionView})]}),Object(F.jsxs)("tr",{children:[Object(F.jsx)("th",{children:"Nh\xe2n h\u1ec7 s\u1ed1:"}),Object(F.jsx)("td",{onMouseEnter:function(){return Nn(t.Mass_MultiplyVM,t.CheckCommand)},onMouseLeave:function(){return Rn(t.Mass_MultiplyVM)},children:t.Mass_MultiplyVM.View})]})]})})},sv=function(){function t(){var e=this;Object(o.a)(this,t),this.ModelItem=void 0,this.Dict=void 0,this.Project=void 0,this.IsGet_Items=void 0,this.items=void 0,this.AddItem=function(t){var n;if(e.ModelItem){var i=e.ModelItem.AddItem(t),s=Qm(i,e);return null===(n=e.Items)||void 0===n||n.push(s),s}},this.currentItem=void 0,this.modelView=void 0,this.inputView=void 0,Object(h.makeObservable)(this,{items:h.observable,currentItem:h.observable})}return Object(c.a)(t,[{key:"id",get:function(){var t;return null===(t=this.ModelItem)||void 0===t?void 0:t.id}},{key:"Items",get:function(){return this.items||vv(this),this.items},set:function(t){this.items=t}},{key:"ModelItems",get:function(){var t;return null===(t=this.Items)||void 0===t?void 0:t.filter((function(t){return t.RetrieveFrom===um}))}},{key:"InputItems",get:function(){var t;return null===(t=this.Items)||void 0===t?void 0:t.filter((function(t){return t.RetrieveFrom===lm}))}},{key:"CurrentItem",get:function(){return this.currentItem},set:function(t){this.currentItem=t,this.ModelItem.CurrentItem=null===t||void 0===t?void 0:t.ModelItem}},{key:"ModelView",get:function(){var t;return null!==(t=this.modelView)&&void 0!==t?t:this.modelView=_v(this)}},{key:"InputView",get:function(){var t;return null!==(t=this.inputView)&&void 0!==t?t:this.inputView=pv(this)}},{key:"Commands",get:function(){return qg.Instance.Commands}}]),t}(),rv=(n(576),Object(d.observer)((function(t){var e=t.store;return Object(F.jsx)(F.Fragment,{children:e.RowView})}))),av=Object(d.observer)((function(t){var e,n=t.store,i=n.RetrieveFrom!==lm||n.ModalType===Km?n.Items:null===(e=n.Items)||void 0===e?void 0:e.filter((function(t){return n.CurrentItem!==t}));return Object(F.jsx)(F.Fragment,{children:Object(F.jsxs)("table",{className:"table table-bordered",children:[Object(F.jsx)("thead",{className:"es__thead",children:Object(F.jsxs)("tr",{children:[Object(F.jsx)("th",{className:"es__table__name",children:"T\xean"}),n.RetrieveFrom===lm?Object(F.jsx)("th",{className:"es__table__masstype",children:"C\xf4ng t\xe1c"}):"",Object(F.jsx)("th",{className:"es__table__description",children:n.RetrieveFrom===lm?"M\xf4 t\u1ea3":"Th\xf4ng tin"}),Object(F.jsx)("th",{className:"es__table__command"})]})}),Object(F.jsx)("tbody",{children:null===i||void 0===i?void 0:i.map((function(t){return Object(F.jsx)(rv,{store:t},t.id)}))})]})})})),ov=function(){function t(){Object(o.a)(this,t),this.Dict=void 0,this.RetrieveFrom=void 0,this.TempCurrentItem=void 0,this.currentItem=void 0,this.addVM=void 0,this.ModalType=void 0,this.Is_Modal_Visible=!1,this.Is_LoadSetting_Modal_Visible=!1,Object(h.makeObservable)(this,{currentItem:h.observable,Is_Modal_Visible:h.observable,ModalType:h.observable})}return Object(c.a)(t,[{key:"Items",get:function(){return lv(this)}},{key:"CurrentItem",get:function(){return this.currentItem},set:function(t){this.currentItem=t}},{key:"AddVM",get:function(){var t;return null!==(t=this.addVM)&&void 0!==t?t:this.addVM=dv(this)}},{key:"Commands",get:function(){return qg.Instance.Commands}},{key:"Table_WrapperView",get:function(){var t;return Object(F.jsxs)("div",{className:"f",children:[this.RetrieveFrom!==um&&this.ModalType!==Km||null===(t=this.Commands)||void 0===t||!t.includes(jt)?"":Object(F.jsx)("div",{className:"es__add",children:this.AddVM.View}),Object(F.jsx)("div",{className:"es__main f1",children:Object(F.jsx)(av,{store:this})})]})}},{key:"ModalView",get:function(){return fv(this)}},{key:"PickView",get:function(){return hv(this)}},{key:"LoadSetting_PickView",get:function(){return mv(this)}},{key:"View",get:function(){switch(this.RetrieveFrom){case um:return this.Table_WrapperView;case lm:return Object(F.jsx)(F.Fragment,{children:Object(F.jsxs)("div",{className:"es__wrapper",children:[Object(F.jsxs)("div",{className:"es__pick__wrapper",children:[Object(F.jsx)("div",{className:"f",children:this.PickView}),this.ModalView]}),Object(F.jsx)("div",{className:"es__render__wrapper",children:this.CurrentItem&&this.CurrentItem.MassItems_Table?Object(F.jsx)("div",{children:this.CurrentItem.MassItems_Table.WrapperView},this.CurrentItem.id):""})]})})}}}]),t}(),cv=n(647),uv=function(t,e){var n=new ov;return n.Dict=e,n.RetrieveFrom=t,n},lv=function(t){var e,n,i;switch(t.RetrieveFrom){case um:i=null===(e=t.Dict)||void 0===e?void 0:e.ModelItems;break;case lm:i=null===(n=t.Dict)||void 0===n?void 0:n.InputItems}return i},dv=function(t){var e=new sa,n=new v;return n.Placeholder="t\xean b\u1ea3ng ...",e.ToggleType=Jr,e.Title="X\xe1c nh\u1eadn th\xeam b\u1ea3ng?",e.OnPre_ShowHover=function(){n.Content=void 0},e.Modal_ContentView=Object(F.jsx)("div",{className:"f-ac",children:e.Modal_ButtonView}),e.ShowHover_Button=Object(F.jsx)(T.a,{type:"primary",size:"small",className:"btn-success",onClick:e.Show_Hover,children:Object(F.jsx)(cv.a,{})}),e.OnPreRun=function(){},e.OnRun=function(){var e;null===(e=t.Dict)||void 0===e||e.AddItem(t.RetrieveFrom)},e},hv=function(t){var e=t.CurrentItem?t.CurrentItem.Name:"(none)";return Object(F.jsx)(T.a,{type:"primary",onClick:function(){t.ModalType=Km,t.Is_Modal_Visible=!0,t.TempCurrentItem&&t.TempCurrentItem.UnSet_Active()},children:Object(F.jsxs)("div",{className:"f",children:[Object(F.jsx)("div",{children:"CH\u1eccN B\u1ea2NG:"}),Object(F.jsx)("div",{className:"es__pick__current",children:e})]})})},fv=function(t){var e=t.ModalType===Km?"CH\u1eccN B\u1ea2NG TH\u1ed0NG K\xca":"LOAD \u0110\u1ea6U M\u1ee4C",n=function(){t.Is_Modal_Visible=!1};return Object(F.jsx)(pe.a,{title:e,visible:t.Is_Modal_Visible,width:1e3,className:"es__modal",onCancel:n,footer:t.ModalType===Km?Object(F.jsxs)(F.Fragment,{children:[Object(F.jsx)(T.a,{type:"primary",size:"small",onClick:function(){t.Is_Modal_Visible=!1,t.CurrentItem=t.TempCurrentItem},children:"ok"}),Object(F.jsx)(T.a,{type:"text",size:"small",onClick:n,children:"cancel"})]}):"",children:Object(F.jsx)("div",{children:t.Table_WrapperView})})},mv=function(t){return Object(F.jsx)(T.a,{type:"primary",size:"small",onClick:function(){t.ModalType="loadsetting",t.Is_Modal_Visible=!0},children:Object(F.jsx)("div",{children:"LOAD \u0110\u1ea6U M\u1ee4C"})})},vv=(n(577),function(t){if(!t.IsGet_Items){t.IsGet_Items=!0;var e=function(e){t.Items=e.map((function(e){return Qm(e,t)})),t.IsGet_Items=!1},n=t.ModelItem;n.Items&&e(n.Items),ot(n.OnSet_Items_Func,(function(){return e(n.Items)}),!1)}}),_v=function(t){return uv(um,t)},pv=function(t){return uv(lm,t)},bv=function(t,e){if(t){var n=new xh;return n.ModelItem=t,n.Dict=e,n}},Iv=function(t){var e;return function(t){var e=new Dh;return e.ModelItem=t,e}(null===(e=t.ModelItem)||void 0===e?void 0:e.Phase_Dict)},jv=function(t){var e;return function(t,e){var n=new sv;return n.ModelItem=t,n.Dict=e,e instanceof xh&&(n.Project=e),n}(null===(e=t.ModelItem)||void 0===e?void 0:e.ExportSet_Dict,t)},gv=function(t){if(!t.IsGet_LevelSetting){t.IsGet_LevelSetting=!0;var e=function(e){t.LevelSetting=function(t,e){if(t){var n=new Nh;return n.ModelItem=t,n.Project=e,n.OnGetDataVM=function(){var e=t.Data;return mf(e,n)},n}}(e,t)},n=t.ModelItem;null!==n&&void 0!==n&&n.LevelSetting?e(n.LevelSetting):ot(null===n||void 0===n?void 0:n.OnSet_LevelSetting_Func_Dict,(function(){e(null===n||void 0===n?void 0:n.LevelSetting)}),!1)}},yv=function(t,e){return cm(t,e)},Ov=function(t){var e=t.ModelItem,n=null===e||void 0===e?void 0:e.TypicalLevelSetting;if(n)return yv(n,t);ot(null===e||void 0===e?void 0:e.OnGetTypicalLevelSetting_Func_Dict,(function(){return t.TypicalLevelSetting=yv(null===e||void 0===e?void 0:e.TypicalLevelSetting,t)}),!1)},Sv=function(t){var e=t.ModelItem,n=null===e||void 0===e?void 0:e.TypicalLevelSetting_ForEdit;if(n)return yv(n,t);ot(null===e||void 0===e?void 0:e.OnGetTypicalLevelSetting_Func_Dict,(function(){return t.TypicalLevelSetting_ForEdit=yv(null===e||void 0===e?void 0:e.TypicalLevelSetting_ForEdit,t)}),!1)},Dv=function(t){if(!t.IsGet_Commands){t.IsGet_Commands=!0;var e=function(e){t.Commands=e,t.IsGet_Commands=!1},n=t.ModelItem;null!==n&&void 0!==n&&n.Commands&&e(n.Commands),ot(null===n||void 0===n?void 0:n.OnSet_Commands_Func,(function(){return e(null===n||void 0===n?void 0:n.Commands)}),!1)}},Mv=function(t){var e=new sa;return e.ToggleType="manual",e.Title="X\xe1c nh\u1eadn x\xf3a?",e.OnRun=function(){t.Delete()},e},kv=function(t,e){return Object(F.jsx)(Gh.b,{draggableId:t.id?t.id:"drag",index:e||0,children:function(e,n){return Object(F.jsxs)("tr",Object(bh.a)(Object(bh.a)({},e.draggableProps),{},{ref:e.innerRef,style:Lh(n.isDragging,e.draggableProps.style),children:[Object(F.jsx)("td",Object(bh.a)(Object(bh.a)({},e.dragHandleProps),{},{className:"move-td",children:Object(F.jsx)(Ph.a,{})})),Object(F.jsx)("td",{onMouseEnter:function(){return Nn(t.NameVM,(function(){return pt("edit")}))},onMouseLeave:function(){return Rn(t.NameVM)},children:t.NameView}),Object(F.jsx)("td",{onMouseEnter:function(){return Nn(t.CodeVM,(function(){return pt("edit")}))},onMouseLeave:function(){return Rn(t.CodeVM)},children:t.CodeView}),pt("admin")?Object(F.jsx)("td",{className:"text-center",children:t.FortestVM.View}):void 0,Object(F.jsx)("td",{children:Object(F.jsx)("div",{className:"f-jc",children:Object(F.jsx)("div",{className:"f",children:pt("edit")?t.DeleteVM.View:""})})})]}))}},t.id)},Cv=(n(578),n(579),Object(d.observer)((function(t){var e=t.store;return Object(F.jsx)(F.Fragment,{children:Object(F.jsxs)("table",{className:"table table-bordered",children:[Object(F.jsx)("thead",{className:"es__thead",children:Object(F.jsxs)("tr",{children:[Object(F.jsx)("th",{className:"mt__table__move"}),Object(F.jsx)("th",{className:"project__table__name text-center",children:"T\xean"}),Object(F.jsx)("th",{className:"text-center",children:"M\xe3 d\u1ef1 \xe1n"}),pt("admin")?Object(F.jsx)("th",{className:"project__table__fortest text-center",children:"For test"}):void 0,Object(F.jsx)("th",{className:"mt__table__command"})]})}),Object(F.jsx)(Gh.a,{onDragEnd:e.OnDragEnd,children:Object(F.jsx)(Gh.c,{droppableId:"project-dict",children:function(t){var n;return Object(F.jsxs)("tbody",Object(bh.a)(Object(bh.a)({},t.droppableProps),{},{ref:t.innerRef,children:[null===(n=e.Items)||void 0===n?void 0:n.map((function(t,e){return kv(t,e)})),t.placeholder]}))}})})]})})}))),Vv=function(){function t(){var e=this;Object(o.a)(this,t),this.ModelItem=void 0,this.IsGet_Items=void 0,this.OnSet_Items_Func=[],this.items=void 0,this.OnGetItemsDone=void 0,this.AddItem=function(){var t;if(e.ModelItem){var n=e.ModelItem.AddItem(),i=bv(n,e);return i&&(null===(t=e.Items)||void 0===t||t.push(i)),i}},this.selectVM=void 0,this.Move=function(t,n){var i,s=e.Items;it(s,t,n),null===(i=e.ModelItem)||void 0===i||i.Move(t,n)},this.Insert=function(t,n){var i,s=e.Items;st(s,t,n),null===(i=e.ModelItem)||void 0===i||i.Insert(t,n)},this.OnDragEnd=function(t){if(t.destination){var n=t.source.index,i=t.destination.index;e.Insert(n,i)}},Object(h.makeObservable)(this,{items:h.observable})}return Object(c.a)(t,[{key:"Items",get:function(){return this.items||wv(this),this.items},set:function(t){var e=this;this.items=t,this.GetItemsDone=!0,ct(this.OnSet_Items_Func,(function(t){return e.OnSet_Items_Func=t}))}},{key:"GetItemsDone",set:function(t){var e;null===(e=this.OnGetItemsDone)||void 0===e||e.call(this,t)}},{key:"SelectVM",get:function(){var t;return null!==(t=this.selectVM)&&void 0!==t?t:this.selectVM=Tv(this)}},{key:"SelectView",get:function(){return Object(F.jsx)("div",{className:"projectdict__select",children:this.SelectVM.View})}},{key:"TableView",get:function(){return Object(F.jsx)(Cv,{store:this})}},{key:"View",get:function(){return Object(F.jsxs)("div",{className:"f",children:[pt("edit")?Object(F.jsx)("div",{className:"es__add",children:Object(F.jsx)(T.a,{type:"primary",size:"small",className:"btn-success addproject",onClick:this.AddItem,children:"+"})}):"",Object(F.jsx)("div",{className:"es__main f1",children:Object(F.jsx)(Cv,{store:this})})]})}}]),t}(),wv=function(t){if(!t.IsGet_Items){t.IsGet_Items=!0;var e=function(e){t.Items=e.map((function(e){return bv(e,t)})),t.IsGet_Items=!1},n=t.ModelItem;n&&(n.Items&&e(n.Items),ot(n.OnSet_Items_Func,(function(){return e(null===n||void 0===n?void 0:n.Items)}),!1))}},Tv=function(t){var e=new xe;e.Placeholder="Ch\u1ecdn d\u1ef1 \xe1n";var n=function(){var n=e.Items=t.Items;e.TitleRender=function(t){return t.Name},e.OnSelectedItemChanged=function(t){qg.Instance.ProjectComp.ProjectVM=t},e.SetValue(n[0])};return t.Items?n():ot(t.OnSet_Items_Func,n),e},xv=(n(580),Object(d.observer)((function(t){var e,n,i=t.store;return Object(F.jsx)(F.Fragment,{children:i.IsDataPending?Object(F.jsx)("div",{className:"f-jc",children:Object(F.jsxs)("div",{children:[Object(F.jsx)(we.a,{}),Object(F.jsx)(dn,{store:i.LoadingSpinTipVM})]})}):Object(F.jsxs)("div",{className:"f",children:[null===(e=i.MassTable)||void 0===e?void 0:e.View,Object(F.jsx)("div",{className:"massdict__forgewrapper f1",children:null===(n=i.Forge)||void 0===n?void 0:n.View})]})})}))),Fv=(be.a.Option,function(){return qg.Instance}),Nv=Object(d.observer)((function(t){t.store;var e,n=null!==(e=Jd)&&void 0!==e?e:Jd=Fv().MassResultCompVM;return Object(F.jsxs)(F.Fragment,{children:[n.IsShowProjectSelect?Object(F.jsx)(De,{store:n.ProjectSelectVM}):"",pt([It,jt])?Object(F.jsxs)(F.Fragment,{children:[n.CanHavePhase?Object(F.jsxs)(F.Fragment,{children:[Object(F.jsx)(Vh,{store:n.IsShowPhaseSelectVM}),n.IsHavePhase?Object(F.jsx)(De,{store:n.PhaseSelectVM}):""]}):"",Object(F.jsxs)("div",{style:{marginTop:8},children:[Fv().Mgs_Dict_Dict.Pick_MGS_View,Fv().Mgs_Dict_Dict.ModalView]}),Object(F.jsx)(T.a,{style:{marginTop:8},onClick:n.GetMassData,size:"middle",type:"primary",children:"GET DATA"}),Object(F.jsx)("div",{style:{marginTop:15},children:Object(F.jsx)(xv,{store:n.MassItem_Dict})})]}):""]})})),Rv=function(){function t(){var e=this;Object(o.a)(this,t),this.ModelItem=void 0,this.projects=void 0,this.projectVMs=void 0,this.projectVMStorageList=void 0,this.projectSelectOpen=void 0,this.projectPopoverState=void 0,this.projectSelectVM=void 0,this.IsShowProjectSelect=!0,this.phases=void 0,this.phaseVMs=void 0,this.massItem_Dict=void 0,this.phaseSelectVM=void 0,this.CanHavePhase=!1,this.isHavePhase=void 0,this.isShowPhaseSelectVM=void 0,this.IsDataPending=void 0,this.HandledRatio=void 0,this.GetMassData=function(){var t;e.CanEdit_Site=Wv(e),e.IsDataPending=!0,e.HandledRatio=0,null===(t=e.ModelItem)||void 0===t||t.GetMassData()},this.IsGet_MassGroupSetting_Dict=void 0,this.massGroupSetting_Dict=void 0,this.canEdit_Site=void 0,Object(h.makeObservable)(this,{IsShowProjectSelect:h.observable,CanHavePhase:h.observable,isHavePhase:h.observable,massGroupSetting_Dict:h.observable,canEdit_Site:h.observable})}return Object(c.a)(t,[{key:"Projects",get:function(){var t,e;return null!==(t=this.projects)&&void 0!==t?t:this.projects=null===(e=this.ModelItem)||void 0===e?void 0:e.Projects},set:function(t){this.projects=t,this.ModelItem.Projects=t}},{key:"ProjectVMs",get:function(){var t;return null!==(t=this.projectVMs)&&void 0!==t?t:this.projectVMs=Uv(this)},set:function(t){this.projectVMs=t,this.Projects=t.map((function(t){return t.ModelItem}))}},{key:"ProjectVMStorageList",get:function(){var t;return null!==(t=this.projectVMStorageList)&&void 0!==t?t:this.projectVMStorageList=Ev(this)},set:function(t){this.projectVMStorageList=t,this.projectVMs=Uv(this);var e=this.ProjectSelectVM;e.Items=t,e.InitialItems=this.projectVMs}},{key:"ProjectSelectOpen",get:function(){var t;return null!==(t=this.projectSelectOpen)&&void 0!==t?t:this.projectPopoverState=this.projectSelectVM.Open},set:function(t){this.projectSelectOpen=t,this.ProjectPopoverState.Content=Hv(this)}},{key:"ProjectPopoverState",get:function(){var t;return null!==(t=this.projectPopoverState)&&void 0!==t?t:this.projectPopoverState=_(Hv(this))}},{key:"ProjectSelectVM",get:function(){var t;return null!==(t=this.projectSelectVM)&&void 0!==t?t:this.projectSelectVM=Pv(this)}},{key:"Phases",get:function(){var t,e;return null!==(t=this.phases)&&void 0!==t?t:null===(e=this.ModelItem)||void 0===e?void 0:e.Phases},set:function(t){this.phases=t,this.ModelItem.Phases=t}},{key:"PhaseVMs",get:function(){return this.phaseVMs},set:function(t){this.phaseVMs=t,this.Phases=t.map((function(t){return t.ModelItem}))}},{key:"MassItem_Dict",get:function(){var t,e;return null!==(t=this.massItem_Dict)&&void 0!==t?t:this.massItem_Dict=null===(e=this.ModelItem)||void 0===e?void 0:e.MassItem_Dict}},{key:"PhaseSelectVM",get:function(){var t;return null!==(t=this.phaseSelectVM)&&void 0!==t?t:this.phaseSelectVM=Av(this)}},{key:"IsHavePhase",get:function(){var t,e;return null!==(t=this.isHavePhase)&&void 0!==t?t:this.isHavePhase=null===(e=this.ModelItem)||void 0===e?void 0:e.IsHavePhase},set:function(t){this.isHavePhase=t,void 0!==t&&(this.ModelItem.IsHavePhase=t)}},{key:"IsShowPhaseSelectVM",get:function(){var t,e=this;return null!==(t=this.isShowPhaseSelectVM)&&void 0!==t?t:this.isShowPhaseSelectVM=function(){var t=Th("So s\xe1nh c\xe1c version",e.IsHavePhase);return t.onCheckChange=function(t){e.IsHavePhase=t},t}()}},{key:"MassGroupSetting_Dict",get:function(){return this.massGroupSetting_Dict||Bv(this),this.massGroupSetting_Dict},set:function(t){this.massGroupSetting_Dict=t}},{key:"CanEdit_Site",get:function(){return this.canEdit_Site},set:function(t){this.canEdit_Site=t}},{key:"View",get:function(){return Object(F.jsx)(Nv,{store:this})}}]),t}(),Lv=function(){return qg.Instance},Gv=function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=new Rv;return n.ModelItem=t,t.ViewItem=n,e&&(Lv().Project_DictVM.OnGetItemsDone=function(t){n.ProjectVMStorageList=Ev(n)}),t.OnGetItemsDone_Funcs.push((function(){O.b.success("get data successfully")})),n},Pv=function(t){var e=t.ProjectVMStorageList?t.ProjectVMStorageList:[],n=Vn(e,t.ProjectVMs);return n.Placeholder="ch\u1ecdn d\u1ef1 \xe1n",n.TitleRender=function(e){return Object(F.jsx)(Ve.a,{trigger:t.ProjectPopoverState.Content,placement:"topLeft",content:Object(F.jsx)("a",{target:"_blank",rel:"noreferrer",href:e.Url,children:"View project"}),children:e.Name})},n.FilterRender=function(t){return t.Name},n.OnSelectedItemChanged=function(e){return t.ProjectVMs=e},n.OnSetOpen=function(e){return t.ProjectSelectOpen=e},n},Ev=function(t){return Lv().Project_DictVM.Items},Uv=function(t){var e=t.ProjectVMStorageList;if(!e)return[];var n=[];return t.Projects.forEach((function(t){var i=e.findIndex((function(e){return e.ModelItem===t}));-1!==i&&n.push(e[i])})),n},Av=function(t){var e,n=new Oe;n.Placeholder="ch\u1ecdn version",n.OnSelectedItemChanged=function(e){return t.PhaseVMs=e},n.TitleRender=function(t){return t.Name};var i=function(t){n.Items=t},s=null===(e=Lv().CurrentProject)||void 0===e?void 0:e.Phase_DictVM;return s.Items?i(s.Items):ot(s.OnSet_Items_Func,(function(){return i(s.Items)})),n},Hv=function(t){return t.ProjectSelectOpen?"none":"hover"},Bv=function(t){if(!t.IsGet_MassGroupSetting_Dict){t.IsGet_MassGroupSetting_Dict=!0;var e=function(e){t.MassGroupSetting_Dict=e},n=Lv();n.MassGroupSetting_Dict&&e(n.MassGroupSetting_Dict),ot(n.OnSet_MassGroupSetting_Dict_Func,(function(){return e(n.MassGroupSetting_Dict)}),!1)}},Wv=function(t){return 0===t.Projects.length&&!t.IsHavePhase},zv=Object(c.a)((function t(){Object(o.a)(this,t)})),Kv=Object(c.a)((function t(){Object(o.a)(this,t),this.SubItems=[]})),qv="project",Qv="element",Xv="element-info",Yv="element-info-identify",Jv="element-info-locate",Zv=function t(e,n){var i=new Kv;switch(i.Title=n||e,e){case Qv:i.SubItems=[t("guid"),t("projectId"),t("exportSetId"),t(Xv,"info")];break;case qv:i.SubItems=[];break;case Xv:i.SubItems=[t(Yv,"identify"),t(Jv,"locate"),t("element-info-geometry","geometry"),t("element-info-specification","specification"),t("element-info-material","material")];break;case Yv:i.SubItems=[t("category"),t("typename"),t("elementName"),t("typemark"),t("typecomment"),t("description"),t("model"),t("manufacturer"),t("keynote"),t("assemblycode"),t("systemtype"),t("systemclassification"),t("workItem")];break;case Jv:i.SubItems=[t("level"),t("baseLevel"),t("topLevel"),t("block"),t("zone")];break;default:i.SubItems=[]}return i},$v=function(){function t(){var e=this;Object(o.a)(this,t),this.subItems=void 0,this.isOpenSub=!1,this.ToggleSub=function(){e.IsOpenSub=!e.IsOpenSub,e.ToggleSubContentVM.Content=n_(e)},Object(h.makeObservable)(this,{subItems:h.observable,isOpenSub:h.observable})}return Object(c.a)(t,[{key:"Title",get:function(){return this.ModelItem.Title}},{key:"IsHaveButton",get:function(){return 0!==this.SubItems.length}},{key:"SubItems",get:function(){return this.subItems||(this.subItems=e_(this)),this.subItems}},{key:"IsOpenSub",get:function(){return this.isOpenSub},set:function(t){this.isOpenSub=t}},{key:"ToggleSubContentVM",get:function(){return this.toggleSubContentVM||(this.toggleSubContentVM=_(n_(this))),this.toggleSubContentVM}}]),t}(),t_=function(t){var e=new $v;return e.ModelItem=t,e},e_=function(t){return t.ModelItem.SubItems.map((function(t){return t_(t)}))},n_=function(t){return t.IsOpenSub?"-":"+"},i_=function(){return function(t){var e=new s_;return e.ModelItem=t,e}(function(){var t=new zv;return t.Items=[Zv(qv),Zv(Qv)],t}())},s_=function(){function t(){Object(o.a)(this,t),this.items=void 0,Object(h.makeObservable)(this,{items:h.observable})}return Object(c.a)(t,[{key:"Items",get:function(){return this.items||(this.items=this.ModelItem.Items.map((function(t){return t_(t)}))),this.items}}]),t}(),r_=(n(280),function(t){Object(u.a)(n,t);var e=Object(l.a)(n);function n(t){var i;Object(o.a)(this,n);var s=(i=e.call(this,t)).props.store;return i.state=s||new $v,i}return Object(c.a)(n,[{key:"render",value:function(){var t=this.state;return Object(F.jsx)(F.Fragment,{children:Object(F.jsxs)("span",{className:"doelement",children:[t.Title,t.IsHaveButton?Object(F.jsx)(T.a,{className:"doelement__button",type:"primary",size:"small",onClick:t.ToggleSub,children:t.ToggleSubContentVM.Content}):"",t.IsOpenSub?Object(F.jsx)("div",{className:"doelement__dict",children:t.SubItems.map((function(t){return Object(F.jsx)(n,{store:t},t.Title)}))}):""]})})}}]),n}(i.Component)),a_=Object(d.observer)(r_),o_=(be.a.Option,function(t){Object(u.a)(n,t);var e=Object(l.a)(n);function n(t){var i;Object(o.a)(this,n);var s=(i=e.call(this,t)).props.store;return i.state=s||i_(),i}return Object(c.a)(n,[{key:"render",value:function(){var t=this.state;return Object(F.jsx)(F.Fragment,{children:Object(F.jsx)("div",{className:"doelement__dict",children:t.Items?t.Items.map((function(t){return Object(F.jsx)(a_,{store:t},t.Title)})):""})})}}]),n}(i.Component)),c_=Object(d.observer)(o_),u_=(n(281),function(){function t(){var e=this;Object(o.a)(this,t),this.Is_ShowValue_Delete=void 0,this.ShowValue_Delete=function(){e.Is_ShowValue_Delete=!0},this.HideValue_Delete=function(){e.Is_ShowValue_Delete=!1},this.Delete=function(){e.ModelItem.Delete();var t=e.Dict;t.ItemCategories.splice(e.Index,1),t.TableCategory.DeleteItem(e)},Object(h.makeObservable)(this,{Is_ShowValue_Delete:h.observable})}return Object(c.a)(t,[{key:"id",get:function(){return this.ModelItem.id}},{key:"Name",get:function(){return this.ModelItem.Name},set:function(t){this.ModelItem.Name=t}},{key:"NameVM",get:function(){var t=this;if(!this.nameVM){var e=this.nameVM=Ue(["Stair","Roof","Celling","Door","Window","Furniture","Lighting Fixture","Plumbing Fixture","Railing","Wall Sweep"],this.Name);e.Placeholder="Cho\u0323n Category",e.OnSelectedItemChanged=function(e){return t.Name=e}}return this.nameVM}},{key:"ValueVM",get:function(){var t=this;if(!this.valueVM){var e=this.valueVM=Ue(["STAIRCASE","ROOFING","CEILING","DOOR","WINDOW","FURNITURE","LIGHTING FIXTURE","PLUMBING FIXTURE","RAILING","SKIRTING"],this.Values);e.Placeholder="Cho\u0323n masstype t\u01b0\u01a1ng \u1ee9ng",e.OnSelectedItemChanged=function(e){return t.Values=e}}return this.valueVM}},{key:"Name_Element",get:function(){return Object(F.jsx)(F.Fragment,{children:Object(F.jsx)("div",{className:"ls_item__value__wrapper",children:Object(F.jsx)(Le,{store:this.NameVM})})})}},{key:"Value_Element",get:function(){return Object(F.jsx)(F.Fragment,{children:Object(F.jsxs)("div",{className:"ls_item__value__wrapper",onMouseEnter:this.ShowValue_Delete,onMouseLeave:this.HideValue_Delete,children:[Object(F.jsx)(Le,{store:this.ValueVM}),Object(F.jsx)("div",{className:"ls_item__value__delete",children:this.Is_ShowValue_Delete?Object(F.jsx)(T.a,{type:"primary",size:"small",onClick:this.Delete,children:"x"}):Object(F.jsx)("div",{})})]})})}},{key:"Index",get:function(){return this.Dict.ItemCategories.indexOf(this)}},{key:"IsLast",get:function(){return this.Dict.ItemCategories.length-1===this.Index}}]),t}()),l_=function(t,e){var n=new u_;return n.ModelItem=t,n.Dict=e,n},d_=function(){function t(){var e=this;Object(o.a)(this,t),this.Is_ShowValue_Delete=void 0,this.ShowValue_Delete=function(){e.Is_ShowValue_Delete=!0},this.HideValue_Delete=function(){e.Is_ShowValue_Delete=!1},this.Delete=function(){e.ModelItem.Delete();var t=e.Dict;t.itemMEPs.splice(e.Index,1),t.TableMEP.DeleteItem(e)},Object(h.makeObservable)(this,{Is_ShowValue_Delete:h.observable})}return Object(c.a)(t,[{key:"id",get:function(){return this.ModelItem.id}},{key:"Name",get:function(){return this.ModelItem.Name},set:function(t){this.ModelItem.Name=t}},{key:"NameVM",get:function(){var t=this;if(!this.nameVM){var e=this.nameVM=Ue(["HVAC","Electrical","Plumbing","Firefighter"],this.name);e.Placeholder="Cho\u0323n masstype",e.OnSelectedItemChanged=function(e){return t.name=e}}return this.nameVM}},{key:"SystemClassificationVM",get:function(){var t=this;if(!this.systemClassificationVM){var e=this.systemClassificationVM=Ue(["Supply Air","Exhause Air","Return Air","Hydronic Return","Sanitary","Power","Telecom","Lighting","Lightning Protection","Domestic Cold Water","Domestic Hot Water","Other","Sanitary","Vent","Fire Protection Wet","Fire Protection Dry","Fire Protection Pre-Action","Fire Protection Other","Sanitary","Telecom"],this.systemClassification);e.Placeholder="System Classification",e.OnSelectedItemChanged=function(e){return t.systemClassification=e}}return this.systemClassificationVM}},{key:"ValueVM",get:function(){var t=this;if(!this.valueVM){var e=this.valueVM=Ue(["M-Supply Air","M-Fresh Air","M-Pre Cooled Air","M-Kitchen Fresh Air","M-Lobby Pressurization Air","M-Stair Pressurization Air","M-Exhause Air","M-Kitchen Exhaust Air","M-Smoke Exhaust Air","M-Smoke Exhaust Generator","M-Toilet Exhaust Air","M-Return Air","M-Chilled Water Supply","M-Condenser Water Supply","M-Steam Supply Piping","M-Brine Supply Pipe","M-Oil Supply Pipe","M-Refrigerant Pipe","M-Humidification Water","M-Chilled Water Return","M-Condenser Water Return","M-Steam Return","M-Brine Return","M-Oil Return","M-Drain Steam","M-Drain AC","E-Busway","E-Electrical Medium Voltage","E-Electrical Low Voltage","E-Electrical Extra Low Voltage","E-Electrical Lighting","E-Electrical Earthing and Lightning","P-Clean Water","P-General Service Water","P-Well Water","P-Industrial Water","P-Filtration Supply","P-Filtration Return","P-Hot Water Supply","P-Hot Water Return","P-Expansion","P-Gas","P-Soil Water","P-Waste Water","P-Waste Kitchen Water","P-Storm Water","P-Pump Up","P-Ventilation","F-Drencher","F-Sprinkler","F-Low Pressure","F-High Pressure","F-Hosereel","F-Indoor Fire Hydrant","F-Dry Riser","F-Pre Action","F-Foam","F-CO2 Fire Extinguishing","F-Drain Pipe","F-Electrical Fire Alarm"],this.Values);e.Placeholder="Cho\u0323n SystemType t\u01b0\u01a1ng \u1ee9ng",e.OnSelectedItemChanged=function(e){return t.Values=e}}return this.valueVM}},{key:"Value_Element",get:function(){return Object(F.jsx)(F.Fragment,{children:Object(F.jsxs)("div",{className:"ls_item__value__wrapper",onMouseEnter:this.ShowValue_Delete,onMouseLeave:this.HideValue_Delete,children:[Object(F.jsx)(Le,{store:this.ValueVM}),Object(F.jsx)("div",{className:"ls_item__value__delete",children:this.Is_ShowValue_Delete?Object(F.jsx)(T.a,{type:"primary",size:"small",onClick:this.Delete,children:"x"}):Object(F.jsx)("div",{})})]})})}},{key:"Name_Element",get:function(){return Object(F.jsx)(F.Fragment,{children:Object(F.jsx)("div",{className:"ls_item__value__wrapper",children:Object(F.jsx)(Le,{store:this.NameVM})})})}},{key:"SystemClassification_Element",get:function(){return Object(F.jsx)(F.Fragment,{children:Object(F.jsx)("div",{className:"ls_item__value__wrapper",children:Object(F.jsx)(Le,{store:this.SystemClassificationVM})})})}},{key:"Index",get:function(){return this.Dict.itemMEPs.indexOf(this)}},{key:"IsLast",get:function(){return this.Dict.Items.length-1===this.Index}}]),t}(),h_=function(t,e){var n=new d_;return n.ModelItem=t,n.Dict=e,n},f_=function(){function t(){var e=this;Object(o.a)(this,t),this.Is_ShowValue_Delete=void 0,this.ShowValue_Delete=function(){e.Is_ShowValue_Delete=!0},this.HideValue_Delete=function(){e.Is_ShowValue_Delete=!1},this.Delete=function(){e.ModelItem.Delete();var t=e.Dict;t.Items.splice(e.Index,1),t.Table.DeleteItem(e)},Object(h.makeObservable)(this,{Is_ShowValue_Delete:h.observable})}return Object(c.a)(t,[{key:"id",get:function(){return this.ModelItem.id}},{key:"Name",get:function(){return this.ModelItem.Name},set:function(t){this.ModelItem.Name=t}},{key:"NameVM",get:function(){var t=this;if(!this.nameVM){var e=this.nameVM=wn(this.Name);at(e.OnSet_RenderState_Func_Dict,(function(){e.RenderState===me&&(t.Name=e.Content)}),!1)}return this.nameVM}},{key:"ValueVM",get:function(){var t=this;if(!this.valueVM){var e=this.valueVM=Ue(["ARC","CARPET","CEILINGFINISH","FLOORFINISH","GYPSUM","MASONRY","METAL","MOSAIC","OTHER","PAINTING","PLASTER","PLASTIC","ROOFING","SCREED","SITEWORK","SKIRTING","TILING&PAVING","VINYL","WALLFINISH","WOODEN"],this.Values);e.Placeholder="Cho\u0323n masstype t\u01b0\u01a1ng \u1ee9ng",e.OnSelectedItemChanged=function(e){return t.Values=e}}return this.valueVM}},{key:"Value_Element",get:function(){return Object(F.jsx)(F.Fragment,{children:Object(F.jsxs)("div",{className:"ls_item__value__wrapper",onMouseEnter:this.ShowValue_Delete,onMouseLeave:this.HideValue_Delete,children:[Object(F.jsx)(Le,{store:this.ValueVM}),Object(F.jsx)("div",{className:"ls_item__value__delete",children:this.Is_ShowValue_Delete?Object(F.jsx)(T.a,{type:"primary",size:"small",onClick:this.Delete,children:"x"}):Object(F.jsx)("div",{})})]})})}},{key:"Index",get:function(){return this.Dict.Items.indexOf(this)}},{key:"IsLast",get:function(){return this.Dict.Items.length-1===this.Index}}]),t}(),m_=function(t,e){var n=new f_;return n.ModelItem=t,n.Dict=e,n},v_=function(){function t(){var e=this;Object(o.a)(this,t),this.items=void 0,this.itemCategories=void 0,this.itemMEPs=void 0,this.AddItem=function(){var t=m_(e.ModelItem.AddItem(),e);return t.NameVM.RenderState=ve,e.Items.push(t),e.Table.AddItem(t),t},this.AddItemCategory=function(){var t=l_(e.ModelItem.AddItem(),e);return e.ItemCategories.push(t),e.TableCategory.AddItem(t),t},this.AddItemMEP=function(){var t=h_(e.ModelItem.AddItem(),e);return e.ItemMEPs.push(t),e.TableMEP.AddItem(t),t},this.Update_MasstypeData=function(){e.ModelItem.Update_MasstypeData(),O.b.success("save successfully!")},Object(h.makeAutoObservable)(this,{items:h.observable,itemCategories:h.observable,itemMEPs:h.observable})}return Object(c.a)(t,[{key:"Items",get:function(){return this.items||(this.items=__(this)),this.items},set:function(t){this.items=t}},{key:"ItemCategories",get:function(){var t;return this.itemCategories||(this.itemCategories=(t=this).ModelItem.Items.map((function(e){return l_(e,t)}))),this.itemCategories},set:function(t){this.itemCategories=t}},{key:"ItemMEPs",get:function(){var t;return this.itemMEPs||(this.itemMEPs=(t=this).ModelItem.Items.map((function(e){return h_(e,t)}))),this.itemMEPs},set:function(t){this.itemMEPs=t}},{key:"Table",get:function(){return this.table||(this.table=p_(this)),this.table}},{key:"TableCategory",get:function(){return this.tableCategory||(this.tableCategory=function(t){var e=new ff,n=new uf;n.Title="Category",n.DataIndex=["name"],n.Key=et(),n.Table=e,n.ClassName="ls__title-column";var i=new uf;return i.Title="T\u01b0\u01a1ng \u0111\u01b0\u01a1ng v\u01a1\u0301i MassType",i.DataIndex=["value"],i.Key=et(),i.Table=e,i.ClassName="ls__value-column",e.Columns=[n,i],e.CanShow_MoveCommand=!1,e.CanHandleColumn=!1,e.Override_Get_CellRender=function(t,e,n,i,s,r){switch(r.DataIndex[0]){case"name":return e.Name_Element;case"value":return e.Value_Element}},e.DataSource=Object(he.a)(t.ItemCategories),e}(this)),this.tableCategory}},{key:"TableMEP",get:function(){return this.tableMEP||(this.tableMEP=function(t){var e=new ff,n=new uf;n.Title="MassType",n.DataIndex=["name"],n.Key=et(),n.Table=e,n.ClassName="ls__title-column";var i=new uf;i.Title="System Classification",i.DataIndex=["systemClassification"],i.Key=et(),i.Table=e,i.ClassName="ls__title-column";var s=new uf;return s.Title="T\u01b0\u01a1ng \u0111\u01b0\u01a1ng v\u01a1\u0301i System Type",s.DataIndex=["value"],s.Key=et(),s.Table=e,s.ClassName="ls__value-column",e.Columns=[n,i,s],e.CanShow_MoveCommand=!1,e.CanHandleColumn=!1,e.Override_Get_CellRender=function(t,e,n,i,s,r){switch(r.DataIndex[0]){case"name":return e.Name_Element;case"systemClassification":return e.SystemClassification_Element;case"value":return e.Value_Element}},e.DataSource=Object(he.a)(t.ItemCategories),e}(this)),this.tableMEP}}]),t}(),__=function(t){return t.ModelItem.Items.map((function(e){return m_(e,t)}))},p_=function(t){var e=new ff,n=new uf;n.Title="Material",n.DataIndex=["name"],n.Key=et(),n.Table=e,n.ClassName="ls__title-column";var i=new uf;return i.Title="T\u01b0\u01a1ng \u0111\u01b0\u01a1ng v\u01a1\u0301i MassType",i.DataIndex=["value"],i.Key=et(),i.Table=e,i.ClassName="ls__value-column",e.Columns=[n,i],e.CanShow_MoveCommand=!1,e.CanHandleColumn=!1,e.Override_Get_CellRender=function(t,e,n,i,s,r){switch(r.DataIndex[0]){case"name":return Object(F.jsx)(bn,{store:e.NameVM});case"value":return e.Value_Element}},e.DataSource=Object(he.a)(t.Items),e},b_=function(t){Object(u.a)(n,t);var e=Object(l.a)(n);function n(){var t;Object(o.a)(this,n);for(var i=arguments.length,s=new Array(i),r=0;r<i;r++)s[r]=arguments[r];return(t=e.call.apply(e,[this].concat(s))).Save=function(){t.ModelItem.Save()},t}return Object(c.a)(n,[{key:"MassTypeStorageList",get:function(){return this.ModelItem.MassTypeStorageList}},{key:"FieldFilterStorageList",get:function(){return this.ModelItem.FieldFilterStorageList}}]),n}(Fh),I_=function(t){Object(u.a)(n,t);var e=Object(l.a)(n);function n(){var t;Object(o.a)(this,n);for(var i=arguments.length,s=new Array(i),r=0;r<i;r++)s[r]=arguments[r];return(t=e.call.apply(e,[this].concat(s))).SettingType=Bi,t}return Object(c.a)(n)}(Ei),j_=function(){function t(){var e=this;Object(o.a)(this,t),this.Delete=function(){e.Dict.Items.splice(e.Index,1)},this.Name="",this.Values=[]}return Object(c.a)(t,[{key:"TempId",get:function(){return this.tempId||(this.tempId=nt()),this.tempId}},{key:"id",get:function(){return this._id?this._id:this.tempId}},{key:"Index",get:function(){return this.Dict.Items.indexOf(this)}},{key:"ApiData",get:function(){return{name:this.Name,values:this.Values}}}]),t}(),g_=function(){function t(){var e=this;Object(o.a)(this,t),this.Delete=function(){e.Dict.Items.splice(e.Index,1)},this.Name="",this.Values=[]}return Object(c.a)(t,[{key:"TempId",get:function(){return this.tempId||(this.tempId=nt()),this.tempId}},{key:"id",get:function(){return this._id?this._id:this.tempId}},{key:"Index",get:function(){return this.Dict.Items.indexOf(this)}},{key:"ApiData",get:function(){return{name:this.Name,values:this.Values}}}]),t}(),y_=function(){function t(){var e=this;Object(o.a)(this,t),this.Items=[],this.AddItem=function(){var t=function(t){var e=new j_;return e.Dict=t,e}(e);return e.Items.push(t),t},this.Update_MasstypeData=function(){e.masstypeStorageList=O_(e)},this.OnSet_MassTypeStorageList_Func_Dict=[],this.AddItemCategory=function(){var t=function(t){var e=new g_;return e.Dict=t,e}(e);return e.Items.push(t),t}}return Object(c.a)(t,[{key:"masstypeStorageList",get:function(){return this.masstypeStorageList||(this.masstypeStorageList=O_(this)),this.masstypeStorageList},set:function(t){var e=this;this.masstypeStorageList=t,ct(this.OnSet_MassTypeStorageList_Func_Dict,(function(t){return e.OnSet_MassTypeStorageList_Func_Dict=t}))}},{key:"ApiData",get:function(){return{items:this.Items.map((function(t){return t.ApiData}))}}}]),t}(),O_=function(t){return t.Items.map((function(t){return t.Name}))},S_=function(){var t=new I_;return t.Name="Thi\u1ebft l\u1eadp c\xf4ng t\xe1c",t.Description="M\xf4 t\u1ea3 thi\u1ebft l\u1eadp",t.Data=function(t){var e=new y_;return e.Items=[],e}(),t},D_=function(t){if(t){var e=new b_;return e.ModelItem=t,t.OnNameChanged=function(n){t.M2VM&&(e.Name=n)},t.OnDescriptionChanged=function(n){t.M2VM&&(e.Description=n)},t.OnDataChanged=function(n){t.M2VM&&(e.Data=n,e.DataVM=e.GetDataVM())},e.OnGetDataVM=function(){return function(t,e){var n=new v_;return n.ModelItem=t,n.Dict=e,n}(t.Data,e)},e}},M_=function(t){Object(u.a)(n,t);var e=Object(l.a)(n);function n(t){var i;Object(o.a)(this,n);var s=(i=e.call(this,t)).props.store;return i.state=s||new v_,i}return Object(c.a)(n,[{key:"render",value:function(){var t=this.state;return Object(F.jsxs)(F.Fragment,{children:[Object(F.jsxs)("div",{className:"tls__wrapper",children:[Object(F.jsx)(T.a,{type:"primary",size:"small",className:"tls__save__button",onClick:t.Update_MasstypeData,children:Object(F.jsx)(zf.a,{className:"tls__save"})}),Object(F.jsx)(T.a,{type:"primary",size:"small",className:"tls__save__button",onClick:t.AddItem,children:"+"}),Object(F.jsx)(Wf,{store:t.Table})]}),Object(F.jsx)("hr",{}),Object(F.jsxs)("div",{className:"tls__wrapper",children:[Object(F.jsx)(T.a,{type:"primary",size:"small",className:"tls__save__button",onClick:t.Update_MasstypeData,children:Object(F.jsx)(zf.a,{className:"tls__save"})}),Object(F.jsx)(T.a,{type:"primary",size:"small",className:"tls__save__button",onClick:t.AddItemCategory,children:"+"}),Object(F.jsx)(Wf,{store:t.TableCategory})]}),Object(F.jsx)("hr",{}),Object(F.jsxs)("div",{className:"tls__wrapper",children:[Object(F.jsx)(T.a,{type:"primary",size:"small",className:"tls__save__button",onClick:t.Update_MasstypeData,children:Object(F.jsx)(zf.a,{className:"tls__save"})}),Object(F.jsx)(T.a,{type:"primary",size:"small",className:"tls__save__button",onClick:t.AddItemMEP,children:"+"}),Object(F.jsx)(Wf,{store:t.TableMEP})]})]})}}]),n}(i.Component),k_=Object(d.observer)(M_),C_=function(t){Object(u.a)(n,t);var e=Object(l.a)(n);function n(t){var i;Object(o.a)(this,n);var s=(i=e.call(this,t)).props.store;return i.state=s||D_(S_()),i}return Object(c.a)(n,[{key:"render",value:function(){var t=this.state;return Object(F.jsx)(F.Fragment,{children:Object(F.jsxs)("div",{children:[Object(F.jsx)("div",{className:"tls__name",children:Object(F.jsx)("h3",{children:t.Name})}),Object(F.jsx)("div",{children:t.Description}),Object(F.jsx)(k_,{store:t.DataVM})]})})}}]),n}(i.Component),V_=Object(d.observer)(C_),w_=(n(282),function(){function t(){var e=this;Object(o.a)(this,t),this.Items=[],this.currentItem=void 0,this.SetCurrent=function(t){e.CurrentItem=t},this.idRender=void 0,this.titleRender=void 0,this.titleView_Render=void 0,this.contentRender=void 0,this.contentWrapper_Render=void 0,this.IsHaveBorder=!0,Object(h.makeObservable)(this,{Items:h.observable,currentItem:h.observable,IsHaveBorder:h.observable})}return Object(c.a)(t,[{key:"CurrentItem",get:function(){var t,e;return null!==(t=this.currentItem)&&void 0!==t?t:this.currentItem=(e=this).Items&&0!==e.Items.length?e.Items[0]:void 0},set:function(t){this.currentItem=t}},{key:"IdRender",get:function(){var t;return null!==(t=this.idRender)&&void 0!==t?t:this.idRender=function(t){return t.id}},set:function(t){this.idRender=t}},{key:"TitleRender",get:function(){var t;return null!==(t=this.titleRender)&&void 0!==t?t:this.titleRender=function(t){return t.Title}},set:function(t){this.titleRender=t}},{key:"TitleView_Render",get:function(){var t,e;return null!==(t=this.titleView_Render)&&void 0!==t?t:this.titleView_Render=(e=this,function(t){var n=e.CurrentItem===t?"active":"";return Object(F.jsx)("div",{className:"tab__title ".concat(n),onClick:function(){e.SetCurrent(t)},children:e.TitleRender(t)},e.IdRender(t))})},set:function(t){this.titleView_Render=t}},{key:"ContentRender",get:function(){var t;return null!==(t=this.contentRender)&&void 0!==t?t:this.contentRender=function(t){return t.Content}},set:function(t){this.contentRender=t}},{key:"ContentWrapper_Render",get:function(){var t,e;return null!==(t=this.contentWrapper_Render)&&void 0!==t?t:this.contentWrapper_Render=(e=this,function(t){return Object(F.jsx)("div",{children:e.ContentRender(t)},e.IdRender(t))})},set:function(t){this.contentWrapper_Render=t}},{key:"BorderStyle",get:function(){return this.IsHaveBorder?"border":""}},{key:"TitleView",get:function(){var t;return Object(F.jsx)("div",{className:"tab__title__wrapper",children:null===(t=this.Items)||void 0===t?void 0:t.map(this.TitleView_Render)})}},{key:"ContentView",get:function(){return this.CurrentItem?this.ContentWrapper_Render(this.CurrentItem):""}},{key:"ContentWrapper_View",get:function(){return Object(F.jsx)("div",{className:"tab__content__wrapper ".concat(this.BorderStyle),children:this.ContentView})}},{key:"View",get:function(){return Object(F.jsxs)("div",{className:"tab__wrapper",children:[this.TitleView,this.ContentWrapper_View]})}}]),t}()),T_=(n(581),function(){function t(){Object(o.a)(this,t),this.Show=this.Tool.Show,this.Hide=this.Tool.Hide,this.dict=void 0,Object(h.makeObservable)(this,{dict:h.observable})}return Object(c.a)(t,[{key:"InputName",get:function(){var t;return null===(t=this.ModelItem)||void 0===t?void 0:t.InputName},set:function(t){this.ModelItem.InputName=t}},{key:"InputNameVM",get:function(){var t=this;this.inputNameVM||((this.inputNameVM=_(this.InputName,"t\xean template")).onSetContent=function(e){return t.InputName=e});return this.inputNameVM}},{key:"Tool",get:function(){return this.tool||(this.tool=x_(this)),this.tool}},{key:"View",get:function(){return this.Tool.View}},{key:"Run",get:function(){var t=this;return this.run||(this.run=function(){return t.ModelItem.Run()}),this.run}},{key:"Dict",get:function(){return this.dict},set:function(t){this.dict=t,F_(this,t)}},{key:"Delete",get:function(){return this.Dict.DeleteVM}}]),t}()),x_=function(t){var e=new sa;return e.ToggleType=Zr,e.OnPre_ShowHover=function(){t.InputNameVM.Content=void 0},e.Modal_InfoView=Object(F.jsx)(R,{store:t.InputNameVM}),e.Modal_ContentView=Object(F.jsxs)("div",{className:"mgs__template__modalcontent",children:[e.Modal_InfoView,e.Modal_ButtonView]}),e.Retrieve_ShowHover_Button=function(){return Object(F.jsxs)("div",{className:"f",children:[Object(F.jsx)(T.a,{type:"primary",size:"small",onClick:e.Show_Hover,children:"Add Template"}),t.Dict?t.Delete.View:""]})},e.OnPreHide=function(){t.Delete.Is_Hover_Visible&&(e.IsRun_Cancel=!0)},e.OnPreRun=function(){t.InputName&&0!==t.InputName.length||(e.IsRun_Cancel=!0,O.b.warn("Vui l\xf2ng nh\u1eadp t\xean template!"))},e.OnRun=t.Run,e},F_=function(t,e){e.DeleteVM.OnSet_Is_Hover_Visible=function(e){var n=t.Tool;e&&(n.Is_Hover_Visible&&(n.Is_Hover_Visible=!1),n.Is_Visible=!0)}},N_=function(t,e){var n=new E_;return n.ModelItem=t,n.Dict=e,n},R_=function(t){return function(t,e){var n=new T_(e);return n.ModelItem=t,n.Dict=e,n.Tool.AdditionElement=t.DeleteView,n}(t.ModelItem.AddTemplate,t)},L_=(n(582),"query"),G_="save",P_=function(){return qg.Instance},E_=function(){function t(){var e=this;Object(o.a)(this,t),this.renderState=me,this.Edit=function(){e.Commands.includes(jt)&&e.RenderState===me&&(e.RenderState=ve,e.Hide_Tool())},this.isActive=!1,this.Set_Active=function(){var t=P_().Mgs_Dict_Dict;t.Current_MGS&&(t.Current_MGS.IsActive=!1),t.Current_MGS=e,e.IsActive=!0},this.UnSet_Active=function(){P_().Mgs_Dict_Dict.Current_MGS=void 0,e.IsActive=!1},this.dd_UseType=void 0,this.OnMouseEnter=function(){e.RenderState!==ve&&e.Show_Tool()},this.OnMouseLeave=function(){e.Hide_Tool()},this.SaveDatabase=function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=arguments.length>1?arguments[1]:void 0;e.ModelItem.SaveDatabase(t,n,!1)},this.Delete=function(){e.CurrentList.splice(e.Index,1),e.ModelItem.Delete()},Object(h.makeObservable)(this,{isActive:h.observable,dd_UseType:h.observable})}return Object(c.a)(t,[{key:"id",get:function(){return this.ModelItem.id}},{key:"projectId",get:function(){return this.ModelItem.projectId}},{key:"RenderState",get:function(){return this.renderState},set:function(t){this.renderState=t,this.NameVM.RenderState=t,this.DescriptionVM.RenderState=t,t===me&&this.SaveDatabase(!1)}},{key:"Name",get:function(){return this.ModelItem.Name},set:function(t){this.ModelItem.Name=t}},{key:"Name_ForPick",get:function(){return"".concat(this.Name).concat(this.D_UseType===eu?" (from template)":"")}},{key:"NameVM",get:function(){var t=this;if(!this.nameVM){var e=this.nameVM=wn(this.Name,this.CanEdit);e.Is_Tool_Visible=!1,e.OnKeyDown=function(e){var n=Fn(e),i=n.key;n.value;if(i===Tn)t.RenderState=me},at(e.OnSet_RenderState_Func_Dict,(function(){e.RenderState===me&&(t.Name=e.Content)}),!1)}return this.nameVM}},{key:"NameView",get:function(){return Object(F.jsx)(bn,{className:"mgs__cell__main",store:this.NameVM})}},{key:"NameWrapper_View",get:function(){return Object(F.jsxs)("div",{className:"mgs__cell__wrapper",children:[this.NameView,this.DD_UseType===L_?this.ActiveTool.View:this.Commands.includes(jt)?this.SaveTable.View:""]})}},{key:"Description",get:function(){return this.ModelItem.Description},set:function(t){this.ModelItem.Description=t}},{key:"DescriptionVM",get:function(){var t=this;if(!this.descriptionVM){var e=this.descriptionVM=wn(this.Description,this.CanEdit);e.Is_Tool_Visible=!1,e.OnKeyDown=function(e){var n=Fn(e),i=n.key;n.value;if(i===Tn)t.RenderState=me},at(e.OnSet_RenderState_Func_Dict,(function(){e.RenderState===me&&(t.Description=e.Content)}),!1)}return this.descriptionVM}},{key:"DescriptionView",get:function(){return Object(F.jsx)(bn,{className:"mgs__cell__main",store:this.DescriptionVM})}},{key:"DescriptionWrapper_View",get:function(){return Object(F.jsxs)("div",{className:"mgs__cell__wrapper",children:[this.DescriptionView,pt(jt)&&this.DD_UseType===L_?this.D_UseType===tu?this.AddTemplate.View:this.DeleteVM.View:""]})}},{key:"AddTemplate",get:function(){return this.addTemplate||(this.addTemplate=R_(this)),this.addTemplate}},{key:"ActiveTool",get:function(){return this.activeTool||(this.activeTool=function(t){var e=new sa;return e.ToggleType=Zr,e.Retrieve_WrapperView=function(){return t.IsActive?Object(F.jsx)(T.a,{type:"primary",size:"small",onClick:t.UnSet_Active,className:"btn-warning",children:Object(F.jsx)(hm.a,{})}):Object(F.jsx)(T.a,{type:"primary",size:"small",onClick:t.Set_Active,children:Object(F.jsx)(jh.a,{})})},e}(this)),this.activeTool}},{key:"IsActive",get:function(){return this.isActive},set:function(t){this.isActive=t}},{key:"ActiveStyle",get:function(){return this.DD_UseType===L_&&this.IsActive?"active":""}},{key:"D_UseType",get:function(){return this.Dict.UseType}},{key:"DD_UseType",get:function(){return this.dd_UseType||(this.dd_UseType=this.Dict.Dict.UseType),this.dd_UseType},set:function(t){this.dd_UseType=t}},{key:"SaveTable",get:function(){return this.saveTable||(this.saveTable=function(t){var e=new sa;return e.ToggleType=Zr,e.Title="X\xe1c nh\u1eadn l\u01b0u \u0111\xe8?",e.ShowHover_Button=Object(F.jsx)(T.a,{type:"primary",size:"small",className:"btn-success",onClick:e.Show_Hover,children:Object(F.jsx)(zf.a,{})}),e.OnRun=function(){var e=t.Dict.Save;e.Name=t.Name,e.Run()},e}(this)),this.saveTable}},{key:"Show_Tool",value:function(){switch(this.DD_UseType){case L_:switch(this.ActiveTool.Show(),this.D_UseType){case tu:this.AddTemplate.Show();break;case eu:this.DeleteVM.Show()}break;case G_:this.SaveTable.Show()}}},{key:"Hide_Tool",value:function(){switch(this.DD_UseType){case L_:switch(this.ActiveTool.Hide(),this.D_UseType){case tu:this.AddTemplate.Hide();break;case eu:this.DeleteVM.Hide()}break;case G_:this.SaveTable.Hide()}}},{key:"RowView",get:function(){return Object(F.jsxs)("tr",{className:"mgs__row ".concat(this.ActiveStyle),onDoubleClick:this.Edit,onMouseEnter:this.OnMouseEnter,onMouseLeave:this.OnMouseLeave,children:[Object(F.jsx)("td",{children:this.NameWrapper_View}),Object(F.jsx)("td",{children:this.DescriptionWrapper_View})]})}},{key:"CurrentList",get:function(){return this.Dict.Items}},{key:"Index",get:function(){return this.CurrentList.indexOf(this)}},{key:"DeleteVM",get:function(){return this.deleteVM||(this.deleteVM=function(t){var e=new sa;return e.ToggleType=t.D_UseType===tu?Jr:Zr,e.Title="X\xe1c nh\u1eadn x\xf3a?",e.OnRun=function(){t.Delete()},e}(this)),this.deleteVM}},{key:"Commands",get:function(){return P_().Commands}}]),t}(),U_=function(t){Object(u.a)(n,t);var e=Object(l.a)(n);function n(t){var i;Object(o.a)(this,n);var s=(i=e.call(this,t)).props.store;return i.state=s||new E_,i}return Object(c.a)(n,[{key:"render",value:function(){var t=this.state;return Object(F.jsx)(F.Fragment,{children:t.RowView})}}]),n}(i.Component),A_=Object(d.observer)(U_),H_=(Object(d.observer)((function(t){var e=t.store;return Object(F.jsx)(F.Fragment,{children:e.View})})),function(t){Object(u.a)(n,t);var e=Object(l.a)(n);function n(t){var i;Object(o.a)(this,n);var s=(i=e.call(this,t)).props.store;return i.state=s||new W_,i}return Object(c.a)(n,[{key:"render",value:function(){var t,e=this.state;return Object(F.jsx)(F.Fragment,{children:Object(F.jsxs)("table",{className:"table table-bordered",children:[Object(F.jsx)("thead",{className:"mgs__thead",children:Object(F.jsxs)("tr",{children:[Object(F.jsx)("th",{className:"mgs__table__name",children:"Name"}),Object(F.jsx)("th",{className:"mgs__table__description",children:"Description"})]})}),Object(F.jsx)("tbody",{children:null===(t=e.Items)||void 0===t?void 0:t.map((function(t){return Object(F.jsx)(A_,{store:t},t.id)}))})]})})}}]),n}(i.Component)),B_=Object(d.observer)(H_),W_=function(){function t(){var e=this;Object(o.a)(this,t),this.OnSet_Items_Func=[],this.items=void 0,this.AddItem=function(t){var n=e.Items;if(n.length!==e.ModelItem.Items.length){var i=N_(t,e);n.push(i)}},Object(h.makeObservable)(this,{items:h.observable})}return Object(c.a)(t,[{key:"id",get:function(){return this.ModelItem.id}},{key:"Items",get:function(){return this.items||K_(this),this.items},set:function(t){var e=this;this.items=t,ct(this.OnSet_Items_Func,(function(t){return e.OnSet_Items_Func=t}))}},{key:"UseType",get:function(){return this.ModelItem.UseType}},{key:"CategoryName",get:function(){return this.ModelItem.CategoryName}},{key:"Save",get:function(){return this.save||(this.save=q_(this)),this.save}},{key:"TableView",get:function(){return Object(F.jsx)(B_,{store:this})}},{key:"TableWrapper_View",get:function(){return Object(F.jsx)("div",{className:"mgs__table__wrapper",children:Object(F.jsx)(B_,{store:this})})}}]),t}(),z_=function(){function t(){var e=this;Object(o.a)(this,t),this.Run=function(){e.ModelItem.Run();var t=qg.Instance.Mgs_Dict_Dict;t.UseType===G_&&(t.Is_Modal_Visible=!1)},Object(h.makeObservable)(this,{})}return Object(c.a)(t,[{key:"Name",get:function(){return this.ModelItem.Name},set:function(t){this.ModelItem.Name=t}}]),t}(),K_=function(t){if(!t.IsGet_Items){t.IsGet_Items=!0;var e=function(e){var n=!0;if(t.UseType===tu){var i,s=null===(i=Yd.Instance.CurrentProject)||void 0===i?void 0:i._id;if(s)if(0!==e.length)n=e[0].projectId===s;else{var r=t.Items;r&&0!==r.length&&(n=r[0].projectId!==s)}}n&&(t.Items=e.map((function(e){return N_(e,t)})))},n=t.ModelItem;n.Items&&e(n.Items),ot(n.OnSet_Items_Func,(function(){return e(n.Items)}),!1)}},q_=function(t){return function(t,e){var n=new z_;return n.ModelItem=t,n.Dict=e,n}(t.ModelItem.Save,t)},Q_=(n(583),function(){function t(){var e=this;Object(o.a)(this,t),this.useType=L_,this.Toggle_UseType=function(){e.UseType=e.UseType===L_?G_:L_},this.Is_Modal_Visible=!1,this.current_MGS=void 0,this.OpenSave=function(){e.Is_Modal_Visible=!0,e.UseType=G_},Object(h.makeObservable)(this,{useType:h.observable,current_MGS:h.observable,Is_Modal_Visible:h.observable})}return Object(c.a)(t,[{key:"Items",get:function(){return this.items||(this.items=X_(this)),this.items}},{key:"UseType",get:function(){return this.useType},set:function(t){this.useType=t,sp(this,t)}},{key:"QueryTab",get:function(){return this.queryTab||(this.queryTab=J_(this)),this.queryTab}},{key:"SaveTab",get:function(){return this.saveTab||(this.saveTab=Z_(this)),this.saveTab}},{key:"View",get:function(){return np(this)}},{key:"ModalView",get:function(){return ip(this)}},{key:"MainItem",get:function(){return this.mainItem||(this.mainItem=Y_(this)),this.mainItem}},{key:"Add_MGS",get:function(){return this.add_MGS||(this.add_MGS=$_(this)),this.add_MGS}},{key:"Current_MGS",get:function(){return this.current_MGS},set:function(t){this.current_MGS=t,this.ModelItem.Current_MGS=null===t||void 0===t?void 0:t.ModelItem}},{key:"Pick_MGS_View",get:function(){return tp(this)}},{key:"Save_MGS_View",get:function(){return ep(this)}},{key:"Commands",get:function(){return qg.Instance.Commands}}]),t}()),X_=function(t){return t.ModelItem.Items.map((function(e){return function(t,e){var n=new W_;return n.ModelItem=t,n.Dict=e,t.OnAddItem=function(t){return n.AddItem(t)},n}(e,t)}))},Y_=function(t){return mt(t.Items,(function(t){return t.UseType===tu}))},J_=function(t){var e=new w_;return e.Items=t.Items,e.TitleRender=function(t){return t.CategoryName},e.ContentRender=function(t){return t.TableWrapper_View},e},Z_=function(t){var e=new w_;return e.Items=[t.MainItem],e.TitleRender=function(t){return t.CategoryName},e.ContentRender=function(t){return t.TableWrapper_View},e},$_=function(t){var e=new sa,n=new v;return n.Placeholder="t\xean thi\u1ebft l\u1eadp ...",e.ToggleType=Jr,e.Title="X\xe1c nh\u1eadn th\xeam thi\u1ebft l\u1eadp?",e.OnPre_ShowHover=function(){n.Content=void 0},e.Modal_InfoView=Object(F.jsx)(R,{store:n}),e.Modal_ContentView=Object(F.jsxs)("div",{className:"msg__dd__save__add__hoverwrapper",children:[e.Modal_InfoView,e.Modal_ButtonView]}),e.ShowHover_Button=Object(F.jsx)(T.a,{type:"primary",size:"small",className:"btn-success",onClick:e.Show_Hover,children:Object(F.jsx)(cv.a,{})}),e.OnPreRun=function(){n.Content&&0!==n.Content.length||(e.IsRun_Cancel=!0,O.b.warn("Vui l\xf2ng nh\u1eadp t\xean thi\u1ebft l\u1eadp!"))},e.OnRun=function(){var e=t.MainItem.Save;e.Name=n.Content,e.Run()},e},tp=function(t){var e=t.Current_MGS?t.Current_MGS.Name_ForPick:"(none)";return Object(F.jsx)(T.a,{type:"primary",onClick:function(){t.Is_Modal_Visible=!0,t.UseType=L_},children:Object(F.jsxs)("div",{className:"msg__dd__pick__wrapper",children:[Object(F.jsx)("div",{children:"CH\u1eccN THI\u1ebeT L\u1eacP:"}),Object(F.jsx)("div",{className:"msg__dd__pick__current",children:e})]})})},ep=function(t){return pt(jt)?Object(F.jsx)(T.a,{type:"primary",size:"small",onClick:t.OpenSave,children:Object(F.jsx)(zf.a,{})}):""},np=function(t){switch(t.UseType){case L_:return Object(F.jsx)(F.Fragment,{children:t.QueryTab.View});case G_:return Object(F.jsx)(F.Fragment,{children:Object(F.jsxs)("div",{className:"msg__dd__save__wrapper",children:[Object(F.jsx)("div",{className:"msg__dd__save__add",children:t.Commands.includes(jt)?t.Add_MGS.View:""}),Object(F.jsx)("div",{className:"msg__dd__save__main",children:t.SaveTab.ContentView})]})})}},ip=function(t){var e=t.UseType===L_?"CH\u1eccN THI\u1ebeT L\u1eacP":"L\u01afU THI\u1ebeT L\u1eacP";return Object(F.jsx)(pe.a,{title:e,visible:t.Is_Modal_Visible,width:1e3,className:"msg__modal",onCancel:function(){t.Is_Modal_Visible=!t.Is_Modal_Visible},footer:null,children:Object(F.jsx)("div",{children:t.View})})},sp=function(t,e){var n=t.MainItem,i=function(){n.Items.forEach((function(t){t.DD_UseType=e}))};n.Items?i():ot(n.OnSet_Items_Func,i)},rp=(n(584),function(t,e){var n=new up;return n.ModelItem=t,n.Dict=e,n}),ap=(n(585),"query"),op="save",cp=function(){return qg.Instance},up=function(){function t(){var e=this;Object(o.a)(this,t),this.renderState=me,this.Edit=function(){e.Commands.includes(jt)&&e.RenderState===me&&(e.RenderState=ve,e.Hide_Tool())},this.isActive=!1,this.Set_Active=function(){var t=cp().Mds_Dict_Dict;t.TempCurrentItem&&(t.TempCurrentItem.IsActive=!1),t.TempCurrentItem=e,e.IsActive=!0},this.UnSet_Active=function(){cp().Mds_Dict_Dict.TempCurrentItem=void 0,e.IsActive=!1},this.dd_UseType=void 0,this.OnMouseEnter=function(){e.RenderState!==ve&&e.Show_Tool()},this.OnMouseLeave=function(){e.Hide_Tool()},this.SaveDatabase=function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=arguments.length>1?arguments[1]:void 0;e.ModelItem.SaveDatabase(t,n,!1)},this.Delete=function(){e.CurrentList.splice(e.Index,1),e.ModelItem.Delete()},Object(h.makeObservable)(this,{isActive:h.observable,dd_UseType:h.observable})}return Object(c.a)(t,[{key:"id",get:function(){return this.ModelItem.id}},{key:"projectId",get:function(){return this.ModelItem.projectId}},{key:"RenderState",get:function(){return this.renderState},set:function(t){this.renderState=t,this.NameVM.RenderState=t,this.DescriptionVM.RenderState=t,t===me&&this.SaveDatabase(!1)}},{key:"Name",get:function(){return this.ModelItem.Name},set:function(t){this.ModelItem.Name=t}},{key:"Name_ForPick",get:function(){return this.Name}},{key:"NameVM",get:function(){var t=this;if(!this.nameVM){var e=this.nameVM=wn(this.Name,this.CanEdit);e.Is_Tool_Visible=!1,e.OnKeyDown=function(e){var n=Fn(e),i=n.key;n.value;if(i===Tn)t.RenderState=me},at(e.OnSet_RenderState_Func_Dict,(function(){e.RenderState===me&&(t.Name=e.Content)}),!1)}return this.nameVM}},{key:"NameView",get:function(){return Object(F.jsx)(bn,{className:"mds__cell__main",store:this.NameVM})}},{key:"NameWrapper_View",get:function(){return Object(F.jsxs)("div",{className:"mds__cell__wrapper",children:[this.NameView,this.DD_UseType===ap?this.ActiveTool.View:this.Commands.includes(jt)?this.SaveTable.View:""]})}},{key:"Description",get:function(){return this.ModelItem.Description},set:function(t){this.ModelItem.Description=t}},{key:"DescriptionVM",get:function(){var t=this;if(!this.descriptionVM){var e=this.descriptionVM=wn(this.Description,this.CanEdit);e.Is_Tool_Visible=!1,e.OnKeyDown=function(e){var n=Fn(e),i=n.key;n.value;if(i===Tn)t.RenderState=me},at(e.OnSet_RenderState_Func_Dict,(function(){e.RenderState===me&&(t.Description=e.Content)}),!1)}return this.descriptionVM}},{key:"DescriptionView",get:function(){return Object(F.jsx)(bn,{className:"mds__cell__main",store:this.DescriptionVM})}},{key:"DescriptionWrapper_View",get:function(){return Object(F.jsxs)("div",{className:"mds__cell__wrapper",children:[this.DescriptionView,pt(jt)&&this.DD_UseType===ap?this.DeleteVM.View:""]})}},{key:"ActiveTool",get:function(){return this.activeTool||(this.activeTool=function(t){var e=new sa;return e.ToggleType=Zr,e.Retrieve_WrapperView=function(){return t.IsActive?Object(F.jsx)(T.a,{type:"primary",size:"small",onClick:t.UnSet_Active,className:"btn-warning",children:Object(F.jsx)(hm.a,{})}):Object(F.jsx)(T.a,{type:"primary",size:"small",onClick:t.Set_Active,children:Object(F.jsx)(jh.a,{})})},e}(this)),this.activeTool}},{key:"IsActive",get:function(){return this.isActive},set:function(t){this.isActive=t}},{key:"ActiveStyle",get:function(){return this.DD_UseType===ap&&this.IsActive?"active":""}},{key:"DD_UseType",get:function(){return this.dd_UseType||(this.dd_UseType=this.Dict.Dict.UseType),this.dd_UseType},set:function(t){this.dd_UseType=t}},{key:"SaveTable",get:function(){return this.saveTable||(this.saveTable=function(t){var e=new sa;return e.ToggleType=Zr,e.Title="X\xe1c nh\u1eadn l\u01b0u \u0111\xe8?",e.ShowHover_Button=Object(F.jsx)(T.a,{type:"primary",size:"small",className:"btn-success",onClick:e.Show_Hover,children:Object(F.jsx)(zf.a,{})}),e.OnRun=function(){var e=t.Dict.Save;e.Name=t.Name,e.Run()},e}(this)),this.saveTable}},{key:"Show_Tool",value:function(){switch(this.DD_UseType){case ap:this.ActiveTool.Show(),this.DeleteVM.Show();break;case op:this.SaveTable.Show()}}},{key:"Hide_Tool",value:function(){switch(this.DD_UseType){case ap:this.ActiveTool.Hide(),this.DeleteVM.Hide();break;case op:this.SaveTable.Hide()}}},{key:"RowView",get:function(){return Object(F.jsxs)("tr",{className:"mds__row ".concat(this.ActiveStyle),onDoubleClick:this.Edit,onMouseEnter:this.OnMouseEnter,onMouseLeave:this.OnMouseLeave,children:[Object(F.jsx)("td",{children:this.NameWrapper_View}),Object(F.jsx)("td",{children:this.DescriptionWrapper_View})]})}},{key:"CurrentList",get:function(){return this.Dict.Items}},{key:"Index",get:function(){return this.CurrentList.indexOf(this)}},{key:"DeleteVM",get:function(){return this.deleteVM||(this.deleteVM=function(t){var e=new sa;return e.ToggleType=Zr,e.Title="X\xe1c nh\u1eadn x\xf3a?",e.OnRun=function(){t.Delete()},e}(this)),this.deleteVM}},{key:"Commands",get:function(){return cp().Commands}}]),t}(),lp=function(t){Object(u.a)(n,t);var e=Object(l.a)(n);function n(t){var i;Object(o.a)(this,n);var s=(i=e.call(this,t)).props.store;return i.state=s||new up,i}return Object(c.a)(n,[{key:"render",value:function(){var t=this.state;return Object(F.jsx)(F.Fragment,{children:t.RowView})}}]),n}(i.Component),dp=Object(d.observer)(lp),hp=function(t){Object(u.a)(n,t);var e=Object(l.a)(n);function n(t){var i;Object(o.a)(this,n);var s=(i=e.call(this,t)).props.store;return i.state=s||new mp,i}return Object(c.a)(n,[{key:"render",value:function(){var t,e=this.state;return Object(F.jsx)(F.Fragment,{children:Object(F.jsxs)("table",{className:"table table-bordered",children:[Object(F.jsx)("thead",{className:"mds__thead",children:Object(F.jsxs)("tr",{children:[Object(F.jsx)("th",{className:"mds__table__name",children:"Name"}),Object(F.jsx)("th",{className:"mds__table__description",children:"Description"})]})}),Object(F.jsx)("tbody",{children:null===(t=e.Items)||void 0===t?void 0:t.map((function(t){return Object(F.jsx)(dp,{store:t},t.id)}))})]})})}}]),n}(i.Component),fp=Object(d.observer)(hp),mp=function(){function t(){var e=this;Object(o.a)(this,t),this.OnSet_Items_Func=[],this.items=void 0,this.AddItem=function(t){var n=e.Items;if(n.length!==e.ModelItem.Items.length){var i=rp(t,e);n.push(i)}},Object(h.makeObservable)(this,{items:h.observable})}return Object(c.a)(t,[{key:"id",get:function(){return this.ModelItem.id}},{key:"Items",get:function(){return this.items||_p(this),this.items},set:function(t){var e=this;this.items=t,ct(this.OnSet_Items_Func,(function(t){return e.OnSet_Items_Func=t}))}},{key:"UseType",get:function(){return this.ModelItem.UseType}},{key:"CategoryName",get:function(){return this.ModelItem.CategoryName}},{key:"Save",get:function(){return this.save||(this.save=pp(this)),this.save}},{key:"TableView",get:function(){return Object(F.jsx)(fp,{store:this})}},{key:"TableWrapper_View",get:function(){return Object(F.jsx)("div",{className:"mgs__table__wrapper",children:Object(F.jsx)(fp,{store:this})})}}]),t}(),vp=function(){function t(){var e=this;Object(o.a)(this,t),this.Run=function(){e.ModelItem.Run();var t=qg.Instance.Mds_Dict_Dict;t.UseType===op&&(t.Is_Modal_Visible=!1)},Object(h.makeObservable)(this,{})}return Object(c.a)(t,[{key:"Name",get:function(){return this.ModelItem.Name},set:function(t){this.ModelItem.Name=t}}]),t}(),_p=function(t){if(!t.IsGet_Items){t.IsGet_Items=!0;var e=function(e){t.Items=e.map((function(e){return rp(e,t)})),t.IsGet_Items=!1},n=t.ModelItem;n.Items&&e(n.Items),ot(n.OnSet_Items_Func,(function(){return e(n.Items)}),!1)}},pp=function(t){return function(t,e){var n=new vp;return n.ModelItem=t,n.Dict=e,n}(t.ModelItem.Save,t)},bp=(n(586),function(){function t(){var e=this;Object(o.a)(this,t),this.useType=ap,this.Toggle_UseType=function(){e.UseType=e.UseType===ap?op:ap},this.Is_Modal_Visible=!1,this.current_MDS=void 0,this.OpenSave=function(){e.Is_Modal_Visible=!0,e.UseType=op},Object(h.makeObservable)(this,{useType:h.observable,current_MDS:h.observable,Is_Modal_Visible:h.observable})}return Object(c.a)(t,[{key:"Items",get:function(){return this.items||(this.items=Ip(this)),this.items}},{key:"UseType",get:function(){return this.useType},set:function(t){this.useType=t,Cp(this,t)}},{key:"QueryTab",get:function(){return this.queryTab||(this.queryTab=gp(this)),this.queryTab}},{key:"SaveTab",get:function(){return this.saveTab||(this.saveTab=yp(this)),this.saveTab}},{key:"View",get:function(){return Mp(this)}},{key:"ModalView",get:function(){return kp(this)}},{key:"MainItem",get:function(){return this.mainItem||(this.mainItem=jp(this)),this.mainItem}},{key:"Add_MDS",get:function(){return this.add_MDS||(this.add_MDS=Op(this)),this.add_MDS}},{key:"Current_MDS",get:function(){return this.current_MDS},set:function(t){this.current_MDS=t,this.ModelItem.Current_MDS=null===t||void 0===t?void 0:t.ModelItem}},{key:"Pick_MDS_View",get:function(){return Sp(this)}},{key:"Save_MDS_View",get:function(){return Dp(this)}},{key:"Commands",get:function(){return qg.Instance.Commands}},{key:"Table",get:function(){return this.ModelItem.Table}}]),t}()),Ip=function(t){return t.ModelItem.Items.map((function(e){return function(t,e){var n=new mp;return n.ModelItem=t,n.Dict=e,t.OnAddItem=function(t){return n.AddItem(t)},n}(e,t)}))},jp=function(t){return t.Items[0]},gp=function(t){var e=new w_;return e.Items=t.Items,e.TitleRender=function(t){return t.CategoryName},e.ContentRender=function(t){return t.TableWrapper_View},e},yp=function(t){var e=new w_;return e.Items=[t.MainItem],e.TitleRender=function(t){return t.CategoryName},e.ContentRender=function(t){return t.TableWrapper_View},e},Op=function(t){var e=new sa,n=new v;return n.Placeholder="t\xean thi\u1ebft l\u1eadp ...",e.ToggleType=Jr,e.Title="X\xe1c nh\u1eadn th\xeam thi\u1ebft l\u1eadp?",e.OnPre_ShowHover=function(){n.Content=void 0},e.Modal_InfoView=Object(F.jsx)(R,{store:n}),e.Modal_ContentView=Object(F.jsxs)("div",{className:"mdg__dd__save__add__hoverwrapper",children:[e.Modal_InfoView,e.Modal_ButtonView]}),e.ShowHover_Button=Object(F.jsx)(T.a,{type:"primary",size:"small",className:"btn-success",onClick:e.Show_Hover,children:Object(F.jsx)(cv.a,{})}),e.OnPreRun=function(){n.Content&&0!==n.Content.length||(e.IsRun_Cancel=!0,O.b.warn("Vui l\xf2ng nh\u1eadp t\xean thi\u1ebft l\u1eadp!"))},e.OnRun=function(){var e=t.MainItem.Save;e.Name=n.Content,e.Run()},e},Sp=function(t){var e=t.Current_MDS?t.Current_MDS.Name_ForPick:"(none)";return Object(F.jsx)(T.a,{type:"primary",onClick:function(){t.TempCurrentItem&&t.TempCurrentItem.UnSet_Active(),t.Is_Modal_Visible=!0,t.UseType=ap},children:Object(F.jsxs)("div",{className:"mdg__dd__pick__wrapper",children:[Object(F.jsx)("div",{children:"CH\u1eccN THI\u1ebeT L\u1eacP:"}),Object(F.jsx)("div",{className:"mdg__dd__pick__current",children:e})]})})},Dp=function(t){return pt(jt)?Object(F.jsx)(T.a,{type:"primary",size:"small",onClick:t.OpenSave,children:Object(F.jsx)(zf.a,{})}):""},Mp=function(t){switch(t.UseType){case ap:return Object(F.jsx)(F.Fragment,{children:t.QueryTab.ContentView});case op:return Object(F.jsx)(F.Fragment,{children:Object(F.jsxs)("div",{className:"mdg__dd__save__wrapper",children:[Object(F.jsx)("div",{className:"mdg__dd__save__add",children:pt(jt)?t.Add_MDS.View:""}),Object(F.jsx)("div",{className:"mdg__dd__save__main",children:t.SaveTab.ContentView})]})})}},kp=function(t){var e=t.UseType===ap?"CH\u1eccN THI\u1ebeT L\u1eacP":"L\u01afU THI\u1ebeT L\u1eacP",n=function(){t.Is_Modal_Visible=!1};return Object(F.jsx)(pe.a,{title:e,visible:t.Is_Modal_Visible,width:1e3,className:"msg__modal",onCancel:n,footer:Object(F.jsxs)(F.Fragment,{children:[Object(F.jsx)(T.a,{type:"primary",size:"small",onClick:function(){t.Is_Modal_Visible=!1,t.Current_MDS=t.TempCurrentItem},children:"ok"}),Object(F.jsx)(T.a,{type:"text",size:"small",onClick:n,children:"cancel"})]}),children:Object(F.jsx)("div",{children:t.View})})},Cp=function(t,e){var n=t.MainItem,i=function(){n.Items.forEach((function(t){t.DD_UseType=e}))};n.Items?i():ot(n.OnSet_Items_Func,i)},Vp=(n(587),function(t,e){var n=new Tp;return n.ModelItem=t,n.Dict=e,n}),wp=function(t){return"".concat(t.Name," (").concat(t.MassType,")")},Tp=(n(588),function(){function t(){var e=this;Object(o.a)(this,t),this.renderState=me,this.Edit=function(){e.CanEdit&&pt(jt)&&e.RenderState===me&&(e.RenderState=ve,e.Hide_Tool())},this.nameForView=void 0,this.OnMouseEnter=function(){e.RenderState!==ve&&e.Show_Tool()},this.OnMouseLeave=function(){e.Hide_Tool()},this.SaveDatabase=function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=arguments.length>1?arguments[1]:void 0;e.ModelItem.SaveDatabase(t,n,!1)},this.Delete=function(){e.Dict.CurrentPopover.IsCancel=!0,e.CurrentList.splice(e.Index,1),e.Dict.Items.forEach((function(t){t.Items.splice(t.Items.indexOf(e),1)})),e.ModelItem.Delete()},this.SetValue=function(){e.Dict.SetValue(e.Name)},Object(h.makeObservable)(this,{nameForView:h.observable})}return Object(c.a)(t,[{key:"id",get:function(){return this.ModelItem.id}},{key:"RenderState",get:function(){return this.renderState},set:function(t){this.renderState=t,this.NameVM.RenderState=t,t===me&&this.SaveDatabase(!1)}},{key:"CanEdit",get:function(){return this.Dict.QueryTab.CurrentItem.UseType===Pu}},{key:"Name",get:function(){return this.ModelItem.Name},set:function(t){this.ModelItem.Name=t,this.NameForView=wp(this)}},{key:"NameForView",get:function(){return this.nameForView||(this.nameForView=wp(this)),this.nameForView},set:function(t){this.nameForView=t}},{key:"NameVM",get:function(){var t=this;if(!this.nameVM){var e=this.nameVM=wn(this.Name,this.CanEdit);e.Placeholder="nh\u1eadp th\xf4ng tin ...",e.Is_Tool_Visible=!1,e.OnKeyDown=function(e){var n=Fn(e),i=n.key;n.value;if(i===Tn)t.RenderState=me},at(e.OnSet_RenderState_Func_Dict,(function(){e.RenderState===me&&(t.Name=e.Content)}),!1)}return this.nameVM}},{key:"NameView",get:function(){return Object(F.jsx)(bn,{className:"sg__cell__main",store:this.NameVM})}},{key:"NameWrapper_View",get:function(){return Object(F.jsxs)("div",{className:"sg__cell__wrapper f",children:[Object(F.jsx)("div",{className:"sg__cell_name__wrapper",children:this.CanEdit?this.NameView:this.NameForView}),pt(jt)?Object(F.jsx)("div",{className:"sg__item__delete",children:pt(jt)?this.DeleteVM.View:""}):""]})}},{key:"MassType",get:function(){return this.ModelItem.MassType}},{key:"Field",get:function(){return this.ModelItem.Field}},{key:"Show_Tool",value:function(){this.DeleteVM.Show()}},{key:"Hide_Tool",value:function(){this.DeleteVM.Hide()}},{key:"RowView",get:function(){return Object(F.jsx)("div",{className:"sg__row",onDoubleClick:this.Edit,onMouseEnter:this.OnMouseEnter,onMouseLeave:this.OnMouseLeave,children:this.NameWrapper_View})}},{key:"CurrentList",get:function(){return this.Dict.Data}},{key:"Index",get:function(){return this.CurrentList.indexOf(this)}},{key:"DeleteVM",get:function(){return this.deleteVM||(this.deleteVM=function(t){var e=new sa;return e.ToggleType=Zr,e.UseType=ea,e.Retrieve_WrapperView=function(){return Object(F.jsxs)("div",{className:"f",children:[Object(F.jsx)(T.a,{type:"primary",size:"small",onClick:t.SetValue,children:"ok"}),t.CanEdit?Object(F.jsx)(T.a,{type:"primary",size:"small",className:"btn-danger",onClick:t.Delete,children:"x"}):""]})},e}(this)),this.deleteVM}},{key:"Commands",get:function(){return qg.Instance.Commands}}]),t}()),xp=function(t){Object(u.a)(n,t);var e=Object(l.a)(n);function n(t){var i;Object(o.a)(this,n);var s=(i=e.call(this,t)).props.store;return i.state=s||new Tp,i}return Object(c.a)(n,[{key:"render",value:function(){var t=this.state;return Object(F.jsx)(F.Fragment,{children:t.RowView})}}]),n}(i.Component),Fp=Object(d.observer)(xp),Np=function(t){Object(u.a)(n,t);var e=Object(l.a)(n);function n(t){var i;Object(o.a)(this,n);var s=(i=e.call(this,t)).props.store;return i.state=s||new Lp,i}return Object(c.a)(n,[{key:"render",value:function(){var t,e=this.state;return Object(F.jsx)(F.Fragment,{children:Object(F.jsx)("div",{children:null===(t=e.Items)||void 0===t?void 0:t.map((function(t){return Object(F.jsx)(Fp,{store:t},t.id)}))})})}}]),n}(i.Component),Rp=Object(d.observer)(Np),Lp=function(){function t(){Object(o.a)(this,t),this.OnSet_Items_Func=[],this.items=void 0,Object(h.makeObservable)(this,{items:h.observable})}return Object(c.a)(t,[{key:"id",get:function(){return this.ModelItem.id}},{key:"Items",get:function(){return this.items||(this.items=Gp(this)),this.items},set:function(t){this.items=t}},{key:"AddData",get:function(){return this.addData||(this.addData=Pp(this)),this.addData}},{key:"UseType",get:function(){return this.ModelItem.UseType}},{key:"TableView",get:function(){return Object(F.jsx)(Rp,{store:this})}},{key:"TableWrapper_View",get:function(){return Object(F.jsxs)("div",{className:"sg__table__wrapper f",children:[this.UseType===Pu&&pt(jt)?this.AddData.View:"",Object(F.jsx)(Rp,{store:this})]})}}]),t}(),Gp=(n(589),function(t){var e=t.Dict.Data,n=t.Dict.CurrentField;switch(t.UseType){case Pu:var i=t.Dict.CurrentMassType;return e.filter((function(t){return t.MassType===i&&t.Field===n}));case Eu:return e.filter((function(t){return t.Field===n}))}}),Pp=function(t){var e=new sa,n=function(){t.Dict.ModelItem.AddData()};return e.ToggleType=Jr,e.Retrieve_WrapperView=function(){return Object(F.jsx)(T.a,{type:"primary",size:"small",className:"sg__additem",onClick:n,children:"+"})},e},Ep=(n(590),function(){function t(){var e=this;Object(o.a)(this,t),this.Is_Modal_Visible=!1,this.currentItem=void 0,this.currentField=void 0,this.currentMassType=void 0,this.AddData=function(t){var n=Vp(t,e);n.Edit(),e.Data.push(n),e.Items.forEach((function(t){t.Items.length!==e.Data.length&&t.Items.push(n)}))},this.Initial=function(){e.QueryTab.CurrentItem=e.Items[0],e.ModelItem.Initial()},this.Refine=function(){$p(e)},this.SetValue=void 0,this.SaveDatabase=function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=arguments.length>1?arguments[1]:void 0;e.ModelItem.SaveDatabase(t,n)},Object(h.makeObservable)(this,{Is_Modal_Visible:h.observable,SetValue:h.observable})}return Object(c.a)(t,[{key:"Items",get:function(){return this.items||(this.items=qp(this)),this.items}},{key:"Data",get:function(){return this.data||(this.data=Zp(this)),this.data},set:function(t){this.data=t}},{key:"QueryTab",get:function(){return this.queryTab||(this.queryTab=Qp(this)),this.queryTab}},{key:"View",get:function(){return Yp(this)}},{key:"ModalView",get:function(){return Jp(this)}},{key:"CurrentItem",get:function(){return this.currentItem},set:function(t){this.currentItem=t,this.ModelItem.Current_MDS=null!==t&&void 0!==t&&t.ModelItem?t.ModelItem:t}},{key:"Popover_Render",get:function(){return this.popover_Render||(this.popover_Render=Xp(this)),this.popover_Render},set:function(t){this.popover_Render=t}},{key:"CurrentField",get:function(){return this.currentField},set:function(t){this.currentField=t,this.ModelItem.CurrentField=t}},{key:"CurrentMassType",get:function(){return this.currentMassType},set:function(t){this.currentMassType=t,this.ModelItem.CurrentMassType=t}}]),t}()),Up=(n(591),"hover"),Ap="click",Hp=function(t){Object(u.a)(n,t);var e=Object(l.a)(n);function n(t){var i;Object(o.a)(this,n);var r=(i=e.call(this,t)).props.store;return i.state=r||new Wp,i.state.ClickRef=s.a.createRef(),i}return Object(c.a)(n,[{key:"render",value:function(){var t=this.state;return Object(F.jsx)(F.Fragment,{children:Object(F.jsxs)("div",{className:"popover__wrapper",style:t.WrapperStyle,onMouseEnter:t.Trigger===Up?t.ShowContent:void 0,onMouseLeave:t.Trigger===Up?t.HideContent:void 0,children:[Object(F.jsx)("div",{className:"popover__title__wrapper",onClick:t.Trigger===Ap?t.ToggleContent:void 0,children:t.Title}),t.Is_Content_Visible?Object(F.jsx)("div",{className:"popover__content__wrapper",ref:t.ClickRef,children:Object(F.jsxs)("div",{className:"popover__content__dec",children:[Object(F.jsx)("div",{className:"popover__content__arrow"}),t.Content]})}):""]})})}}]),n}(i.Component),Bp=Object(d.observer)(Hp),Wp=function(){function t(){var e=this;Object(o.a)(this,t),this.Trigger=Up,this.is_Content_Visible=!1,this.ShowContent=function(){e.Is_Content_Visible=!0},this.HideContent=function(){e.Is_Content_Visible=!1},this.ToggleContent=function(){e.Is_Content_Visible=!e.Is_Content_Visible},this.OnClickOutside=function(t){if(e.Trigger===Ap){if(e.IsCancel)return void(e.IsCancel=!1);if(e.Init_ClickOutside)return void(e.Init_ClickOutside=!1);if(e.ClickRef){var n=e.ClickRef.current;if(!n)return;var i=t.target,s=!1;!function t(e,n){e.contains(n)?s=!0:Array.from(e.children).forEach((function(e){return t(e,n)}))}(n,i),s||(e.Is_Content_Visible=!1)}}},Object(h.makeObservable)(this,{is_Content_Visible:h.observable,Trigger:h.observable})}return Object(c.a)(t,[{key:"id",get:function(){return this._id||(this._id=nt()),this._id},set:function(t){this._id=t}},{key:"TitleRender",get:function(){return this.titleRender||(this.titleRender=zp(this)),this.titleRender},set:function(t){this.titleRender=t}},{key:"Title",get:function(){return this.TitleRender()}},{key:"ContentRender",get:function(){return this.contentRender||(this.contentRender=Kp(this)),this.contentRender},set:function(t){this.contentRender=t}},{key:"Content",get:function(){return this.ContentRender()}},{key:"WrapperStyle",get:function(){return this.Is_Content_Visible?{zIndex:100}:void 0}},{key:"Is_Content_Visible",get:function(){return this.is_Content_Visible},set:function(t){this.PreSet_Is_Content_Visible&&this.PreSet_Is_Content_Visible(t),this.is_Content_Visible=t,t?(this.Init_ClickOutside=!0,document.addEventListener("click",this.OnClickOutside)):document.removeEventListener("click",this.OnClickOutside),this.OnSet_Is_Content_Visible&&this.OnSet_Is_Content_Visible(t)}},{key:"View",get:function(){return Object(F.jsx)(Bp,{store:this},this.id)}}]),t}(),zp=function(t){return function(){return"Title"}},Kp=function(t){return function(){return"Content"}},qp=function(t){return t.ModelItem.Items.map((function(e){return function(t,e){var n=new Lp;return n.ModelItem=t,n.Dict=e,t.OnAddItem=function(t){return n.AddItem(t)},t.OnSet_Items=function(t){return n.Items=Gp(n)},n}(e,t)}))},Qp=function(t){var e=new w_;return e.Items=t.Items,e.TitleRender=function(e){switch(e.UseType){case Pu:return t.CurrentMassType;case Eu:return"All"}},e.ContentRender=function(t){return t.TableWrapper_View},e},Xp=function(t){return function(e){var n=function(t){var e=new Wp;return e.Dict=t,e}();return n.Trigger="click",n.TitleRender=function(){return e},n.ContentRender=function(){return t.View},n.PreSet_Is_Content_Visible=function(e){e&&t.Initial()},n.OnSet_Is_Content_Visible=function(e){e||(t.Refine(),t.SaveDatabase(!1))},n}},Yp=function(t){return Object(F.jsx)("div",{className:"sg__view__wrapper",children:t.QueryTab.View})},Jp=function(t){var e=function(){t.Is_Modal_Visible=!1};return Object(F.jsx)(pe.a,{title:"THI\u1ebeT L\u1eacP",visible:t.Is_Modal_Visible,width:1e3,className:"msg__modal",onCancel:e,footer:Object(F.jsxs)(F.Fragment,{children:[Object(F.jsx)(T.a,{type:"primary",size:"small",onClick:function(){t.Is_Modal_Visible=!1,t.CurrentItem=t.TempCurrentItem},children:"ok"}),Object(F.jsx)(T.a,{type:"text",size:"small",onClick:e,children:"cancel"})]}),children:Object(F.jsx)("div",{children:t.View})})},Zp=function(t){return t.ModelItem.Data.map((function(e){return Vp(e,t)}))},$p=function(t){var e=t.Items[0].Items,n=[];e.forEach((function(t,e,i){var s=t.Name;s&&0!==s.length?e!==i.findIndex((function(t){return t.Name===s}))&&n.push(t):n.push(t)})),n.forEach((function(t){return t.Delete()}))},tb=function(){function t(){Object(o.a)(this,t),this.ModelItem=void 0,this.Dict=void 0,this.listData=void 0,this.categoryBindingData=void 0,this.materialBindingData=void 0,this.systemBindingData=void 0}return Object(c.a)(t,[{key:"ListData",get:function(){var t;return null!==(t=this.listData)&&void 0!==t?t:this.listData=zb(this)}},{key:"CategoryBindingData",get:function(){var t;return null!==(t=this.categoryBindingData)&&void 0!==t?t:this.categoryBindingData=Kb(this)}},{key:"MaterialBindingData",get:function(){var t;return null!==(t=this.materialBindingData)&&void 0!==t?t:this.materialBindingData=qb(this)}},{key:"SystemBindingData",get:function(){var t;return null!==(t=this.systemBindingData)&&void 0!==t?t:this.systemBindingData=Qb(this)}}]),t}(),eb=(n(592),Object(d.observer)((function(t){var e=t.store;return Object(F.jsx)(F.Fragment,{children:e.RowView})}))),nb=Object(d.observer)((function(t){var e=t.store;return Object(F.jsx)(F.Fragment,{children:Object(F.jsxs)("table",{className:"table table-bordered",children:[Object(F.jsx)("thead",{className:"mt__thead",children:Object(F.jsx)("tr",{children:Object(F.jsx)("th",{className:"mt__table__name",children:"Name"})})}),Object(F.jsx)("tbody",{children:e.Items?e.Items.map((function(t){return Object(F.jsx)(eb,{store:t},t.id)})):Object(F.jsx)("tr",{})})]})})})),ib=(n(593),function(){function t(){var e=this;Object(o.a)(this,t),this.ModelItem=void 0,this.Dict=void 0,this.renderState=me,this.CanEdit=void 0,this.Edit=function(){e.RenderState===me&&(e.RenderState=ve,e.Hide_Tool())},this.nameVM=void 0,this.OnMouseEnter=function(){e.RenderState!==ve&&e.Show_Tool()},this.OnMouseLeave=function(){e.Hide_Tool()},this.Show_Tool=function(){e.DeleteVM.Show()},this.Hide_Tool=function(){e.DeleteVM.Hide()},this.SaveDatabase=function(){var t,n=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],i=arguments.length>1?arguments[1]:void 0;null===(t=e.ModelItem)||void 0===t||t.SaveDatabase(n,i)},this.Delete=function(){var t;e.CurrentList.splice(e.Index,1),null===(t=e.ModelItem)||void 0===t||t.Delete()},this.deleteVM=void 0,Object(h.makeObservable)(this,{})}return Object(c.a)(t,[{key:"id",get:function(){var t;return null===(t=this.ModelItem)||void 0===t?void 0:t.id}},{key:"RenderState",get:function(){return this.renderState},set:function(t){this.renderState=t,this.NameVM.RenderState=t,t===me&&this.SaveDatabase(!1)}},{key:"Name",get:function(){var t;return null===(t=this.ModelItem)||void 0===t?void 0:t.Name},set:function(t){this.ModelItem.Name=t}},{key:"NameVM",get:function(){var t,e=this;return null!==(t=this.nameVM)&&void 0!==t?t:this.nameVM=function(){var t=wn(e.Name,e.CanEdit);t.Is_Tool_Visible=!1,t.OnKeyDown=function(n){var i=Fn(n),s=i.key;i.value;switch(s){case Tn:e.Name=t.Content,e.RenderState=me;break;case xn:t.Content=e.Name,e.RenderState=me}return t}}()}},{key:"NameView",get:function(){return Object(F.jsx)(bn,{className:"mgs__cell__main",store:this.NameVM})}},{key:"NameWrapper_View",get:function(){return Object(F.jsxs)("div",{className:"mgs__cell__wrapper",children:[this.NameView,this.DeleteVM.View]})}},{key:"RowView",get:function(){return Object(F.jsx)("tr",{className:"mt__row",onDoubleClick:this.Edit,onMouseEnter:this.OnMouseEnter,onMouseLeave:this.OnMouseLeave,children:Object(F.jsx)("td",{children:this.NameWrapper_View})})}},{key:"CurrentList",get:function(){var t;return null===(t=this.Dict)||void 0===t?void 0:t.Items}},{key:"Index",get:function(){return this.CurrentList.indexOf(this)}},{key:"DeleteVM",get:function(){var t;return null!==(t=this.deleteVM)&&void 0!==t?t:this.deleteVM=rb(this)}}]),t}()),sb=function(t,e){var n=new ib;return n.ModelItem=t,n.Dict=e,n},rb=function(t){var e=new sa;return e.ToggleType=Zr,e.Title="X\xe1c nh\u1eadn x\xf3a?",e.OnRun=function(){t.Delete()},e},ab=(n(594),function(){function t(){var e=this;Object(o.a)(this,t),this.ModelItem=void 0,this.Dict=void 0,this.OnSet_Items_Func=[],this.IsGet_Items=void 0,this.items=void 0,this.AddItem=function(){var t,n,i=null===(t=e.ModelItem)||void 0===t?void 0:t.AddItem(),s=sb(i,e);return s.RenderState=ve,null===(n=e.Items)||void 0===n||n.push(s),s},Object(h.makeObservable)(this,{items:h.observable})}return Object(c.a)(t,[{key:"id",get:function(){var t;return null===(t=this.ModelItem)||void 0===t?void 0:t.id}},{key:"Items",get:function(){return this.items||ob(this),this.items},set:function(t){var e=this;this.items=t,ct(this.OnSet_Items_Func,(function(t){return e.OnSet_Items_Func=t}))}},{key:"TableView",get:function(){return Object(F.jsx)(nb,{store:this})}},{key:"View",get:function(){return Object(F.jsxs)("div",{className:"mt__wrapper",children:[Object(F.jsx)("div",{className:"f-jc mt__title",children:Object(F.jsx)("span",{children:"DANH S\xc1CH \u0110\u1ea6U M\u1ee4C C\xd4NG VI\u1ec6C"})}),Object(F.jsxs)("div",{className:"f",children:[Object(F.jsx)(T.a,{type:"primary",size:"small",className:"btn-success mt__add",onClick:this.AddItem,children:"+"}),Object(F.jsx)("div",{className:"f1",children:Object(F.jsx)(nb,{store:this})})]})]})}}]),t}()),ob=function(t){if(!t.IsGet_Items){t.IsGet_Items=!0;var e=function(e){t.Items=e.map((function(e){return sb(e,t)})),t.IsGet_Items=!1},n=t.ModelItem;n.Items&&e(n.Items),ot(n.OnSet_Items_Func,(function(){return e(n.Items)}),!1)}},cb=(n(595),Object(d.observer)((function(t){var e=t.store;return Object(F.jsx)(F.Fragment,{children:e.RowView})}))),ub=Object(d.observer)((function(t){var e=t.store;return Object(F.jsx)(F.Fragment,{children:Object(F.jsxs)("table",{className:"table table-bordered",children:[Object(F.jsx)("thead",{className:"mt__thead",children:Object(F.jsxs)("tr",{children:[Object(F.jsx)("th",{className:"mt__table__masstype",children:"\u0110\u1ea7u m\u1ee5c c\xf4ng vi\u1ec7c"}),Object(F.jsx)("th",{className:"mt__table__material",children:"Category"})]})}),Object(F.jsx)("tbody",{children:e.Items?e.Items.map((function(t){return Object(F.jsx)(cb,{store:t},t.id)})):Object(F.jsx)("tr",{})})]})})})),lb=(n(596),function(){function t(){var e=this;Object(o.a)(this,t),this.ModelItem=void 0,this.Dict=void 0,this.renderState=me,this.Edit=function(){e.RenderState===me&&(e.RenderState=ve,e.Hide_Tool())},this.massType_SelectVM=void 0,this.category_SelectVM=void 0,this.Materials=void 0,this.OnMouseEnter=function(){e.RenderState!==ve&&e.Show_Tool()},this.OnMouseLeave=function(){e.Hide_Tool()},this.Show_Tool=function(){e.DeleteVM.Show()},this.Hide_Tool=function(){e.DeleteVM.Hide()},this.Save=function(){var t,n=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],i=arguments.length>1?arguments[1]:void 0;null===(t=e.Materials)||void 0===t||t.forEach((function(t){t.Name=t.NameVM.Content})),e.SaveDatabase(n,i)},this.SaveDatabase=function(){var t,n=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],i=arguments.length>1?arguments[1]:void 0;null===(t=e.ModelItem)||void 0===t||t.SaveDatabase(n,i)},this.Delete=function(){var t;e.CurrentList.splice(e.Index,1),null===(t=e.ModelItem)||void 0===t||t.Delete()},this.deleteVM=void 0,Object(h.makeObservable)(this,{})}return Object(c.a)(t,[{key:"id",get:function(){var t;return null===(t=this.ModelItem)||void 0===t?void 0:t.id}},{key:"RenderState",get:function(){return this.renderState},set:function(t){this.renderState=t,t===me&&this.SaveDatabase(!1)}},{key:"MassType",get:function(){var t;return null===(t=this.ModelItem)||void 0===t?void 0:t.MassType},set:function(t){this.ModelItem.MassType=t}},{key:"MassType_SelectVM",get:function(){var t;return null!==(t=this.massType_SelectVM)&&void 0!==t?t:this.massType_SelectVM=fb(this)}},{key:"MassTypeWrapper_View",get:function(){return Object(F.jsxs)("div",{className:"mt__cell__wrapper",children:[this.MassType_SelectVM.View,this.DeleteVM.View]})}},{key:"Categories",get:function(){return this.ModelItem.Categories},set:function(t){this.ModelItem.Categories=t}},{key:"Category_SelectVM",get:function(){var t;return null!==(t=this.category_SelectVM)&&void 0!==t?t:this.category_SelectVM=mb(this)}},{key:"RowView",get:function(){return Object(F.jsxs)("tr",{className:"mt__row",children:[Object(F.jsx)("td",{children:this.MassTypeWrapper_View}),Object(F.jsx)("td",{children:this.Category_SelectVM.View})]})}},{key:"CurrentList",get:function(){var t;return null===(t=this.Dict)||void 0===t?void 0:t.Items}},{key:"Index",get:function(){return this.CurrentList.indexOf(this)}},{key:"DeleteVM",get:function(){var t;return null!==(t=this.deleteVM)&&void 0!==t?t:this.deleteVM=hb(this)}}]),t}()),db=function(t,e){var n=new lb;return n.ModelItem=t,n.Dict=e,n},hb=function(t){var e=new sa;return e.ToggleType=Jr,e.Title="X\xe1c nh\u1eadn x\xf3a?",e.OnRun=function(){t.Delete()},e},fb=function(t){var e,n,i=new xe;i.TitleRender=function(t){return t.Name},i.OnSelectedItemChanged=function(e){return t.MassType=null===e||void 0===e?void 0:e.Name};var s=function(e){var n=i.Items=e,s=t.MassType;s&&(i.InitialItem=i.SelectedItem=n.find((function(t){return t.Name===s})))},r=null===(e=t.Dict)||void 0===e||null===(n=e.Dict)||void 0===n?void 0:n.ListData;return r.Items?s(r.Items):ot(r.OnSet_Items_Func,(function(){return s(r.Items)})),i},mb=function(t){var e=new Oe,n=function(n){var i=e.Items=n,s=t.Categories;s&&0!==s.length&&(e.InitialItems=e.SelectedItems=i.filter((function(t){return s.includes(t.Name)})))},i=qg.Instance.Category_Dict;return i.Items?n(i.Items):ot(i.OnSet_Items_Func,(function(){return n(i.Items)})),e.TitleRender=function(t){return t.Name},e.OnSelectedItemChanged=function(e){return t.Categories=e.map((function(t){return t.Name}))},e},vb=(n(597),function(){function t(){var e=this;Object(o.a)(this,t),this.ModelItem=void 0,this.Dict=void 0,this.OnSet_Items_Func=[],this.IsGet_Items=void 0,this.items=void 0,this.AddItem=function(){var t,n,i=null===(t=e.ModelItem)||void 0===t?void 0:t.AddItem(),s=db(i,e);return s.RenderState=ve,null===(n=e.Items)||void 0===n||n.push(s),s},this.Save=function(){var t=e.Items,n=t.length,i=0,s=function(){++i===n&&O.b.success("save successfully!")};t.forEach((function(t){t.SaveDatabase(!1,s)}))},Object(h.makeObservable)(this,{items:h.observable})}return Object(c.a)(t,[{key:"id",get:function(){var t;return null===(t=this.ModelItem)||void 0===t?void 0:t.id}},{key:"Items",get:function(){return this.items||_b(this),this.items},set:function(t){var e=this;this.items=t,ct(this.OnSet_Items_Func,(function(t){return e.OnSet_Items_Func=t}))}},{key:"TableView",get:function(){return Object(F.jsx)(ub,{store:this})}},{key:"View",get:function(){return Object(F.jsxs)("div",{className:"mt__wrapper",children:[Object(F.jsx)("div",{className:"f-jc mt__title",children:Object(F.jsx)("span",{children:"R\xc0NG BU\u1ed8C CATEGORY"})}),Object(F.jsxs)("div",{className:"f",children:[Object(F.jsxs)("div",{className:"mt__button__wrapper f",children:[Object(F.jsx)(T.a,{type:"primary",size:"small",className:"btn-success",onClick:this.AddItem,children:"+"}),Object(F.jsx)(T.a,{type:"primary",size:"small",onClick:this.Save,children:Object(F.jsx)(zf.a,{})})]}),Object(F.jsx)("div",{className:"f1",children:Object(F.jsx)(ub,{store:this})})]})]})}}]),t}()),_b=function(t){if(!t.IsGet_Items){t.IsGet_Items=!0;var e=function(e){t.Items=e.map((function(e){return db(e,t)})),t.IsGet_Items=!1},n=t.ModelItem;n.Items&&e(n.Items),ot(n.OnSet_Items_Func,(function(){return e(n.Items)}),!1)}},pb=(n(598),Object(d.observer)((function(t){var e=t.store;return Object(F.jsx)(F.Fragment,{children:e.RowView})}))),bb=Object(d.observer)((function(t){var e=t.store;return Object(F.jsx)(F.Fragment,{children:Object(F.jsxs)("table",{className:"table table-bordered",children:[Object(F.jsx)("thead",{className:"mt__thead",children:Object(F.jsxs)("tr",{children:[Object(F.jsx)("th",{className:"mt__table__masstype",children:"\u0110\u1ea7u m\u1ee5c c\xf4ng vi\u1ec7c"}),Object(F.jsx)("th",{className:"mt__table__material",children:"V\u1eadt li\u1ec7u"})]})}),Object(F.jsx)("tbody",{children:e.Items?e.Items.map((function(t){return Object(F.jsx)(pb,{store:t},t.id)})):Object(F.jsx)("tr",{})})]})})})),Ib=(n(599),function(){function t(){var e=this;Object(o.a)(this,t),this.ModelItem=void 0,this.Dict=void 0,this.renderState=me,this.CanEdit=void 0,this.Edit=function(){e.RenderState===me&&(e.RenderState=ve,e.Hide_Tool())},this.nameVM=void 0,this.OnMouseEnter=function(){e.RenderState!==ve&&e.Show_Tool()},this.OnMouseLeave=function(){e.Hide_Tool()},this.Show_Tool=function(){e.DeleteVM.Show()},this.Hide_Tool=function(){e.DeleteVM.Hide()},this.Delete=function(){var t;e.CurrentList.splice(e.Index,1),null===(t=e.ModelItem)||void 0===t||t.Delete()},this.deleteVM=void 0,Object(h.makeObservable)(this,{})}return Object(c.a)(t,[{key:"id",get:function(){var t;return null===(t=this.ModelItem)||void 0===t?void 0:t.id}},{key:"RenderState",get:function(){return this.renderState},set:function(t){this.renderState=t}},{key:"Name",get:function(){var t;return null===(t=this.ModelItem)||void 0===t?void 0:t.Name},set:function(t){this.ModelItem.Name=t}},{key:"NameVM",get:function(){var t,e=this;return null!==(t=this.nameVM)&&void 0!==t?t:this.nameVM=function(){var t=wn(e.Name,e.CanEdit);t.Is_Tool_Visible=!1,t.OnKeyDown=function(n){var i=Fn(n),s=i.key;i.value;switch(s){case Tn:e.Name=t.Content,e.RenderState=me;break;case xn:t.Content=e.Name,e.RenderState=me}return t}}()}},{key:"NameView",get:function(){return Object(F.jsx)(bn,{className:"mt__cell__main",store:this.NameVM})}},{key:"NameWrapper_View",get:function(){return Object(F.jsxs)("div",{className:"mt__subrow f-ac",onDoubleClick:this.Edit,onMouseEnter:this.OnMouseEnter,onMouseLeave:this.OnMouseLeave,children:[this.NameView,this.DeleteVM.View]},this.id)}},{key:"RowView",get:function(){return this.NameWrapper_View}},{key:"CurrentList",get:function(){var t;return null===(t=this.Dict)||void 0===t?void 0:t.Materials}},{key:"Index",get:function(){return this.CurrentList.indexOf(this)}},{key:"DeleteVM",get:function(){var t;return null!==(t=this.deleteVM)&&void 0!==t?t:this.deleteVM=gb(this)}}]),t}()),jb=function(t,e){var n=new Ib;return n.ModelItem=t,n.Dict=e,n},gb=function(t){var e=new sa;return e.ToggleType=Jr,e.Title="X\xe1c nh\u1eadn x\xf3a?",e.OnRun=function(){t.Delete()},e},yb=function(){function t(){var e=this;Object(o.a)(this,t),this.ModelItem=void 0,this.Dict=void 0,this.renderState=me,this.Edit=function(){e.RenderState===me&&(e.RenderState=ve,e.Hide_Tool())},this.massType_SelectVM=void 0,this.materials=void 0,this.AddMaterial=function(){var t,n=null===(t=e.ModelItem)||void 0===t?void 0:t.AddMaterial(),i=jb(n,e);return i.RenderState=ve,e.Materials.push(i),i},this.OnMouseEnter=function(){e.RenderState!==ve&&e.Show_Tool()},this.OnMouseLeave=function(){e.Hide_Tool()},this.Show_Tool=function(){e.DeleteVM.Show()},this.Hide_Tool=function(){e.DeleteVM.Hide()},this.Save=function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=arguments.length>1?arguments[1]:void 0;e.Materials.forEach((function(t){t.Name=t.NameVM.Content})),e.SaveDatabase(t,n)},this.SaveDatabase=function(){var t,n=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],i=arguments.length>1?arguments[1]:void 0;null===(t=e.ModelItem)||void 0===t||t.SaveDatabase(n,i)},this.Delete=function(){var t;e.CurrentList.splice(e.Index,1),null===(t=e.ModelItem)||void 0===t||t.Delete()},this.deleteVM=void 0,Object(h.makeObservable)(this,{materials:h.observable})}return Object(c.a)(t,[{key:"id",get:function(){var t;return null===(t=this.ModelItem)||void 0===t?void 0:t.id}},{key:"RenderState",get:function(){return this.renderState},set:function(t){this.renderState=t,t===me&&this.SaveDatabase(!1)}},{key:"MassType",get:function(){var t;return null===(t=this.ModelItem)||void 0===t?void 0:t.MassType},set:function(t){this.ModelItem.MassType=t}},{key:"MassType_SelectVM",get:function(){var t;return null!==(t=this.massType_SelectVM)&&void 0!==t?t:this.massType_SelectVM=Mb(this)}},{key:"MassTypeWrapper_View",get:function(){return Object(F.jsxs)("div",{className:"mt__cell__wrapper",children:[this.MassType_SelectVM.View,Object(F.jsx)(T.a,{type:"primary",size:"small",className:"btn-success mt__row__add",onClick:this.AddMaterial,children:"+"}),this.DeleteVM.View]})}},{key:"RowSpan",get:function(){return this.Materials.length>1?this.Materials.length:1}},{key:"Materials",get:function(){var t;return null!==(t=this.materials)&&void 0!==t?t:this.materials=Db(this)}},{key:"NotFirst_Materials",get:function(){var t=Object(he.a)(this.Materials);return t.splice(0,1),t}},{key:"RowView",get:function(){return Object(F.jsxs)(F.Fragment,{children:[Object(F.jsxs)("tr",{className:"mt__row",children:[Object(F.jsx)("td",{rowSpan:this.RowSpan,children:this.MassTypeWrapper_View}),this.Materials.length>0?Object(F.jsx)("td",{children:this.Materials[0].RowView}):""]}),this.Materials.length>1?this.NotFirst_Materials.map((function(t){return Object(F.jsx)("tr",{className:"mt__row",children:Object(F.jsx)("td",{children:t.RowView})},t.id)})):""]})}},{key:"CurrentList",get:function(){var t;return null===(t=this.Dict)||void 0===t?void 0:t.Items}},{key:"Index",get:function(){return this.CurrentList.indexOf(this)}},{key:"DeleteVM",get:function(){var t;return null!==(t=this.deleteVM)&&void 0!==t?t:this.deleteVM=Sb(this)}}]),t}(),Ob=function(t,e){var n=new yb;return n.ModelItem=t,n.Dict=e,n},Sb=function(t){var e=new sa;return e.ToggleType=Jr,e.Title="X\xe1c nh\u1eadn x\xf3a?",e.OnRun=function(){t.Delete()},e},Db=function(t){return t.ModelItem.Materials.map((function(e){return jb(e,t)}))},Mb=function(t){var e,n,i=new xe,s=function(e){var n=i.Items=e,s=t.MassType;s&&(i.InitialItem=i.SelectedItem=n.find((function(t){return t.Name===s})))},r=null===(e=t.Dict)||void 0===e||null===(n=e.Dict)||void 0===n?void 0:n.ListData;return r.Items?s(r.Items):ot(r.OnSet_Items_Func,(function(){return s(r.Items)})),i.TitleRender=function(t){return t.Name},i.OnSelectedItemChanged=function(e){return t.MassType=null===e||void 0===e?void 0:e.Name},i},kb=(n(600),function(){function t(){var e=this;Object(o.a)(this,t),this.ModelItem=void 0,this.Dict=void 0,this.OnSet_Items_Func=[],this.IsGet_Items=void 0,this.items=void 0,this.AddItem=function(){var t,n,i=null===(t=e.ModelItem)||void 0===t?void 0:t.AddItem(),s=Ob(i,e);return s.RenderState=ve,null===(n=e.Items)||void 0===n||n.push(s),s},this.Save=function(){var t=e.Items,n=t.length,i=0,s=function(){++i===n&&O.b.success("save successfully!")};t.forEach((function(t){t.Save(!1,s)}))},Object(h.makeObservable)(this,{items:h.observable})}return Object(c.a)(t,[{key:"id",get:function(){var t;return null===(t=this.ModelItem)||void 0===t?void 0:t.id}},{key:"Items",get:function(){return this.items||Cb(this),this.items},set:function(t){var e=this;this.items=t,ct(this.OnSet_Items_Func,(function(t){return e.OnSet_Items_Func=t}))}},{key:"TableView",get:function(){return Object(F.jsx)(bb,{store:this})}},{key:"View",get:function(){return Object(F.jsxs)("div",{className:"mt__wrapper",children:[Object(F.jsx)("div",{className:"f-jc mt__title",children:Object(F.jsx)("span",{children:"R\xc0NG BU\u1ed8C V\u1eacT LI\u1ec6U"})}),Object(F.jsxs)("div",{className:"f",children:[Object(F.jsxs)("div",{className:"mt__button__wrapper f",children:[Object(F.jsx)(T.a,{type:"primary",size:"small",className:"btn-success",onClick:this.AddItem,children:"+"}),Object(F.jsx)(T.a,{type:"primary",size:"small",onClick:this.Save,children:Object(F.jsx)(zf.a,{})})]}),Object(F.jsx)("div",{className:"f1",children:Object(F.jsx)(bb,{store:this})})]})]})}}]),t}()),Cb=function(t){if(!t.IsGet_Items){t.IsGet_Items=!0;var e=function(e){t.Items=e.map((function(e){return Ob(e,t)})),t.IsGet_Items=!1},n=t.ModelItem;n.Items&&e(n.Items),ot(n.OnSet_Items_Func,(function(){return e(n.Items)}),!1)}},Vb=(n(601),Object(d.observer)((function(t){var e=t.store;return Object(F.jsx)(F.Fragment,{children:e.RowView})}))),wb=Object(d.observer)((function(t){var e=t.store;return Object(F.jsx)(F.Fragment,{children:Object(F.jsxs)("table",{className:"table table-bordered",children:[Object(F.jsx)("thead",{className:"mt__thead",children:Object(F.jsxs)("tr",{children:[Object(F.jsx)("th",{className:"mt__table__masstype",children:"\u0110\u1ea7u m\u1ee5c c\xf4ng vi\u1ec7c"}),Object(F.jsx)("th",{className:"mt__table__classification",children:"System Classification"}),Object(F.jsx)("th",{className:"mt__table__type",children:"System Type"})]})}),Object(F.jsx)("tbody",{children:e.Items?e.Items.map((function(t){return Object(F.jsx)(Vb,{store:t},t.id)})):Object(F.jsx)("tr",{})})]})})})),Tb=(n(602),function(){function t(){var e=this;Object(o.a)(this,t),this.ModelItem=void 0,this.Dict=void 0,this.renderState=me,this.CanEdit=void 0,this.Edit=function(){e.RenderState===me&&(e.RenderState=ve,e.Hide_Tool())},this.nameVM=void 0,this.OnMouseEnter=function(){e.RenderState!==ve&&e.Show_Tool()},this.OnMouseLeave=function(){e.Hide_Tool()},this.Show_Tool=function(){e.DeleteVM.Show()},this.Hide_Tool=function(){e.DeleteVM.Hide()},this.Delete=function(){var t;e.CurrentList.splice(e.Index,1),null===(t=e.ModelItem)||void 0===t||t.Delete()},this.deleteVM=void 0,Object(h.makeObservable)(this,{})}return Object(c.a)(t,[{key:"id",get:function(){var t;return null===(t=this.ModelItem)||void 0===t?void 0:t.id}},{key:"RenderState",get:function(){return this.renderState},set:function(t){this.renderState=t,this.NameVM.RenderState=t}},{key:"Name",get:function(){var t;return null===(t=this.ModelItem)||void 0===t?void 0:t.Name},set:function(t){this.ModelItem.Name=t}},{key:"NameVM",get:function(){var t,e=this;return null!==(t=this.nameVM)&&void 0!==t?t:this.nameVM=function(){var t=wn(e.Name,e.CanEdit);return t.Is_Tool_Visible=!1,t.OnKeyDown=function(n){var i=Fn(n),s=i.key;i.value;switch(s){case Tn:e.Name=t.Content,e.RenderState=me;break;case xn:t.Content=e.Name,e.RenderState=me}},t}()}},{key:"NameView",get:function(){return Object(F.jsx)(bn,{className:"mt__cell__main",store:this.NameVM})}},{key:"NameWrapper_View",get:function(){return Object(F.jsxs)("div",{className:"mt__subrow f-ac",onDoubleClick:this.Edit,onMouseEnter:this.OnMouseEnter,onMouseLeave:this.OnMouseLeave,children:[this.NameView,this.DeleteVM.View]})}},{key:"RowView",get:function(){return 0===this.Index?Object(F.jsx)("td",{children:this.NameWrapper_View},this.id):Object(F.jsx)("tr",{children:Object(F.jsx)("td",{children:this.NameWrapper_View})},this.id)}},{key:"CurrentList",get:function(){var t;return null===(t=this.Dict)||void 0===t?void 0:t.Types}},{key:"Index",get:function(){return this.CurrentList.indexOf(this)}},{key:"DeleteVM",get:function(){var t;return null!==(t=this.deleteVM)&&void 0!==t?t:this.deleteVM=Fb(this)}}]),t}()),xb=function(t,e){var n=new Tb;return n.ModelItem=t,n.Dict=e,n},Fb=function(t){var e=new sa;return e.ToggleType=Zr,e.Title="X\xe1c nh\u1eadn x\xf3a?",e.OnRun=function(){t.Delete()},e},Nb=function(){function t(){var e=this;Object(o.a)(this,t),this.ModelItem=void 0,this.Dict=void 0,this.renderState=me,this.CanEdit=void 0,this.Edit=function(){e.RenderState===me&&(e.RenderState=ve,e.Hide_Tool())},this.classificationVM=void 0,this.types=void 0,this.AddType=function(){var t,n=null===(t=e.ModelItem)||void 0===t?void 0:t.AddType(),i=xb(n,e);return i.RenderState=ve,e.Types.push(i),i},this.OnMouseEnter=function(){e.RenderState!==ve&&e.Show_Tool()},this.OnMouseLeave=function(){e.Hide_Tool()},this.Show_Tool=function(){e.DeleteVM.Show()},this.Hide_Tool=function(){e.DeleteVM.Hide()},this.Save=function(){e.Types.forEach((function(t){t.Name=t.NameVM.Content}))},this.Delete=function(){var t;e.CurrentList.splice(e.Index,1),null===(t=e.ModelItem)||void 0===t||t.Delete()},this.deleteVM=void 0,Object(h.makeObservable)(this,{types:h.observable})}return Object(c.a)(t,[{key:"id",get:function(){var t;return null===(t=this.ModelItem)||void 0===t?void 0:t.id}},{key:"RenderState",get:function(){return this.renderState},set:function(t){this.renderState=t,this.ClassificationVM.RenderState=t}},{key:"Classification",get:function(){var t;return null===(t=this.ModelItem)||void 0===t?void 0:t.Classification},set:function(t){this.ModelItem.Classification=t}},{key:"ClassificationVM",get:function(){var t,e=this;return null!==(t=this.classificationVM)&&void 0!==t?t:this.classificationVM=function(){var t=wn(e.Classification,e.CanEdit);t.Is_Tool_Visible=!1,t.OnKeyDown=function(n){var i=Fn(n),s=i.key;i.value;switch(s){case Tn:e.Classification=t.Content,e.RenderState=me;break;case xn:t.Content=e.Classification,e.RenderState=me}}}()}},{key:"ClassificationView",get:function(){return Object(F.jsx)(bn,{className:"mt__cell__main",store:this.ClassificationVM})}},{key:"ClassificationWrapper_View",get:function(){return Object(F.jsxs)("div",{className:"mt__subrow f-ac",onDoubleClick:this.Edit,onMouseEnter:this.OnMouseEnter,onMouseLeave:this.OnMouseLeave,children:[this.ClassificationView,Object(F.jsx)(T.a,{type:"primary",size:"small",className:"btn-success",onClick:this.AddType,children:"+"}),this.DeleteVM.View]})}},{key:"RowSpan",get:function(){return this.Types.length>1?this.Types.length:1}},{key:"Types",get:function(){var t;return null!==(t=this.types)&&void 0!==t?t:this.types=Gb(this)}},{key:"NotFirst_Types",get:function(){var t=Object(he.a)(this.Types);return t.splice(0,1),t}},{key:"RowView",get:function(){var t;return 0===this.Index?Object(F.jsxs)(F.Fragment,{children:[Object(F.jsx)("td",{rowSpan:this.RowSpan,children:this.ClassificationWrapper_View},this.id),this.Types.length>0?this.Types[0].RowView:""]}):Object(F.jsxs)(F.Fragment,{children:[Object(F.jsxs)("tr",{children:[Object(F.jsx)("td",{rowSpan:this.RowSpan,children:this.ClassificationWrapper_View}),this.Types.length>0?this.Types[0].RowView:""]},this.id),null===(t=this.NotFirst_Types)||void 0===t?void 0:t.map((function(t){return t.RowView}))]})}},{key:"CurrentList",get:function(){var t;return null===(t=this.Dict)||void 0===t?void 0:t.Systems}},{key:"Index",get:function(){return this.CurrentList.indexOf(this)}},{key:"DeleteVM",get:function(){var t;return null!==(t=this.deleteVM)&&void 0!==t?t:this.deleteVM=Lb(this)}}]),t}(),Rb=function(t,e){var n=new Nb;return n.ModelItem=t,n.Dict=e,n},Lb=function(t){var e=new sa;return e.ToggleType=Jr,e.Title="X\xe1c nh\u1eadn x\xf3a?",e.OnRun=function(){t.Delete()},e},Gb=function(t){return t.ModelItem.Types.map((function(e){return xb(e,t)}))},Pb=function(){function t(){var e=this;Object(o.a)(this,t),this.ModelItem=void 0,this.Dict=void 0,this.renderState=me,this.Edit=function(){e.RenderState===me&&(e.RenderState=ve,e.Hide_Tool())},this.massType_SelectVM=void 0,this.systems=void 0,this.AddSystem=function(){var t,n=null===(t=e.ModelItem)||void 0===t?void 0:t.AddSystem(),i=Rb(n,e);return i.RenderState=ve,e.Systems.push(i),i},this.OnMouseEnter=function(){e.RenderState!==ve&&e.Show_Tool()},this.OnMouseLeave=function(){e.Hide_Tool()},this.Show_Tool=function(){e.DeleteVM.Show()},this.Hide_Tool=function(){e.DeleteVM.Hide()},this.Save=function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=arguments.length>1?arguments[1]:void 0;e.Systems.forEach((function(t){t.Classification=t.ClassificationVM.Content,t.Save()})),e.SaveDatabase(t,n)},this.SaveDatabase=function(){var t,n=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],i=arguments.length>1?arguments[1]:void 0;null===(t=e.ModelItem)||void 0===t||t.SaveDatabase(n,i)},this.Delete=function(){var t;e.CurrentList.splice(e.Index,1),null===(t=e.ModelItem)||void 0===t||t.Delete()},this.deleteVM=void 0,Object(h.makeObservable)(this,{systems:h.observable})}return Object(c.a)(t,[{key:"id",get:function(){var t;return null===(t=this.ModelItem)||void 0===t?void 0:t.id}},{key:"RenderState",get:function(){return this.renderState},set:function(t){this.renderState=t,t===me&&this.SaveDatabase(!1)}},{key:"MassType",get:function(){var t;return null===(t=this.ModelItem)||void 0===t?void 0:t.MassType},set:function(t){this.ModelItem.MassType=t}},{key:"MassType_SelectVM",get:function(){var t;return null!==(t=this.massType_SelectVM)&&void 0!==t?t:this.massType_SelectVM=Hb(this)}},{key:"MassTypeWrapper_View",get:function(){return Object(F.jsxs)("div",{className:"mt__cell__wrapper",children:[this.MassType_SelectVM.View,Object(F.jsx)(T.a,{type:"primary",size:"small",className:"btn-success",onClick:this.AddSystem,children:"+"}),this.DeleteVM.View]})}},{key:"RowSpan",get:function(){var t=this.Systems.reduce((function(t,e){return t+e.RowSpan}),0);return 0!==t?t:1}},{key:"Systems",get:function(){var t;return null!==(t=this.systems)&&void 0!==t?t:this.systems=Ab(this)}},{key:"NotFirst_Systems",get:function(){var t=Object(he.a)(this.Systems);return t.splice(0,1),t}},{key:"RowView",get:function(){var t,e;return Object(F.jsxs)(F.Fragment,{children:[Object(F.jsxs)("tr",{className:"mt__row",children:[Object(F.jsx)("td",{rowSpan:this.RowSpan,children:this.MassTypeWrapper_View}),this.Systems.length>0?this.Systems[0].RowView:""]}),this.Systems.length>0?null===(t=this.Systems[0].NotFirst_Types)||void 0===t?void 0:t.map((function(t){return t.RowView})):"",null===(e=this.NotFirst_Systems)||void 0===e?void 0:e.map((function(t){return t.RowView}))]})}},{key:"CurrentList",get:function(){var t;return null===(t=this.Dict)||void 0===t?void 0:t.Items}},{key:"Index",get:function(){return this.CurrentList.indexOf(this)}},{key:"DeleteVM",get:function(){var t;return null!==(t=this.deleteVM)&&void 0!==t?t:this.deleteVM=Ub(this)}}]),t}(),Eb=function(t,e){var n=new Pb;return n.ModelItem=t,n.Dict=e,n},Ub=function(t){var e=new sa;return e.ToggleType=Zr,e.Title="X\xe1c nh\u1eadn x\xf3a?",e.OnRun=function(){t.Delete()},e},Ab=function(t){return t.ModelItem.Systems.map((function(e){return Rb(e,t)}))},Hb=function(t){var e,n=new xe,i=function(e){var i=n.Items=e,s=t.MassType;s&&(n.InitialItem=n.SelectedItem=i.find((function(t){return t.Name===s})))},s=null===(e=t.Dict)||void 0===e?void 0:e.Dict.ListData;return s.Items?i(s.Items):ot(s.OnSet_Items_Func,(function(){return i(s.Items)})),n.TitleRender=function(t){return t.Name},n.OnSelectedItemChanged=function(e){return t.MassType=null===e||void 0===e?void 0:e.Name},n},Bb=(n(603),function(){function t(){var e=this;Object(o.a)(this,t),this.ModelItem=void 0,this.Dict=void 0,this.OnSet_Items_Func=[],this.IsGet_Items=void 0,this.items=void 0,this.AddItem=function(){var t,n,i=null===(t=e.ModelItem)||void 0===t?void 0:t.AddItem(),s=Eb(i,e);return s.RenderState=ve,null===(n=e.Items)||void 0===n||n.push(s),s},this.Save=function(){var t=e.Items,n=t.length,i=0,s=function(){++i===n&&O.b.success("save successfully!")};t.forEach((function(t){t.Save(!1,s)}))},Object(h.makeObservable)(this,{items:h.observable})}return Object(c.a)(t,[{key:"id",get:function(){var t;return null===(t=this.ModelItem)||void 0===t?void 0:t.id}},{key:"Items",get:function(){return this.items||Wb(this),this.items},set:function(t){var e=this;this.items=t,ct(this.OnSet_Items_Func,(function(t){return e.OnSet_Items_Func=t}))}},{key:"TableView",get:function(){return Object(F.jsx)(wb,{store:this})}},{key:"View",get:function(){return Object(F.jsxs)("div",{className:"mt__wrapper",children:[Object(F.jsx)("div",{className:"f-jc mt__title",children:Object(F.jsx)("span",{children:"R\xc0NG BU\u1ed8C H\u1ec6 TH\u1ed0NG"})}),Object(F.jsxs)("div",{className:"f",children:[Object(F.jsxs)("div",{className:"mt__button__wrapper f",children:[Object(F.jsx)(T.a,{type:"primary",size:"small",className:"btn-success",onClick:this.AddItem,children:"+"}),Object(F.jsx)(T.a,{type:"primary",size:"small",onClick:this.Save,children:Object(F.jsx)(zf.a,{})})]}),Object(F.jsx)("div",{className:"f1",children:Object(F.jsx)(wb,{store:this})})]})]})}}]),t}()),Wb=function(t){if(!t.IsGet_Items){t.IsGet_Items=!0;var e=function(e){t.Items=e.map((function(e){return Eb(e,t)})),t.IsGet_Items=!1},n=t.ModelItem;n.Items&&e(n.Items),ot(n.OnSet_Items_Func,(function(){return e(n.Items)}),!1)}},zb=function(t){return function(t,e){var n=new ab;return n.ModelItem=t,n.Dict=e,n}(t.ModelItem.ListData,t)},Kb=function(t){return function(t,e){var n=new vb;return n.ModelItem=t,n.Dict=e,n}(t.ModelItem.CategoryBindingData,t)},qb=function(t){return function(t,e){var n=new kb;return n.ModelItem=t,n.Dict=e,n}(t.ModelItem.MaterialBindingData,t)},Qb=function(t){return function(t,e){var n=new Bb;return n.ModelItem=t,n.Dict=e,n}(t.ModelItem.SystemBindingData,t)},Xb=(n(604),Object(d.observer)((function(t){var e=t.store;return Object(F.jsx)(F.Fragment,{children:e.RowView})}))),Yb=Object(d.observer)((function(t){var e,n=t.store;return Object(F.jsx)(F.Fragment,{children:Object(F.jsxs)("table",{className:"table table-bordered",children:[Object(F.jsx)("thead",{className:"mt__thead",children:Object(F.jsx)("tr",{children:Object(F.jsx)("th",{className:"mt__table__name",children:"Name"})})}),Object(F.jsx)("tbody",{children:null===(e=n.Items)||void 0===e?void 0:e.map((function(t){return Object(F.jsx)(Xb,{store:t},t.id)}))})]})})})),Jb=(n(605),function(){function t(){var e=this;Object(o.a)(this,t),this.ModelItem=void 0,this.Dict=void 0,this.renderState=me,this.Edit=function(){e.RenderState===me&&(e.RenderState=ve,e.Hide_Tool())},this.CanEdit=void 0,this.nameVM=void 0,this.OnMouseEnter=function(){e.RenderState!==ve&&e.Show_Tool()},this.OnMouseLeave=function(){e.Hide_Tool()},this.Show_Tool=function(){e.DeleteVM.Show()},this.Hide_Tool=function(){e.DeleteVM.Hide()},this.SaveDatabase=function(){var t,n=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],i=arguments.length>1?arguments[1]:void 0;null===(t=e.ModelItem)||void 0===t||t.SaveDatabase(n,i)},this.Delete=function(){var t;e.CurrentList.splice(e.Index,1),null===(t=e.ModelItem)||void 0===t||t.Delete()},this.deleteVM=void 0,Object(h.makeObservable)(this,{})}return Object(c.a)(t,[{key:"id",get:function(){var t;return null===(t=this.ModelItem)||void 0===t?void 0:t.id}},{key:"RenderState",get:function(){return this.renderState},set:function(t){this.renderState=t,this.NameVM.RenderState=t,t===me&&this.SaveDatabase(!1)}},{key:"Name",get:function(){var t;return null===(t=this.ModelItem)||void 0===t?void 0:t.Name},set:function(t){this.ModelItem.Name=t}},{key:"NameVM",get:function(){var t,e=this;return null!==(t=this.nameVM)&&void 0!==t?t:this.nameVM=function(){var t=e.nameVM=wn(e.Name,e.CanEdit);return t.Is_Tool_Visible=!1,t.OnKeyDown=function(n){var i=Fn(n),s=i.key;i.value;switch(s){case Tn:e.Name=t.Content,e.RenderState=me;break;case xn:t.Content=e.Name,e.RenderState=me}},t}()}},{key:"NameView",get:function(){return Object(F.jsx)(bn,{className:"mgs__cell__main",store:this.NameVM})}},{key:"NameWrapper_View",get:function(){return Object(F.jsxs)("div",{className:"mgs__cell__wrapper",children:[this.NameView,this.DeleteVM.View]})}},{key:"RowView",get:function(){return Object(F.jsx)("tr",{className:"mt__row",onDoubleClick:this.Edit,onMouseEnter:this.OnMouseEnter,onMouseLeave:this.OnMouseLeave,children:Object(F.jsx)("td",{children:this.NameWrapper_View})})}},{key:"CurrentList",get:function(){var t;return null===(t=this.Dict)||void 0===t?void 0:t.Items}},{key:"Index",get:function(){return this.CurrentList.indexOf(this)}},{key:"DeleteVM",get:function(){var t;return null!==(t=this.deleteVM)&&void 0!==t?t:this.deleteVM=$b(this)}}]),t}()),Zb=function(t,e){var n=new Jb;return n.ModelItem=t,n.Dict=e,n},$b=function(t){var e=new sa;return e.ToggleType=Zr,e.Title="X\xe1c nh\u1eadn x\xf3a?",e.OnRun=function(){t.Delete()},e},tI=(n(606),function(){function t(){var e=this;Object(o.a)(this,t),this.ModelItem=void 0,this.Dict=void 0,this.OnSet_Items_Func=[],this.IsGet_Items=void 0,this.items=void 0,this.AddItem=function(){if(e.ModelItem){var t=e.ModelItem.AddItem(),n=Zb(t,e);return n.RenderState=ve,e.Items&&e.Items.push(n),n}},Object(h.makeObservable)(this,{items:h.observable})}return Object(c.a)(t,[{key:"id",get:function(){var t;return null===(t=this.ModelItem)||void 0===t?void 0:t.id}},{key:"Items",get:function(){return this.items||eI(this),this.items},set:function(t){var e=this;this.items=t,ct(this.OnSet_Items_Func,(function(t){return e.OnSet_Items_Func=t}))}},{key:"TableView",get:function(){return Object(F.jsx)(Yb,{store:this})}},{key:"View",get:function(){return Object(F.jsxs)("div",{className:"mt__wrapper",children:[Object(F.jsx)("div",{className:"f-jc mt__title",children:Object(F.jsx)("span",{children:"DANH S\xc1CH CATEGORY"})}),Object(F.jsxs)("div",{className:"f",children:[Object(F.jsx)(T.a,{type:"primary",size:"small",className:"btn-success mt__add",onClick:this.AddItem,children:"+"}),Object(F.jsx)("div",{className:"f1",children:Object(F.jsx)(Yb,{store:this})})]})]})}}]),t}()),eI=function(t){if(!t.IsGet_Items){t.IsGet_Items=!0;var e=function(e){t.Items=e.map((function(e){return Zb(e,t)})),t.IsGet_Items=!1},n=t.ModelItem;n.Items&&e(n.Items),ot(n.OnSet_Items_Func,(function(){return e(n.Items)}),!1)}},nI=(n(607),Object(d.observer)((function(t){var e=t.store;return Object(F.jsx)(F.Fragment,{children:e.RowView})}))),iI=Object(d.observer)((function(t){var e=t.store;return Object(F.jsx)(F.Fragment,{children:Object(F.jsxs)("table",{className:"table table-bordered",children:[Object(F.jsx)("thead",{className:"mt__thead",children:Object(F.jsx)("tr",{children:Object(F.jsx)("th",{className:"mt__table__name",children:"Name"})})}),Object(F.jsx)("tbody",{children:e.Items?e.Items.map((function(t){return Object(F.jsx)(nI,{store:t},t.id)})):Object(F.jsx)("tr",{})})]})})})),sI=(n(608),function(){function t(){var e=this;Object(o.a)(this,t),this.ModelItem=void 0,this.Dict=void 0,this.renderState=me,this.CanEdit=void 0,this.Edit=function(){e.RenderState===me&&(e.RenderState=ve,e.Hide_Tool())},this.nameVM=void 0,this.OnMouseEnter=function(){e.RenderState!==ve&&e.Show_Tool()},this.OnMouseLeave=function(){e.Hide_Tool()},this.Show_Tool=function(){e.DeleteVM.Show()},this.Hide_Tool=function(){e.DeleteVM.Hide()},this.SaveDatabase=function(){var t,n=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],i=arguments.length>1?arguments[1]:void 0;null===(t=e.ModelItem)||void 0===t||t.SaveDatabase(n,i)},this.Delete=function(){var t;e.CurrentList.splice(e.Index,1),null===(t=e.ModelItem)||void 0===t||t.Delete()},this.deleteVM=void 0,Object(h.makeObservable)(this,{})}return Object(c.a)(t,[{key:"id",get:function(){var t;return null===(t=this.ModelItem)||void 0===t?void 0:t.id}},{key:"RenderState",get:function(){return this.renderState},set:function(t){this.renderState=t,t===me&&this.SaveDatabase(!1)}},{key:"Name",get:function(){var t;return null===(t=this.ModelItem)||void 0===t?void 0:t.Name},set:function(t){this.ModelItem.Name=t}},{key:"NameVM",get:function(){var t,e=this;return null!==(t=this.nameVM)&&void 0!==t?t:this.nameVM=function(){var t=wn(e.Name,e.CanEdit);return t.Is_Tool_Visible=!1,t.OnKeyDown=function(n){var i=Fn(n),s=i.key;i.value;switch(s){case Tn:e.Name=t.Content,e.RenderState=me;break;case xn:t.Content=e.Name,e.RenderState=me}},t}()}},{key:"NameView",get:function(){return Object(F.jsx)(bn,{className:"mgs__cell__main",store:this.NameVM})}},{key:"NameWrapper_View",get:function(){return Object(F.jsxs)("div",{className:"mgs__cell__wrapper",children:[this.NameView,this.DeleteVM.View]})}},{key:"RowView",get:function(){return Object(F.jsx)("tr",{className:"mt__row",onDoubleClick:this.Edit,onMouseEnter:this.OnMouseEnter,onMouseLeave:this.OnMouseLeave,children:Object(F.jsx)("td",{children:this.NameWrapper_View})})}},{key:"CurrentList",get:function(){var t;return null===(t=this.Dict)||void 0===t?void 0:t.Items}},{key:"Index",get:function(){return this.CurrentList.indexOf(this)}},{key:"DeleteVM",get:function(){var t;return null!==(t=this.deleteVM)&&void 0!==t?t:this.deleteVM=aI(this)}}]),t}()),rI=function(t,e){var n=new sI;return n.ModelItem=t,n.Dict=e,n},aI=function(t){var e=new sa;return e.ToggleType=Zr,e.Title="X\xe1c nh\u1eadn x\xf3a?",e.OnRun=function(){t.Delete()},e},oI=(n(609),function(){function t(){var e=this;Object(o.a)(this,t),this.ModelItem=void 0,this.Dict=void 0,this.OnSet_Items_Func=[],this.IsGet_Items=void 0,this.items=void 0,this.AddItem=function(){var t,n,i=null===(t=e.ModelItem)||void 0===t?void 0:t.AddItem(),s=rI(i,e);return s.RenderState=ve,null===(n=e.Items)||void 0===n||n.push(s),s},Object(h.makeObservable)(this,{items:h.observable})}return Object(c.a)(t,[{key:"id",get:function(){var t;return null===(t=this.ModelItem)||void 0===t?void 0:t.id}},{key:"Items",get:function(){return this.items||cI(this),this.items},set:function(t){var e=this;this.items=t,ct(this.OnSet_Items_Func,(function(t){return e.OnSet_Items_Func=t}))}},{key:"TableView",get:function(){return Object(F.jsx)(iI,{store:this})}},{key:"View",get:function(){return Object(F.jsxs)("div",{className:"mt__wrapper",children:[Object(F.jsx)("div",{className:"f-jc mt__title",children:Object(F.jsx)("span",{children:"DANH S\xc1CH PARAMETER"})}),Object(F.jsxs)("div",{className:"f",children:[Object(F.jsx)(T.a,{type:"primary",size:"small",className:"btn-success mt__add",onClick:this.AddItem,children:"+"}),Object(F.jsx)("div",{className:"f1",children:Object(F.jsx)(iI,{store:this})})]})]})}}]),t}()),cI=function(t){if(!t.IsGet_Items){t.IsGet_Items=!0;var e=function(e){t.Items=e.map((function(e){return rI(e,t)})),t.IsGet_Items=!1},n=t.ModelItem;n.Items&&e(n.Items),ot(n.OnSet_Items_Func,(function(){return e(n.Items)}),!1)}},uI=(n(610),Object(d.observer)((function(t){var e=t.store;return Object(F.jsx)(F.Fragment,{children:e.RowView})}))),lI=Object(d.observer)((function(t){var e=t.store;return Object(F.jsx)(F.Fragment,{children:Object(F.jsxs)("table",{className:"table table-bordered",children:[Object(F.jsx)("thead",{className:"mes__thead",children:Object(F.jsxs)("tr",{children:[Object(F.jsx)("th",{className:"mes__table__page",children:"B\u1ed9 m\xf4n"}),Object(F.jsx)("th",{className:"mes__table__item",children:"Lo\u1ea1i"}),Object(F.jsx)("th",{className:"mes__table__info",children:"Th\xf4ng tin thi\u1ebft l\u1eadp"})]})}),Object(F.jsx)("tbody",{children:e.Items?e.Items.map((function(t){return Object(F.jsx)(uI,{store:t},t.id)})):Object(F.jsx)("tr",{})})]})})})),dI=(n(611),n(612),Object(d.observer)((function(t){var e=t.store;return Object(F.jsx)(F.Fragment,{children:Object(F.jsxs)("div",{className:"b-s1 b-r6 p-3 mb-10",children:[Object(F.jsxs)("div",{className:"f mes__cell__buttonwrapper",children:[Object(F.jsx)("div",{className:"f1"}),e.DeleteVM.View]}),Object(F.jsx)("table",{className:"f1",children:Object(F.jsxs)("tbody",{children:[Object(F.jsxs)("tr",{children:[Object(F.jsx)("td",{className:"title large",children:"C\xe1ch l\u1ea5y gi\xe1 tr\u1ecb:"}),Object(F.jsx)("td",{children:e.RetrieveTypes_SelectVM.View})]}),e.RetrieveTypes&&(e.RetrieveTypes.includes(Fl)||e.RetrieveTypes.includes(Ll))?Object(F.jsxs)("tr",{children:[Object(F.jsx)("td",{className:"title",children:"Parameter:"}),Object(F.jsx)("td",{children:e.Parameter_SelectVM.View})]}):"",e.RetrieveTypes&&e.RetrieveTypes.includes(Nl)?Object(F.jsxs)("tr",{children:[Object(F.jsx)("td",{className:"title",children:"Danh s\xe1ch Parameter:"}),Object(F.jsx)("td",{children:e.ParameterList_SelectVM.View})]}):"",e.RetrieveTypes&&e.RetrieveTypes.includes(Rl)?Object(F.jsxs)("tr",{children:[Object(F.jsx)("td",{className:"title",children:"T\u1ed5ng c\xe1c Parameter:"}),Object(F.jsx)("td",{children:e.SumParameter_SelectVM.View})]}):""]})})]})})}))),hI=function(){function t(){var e=this;Object(o.a)(this,t),this.ModelItem=void 0,this.Dict=void 0,this.retrieveTypes=void 0,this.retrieveTypes_SelectVM=void 0,this.parameter_SelectVM=void 0,this.parameterList_SelectVM=void 0,this.sumParameter_SelectVM=void 0,this.Delete=function(){var t;e.CurrentList.splice(e.Index,1),null===(t=e.ModelItem)||void 0===t||t.Delete()},this.deleteVM=void 0,Object(h.makeObservable)(this,{retrieveTypes:h.observable})}return Object(c.a)(t,[{key:"id",get:function(){var t;return null===(t=this.ModelItem)||void 0===t?void 0:t.id}},{key:"RetrieveTypes",get:function(){var t;return null!==(t=this.retrieveTypes)&&void 0!==t?t:this.retrieveTypes=this.ModelItem.RetrieveTypes},set:function(t){this.retrieveTypes=t,this.ModelItem.RetrieveTypes=t}},{key:"RetrieveTypes_SelectVM",get:function(){var t;return null!==(t=this.retrieveTypes_SelectVM)&&void 0!==t?t:this.retrieveTypes_SelectVM=_I(this)}},{key:"Parameter",get:function(){var t;return null===(t=this.ModelItem)||void 0===t?void 0:t.Parameter},set:function(t){this.ModelItem.Parameter=t}},{key:"Parameter_SelectVM",get:function(){var t;return null!==(t=this.parameter_SelectVM)&&void 0!==t?t:this.parameter_SelectVM=pI(this)}},{key:"ParameterList",get:function(){return this.ModelItem.ParameterList},set:function(t){this.ModelItem.ParameterList=t}},{key:"ParameterList_SelectVM",get:function(){var t;return null!==(t=this.parameterList_SelectVM)&&void 0!==t?t:this.parameterList_SelectVM=bI(this)}},{key:"SumParameters",get:function(){return this.ModelItem.SumParameters},set:function(t){this.ModelItem.SumParameters=t}},{key:"SumParameter_SelectVM",get:function(){var t;return null!==(t=this.sumParameter_SelectVM)&&void 0!==t?t:this.sumParameter_SelectVM=II(this)}},{key:"CurrentList",get:function(){var t;return null===(t=this.Dict)||void 0===t?void 0:t.ValueInfos}},{key:"Index",get:function(){return this.CurrentList.indexOf(this)}},{key:"DeleteVM",get:function(){var t;return null!==(t=this.deleteVM)&&void 0!==t?t:this.deleteVM=vI(this)}},{key:"View",get:function(){return Object(F.jsx)(dI,{store:this},this.id)}}]),t}(),fI=function(){return qg.Instance},mI=function(t,e){var n=new hI;return n.ModelItem=t,n.Dict=e,n},vI=function(t){var e=new sa;return e.ToggleType=Jr,e.Title="X\xe1c nh\u1eadn x\xf3a?",e.OnRun=function(){t.Delete()},e},_I=function(t){var e=new Oe;return e.Items=[Fl,Rl,Ll],e.InitialItems=e.SelectedItems=t.RetrieveTypes,e.OnSelectedItemChanged=function(e){return t.RetrieveTypes=e},e},pI=function(t){var e=new xe,n=function(n){var i=e.Items=n,s=t.Parameter;s&&(e.InitialItem=e.SelectedItem=i.find((function(t){return t.Name===s})))},i=fI().Parameter_Dict;return i.Items?n(i.Items):ot(i.OnSet_Items_Func,(function(){return n(i.Items)})),e.TitleRender=function(t){return t.Name},e.OnSelectedItemChanged=function(e){return t.Parameter=null===e||void 0===e?void 0:e.Name},e},bI=function(t){var e=new Oe,n=function(n){var i=e.Items=n,s=t.ParameterList;0!==s.length&&(e.InitialItems=e.SelectedItems=i.filter((function(t){return s.includes(t.Name)})))},i=fI().Parameter_Dict;return i.Items?n(i.Items):ot(i.OnSet_Items_Func,(function(){return n(i.Items)})),e.TitleRender=function(t){return t.Name},e.OnSelectedItemChanged=function(e){return t.ParameterList=e.map((function(t){return t.Name}))},e},II=function(t){var e=new Oe,n=function(n){var i=e.Items=n,s=t.SumParameters;0!==s.length&&(e.InitialItems=e.SelectedItems=i.filter((function(t){return s.includes(t.Name)})))},i=fI().Parameter_Dict;return i.Items?n(i.Items):ot(i.OnSet_Items_Func,(function(){return n(i.Items)})),e.TitleRender=function(t){return t.Name},e.OnSelectedItemChanged=function(e){return t.SumParameters=e.map((function(t){return t.Name}))},e},jI=function(){function t(){var e=this;Object(o.a)(this,t),this.ModelItem=void 0,this.Dict=void 0,this.renderState=me,this.Edit=function(){e.RenderState===me&&(e.RenderState=ve,e.Hide_Tool())},this.massTypeExport=void 0,this.classifyValueBy_SelectVM=void 0,this.valueInfos=void 0,this.AddValueInfo=function(){var t,n=null===(t=e.ModelItem)||void 0===t?void 0:t.AddValueInfo(),i=mI(n,e);return e.ValueInfos.push(i),i},this.RowSpan=void 0,this.OnMouseEnter=function(){e.RenderState!==ve&&e.Show_Tool()},this.OnMouseLeave=function(){e.Hide_Tool()},this.Show_Tool=function(){e.DeleteVM.Show()},this.Hide_Tool=function(){e.DeleteVM.Hide()},this.Delete=function(){var t;e.CurrentList.splice(e.Index,1),null===(t=e.ModelItem)||void 0===t||t.Delete()},this.deleteVM=void 0,Object(h.makeObservable)(this,{valueInfos:h.observable})}return Object(c.a)(t,[{key:"id",get:function(){var t;return null===(t=this.ModelItem)||void 0===t?void 0:t.id}},{key:"RenderState",get:function(){return this.renderState},set:function(t){this.renderState=t}},{key:"MassTypeExport",get:function(){var t;return null!==(t=this.massTypeExport)&&void 0!==t?t:this.massTypeExport=kI(this)}},{key:"ClassifyValueBy",get:function(){var t;return null===(t=this.ModelItem)||void 0===t?void 0:t.ClassifyValueBy},set:function(t){t&&(this.ModelItem.ClassifyValueBy=t)}},{key:"ClassifyValueBy_SelectVM",get:function(){var t;return null!==(t=this.classifyValueBy_SelectVM)&&void 0!==t?t:this.classifyValueBy_SelectVM=VI(this)}},{key:"ValueInfos",get:function(){var t;return null!==(t=this.valueInfos)&&void 0!==t?t:this.valueInfos=CI(this)}},{key:"Wrapper_View",get:function(){return Object(F.jsxs)("div",{children:[Object(F.jsxs)("div",{className:"f mes__cell__buttonwrapper",children:[Object(F.jsx)("div",{className:"f1"}),this.DeleteVM.View]}),Object(F.jsx)("div",{className:"mes__cell__innertable",children:Object(F.jsx)("table",{children:Object(F.jsxs)("tbody",{children:[Object(F.jsxs)("tr",{children:[Object(F.jsx)("td",{className:"title medium",children:"C\xf4ng t\xe1c: "}),Object(F.jsx)("td",{children:this.MassTypeExport.View})]}),Object(F.jsx)("tr",{children:Object(F.jsx)("td",{colSpan:2,children:Object(F.jsxs)("div",{className:"title f-ac",children:[Object(F.jsx)("span",{children:"Truy xu\u1ea5t gi\xe1 tr\u1ecb t\u1eeb :"}),Object(F.jsx)("div",{className:"ml-10",children:this.ClassifyValueBy_SelectVM.View})]})})}),Object(F.jsx)("tr",{children:Object(F.jsx)("td",{colSpan:2,children:Object(F.jsxs)("div",{children:[Object(F.jsxs)("div",{className:"title f-ac",children:[Object(F.jsx)("span",{children:"Th\xf4ng tin gi\xe1 tr\u1ecb :"}),Object(F.jsx)(T.a,{type:"primary",size:"small",className:"btn-success ml-15",onClick:this.AddValueInfo,children:"+"})]}),this.ValueInfos?Object(F.jsx)("div",{className:"mt-15 ml-15",children:this.ValueInfos.map((function(t){return t.View}))}):""]})})})]})})})]})}},{key:"RowView",get:function(){return 0===this.Index?Object(F.jsx)(F.Fragment,{children:Object(F.jsx)("td",{rowSpan:this.RowSpan,children:this.Wrapper_View},this.id)}):Object(F.jsx)(F.Fragment,{children:Object(F.jsx)("tr",{children:Object(F.jsx)("td",{rowSpan:this.RowSpan,children:this.Wrapper_View})},this.id)})}},{key:"CurrentList",get:function(){var t;return null===(t=this.Dict)||void 0===t?void 0:t.MassInfos}},{key:"Index",get:function(){return this.CurrentList.indexOf(this)}},{key:"DeleteVM",get:function(){var t;return null!==(t=this.deleteVM)&&void 0!==t?t:this.deleteVM=MI(this)}}]),t}(),gI=(n(613),Object(d.observer)((function(t){var e=t.store;return Object(F.jsx)(F.Fragment,{children:Object(F.jsxs)("div",{className:"f",children:[Object(F.jsx)("div",{className:"mes__row__mi__masstypeexport exporttype",children:e.ExportType_SelectVM.View}),Object(F.jsxs)("div",{className:"mes__row__mi__masstypeexport masstype f",children:[Object(F.jsx)("span",{className:"title",children:e.MassType_Title}),e.MassType_SelectVM.View]})]})})}))),yI=function(){function t(){Object(o.a)(this,t),this.ModelItem=void 0,this.Dict=void 0,this.exportType=void 0,this.exportType_SelectVM=void 0,this.massType_SelectVM=void 0,Object(h.makeObservable)(this,{exportType:h.observable})}return Object(c.a)(t,[{key:"ExportType",get:function(){var t;return null!==(t=this.exportType)&&void 0!==t?t:this.exportType=this.ModelItem.ExportType},set:function(t){this.exportType=t,this.ModelItem.ExportType=t}},{key:"MassType_Title",get:function(){return this.ExportType===Tl?"T\xean:":"M\u1eb7c \u0111\u1ecbnh:"}},{key:"ExportType_SelectVM",get:function(){var t;return null!==(t=this.exportType_SelectVM)&&void 0!==t?t:this.exportType_SelectVM=OI(this)}},{key:"MassType",get:function(){var t;return null===(t=this.ModelItem)||void 0===t?void 0:t.MassType},set:function(t){this.ModelItem.MassType=t}},{key:"MassType_SelectVM",get:function(){var t;return null!==(t=this.massType_SelectVM)&&void 0!==t?t:this.massType_SelectVM=SI(this)}},{key:"View",get:function(){return Object(F.jsx)(gI,{store:this})}}]),t}(),OI=function(t){var e=new xe;return e.Items=[Tl,"bymaterial","bycategory","bysystem"],e.InitialItem=e.SelectedItem=t.ExportType,e.OnSelectedItemChanged=function(e){return t.ExportType=e},e},SI=function(t){var e=new xe,n=function(n){var i=e.Items=n,s=t.MassType;s&&(e.InitialItem=e.SelectedItem=i.find((function(t){return t.Name===s})))},i=qg.Instance.MassType_Dict.ListData;return i.Items?n(i.Items):ot(i.OnSet_Items_Func,(function(){return n(i.Items)})),e.CanClear=!0,e.TitleRender=function(t){return t.Name},e.OnSelectedItemChanged=function(e){return t.MassType=null===e||void 0===e?void 0:e.Name},e},DI=function(t,e){var n=new jI;return n.ModelItem=t,n.Dict=e,n},MI=function(t){var e=new sa;return e.ToggleType=Jr,e.Title="X\xe1c nh\u1eadn x\xf3a?",e.OnRun=function(){t.Delete()},e},kI=function(t){return function(t,e){var n=new yI;return n.ModelItem=t,n.Dict=e,n}(t.ModelItem.MassTypeExport,t)},CI=function(t){return t.ModelItem.ValueInfos.map((function(e){return mI(e,t)}))},VI=function(t){var e=new xe;return e.Items=[El,"material"],e.InitialItem=e.SelectedItem=t.ClassifyValueBy,e.OnSelectedItemChanged=function(e){return t.ClassifyValueBy=e},e},wI=function(){function t(){var e=this;Object(o.a)(this,t),this.ModelItem=void 0,this.Dict=void 0,this.renderState=me,this.CanEdit=void 0,this.Edit=function(){e.RenderState===me&&(e.RenderState=ve,e.Hide_Tool())},this.nameVM=void 0,this.filter=void 0,this.massInfos=void 0,this.AddMassInfo=function(){var t,n=null===(t=e.ModelItem)||void 0===t?void 0:t.AddMassInfo(),i=DI(n,e);return i.RenderState=ve,e.MassInfos.push(i),i},this.OnMouseEnter=function(){e.RenderState!==ve&&e.Show_Tool()},this.OnMouseLeave=function(){e.Hide_Tool()},this.Show_Tool=function(){e.DeleteVM.Show()},this.Hide_Tool=function(){e.DeleteVM.Hide()},this.Save=function(){e.Name=e.NameVM.Content},this.Delete=function(){var t;e.CurrentList.splice(e.Index,1),null===(t=e.ModelItem)||void 0===t||t.Delete()},this.deleteVM=void 0,Object(h.makeObservable)(this,{massInfos:h.observable})}return Object(c.a)(t,[{key:"id",get:function(){var t;return null===(t=this.ModelItem)||void 0===t?void 0:t.id}},{key:"RenderState",get:function(){return this.renderState},set:function(t){this.renderState=t,this.NameVM.RenderState=t}},{key:"Name",get:function(){var t;return null===(t=this.ModelItem)||void 0===t?void 0:t.Name},set:function(t){this.ModelItem.Name=t}},{key:"NameVM",get:function(){var t,e=this;return null!==(t=this.nameVM)&&void 0!==t?t:this.nameVM=function(){var t=wn(e.Name,e.CanEdit);t.Is_Tool_Visible=!1,t.OnKeyDown=function(n){var i=Fn(n),s=i.key;i.value;switch(s){case Tn:e.Name=t.Content,e.RenderState=me;break;case xn:t.Content=e.Name,e.RenderState=me}}}()}},{key:"NameView",get:function(){return Object(F.jsx)(bn,{className:"mgs__cell__main",store:this.NameVM})}},{key:"Wrapper_View",get:function(){return Object(F.jsxs)("div",{children:[Object(F.jsxs)("div",{className:"f mes__cell__buttonwrapper",children:[Object(F.jsx)("div",{className:"f1"}),Object(F.jsx)(T.a,{type:"primary",size:"small",className:"btn-success",onClick:this.AddMassInfo,children:"+"}),this.DeleteVM.View]}),Object(F.jsx)("div",{className:"mes__cell__innertable",children:Object(F.jsx)("table",{children:Object(F.jsxs)("tbody",{children:[Object(F.jsxs)("tr",{children:[Object(F.jsx)("td",{className:"title small",children:"T\xean: "}),Object(F.jsx)("td",{onDoubleClick:this.Edit,children:this.NameView})]}),Object(F.jsx)("tr",{children:this.Filter.View})]})})})]})}},{key:"RowSpan",get:function(){var t=this.MassInfos.length;return t>1?t:1}},{key:"Filter",get:function(){var t;return null!==(t=this.filter)&&void 0!==t?t:this.filter=LI(this)}},{key:"MassInfos",get:function(){var t;return null!==(t=this.massInfos)&&void 0!==t?t:this.massInfos=RI(this)}},{key:"NotFirst_MassInfos",get:function(){var t=Object(he.a)(this.MassInfos);return t.splice(0,1),t}},{key:"RowView",get:function(){var t;return 0===this.Index?Object(F.jsxs)(F.Fragment,{children:[Object(F.jsx)("td",{rowSpan:this.RowSpan,children:this.Wrapper_View},this.id),this.MassInfos.length>0?this.MassInfos[0].RowView:""]}):Object(F.jsxs)(F.Fragment,{children:[Object(F.jsxs)("tr",{children:[Object(F.jsx)("td",{rowSpan:this.RowSpan,children:this.Wrapper_View}),this.MassInfos.length>0?this.MassInfos[0].RowView:""]},this.id),null===(t=this.NotFirst_MassInfos)||void 0===t?void 0:t.map((function(t){return t.RowView}))]})}},{key:"CurrentList",get:function(){var t;return null===(t=this.Dict)||void 0===t?void 0:t.Types}},{key:"Index",get:function(){return this.CurrentList.indexOf(this)}},{key:"DeleteVM",get:function(){var t;return null!==(t=this.deleteVM)&&void 0!==t?t:this.deleteVM=NI(this)}}]),t}(),TI=function(){function t(){Object(o.a)(this,t),this.ModelItem=void 0,this.Dict=void 0,this.category_SelectVM=void 0}return Object(c.a)(t,[{key:"Categories",get:function(){return this.ModelItem.Categories},set:function(t){this.ModelItem.Categories=t}},{key:"Category_SelectVM",get:function(){var t;return null!==(t=this.category_SelectVM)&&void 0!==t?t:this.category_SelectVM=xI(this)}},{key:"View",get:function(){return Object(F.jsxs)(F.Fragment,{children:[Object(F.jsx)("td",{className:"title small",children:"B\u1ed9 l\u1ecdc: "}),Object(F.jsx)("td",{children:Object(F.jsx)("div",{children:this.Category_SelectVM.View})})]})}}]),t}(),xI=function(t){var e=new Oe,n=function(n){var i=e.Items=n,s=t.Categories;0!==s.length&&(e.InitialItems=e.SelectedItems=i.filter((function(t){return s.includes(t.Name)})))},i=qg.Instance.Category_Dict;return i.Items?n(i.Items):ot(i.OnSet_Items_Func,(function(){return n(i.Items)})),e.TitleRender=function(t){return t.Name},e.OnSelectedItemChanged=function(e){return t.Categories=e.map((function(t){return t.Name}))},e},FI=function(t,e){var n=new wI;return n.ModelItem=t,n.Dict=e,n},NI=function(t){var e=new sa;return e.ToggleType=Jr,e.Title="X\xe1c nh\u1eadn x\xf3a?",e.OnRun=function(){t.Delete()},e},RI=function(t){return t.ModelItem.MassInfos.map((function(e){return DI(e,t)}))},LI=function(t){return function(t,e){var n=new TI;return n.ModelItem=t,n.Dict=e,n}(t.ModelItem.Filter,t)},GI=function(){function t(){var e=this;Object(o.a)(this,t),this.ModelItem=void 0,this.Dict=void 0,this.renderState=me,this.CanEdit=void 0,this.Edit=function(){e.RenderState===me&&(e.RenderState=ve,e.Hide_Tool())},this.nameVM=void 0,this.types=void 0,this.AddType=function(){var t,n=null===(t=e.ModelItem)||void 0===t?void 0:t.AddType(),i=FI(n,e);return i.RenderState=ve,e.Types.push(i),i},this.OnMouseEnter=function(){e.RenderState!==ve&&e.Show_Tool()},this.OnMouseLeave=function(){e.Hide_Tool()},this.Show_Tool=function(){e.DeleteVM.Show()},this.Hide_Tool=function(){e.DeleteVM.Hide()},this.Save=function(){e.Name=e.NameVM.Content,e.Types.forEach((function(t){return t.Save()}))},this.Delete=function(){var t;e.CurrentList.splice(e.Index,1),null===(t=e.ModelItem)||void 0===t||t.Delete()},this.deleteVM=void 0,Object(h.makeObservable)(this,{types:h.observable})}return Object(c.a)(t,[{key:"id",get:function(){var t;return null===(t=this.ModelItem)||void 0===t?void 0:t.id}},{key:"RenderState",get:function(){return this.renderState},set:function(t){this.renderState=t,this.NameVM.RenderState=t}},{key:"Name",get:function(){var t;return null===(t=this.ModelItem)||void 0===t?void 0:t.Name},set:function(t){this.ModelItem.Name=t}},{key:"NameVM",get:function(){var t,e=this;return null!==(t=this.nameVM)&&void 0!==t?t:this.nameVM=function(){var t=wn(e.Name,e.CanEdit);return t.Is_Tool_Visible=!1,t.OnKeyDown=function(n){var i=Fn(n),s=i.key;i.value;switch(s){case Tn:e.Name=t.Content,e.RenderState=me;break;case xn:t.Content=e.Name,e.RenderState=me}},t}()}},{key:"NameView",get:function(){return Object(F.jsx)(bn,{className:"mgs__cell__main",store:this.NameVM})}},{key:"Wrapper_View",get:function(){return Object(F.jsxs)("div",{children:[Object(F.jsxs)("div",{className:"f mes__cell__buttonwrapper",children:[Object(F.jsx)("div",{className:"f1"}),Object(F.jsx)(T.a,{type:"primary",size:"small",className:"btn-success",onClick:this.AddType,children:"+"}),this.DeleteVM.View]}),Object(F.jsx)("div",{onDoubleClick:this.Edit,onMouseEnter:this.OnMouseEnter,onMouseLeave:this.OnMouseLeave,children:this.NameView})]})}},{key:"RowSpan",get:function(){var t,e=null===(t=this.Types)||void 0===t?void 0:t.reduce((function(t,e){return t+e.RowSpan}),0);return 0!==e?e:1}},{key:"Types",get:function(){var t;return null!==(t=this.types)&&void 0!==t?t:this.types=UI(this)}},{key:"NotFirst_Types",get:function(){var t=Object(he.a)(this.Types);return t.splice(0,1),t}},{key:"RowView",get:function(){var t,e;return Object(F.jsxs)(F.Fragment,{children:[Object(F.jsxs)("tr",{className:"mes__row",children:[Object(F.jsx)("td",{rowSpan:this.RowSpan,children:this.Wrapper_View}),this.Types.length>0?this.Types[0].RowView:""]}),this.Types.length>0?null===(t=this.Types[0].NotFirst_MassInfos)||void 0===t?void 0:t.map((function(t){return t.RowView})):"",null===(e=this.NotFirst_Types)||void 0===e?void 0:e.map((function(t){return t.RowView}))]})}},{key:"CurrentList",get:function(){var t;return null===(t=this.Dict)||void 0===t?void 0:t.Items}},{key:"Index",get:function(){return this.CurrentList.indexOf(this)}},{key:"DeleteVM",get:function(){var t;return null!==(t=this.deleteVM)&&void 0!==t?t:this.deleteVM=EI(this)}}]),t}(),PI=function(t,e){var n=new GI;return n.ModelItem=t,n.Dict=e,n},EI=function(t){var e=new sa;return e.ToggleType=Jr,e.Title="X\xe1c nh\u1eadn x\xf3a?",e.OnRun=function(){t.Delete()},e},UI=function(t){var e;return null===(e=t.ModelItem.Types)||void 0===e?void 0:e.map((function(e){return FI(e,t)}))},AI=(n(614),function(){function t(){var e=this;Object(o.a)(this,t),this.ModelItem=void 0,this.Dict=void 0,this.OnSet_Items_Func=[],this.IsGet_Items=void 0,this.items=void 0,this.AddItem=function(){var t,n=e.ModelItem.AddItem(),i=PI(n,e);return i.RenderState=ve,null===(t=e.Items)||void 0===t||t.push(i),i},this.Save=function(){var t;null===(t=e.Items)||void 0===t||t.forEach((function(t){return t.Save()})),e.SaveDatabase(!0)},this.SaveDatabase=function(){var t,n=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],i=arguments.length>1?arguments[1]:void 0;null===(t=e.ModelItem)||void 0===t||t.SaveDatabase(n,i)},Object(h.makeObservable)(this,{items:h.observable})}return Object(c.a)(t,[{key:"id",get:function(){var t;return null===(t=this.ModelItem)||void 0===t?void 0:t.id}},{key:"Items",get:function(){return this.items||HI(this),this.items},set:function(t){var e=this;this.items=t,ct(this.OnSet_Items_Func,(function(t){return e.OnSet_Items_Func=t}))}},{key:"TableView",get:function(){return Object(F.jsx)(lI,{store:this})}},{key:"View",get:function(){return Object(F.jsxs)("div",{className:"mt__wrapper",children:[Object(F.jsx)("div",{className:"f-jc mt__title",children:Object(F.jsx)("span",{children:"THI\u1ebeT L\u1eacP XU\u1ea4T KH\u1ed0I L\u01af\u1ee2NG"})}),Object(F.jsxs)("div",{className:"f",children:[Object(F.jsxs)("div",{className:"mt__button__wrapper f",children:[Object(F.jsx)(T.a,{type:"primary",size:"small",className:"btn-success",onClick:this.AddItem,children:"+"}),Object(F.jsx)(T.a,{type:"primary",size:"small",onClick:this.Save,children:Object(F.jsx)(zf.a,{})})]}),Object(F.jsx)("div",{className:"f1",children:Object(F.jsx)(lI,{store:this})})]})]})}}]),t}()),HI=function(t){if(!t.IsGet_Items){t.IsGet_Items=!0;var e=function(e){t.Items=e.map((function(e){return PI(e,t)})),t.IsGet_Items=!1},n=t.ModelItem;n.Items&&e(n.Items),ot(n.OnSet_Items_Func,(function(){return e(n.Items)}),!1)}},BI="login",WI="user",zI=function(){function t(){var e=this;Object(o.a)(this,t),this.OnSet_LoginUser_Func=[],this.Logout=function(){e.LoginUser=void 0},this.viewType=void 0,Object(h.makeObservable)(this,{viewType:h.observable})}return Object(c.a)(t,[{key:"Url",get:function(){return this.ModelItem.Url},set:function(t){this.ModelItem.Url=t}},{key:"LoginUser",get:function(){return this.loginUser||uj(this),this.loginUser},set:function(t){var e=this;this.loginUser=t,this.ViewType=fj(this),this.IsSet_Model?this.ModelItem.LoginUser=null===t||void 0===t?void 0:t.ModelItem:this.IsSet_Model=!0,ct(this.OnSet_LoginUser_Func,(function(t){return e.OnSet_LoginUser_Func=t}))}},{key:"Login",get:function(){return this.login||(this.login=lj(this)),this.login}},{key:"NewPassword",get:function(){return this.newPassword||(this.newPassword=dj(this)),this.newPassword}},{key:"ViewType",get:function(){return this.viewType||hj(this),this.viewType},set:function(t){var e=this;Object(h.runInAction)((function(){e.viewType=t}))}},{key:"LoginRender",get:function(){return this.loginRender||(this.loginRender=mj(this)),this.loginRender},set:function(t){this.loginRender=t}},{key:"UserRender",get:function(){return this.userRender||(this.userRender=vj(this)),this.userRender},set:function(t){this.userRender=t}},{key:"MainViewRender",get:function(){return this.mainViewRender||(this.mainViewRender=_j(this)),this.mainViewRender},set:function(t){this.mainViewRender=t}},{key:"MainView",get:function(){return this.MainViewRender()}},{key:"ModalViewRender",get:function(){return this.modalViewRender||(this.modalViewRender=pj(this)),this.modalViewRender},set:function(t){this.modalViewRender=t}},{key:"ModalView",get:function(){return this.ModalViewRender()}},{key:"ViewRender",get:function(){return this.viewRender||(this.viewRender=bj(this)),this.viewRender},set:function(t){this.viewRender=t}},{key:"View",get:function(){return this.ViewRender()}}]),t}(),KI=function(){function t(){var e=this;Object(o.a)(this,t),this.renderState=me,this.Edit=function(){e.RenderState===me&&(e.RenderState=ve,e.Hide_Tool())},this.IsSaveDatabase=!0,this.SaveDatabase=function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=arguments.length>1?arguments[1]:void 0;e.ModelItem.SaveDatabase(t,n,!1)},this.Delete=function(){e.CurrentList.splice(e.Index,1),e.ModelItem.Delete()},Object(h.makeObservable)(this,{renderState:h.observable})}return Object(c.a)(t,[{key:"id",get:function(){return this.ModelItem.id}},{key:"RenderState",get:function(){return this.renderState},set:function(t){this.renderState=t,this.UsernameVM.RenderState=t,this.OnSet_RenderState&&this.OnSet_RenderState(t),this.IsSaveDatabase?t===me&&this.SaveDatabase(!1):this.IsSaveDatabase=!0}},{key:"Username",get:function(){return this.ModelItem.Username},set:function(t){this.ModelItem.Username=t}},{key:"UsernameVM",get:function(){var t=this;if(!this.usernameVM){var e=this.usernameVM=wn(this.Username,this.CanEdit);e.Is_Tool_Visible=!1,at(e.OnSet_RenderState_Func_Dict,(function(){e.RenderState===me&&(t.Username=e.Content)}),!1)}return this.usernameVM}},{key:"UsernameView",get:function(){return Object(F.jsx)(bn,{store:this.UsernameVM})}},{key:"Name",get:function(){return this.ModelItem.Name},set:function(t){this.ModelItem.Name=t}},{key:"CurrentList",get:function(){return this.Dict.Items}},{key:"Index",get:function(){return this.CurrentList.indexOf(this)}},{key:"Show_Tool",value:function(){}},{key:"Hide_Tool",value:function(){}}]),t}(),qI=function(t,e){if(t){var n=new KI;return n.ModelItem=t,n.Dict=e,n}},QI=function(){function t(){var e=this;Object(o.a)(this,t),this.Username="",this.Is_Modal_Visible=!1,this.ModalOK=function(){var t=e.Username,n=e.Password;t&&0!==t.length?n&&0!==n.length?e.Validate():O.b.warn("B\u1ea1n ph\u1ea3i nh\u1eadp Password!"):O.b.warn("B\u1ea1n ph\u1ea3i nh\u1eadp UserName!")},this.Initial=function(){e.UsernameVM.Content="",e.PasswordVM.Content=""},this.Validate=function(){tj(e)},Object(h.makeObservable)(this,{Is_Modal_Visible:h.observable})}return Object(c.a)(t,[{key:"UsernameVM",get:function(){return this.usernameVM||(this.usernameVM=XI(this)),this.usernameVM}},{key:"PasswordVM",get:function(){return this.passwordVM||(this.passwordVM=YI(this)),this.passwordVM}},{key:"ApiData",get:function(){return{username:this.Username,password:this.Password}}},{key:"ButtonView",get:function(){return JI(this)}},{key:"MainView",get:function(){return ZI(this)}},{key:"ModalView",get:function(){return $I(this)}}]),t}(),XI=(n(615),function(t){var e=new v;return e.Placeholder="t\xean user",e.Content=t.Username,e.onSetContent=function(e){return t.Username=e},e}),YI=function(t){var e=new v;return e.State=m,e.Content=t.Password,e.onSetContent=function(e){return t.Password=e},e},JI=function(t){return Object(F.jsx)(T.a,{type:"primary",size:"small",onClick:function(){t.Initial(),t.Is_Modal_Visible=!0},children:"Login"})},ZI=function(t){return Object(F.jsx)("table",{className:"login__table",children:Object(F.jsxs)("tbody",{children:[Object(F.jsxs)("tr",{className:"login__tr name",children:[Object(F.jsx)("th",{className:"login__title",children:"Username:"}),Object(F.jsx)("td",{className:"login__input",children:Object(F.jsx)(R,{store:t.UsernameVM})})]}),Object(F.jsxs)("tr",{children:[Object(F.jsx)("th",{className:"login__title",children:"Password:"}),Object(F.jsx)("td",{className:"login__input",children:Object(F.jsx)(R,{store:t.PasswordVM})})]})]})})},$I=function(t){var e=function(){t.Is_Modal_Visible=!1};return Object(F.jsx)(pe.a,{title:"\u0110\u0103ng nh\u1eadp",visible:t.Is_Modal_Visible,onCancel:e,width:350,footer:Object(F.jsxs)(F.Fragment,{children:[Object(F.jsx)(T.a,{type:"primary",size:"small",onClick:t.ModalOK,children:"ok"}),Object(F.jsx)(T.a,{type:"text",size:"small",onClick:e,children:"cancel"})]}),children:Object(F.jsx)("div",{children:t.MainView})})},tj=function(t){var e=t.Dict,n=e.ModelItem;md(e.Url,t.ApiData,(function(i){!function(i){0!==i.length?(e.LoginUser=qI(hd(i[0],n),e),t.Is_Modal_Visible=!1):O.b.warn("Th\xf4ng tin \u0111\u0103ng nh\u1eadp kh\xf4ng \u0111\xfang!")}(i)}))},ej=function(){function t(){var e=this;Object(o.a)(this,t),this.Is_Modal_Visible=!1,this.ModalOK=function(){var t=e.OldPassword,n=e.NewPassword,i=e.ReNewPassword;t&&0!==t.length?n&&0!==n.length?t!==n?i===n?e.Validate():O.b.warn("Th\xf4ng tin nh\u1eadp l\u1ea1i Password m\u1edbi kh\xf4ng \u0111\xfang!"):O.b.warn("Password m\u1edbi b\u1ecb tr\xf9ng v\u1edbi password c\u0169!"):O.b.warn("B\u1ea1n ph\u1ea3i nh\u1eadp Password m\u1edbi!"):O.b.warn("B\u1ea1n ph\u1ea3i nh\u1eadp Password c\u0169!")},this.OpenModal=function(){e.Initial(),e.Is_Modal_Visible=!0},this.Initial=function(){e.OldPasswordVM.Content="",e.NewPasswordVM.Content="",e.ReNewPasswordVM.Content=""},this.Validate=function(){cj(e)},Object(h.makeObservable)(this,{Is_Modal_Visible:h.observable})}return Object(c.a)(t,[{key:"OldPasswordVM",get:function(){return this.oldPasswordVM||(this.oldPasswordVM=nj(this)),this.oldPasswordVM}},{key:"NewPasswordVM",get:function(){return this.newPasswordVM||(this.newPasswordVM=ij(this)),this.newPasswordVM}},{key:"ReNewPasswordVM",get:function(){return this.reNewPasswordVM||(this.reNewPasswordVM=sj(this)),this.reNewPasswordVM}},{key:"ApiData",get:function(){var t;return{_id:null===(t=this.User.ModelItem)||void 0===t?void 0:t._id,oldpassword:this.OldPassword,newpassword:this.NewPassword}}},{key:"User",get:function(){return this.Dict.LoginUser}},{key:"ButtonView",get:function(){return rj(this)}},{key:"MainView",get:function(){return aj(this)}},{key:"ModalView",get:function(){return oj(this)}}]),t}(),nj=(n(616),function(t){var e=new v;return e.State=m,e.Content=t.OldPassword,e.onSetContent=function(e){return t.OldPassword=e},e}),ij=function(t){var e=new v;return e.State=m,e.Content=t.NewPassword,e.onSetContent=function(e){return t.NewPassword=e},e},sj=function(t){var e=new v;return e.State=m,e.Content=t.ReNewPassword,e.onSetContent=function(e){return t.ReNewPassword=e},e},rj=function(t){return Object(F.jsx)(T.a,{type:"primary",size:"small",onClick:function(){t.OpenModal()},children:"New Password"})},aj=function(t){var e;return Object(F.jsx)("table",{className:"newpassword__table",children:Object(F.jsxs)("tbody",{children:[Object(F.jsxs)("tr",{className:"newpassword__tr name",children:[Object(F.jsx)("th",{className:"newpassword__title",children:"Username:"}),Object(F.jsx)("td",{className:"newpassword__input",children:Object(F.jsx)("b",{children:null===(e=t.User)||void 0===e?void 0:e.Username})})]}),Object(F.jsxs)("tr",{children:[Object(F.jsx)("th",{className:"newpassword__title",children:"OldPassword:"}),Object(F.jsx)("td",{className:"newpassword__input",children:Object(F.jsx)(R,{store:t.OldPasswordVM})})]}),Object(F.jsxs)("tr",{children:[Object(F.jsx)("th",{className:"newpassword__title",children:"NewPassword:"}),Object(F.jsx)("td",{className:"newpassword__input",children:Object(F.jsx)(R,{store:t.NewPasswordVM})})]}),Object(F.jsxs)("tr",{children:[Object(F.jsx)("th",{className:"login__title",children:"Re-NewPassword:"}),Object(F.jsx)("td",{className:"login__input",children:Object(F.jsx)(R,{store:t.ReNewPasswordVM})})]})]})})},oj=function(t){var e=function(){t.Is_Modal_Visible=!1};return Object(F.jsx)(pe.a,{title:"\u0110\u1ed5i m\u1eadt kh\u1ea9u",visible:t.Is_Modal_Visible,onCancel:e,width:400,footer:Object(F.jsxs)(F.Fragment,{children:[Object(F.jsx)(T.a,{type:"primary",size:"small",onClick:t.ModalOK,children:"ok"}),Object(F.jsx)(T.a,{type:"text",size:"small",onClick:e,children:"cancel"})]}),children:Object(F.jsx)("div",{children:t.MainView})})},cj=function(t){var e=t.Dict;e.ModelItem;V("".concat(e.Url,"/newpassword"),t.ApiData).then((function(t){return t.data})).then((function(e){!function(e){"wrongpassword"===e?O.b.warn("Password c\u0169 kh\xf4ng \u0111\xfang!"):0!==e.length&&(t.Is_Modal_Visible=!1,O.b.success("change password successfully!"),t.Dict.LoginUser=void 0)}(e)}))},uj=(n(617),function(t){if(!t.IsGet_LoginUser){t.IsGet_LoginUser=!0;var e=t.ModelItem;ot(e.OnSet_LoginUser_Func,(function(){return n=e.LoginUser,t.IsSet_Model=!1,t.LoginUser=n?qI(n,t):void 0,void(t.IsGet_LoginUser=!0);var n}));e.LoginUser}}),lj=function(t){return function(t){var e=new QI;return e.Dict=t,e}(t)},dj=function(t){return function(t){var e=new ej;return e.Dict=t,e}(t)},hj=function(t){if(!t.IsGet_ViewType){t.IsGet_ViewType=!0;var e=function(){t.ViewType=fj(t),t.IsGet_ViewType=!1};t.LoginUser?e():ot(t.OnSet_LoginUser_Func,e)}},fj=function(t){return t.LoginUser?WI:BI},mj=function(t){return function(){return t.Login.ButtonView}},vj=function(t){return function(){return Object(F.jsx)(F.Fragment,{children:Object(F.jsxs)("div",{className:"f-ac",children:[Object(F.jsx)("div",{className:"ud__username",onClick:t.NewPassword.OpenModal,children:Object(F.jsx)("b",{children:t.LoginUser.Username})}),Object(F.jsx)(T.a,{type:"primary",size:"small",className:"btn-danger ud__logout",onClick:t.Logout,children:"x"})]})})}},_j=function(t){return function(){switch(t.ViewType){case BI:return t.LoginRender();case WI:return t.UserRender();default:return""}}},pj=function(t){return function(){return Object(F.jsxs)(F.Fragment,{children:[t.Login.ModalView,t.NewPassword.ModalView]})}},bj=function(t){return function(){return Object(F.jsxs)("div",{children:[Object(F.jsx)("div",{className:"ud__main__wrapper",children:t.MainView}),t.ModalView]})}},Ij=function(){function t(){Object(o.a)(this,t),this.OnSet_Users_Func=[],this.OnSet_Projects_Func=[],Object(h.makeObservable)(this,{})}return Object(c.a)(t,[{key:"Users",get:function(){return this.users||Zj(this),this.users},set:function(t){var e=this;this.users=t,ct(this.OnSet_Users_Func,(function(t){return e.OnSet_Users_Func=t}))}},{key:"Projects",get:function(){return this.projects||$j(this),this.projects},set:function(t){var e=this;this.projects=t,ct(this.OnSet_Projects_Func,(function(t){return e.OnSet_Projects_Func=t}))}},{key:"UserManager_Dict",get:function(){return this.userManager_Dict||(this.userManager_Dict=tg(this)),this.userManager_Dict}},{key:"ProjectCommand_Dict",get:function(){return this.projectCommand_Dict||(this.projectCommand_Dict=eg(this)),this.projectCommand_Dict}},{key:"ProjectGroupCommand_Dict",get:function(){return this.projectGroupCommand_Dict||(this.projectGroupCommand_Dict=ng(this)),this.projectGroupCommand_Dict}}]),t}(),jj=(n(618),function(t){Object(u.a)(n,t);var e=Object(l.a)(n);function n(t){var i;Object(o.a)(this,n);var s=(i=e.call(this,t)).props.store;return i.state=s||new yj,i}return Object(c.a)(n,[{key:"render",value:function(){var t,e=this.state;return Object(F.jsx)(F.Fragment,{children:Object(F.jsxs)("table",{className:"admin__um__table",children:[Object(F.jsx)("thead",{className:"admin__um__thead",children:Object(F.jsxs)("tr",{children:[Object(F.jsx)("th",{className:"admin__um__table__username",children:"Username"}),Object(F.jsx)("th",{className:"admin__um__table__password",children:"Password"})]})}),Object(F.jsx)("tbody",{className:"admin__um__tbody",children:null===(t=e.Items)||void 0===t?void 0:t.map((function(t){return e.ItemRender(t)}))})]})})}}]),n}(i.Component)),gj=Object(d.observer)(jj),yj=(n(283),function(){function t(){var e=this;Object(o.a)(this,t),this.items=void 0,this.AddItem=function(){var t=e.ModelItem.Dict.GetUser_Func();e.ModelItem.Items.push(t);var n=e.GetItem_Func(t);e.Items.push(n)},Object(h.makeObservable)(this,{items:h.observable})}return Object(c.a)(t,[{key:"id",get:function(){return this.ModelItem.id}},{key:"Items",get:function(){return this.items||Oj(this),this.items},set:function(t){this.items=t}},{key:"GetItem_Func",get:function(){return this.getItem_Func||(this.getItem_Func=Dj(this)),this.getItem_Func}},{key:"ItemRender",get:function(){return this.itemRender||(this.itemRender=Sj(this)),this.itemRender}},{key:"TableView",get:function(){return Object(F.jsx)(gj,{store:this})}},{key:"MainView",get:function(){return Object(F.jsxs)("div",{children:[Object(F.jsx)("div",{className:"f-jc admin__um__title",children:Object(F.jsx)("span",{children:"QU\u1ea2N L\xdd NG\u01af\u1edcI D\xd9NG"})}),Object(F.jsxs)("div",{className:"f",children:[Object(F.jsx)("div",{className:"admin__um__add",children:Object(F.jsx)(T.a,{type:"primary",size:"small",className:"btn-success",onClick:this.AddItem,children:"+"})}),Object(F.jsx)("div",{className:"es__main f1",children:Object(F.jsx)(gj,{store:this})})]})]})}}]),t}()),Oj=function(t){if(!t.IsGet_Items){t.IsGet_Items=!0;var e=function(e){t.Items=e.map((function(e){return t.GetItem_Func(e)})),t.IsGet_Items=!1},n=t.ModelItem;n.Items&&e(n.Items),ot(n.OnSet_Items_Func,(function(){return e(n.Items)}),!1)}},Sj=function(t){return function(t){return Object(F.jsxs)("tr",{onDoubleClick:t.Edit,children:[Object(F.jsx)("td",{children:Object(F.jsx)("div",{className:"admin__um__username",children:t.UsernameView})}),Object(F.jsx)("td",{children:Object(F.jsxs)("div",{className:"admin__um__password f-ac",children:[Object(F.jsx)("div",{className:"f1",children:t.PasswordView}),t.ToolView_Render()]})})]},t.id)}},Dj=function(t){return function(e){var n=qI(e,t),i=n.PasswordVM=wn("",void 0);i.Is_Tool_Visible=!1,n.OnSet_RenderState=function(t){i.RenderState=t},at(i.OnSet_RenderState_Func_Dict,(function(){i.RenderState===me&&(e.Password=i.Content,i.Content="")}),!1),n.PasswordView=Object(F.jsx)(bn,{store:i});var s=function(){n.RenderState=me},r=function(){n.UsernameVM.Content=n.Username,n.PasswordVM.Content="",n.IsSaveDatabase=!1,n.RenderState=me};return n.ToolView_Render=function(){return Object(F.jsxs)("div",{className:"f",children:[n.RenderState===ve?Object(F.jsxs)(F.Fragment,{children:[Object(F.jsx)(T.a,{type:"primary",size:"small",onClick:s,children:"ok"}),Object(F.jsx)(T.a,{type:"primary",size:"small",onClick:r,children:"cancel"})]}):"",Object(F.jsx)(T.a,{type:"primary",size:"small",className:"btn-danger",onClick:n.Delete,children:"x"})]})},n}},Mj=(n(619),function(){function t(){var e=this;Object(o.a)(this,t),this.renderState=ve,this.Edit=function(){e.RenderState===me&&(e.RenderState=ve,e.Hide_Tool())},this.OnMouseEnter=function(){e.RenderState!==ve&&e.Show_Tool()},this.OnMouseLeave=function(){e.Hide_Tool()},this.SaveDatabase=function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=arguments.length>1?arguments[1]:void 0;e.ModelItem.SaveDatabase(t,n,!1)},this.Delete=function(){e.CurrentList.splice(e.Index,1),e.ModelItem.Delete()},Object(h.makeObservable)(this,{renderState:h.observable})}return Object(c.a)(t,[{key:"id",get:function(){return this.ModelItem.id}},{key:"projectId",get:function(){return this.ModelItem.projectId}},{key:"RenderState",get:function(){return this.renderState},set:function(t){this.renderState=t}},{key:"Project",get:function(){return this.ModelItem.Project},set:function(t){this.ModelItem.Project=t,this.Project_Render.Content=null===t||void 0===t?void 0:t.Name}},{key:"User",get:function(){return this.ModelItem.User},set:function(t){this.ModelItem.User=t,this.User_Render.Content=null===t||void 0===t?void 0:t.Username}},{key:"User_Render",get:function(){return this.user_Render||(this.user_Render=Tj(this)),this.user_Render}},{key:"User_Select",get:function(){return this.user_Select||(this.user_Select=xj(this)),this.user_Select}},{key:"User_View",get:function(){switch(this.RenderState){case me:return Object(F.jsx)(dn,{store:this.User_Render});case ve:return Object(F.jsx)(Le,{store:this.User_Select})}}},{key:"Commands",get:function(){return this.ModelItem.Commands},set:function(t){this.ModelItem.Commands=t}},{key:"Command_Select",get:function(){return this.command_Select||(this.command_Select=Fj(this)),this.command_Select}},{key:"Command_View",get:function(){return Object(F.jsx)(De,{store:this.Command_Select})}},{key:"Show_Tool",value:function(){this.DeleteVM.Show()}},{key:"Hide_Tool",value:function(){this.DeleteVM.Hide()}},{key:"CurrentList",get:function(){return this.Group.Items}},{key:"Index",get:function(){return this.CurrentList.indexOf(this)}},{key:"DeleteVM",get:function(){return this.deleteVM||(this.deleteVM=wj(this)),this.deleteVM}}]),t}()),kj=function(t){var e=new Cj;return e.Dict=t,e},Cj=(n(620),function(){function t(){var e=this;Object(o.a)(this,t),this.OnSet_id_Func_Dict=[],this.renderState=ve,this.Items=[],this.AddItem=function(){var t=e.Dict.ModelItem,n=gd(t);n.Project=e.Project,t.Items.push(n);var i=Vj(n,e);e.Items.push(i)},this.Delete=function(){e.CurrentList.splice(e.Index,1),e.Items.forEach((function(t){t.Delete()}))},Object(h.makeObservable)(this,{Items:h.observable})}return Object(c.a)(t,[{key:"_id",get:function(){return this.__id},set:function(t){var e=this;this.__id=t,ct(this.OnSet_id_Func_Dict,(function(t){return e.OnSet_id_Func_Dict=t}))}},{key:"TempId",get:function(){return this.tempId||(this.tempId=nt()),this.tempId}},{key:"id",get:function(){return this._id?this._id:this.TempId}},{key:"RenderState",get:function(){return this.renderState},set:function(t){this.renderState=t}},{key:"Key",get:function(){return this.Project}},{key:"Project",get:function(){return this.project},set:function(t){this.project=t,this.Project_Render.Content=null===t||void 0===t?void 0:t.Name}},{key:"Project_Render",get:function(){return this.project_Render||(this.project_Render=function(t){var e,n=new v;return n.Content=null===(e=t.Project)||void 0===e?void 0:e.Name,n}(this)),this.project_Render}},{key:"Project_Select",get:function(){return this.project_Select||(this.project_Select=function(t){var e=new xe;e.TitleRender=function(t){return t.Name},e.Placeholder="ch\u1ecdn d\u1ef1 \xe1n ...",e.OnSelectedItemChanged=function(e){t.Project=e};var n=function(n){e.Items=n,e.InitialItem=t.Project},i=t.Dict.Dict;return i.Projects?n(i.Projects):ot(i.OnSet_Projects_Func,(function(){return n(i.Projects)})),e}(this)),this.project_Select}},{key:"Project_View",get:function(){switch(this.RenderState){case me:return Object(F.jsx)(dn,{store:this.Project_Render});case ve:return Object(F.jsx)(Le,{store:this.Project_Select})}}},{key:"CurrentList",get:function(){return this.Dict.Groups}},{key:"Index",get:function(){return this.CurrentList.indexOf(this)}},{key:"DeleteVM",get:function(){return this.deleteVM||(this.deleteVM=function(t){var e=new sa;return e.ToggleType=Jr,e.Title="X\xe1c nh\u1eadn x\xf3a?",e.OnRun=function(){t.Delete()},e}(this)),this.deleteVM}},{key:"RowView",get:function(){var t;return Object(F.jsxs)("tr",{children:[Object(F.jsx)("td",{className:"admin__pc__group__project",children:Object(F.jsxs)("div",{className:"f-ac",children:[this.Project_View,Object(F.jsx)(T.a,{type:"primary",size:"small",className:"btn-danger",onClick:this.Delete,children:"x"})]})}),Object(F.jsx)("td",{className:"admin__pc__group__usergroup",children:Object(F.jsxs)("div",{className:"f",children:[Object(F.jsx)("div",{className:"admin__pc__group__add",children:Object(F.jsx)(T.a,{type:"primary",size:"small",className:"btn-success",onClick:this.AddItem,children:"+"})}),Object(F.jsx)("div",{className:"f1",children:Object(F.jsx)("table",{className:"admin__pc__group__authorize__table",children:Object(F.jsx)("tbody",{children:null===(t=this.Items)||void 0===t?void 0:t.map((function(t){return Object(F.jsxs)("tr",{children:[Object(F.jsx)("td",{className:"admin__pc__group__user",children:t.User_View}),Object(F.jsx)("td",{className:"admin__pc__group__command",children:t.Command_View}),Object(F.jsx)("td",{children:Object(F.jsx)(T.a,{type:"primary",size:"small",className:"btn-danger",onClick:t.Delete,children:"x"})})]},t.id)}))})})})]})})]},this.id)}}]),t}()),Vj=function(t,e){var n=new Mj;return n.ModelItem=t,e instanceof Cj&&(n.Group=e,n.Dict=e.Dict),n},wj=function(t){var e=new sa;return e.ToggleType=Jr,e.Title="X\xe1c nh\u1eadn x\xf3a?",e.OnRun=function(){t.Delete()},e},Tj=function(t){var e,n=new v;return n.Content=null===(e=t.User)||void 0===e?void 0:e.Username,n},xj=function(t){var e=new xe;e.Placeholder="ch\u1ecdn user ...",e.TitleRender=function(t){return t.Username},e.OnSelectedItemChanged=function(e){t.User=e};var n=function(t){e.Items=t},i=function(t){e.InitialItem=t},s=t.Dict.Dict;s.Users?n(s.Users):ot(s.OnSet_Users_Func,(function(){n(s.Users)}));var r=t.ModelItem;return void 0!==r.User?i(r.User):ot(r.OnSet_User_Func,(function(){return i(r.User)})),e},Fj=function(t){var e=new Oe;return e.Items=gt(),e.InitialItems=t.Commands,e.Placeholder="commands ...",e.OnSelectedItemChanged=function(e){t.Commands=e},e},Nj=(n(621),function(t){Object(u.a)(n,t);var e=Object(l.a)(n);function n(t){var i;Object(o.a)(this,n);var s=(i=e.call(this,t)).props.store;return i.state=s||new Cj,i}return Object(c.a)(n,[{key:"render",value:function(){var t=this.state;return Object(F.jsx)(F.Fragment,{children:t.RowView})}}]),n}(i.Component)),Rj=Object(d.observer)(Nj),Lj=function(t){Object(u.a)(n,t);var e=Object(l.a)(n);function n(t){var i;Object(o.a)(this,n);var s=(i=e.call(this,t)).props.store;return i.state=s||new Pj,i}return Object(c.a)(n,[{key:"render",value:function(){var t,e=this.state;return Object(F.jsx)(F.Fragment,{children:Object(F.jsxs)("table",{className:"admin__pc__table",children:[Object(F.jsx)("thead",{className:"admin__pc__thead",children:Object(F.jsxs)("tr",{children:[Object(F.jsx)("th",{className:"admin__pc__table__project",children:"D\u1ef1 \xe1n"}),Object(F.jsx)("th",{className:"admin__pc__table__authorize",children:"Ph\xe2n quy\u1ec1n"})]})}),Object(F.jsx)("tbody",{className:"admin__pc__tbody",children:null===(t=e.Groups)||void 0===t?void 0:t.map((function(t){return Object(F.jsx)(Rj,{store:t},t.id)}))})]})})}}]),n}(i.Component),Gj=Object(d.observer)(Lj),Pj=(n(284),function(){function t(){var e=this;Object(o.a)(this,t),this.groups=void 0,this.AddGroup=function(){e.Groups.push(kj(e))},this.Refine=function(){var t=[];e.Groups.forEach((function(e,n,i){e.Project&&0!==e.Items.length&&i.findIndex((function(t){return t.Project===e.Project}))===n||t.push(e)})),t.forEach((function(t){t.Delete()})),e.Groups.forEach((function(e){t=[],e.Items.forEach((function(e,n,i){e.User&&0!==e.Commands.length&&i.findIndex((function(t){return t.User===e.User}))===n||t.push(e)})),t.forEach((function(t){t.Delete()}))})),t=[],e.Groups.forEach((function(e,n,i){0===e.Items.length&&t.push(e)})),t.forEach((function(t){t.Delete()}))},this.Save=function(){e.Refine(),e.ModelItem.Save()},Object(h.makeObservable)(this,{groups:h.observable})}return Object(c.a)(t,[{key:"id",get:function(){return this.ModelItem.id}},{key:"Groups",get:function(){return this.groups||Ej(this),this.groups},set:function(t){this.groups=t}},{key:"TableView",get:function(){return Object(F.jsx)(Gj,{store:this})}},{key:"MainView",get:function(){return Object(F.jsxs)("div",{children:[Object(F.jsx)("div",{className:"f-jc admin__pc__title",children:Object(F.jsx)("span",{children:"PH\xc2N QUY\u1ec0N D\u1ef0 \xc1N"})}),Object(F.jsxs)("div",{className:"f",children:[Object(F.jsxs)("div",{className:"admin__pc__add",children:[Object(F.jsx)(T.a,{type:"primary",size:"small",className:"btn-success",onClick:this.AddGroup,children:"+"}),Object(F.jsx)(T.a,{type:"primary",size:"small",className:"btn-success",onClick:this.Save,children:Object(F.jsx)(zf.a,{})})]}),Object(F.jsx)("div",{className:"es__main f1",children:Object(F.jsx)(Gj,{store:this})})]})]})}}]),t}()),Ej=function(t){if(!t.IsGet_Groups){t.IsGet_Groups=!0;var e=function(e){var n=function(){t.Groups=function(t,e,n,i){var s=[];return t.forEach((function(t){var r=t[e],a=void 0,o=s.findIndex((function(t){return r===t.Key}));-1===o?(a=n?n(r):{Key:r,Items:[]},s.push(a)):a=s[o];var c=i?i(t,a):t;a.Items.push(c)})),s}(e,"Project",(function(e){var n=kj(t);return n.Project=e,n}),(function(t,e){return Vj(t,e)})),t.IsGet_Groups=!1},i=e.length;if(0===i)n();else{var s=-1,r=function(){++s===i-1&&n()};e.forEach((function(t){void 0!==t.Project?r():ot(t.OnSet_Project_Func,r)}))}},n=t.ModelItem;n.Items&&e(n.Items),ot(n.OnSet_Items_Func,(function(){return e(n.Items)}),!1)}},Uj=(n(622),function(){function t(){var e=this;Object(o.a)(this,t),this.renderState=ve,this.Edit=function(){e.RenderState===me&&(e.RenderState=ve,e.Hide_Tool())},this.OnMouseEnter=function(){e.RenderState!==ve&&e.Show_Tool()},this.OnMouseLeave=function(){e.Hide_Tool()},this.SaveDatabase=function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=arguments.length>1?arguments[1]:void 0;e.ModelItem.SaveDatabase(t,n,!1)},this.Delete=function(){e.CurrentList.splice(e.Index,1),e.ModelItem.Delete()},Object(h.makeObservable)(this,{renderState:h.observable})}return Object(c.a)(t,[{key:"id",get:function(){return this.ModelItem.id}},{key:"RenderState",get:function(){return this.renderState},set:function(t){this.renderState=t}},{key:"User",get:function(){return this.ModelItem.User},set:function(t){this.ModelItem.User=t,this.User_Render.Content=null===t||void 0===t?void 0:t.Username}},{key:"User_Render",get:function(){return this.user_Render||(this.user_Render=Bj(this)),this.user_Render}},{key:"User_Select",get:function(){return this.user_Select||(this.user_Select=Wj(this)),this.user_Select}},{key:"User_View",get:function(){switch(this.RenderState){case me:return Object(F.jsx)(dn,{store:this.User_Render});case ve:return Object(F.jsx)(Le,{store:this.User_Select})}}},{key:"Commands",get:function(){return this.ModelItem.Commands},set:function(t){this.ModelItem.Commands=t}},{key:"Command_Select",get:function(){return this.command_Select||(this.command_Select=zj(this)),this.command_Select}},{key:"Command_View",get:function(){return Object(F.jsx)(De,{store:this.Command_Select})}},{key:"Show_Tool",value:function(){this.DeleteVM.Show()}},{key:"Hide_Tool",value:function(){this.DeleteVM.Hide()}},{key:"CurrentList",get:function(){return this.Dict.Items}},{key:"Index",get:function(){return this.CurrentList.indexOf(this)}},{key:"DeleteVM",get:function(){return this.deleteVM||(this.deleteVM=Hj(this)),this.deleteVM}},{key:"RowView",get:function(){return Object(F.jsxs)("tr",{children:[Object(F.jsx)("td",{children:Object(F.jsxs)("div",{className:"f-ac admin__pgc__user",children:[this.User_View,Object(F.jsx)(T.a,{type:"primary",size:"small",className:"btn-danger",onClick:this.Delete,children:"x"})]})}),Object(F.jsx)("td",{children:Object(F.jsx)("div",{className:"admin__pgc__command",children:this.Command_View})})]})}}]),t}()),Aj=function(t,e){var n=new Uj;return n.ModelItem=t,n.Dict=e,n},Hj=function(t){var e=new sa;return e.ToggleType=Jr,e.Title="X\xe1c nh\u1eadn x\xf3a?",e.OnRun=function(){t.Delete()},e},Bj=function(t){var e,n=new v;return n.Content=null===(e=t.User)||void 0===e?void 0:e.Username,n},Wj=function(t){var e=new xe;e.Placeholder="ch\u1ecdn user ...",e.TitleRender=function(t){return t.Username},e.OnSelectedItemChanged=function(e){t.User=e};var n=function(t){e.Items=t},i=function(t){e.InitialItem=t},s=t.Dict.Dict;s.Users?n(s.Users):ot(s.OnSet_Users_Func,(function(){n(s.Users)}));var r=t.ModelItem;return void 0!==r.User?i(r.User):ot(r.OnSet_User_Func,(function(){return i(r.User)})),e},zj=function(t){var e=new Oe;return e.Items=gt(),e.InitialItems=t.Commands,e.Placeholder="commands ...",e.OnSelectedItemChanged=function(e){t.Commands=e},e},Kj=(n(623),function(t){Object(u.a)(n,t);var e=Object(l.a)(n);function n(t){var i;Object(o.a)(this,n);var s=(i=e.call(this,t)).props.store;return i.state=s||new Uj,i}return Object(c.a)(n,[{key:"render",value:function(){var t=this.state;return Object(F.jsx)(F.Fragment,{children:t.RowView})}}]),n}(i.Component)),qj=Object(d.observer)(Kj),Qj=function(t){Object(u.a)(n,t);var e=Object(l.a)(n);function n(t){var i;Object(o.a)(this,n);var s=(i=e.call(this,t)).props.store;return i.state=s||new Yj,i}return Object(c.a)(n,[{key:"render",value:function(){var t,e=this.state;return Object(F.jsx)(F.Fragment,{children:Object(F.jsxs)("table",{className:"admin__pgc__table",children:[Object(F.jsx)("thead",{className:"admin__pgc__thead",children:Object(F.jsxs)("tr",{children:[Object(F.jsx)("th",{className:"admin__pgc__table__user",children:"Ng\u01b0\u1eddi d\xf9ng"}),Object(F.jsx)("th",{className:"admin__pgc__table__authorize",children:"Ph\xe2n quy\u1ec1n"})]})}),Object(F.jsx)("tbody",{className:"admin__pgc__tbody",children:null===(t=e.Items)||void 0===t?void 0:t.map((function(t){return Object(F.jsx)(qj,{store:t},t.id)}))})]})})}}]),n}(i.Component),Xj=Object(d.observer)(Qj),Yj=(n(285),function(){function t(){var e=this;Object(o.a)(this,t),this.items=void 0,this.AddItem=function(){var t=Cd(e.ModelItem);e.ModelItem.Items.push(t);var n=Aj(t,e);e.Items.push(n)},this.Refine=function(){var t=[];e.Items.forEach((function(e,n,i){e.User&&0!==e.Commands.length&&i.findIndex((function(t){return t.User===e.User}))===n||t.push(e)})),t.forEach((function(t){t.Delete()}))},this.Save=function(){e.Refine(),e.ModelItem.Save()},Object(h.makeObservable)(this,{items:h.observable})}return Object(c.a)(t,[{key:"id",get:function(){return this.ModelItem.id}},{key:"Items",get:function(){return this.items||Jj(this),this.items},set:function(t){this.items=t}},{key:"TableView",get:function(){return Object(F.jsx)(Xj,{store:this})}},{key:"MainView",get:function(){return Object(F.jsxs)("div",{children:[Object(F.jsx)("div",{className:"f-jc admin__pgc__title",children:Object(F.jsx)("span",{children:"PH\xc2N QUY\u1ec0N NH\xd3M D\u1ef0 \xc1N"})}),Object(F.jsxs)("div",{className:"f",children:[Object(F.jsxs)("div",{className:"admin__pgc__add",children:[Object(F.jsx)(T.a,{type:"primary",size:"small",className:"btn-success",onClick:this.AddItem,children:"+"}),Object(F.jsx)(T.a,{type:"primary",size:"small",className:"btn-success",onClick:this.Save,children:Object(F.jsx)(zf.a,{})})]}),Object(F.jsx)("div",{className:"es__main f1",children:Object(F.jsx)(Xj,{store:this})})]})]})}}]),t}()),Jj=function(t){if(!t.IsGet_Items){t.IsGet_Items=!0;var e=function(e){t.Items=e.map((function(e){return Aj(e,t)})),t.IsGet_Items=!1},n=t.ModelItem;n.Items&&e(n.Items),ot(n.OnSet_Items_Func,(function(){return e(n.Items)}),!1)}},Zj=function(t){if(!t.IsGet_Users){t.IsGet_Users=!0;var e=function(e){t.Users=e,t.IsGet_Users=!1},n=t.ModelItem;n.Users?e(n.Users):ot(n.OnSet_Users_Func,(function(){return e(n.Users)}))}},$j=function(t){if(!t.IsGet_Projects){t.IsGet_Projects=!0;var e=function(e){t.Projects=e,t.IsGet_Projects=!1},n=t.ModelItem;n.Projects?e(n.Projects):ot(n.OnSet_Projects_Func,(function(){return e(n.Projects)}))}},tg=function(t){return function(t,e){var n=new yj;return n.ModelItem=t,n.Dict=e,n}(t.ModelItem.UserManager_Dict,t)},eg=function(t){return function(t,e){var n=new Pj;return n.ModelItem=t,n.Dict=e,n}(t.ModelItem.ProjectCommand_Dict,t)},ng=function(t){return function(t,e){var n=new Yj;return n.ModelItem=t,n.Dict=e,n}(t.ModelItem.ProjectGroupCommand_Dict,t)},ig=n(174),sg=n(52),rg=n(297),ag=(n(624),function(){return qg.Instance}),og=function(){function t(){Object(o.a)(this,t),this.ModelItem=void 0,this.preTitle=void 0,this.title=void 0,this.itemDict=void 0,this.currentProject=void 0,Object(h.makeObservable)(this,{title:h.observable,preTitle:h.observable})}return Object(c.a)(t,[{key:"PreTitle",get:function(){var t;return null!==(t=this.preTitle)&&void 0!==t?t:this.preTitle=gg(this)},set:function(t){this.preTitle=t}},{key:"Title",get:function(){var t;return null!==(t=this.title)&&void 0!==t?t:this.title=yg(this)},set:function(t){this.title=t}},{key:"ItemDict",get:function(){var t;return null!==(t=this.itemDict)&&void 0!==t?t:this.itemDict=Og(this)}},{key:"CurrentProject",get:function(){return this.currentProject},set:function(t){this.currentProject=t,this.ModelItem.CurrentProject=null===t||void 0===t?void 0:t.ModelItem,Dg(this),this.PreTitle=gg(this),this.Title=yg(this)}},{key:"ProjectViewType",get:function(){return ag().ProjectViewType},set:function(t){ag().ProjectViewType=t}},{key:"UpdatedDate",get:function(){return Yd.Instance.UpdatedDate}}]),t}(),cg=function(){function t(){Object(o.a)(this,t),this.Title=void 0,this.currentProject=void 0}return Object(c.a)(t,[{key:"CurrentProject",get:function(){return this.currentProject},set:function(t){this.currentProject=t}}]),t}(),ug=Object(d.observer)((function(t){var e,n=t.store;return Object(F.jsx)(F.Fragment,{children:Object(F.jsx)("div",{className:n.Current_WrapperCss,children:null===(e=n.Items)||void 0===e?void 0:e.map((function(t){return t.View}))})})})),lg=function(){function t(){Object(o.a)(this,t),this.Dict=void 0,this.WrapperCss=void 0,this.ItemCss=void 0,this.OnSet_Items_Func=[],this.IsGet_Items=void 0,this.items=void 0,this.CurrentItem=void 0,Object(h.makeObservable)(this,{items:h.observable,CurrentItem:h.observable})}return Object(c.a)(t,[{key:"Refine_WrapperCss",get:function(){return this.WrapperCss?Array.isArray(this.WrapperCss)?this.WrapperCss:[this.WrapperCss]:[]}},{key:"Current_WrapperCss",get:function(){return this.Refine_WrapperCss.length>0?this.Refine_WrapperCss[0]:""}},{key:"Refine_ItemCss",get:function(){return this.ItemCss?Array.isArray(this.ItemCss)?this.ItemCss:[this.ItemCss]:[]}},{key:"Items",get:function(){return this.items||bg(this),this.items},set:function(t){var e=this;this.items=t,ct(this.OnSet_Items_Func,(function(t){return e.OnSet_Items_Func=t}))}},{key:"View",get:function(){return Object(F.jsx)(ug,{store:this})}}]),t}(),dg=n(300),hg=n(299),fg=(n(625),Object(d.observer)((function(t){var e=t.store;return Object(F.jsx)(F.Fragment,{children:e.Items?Object(F.jsxs)("div",{children:[e.MainView,e.Is_Sub_Visible?Object(F.jsx)("div",{className:e.Sub_WrapperCss,children:e.Items.map((function(t){return t.View}))}):""]}):e.MainView})}))),mg=function(){function t(){var e=this;Object(o.a)(this,t),this.OnSet_id_Func_Dict=[],this.__id=void 0,this.tempId=void 0,this.Dict=void 0,this.Title=void 0,this.SupItem=void 0,this.Func=void 0,this.Items=void 0,this.Is_Sub_Visible=!1,this.OnClick=function(){var t;e.IsHaveSub?e.Is_Sub_Visible=!e.Is_Sub_Visible:(e.Dict.CurrentItem=e,null===(t=e.Func)||void 0===t||t.call(e))},this.Active=function(){e.Dict.CurrentItem=e},Object(h.makeObservable)(this,{Items:h.observable,Is_Sub_Visible:h.observable})}return Object(c.a)(t,[{key:"_id",get:function(){return this.__id},set:function(t){var e=this;this.__id=t,ct(this.OnSet_id_Func_Dict,(function(t){return e.OnSet_id_Func_Dict=t}))}},{key:"TempId",get:function(){var t;return null!==(t=this.tempId)&&void 0!==t?t:this.tempId=nt()}},{key:"id",get:function(){return this._id?this._id:this.TempId}},{key:"IsHaveSub",get:function(){return this.Items&&0!==this.Items.length}},{key:"Rank",get:function(){return this.SupItem?this.SupItem.Rank+1:0}},{key:"ActiveCss",get:function(){var t,e;return this._id===(null===(t=this.Dict)||void 0===t||null===(e=t.CurrentItem)||void 0===e?void 0:e._id)?"active":""}},{key:"Sub_WrapperCss",get:function(){var t,e=null===(t=this.Dict)||void 0===t?void 0:t.Refine_WrapperCss,n=this.Rank+1;return e.length>n?e[n]:""}},{key:"MainCss",get:function(){var t,e=null===(t=this.Dict)||void 0===t?void 0:t.Refine_ItemCss,n=this.Rank;return e.length>n?e[n]:""}},{key:"View",get:function(){return Object(F.jsx)(fg,{store:this},this.id)}},{key:"MainView",get:function(){return Object(F.jsxs)("div",{onClick:this.OnClick,className:"nav__item f ".concat(this.MainCss," ").concat(this.ActiveCss),children:[Object(F.jsx)("span",{children:this.Title}),this.IsHaveSub?Object(F.jsx)("div",{className:"nav_item__togglesub",children:this.Is_Sub_Visible?Object(F.jsx)(dg.a,{}):Object(F.jsx)(hg.a,{})}):""]})}}]),t}(),vg=function(t){var e=new mg;return e.Dict=t,e},_g=function(t){var e;switch(t){case nh:e="MASS";break;case dh:e="\u0110\u1ea6U M\u1ee4C C\xd4NG VI\u1ec6C";break;case hh:e="DANH S\xc1CH";break;case mh:e="THEO CATEGORY";break;case fh:e="THEO V\u1eacT LI\u1ec6U";break;case vh:e="THEO H\u1ec6 TH\u1ed0NG";break;case ih:e="LEVEL";break;case sh:e="MAPPING";break;case rh:e="TYPICAL";break;case ah:e="EXPORT SET";break;case oh:e="VERSION";break;case ch:e="INPUT DATA";break;case uh:e="CATEGORY";break;case lh:e="PARAMETER";break;case _h:e="MASS EXPORT";break;case ph:e="PROJECT"}return e},pg=function(t){var e;if(t)switch(t){case dh:e=[hh,fh,mh,vh];break;case ih:e=[sh,rh]}else e=qg.Instance.CurrentProject?[nh,ih,ah,oh,ch]:[nh,dh,uh,lh,_h,ph];return e},bg=function(t){if(!t.IsGet_Items){t.IsGet_Items=!0;var e,n=pg(void 0),i=t,s=function e(n,s){var r,a=vg(i);return a.SupItem=s,a._id=n,a.Title=_g(n),a.Func=function(){return t.Dict.ProjectViewType=n},a.Items=null===(r=pg(n))||void 0===r?void 0:r.map((function(t){return e(t,a)})),a};e=n.map((function(t){return s(t,void 0)})),t.Items=e,t.IsGet_Items=!1}},Ig=function(){return qg.Instance},jg=function(){return function(t){var e=new og;return e.ModelItem=t,at(Ig().OnSet_CurrentProject_Func_Dict,(function(){return e.CurrentProject=Ig().CurrentProject}),!1),e}(function(){var t=new cg;return t.Title="HikariComplex",t}())},gg=function(t){return t.CurrentProject?"D\u1ef0 \xc1N":"C\xc1C D\u1ef0 \xc1N"},yg=function(t){var e;return t.CurrentProject?null===(e=t.CurrentProject)||void 0===e?void 0:e.Name:""},Og=function(t){var e=function(t){var e=new lg;return e.Dict=t,e}(t),n="leftnav__items f",i="leftnav__item";return e.WrapperCss=[n,n],e.ItemCss=[i,i],e},Sg=function(t){var e=pg(void 0),n=t.ItemDict,i=function e(i,s){var r,a=vg(n);return a.SupItem=s,a._id=i,a.Title=_g(i),a.Func=function(){return t.ProjectViewType=i},a.Items=null===(r=pg(i))||void 0===r?void 0:r.map((function(t){return e(t,a)})),a};return e.map((function(t){return i(t,void 0)}))},Dg=function(t){var e=Sg(t);t.ItemDict.Items=e,e[0].Active()},Mg=Object(d.observer)((function(t){var e;Object(rg.a)(t);var n=null!==(e=Zd)&&void 0!==e?e:Zd=jg();return Object(F.jsx)(F.Fragment,{children:Object(F.jsx)("nav",{className:"leftnav ".concat(Yd.Instance.IsOutsource?"bg-[#876710]":"bg-[#494ca2]"),children:Object(F.jsxs)("div",{className:"leftnav__wrapper",children:[Object(F.jsxs)("div",{className:"leftnav__body",children:[Object(F.jsxs)("span",{className:"leftnav__title",children:[Object(F.jsx)("span",{className:"leftnav__title__prefix",children:n.PreTitle}),Object(F.jsx)("span",{className:"leftnav__title__name",children:n.Title})]}),Object(F.jsx)("div",{className:"leftnav__itemdict__wrapper",children:n.ItemDict.View})]}),Object(F.jsxs)("div",{className:"leftnav__footer",children:[Object(F.jsx)("span",{children:"\xa9 Copyright"}),Object(F.jsx)("span",{children:"Updated Date: ".concat(n.UpdatedDate)})]})]})})})})),kg=(n(626),function(){return qg.Instance}),Cg=Object(sg.f)(Object(d.observer)((function(t){var e=t.store;return Object(i.useEffect)((function(){var n=t.match.params.id;e.id=n,kg().Nav_Visible=!1,kg().Main_Classname="massdetail__comp"}),[]),Object(F.jsxs)(F.Fragment,{children:[Object(F.jsxs)("div",{children:[kg().Mds_Dict_Dict.Pick_MDS_View,kg().Mds_Dict_Dict.ModalView]}),Object(F.jsx)("div",{className:"massdetail__table__wrapper",children:e.DetailTable.WrapperView})]})}))),Vg=(n(628),function(){return qg.Instance}),wg=Object(d.observer)((function(){var t,e=null!==(t=$d)&&void 0!==t?t:$d=Vg().Admin;return Object(F.jsx)(F.Fragment,{children:Object(F.jsx)("div",{className:"admin__wrapper",children:pt("admin")?Object(F.jsxs)(F.Fragment,{children:[Object(F.jsx)("div",{children:e.UserManager_Dict.MainView}),Object(F.jsx)("div",{className:"notfirst",children:e.ProjectCommand_Dict.MainView}),Object(F.jsx)("div",{className:"notfirst",children:e.ProjectGroupCommand_Dict.MainView})]}):Vg().UnAuthorized_View})})})),Tg=Object(d.observer)((function(){return Object(F.jsx)(F.Fragment,{children:qg.Instance.HomeView})})),xg=(n(629),function(){return qg.Instance}),Fg=function(){function t(){Object(o.a)(this,t),this._id=void 0,this.projectVM=void 0,this.update=void 0,this.massResultCompVM=void 0,Object(h.makeObservable)(this,{})}return Object(c.a)(t,[{key:"id",get:function(){return this._id},set:function(t){var e=this;this._id=t,function(t,e){if(t){var n="https://api.bimdev.vn/api/hbp/get?id=".concat(t);C(n).then((function(t){return t.data})).then((function(t){var n=ks(t);null===e||void 0===e||e(n)}))}}(t,(function(t){e.ProjectVM=bv(t)}))}},{key:"ProjectVM",get:function(){return this.projectVM},set:function(t){var e;this.projectVM=t;var n=[t];xg().CurrentProject=t,xg().DesignOption===Xd&&(xg().Project_DictVM.Items=n);var i=this.MassResultCompVM;i.ProjectVMStorageList=n,i.ProjectSelectVM.InitialItems=n,null===(e=this.update)||void 0===e||e.call(this)}},{key:"MassResultCompVM",get:function(){var t,e=this;return null!==(t=this.massResultCompVM)&&void 0!==t?t:this.massResultCompVM=function(){var t=e.massResultCompVM=function(t){var e=Gv(new Hc,!1);return e.IsShowProjectSelect=!1,e.CanHavePhase=!0,e}();return xg().MassResultCompVM=t,t}()}},{key:"ProjectViewType",get:function(){return xg().ProjectViewType},set:function(t){xg().ProjectViewType=t}},{key:"ViewElement",get:function(){if(this.ProjectVM){var t=xg().Commands;if(t&&(t.includes("view")||t.includes(zm))){this.ProjectVM.id;switch(this.ProjectViewType){case nh:return Object(F.jsx)("div",{className:"massresult__comp__wrapper",children:this.MassResultCompVM.View});case sh:return Object(F.jsx)(F.Fragment,{children:this.ProjectVM.TypicalLevelSetting_ForEdit?this.ProjectVM.TypicalLevelSetting_ForEdit.MappingView:""});case rh:return Object(F.jsx)(F.Fragment,{children:this.ProjectVM.TypicalLevelSetting_ForEdit?this.ProjectVM.TypicalLevelSetting_ForEdit.TypicalView:""});case ah:return this.ProjectVM.ExportSet_Dict.ModelView.View;case oh:return this.ProjectVM.Phase_DictVM.View;case ch:return this.ProjectVM.ExportSet_Dict.InputView.View}}return xg().UnAuthorized_View}}},{key:"View",get:function(){return Object(F.jsx)(Ng,{store:this})}}]),t}(),Ng=Object(d.observer)((function(t){var e,n=Object(i.useState)(),s=Object(tt.a)(n,2),r=s[0],a=s[1],o=null!==(e=th)&&void 0!==e?e:th=t.store?t.store:new Fg;return o.update=function(){return a(o.ProjectVM)},Object(i.useEffect)((function(){Yd.Instance.DesignOption===Xd&&(o.id=t.match.params.id)}),[]),Object(F.jsx)(F.Fragment,{children:r?o.ViewElement:""})})),Rg=Object(sg.f)(Ng),Lg=function(){return Yd.Instance},Gg=function(t){return function(t){var e=new Vv;return e.ModelItem=t,e}(Lg().Project_Dict)},Pg=function(t){return function(t){var e=new Q_;return e.ModelItem=t,e}(Lg().Mgs_Dict_Dict)},Eg=function(t){return function(t){var e=new bp;return e.ModelItem=t,e}(Lg().Mds_Dict_Dict)},Ug=function(t){if(!t.IsGet_SG_Dict_Dict){t.IsGet_SG_Dict_Dict=!0;var e=function(e){t.SG_Dict_Dict=function(t){var e=new Ep;return e.ModelItem=t,t.OnAddData=function(t){return e.AddData(t)},t.OnSet_Data=function(t){return e.Data=Zp(e)},e}(e),t.IsGet_SG_Dict_Dict=!1},n=Lg();n.SG_Dict_Dict&&e(n.SG_Dict_Dict),ot(n.OnSet_SG_Dict_Dict_Funcs,(function(){return e(n.SG_Dict_Dict)}),!1)}},Ag=function(t){var e=function(t,e){var n=new zI;return n.ModelItem=t,n.Dict=e,n}(Lg().UserDict,t);return e.ViewRender=function(){return Object(F.jsx)("div",{className:"ud__wrapper",children:Object(F.jsxs)("div",{className:"ud__dec f",children:[Object(F.jsx)("div",{className:"f1"}),Object(F.jsxs)("div",{children:[Object(F.jsx)("div",{className:"ud__main__wrapper",children:e.MainView}),e.ModalView]})]})})},e},Hg=function(t){return function(t,e){var n=new Ij;return n.ModelItem=t,n.Dict=e,n}(Lg().Admin,t)},Bg=function(t){var e=function(t,e){var n=new tb;return n.ModelItem=t,n.Dict=e,n}(Lg().MassType_Dict);return e},Wg=function(t){var e=function(t,e){var n=new tI;return n.ModelItem=t,n.Dict=e,n}(Lg().Category_Dict);return e},zg=function(t){var e=function(t,e){var n=new oI;return n.ModelItem=t,n.Dict=e,n}(Lg().Parameter_Dict);return e},Kg=function(t){var e=function(t,e){var n=new AI;return n.ModelItem=t,n.Dict=e,n}(Lg().MassExport_Dict);return e},qg=function(){function t(){Object(o.a)(this,t),this.Nav_Visible=!0,this.Is_AddOutsideEvent=void 0,this.project_DictVM=void 0,this.OnSet_ProjectViewType_Func_Dict=[],this.projectViewType=nh,this.OnSet_CurrentProject_Func_Dict=[],this.currentProject=void 0,this.projectComp=void 0,this.massResultCompVM=void 0,this.mgs_Dict_Dict=void 0,this.mds_Dict_Dict=void 0,this.IsGet_SG_Dict_Dict=void 0,this.sg_Dict_Dict=void 0,this.OnSet_MassGroupSetting_Dict_Func=[],this.massGroupSetting_Dict=void 0,this.main_Classname="projectcomp__main",this.userDict=void 0,this.admin=void 0,this.IsGet_Commands=void 0,this.commands=void 0,this.IsGet_AdminCommands=void 0,this.adminCommands=void 0,this.massType_Dict=void 0,this.category_Dict=void 0,this.parameter_Dict=void 0,this.massExport_Dict=void 0,this.UnAuthorized_View=Object(F.jsx)("span",{className:"unauthorize",children:"B\u1ea1n kh\xf4ng c\xf3 quy\u1ec1n truy c\u1eadp View hi\u1ec7n t\u1ea1i!"}),Object(h.makeObservable)(this,{projectViewType:h.observable,currentProject:h.observable,main_Classname:h.observable,massGroupSetting_Dict:h.observable,commands:h.observable,adminCommands:h.observable,Nav_Visible:h.observable})}return Object(c.a)(t,[{key:"ModelItem",get:function(){return Yd.Instance}},{key:"Project_DictVM",get:function(){var t;return null!==(t=this.project_DictVM)&&void 0!==t?t:this.project_DictVM=Gg()}},{key:"ProjectViewType",get:function(){return this.projectViewType},set:function(t){this.projectViewType=t,this.OnSet_ProjectViewType_Func_Dict.forEach((function(t){return t.Value()}))}},{key:"CurrentProject",get:function(){return this.currentProject},set:function(t){var e=this;Object(h.runInAction)((function(){e.currentProject=t,e.OnSet_CurrentProject_Func_Dict.forEach((function(t){return t.Value()})),e.ModelItem.CurrentProject=null===t||void 0===t?void 0:t.ModelItem,Ug(e)}))}},{key:"ProjectComp",get:function(){var t;return null!==(t=this.projectComp)&&void 0!==t?t:this.projectComp=new Fg}},{key:"MassResultCompVM",get:function(){var t;return null!==(t=this.massResultCompVM)&&void 0!==t?t:this.massResultCompVM=Gv(Lg().MassResultComp)},set:function(t){this.massResultCompVM=t,t&&(this.ModelItem.MassResultComp=t.ModelItem)}},{key:"Mgs_Dict_Dict",get:function(){var t;return null!==(t=this.mgs_Dict_Dict)&&void 0!==t?t:this.mgs_Dict_Dict=Pg()}},{key:"Mds_Dict_Dict",get:function(){var t;return null!==(t=this.mds_Dict_Dict)&&void 0!==t?t:this.mds_Dict_Dict=Eg()}},{key:"SG_Dict_Dict",get:function(){return this.sg_Dict_Dict||Ug(this),this.sg_Dict_Dict},set:function(t){this.sg_Dict_Dict=t}},{key:"MassGroupSetting_Dict",get:function(){var t;return null!==(t=this.massGroupSetting_Dict)&&void 0!==t?t:this.massGroupSetting_Dict=this.Mgs_Dict_Dict.Items.find((function(t){return t.UseType===tu}))},set:function(t){var e=this;this.ModelItem.MassGroupSetting_Dict=null===t||void 0===t?void 0:t.ModelItem,ct(this.OnSet_MassGroupSetting_Dict_Func,(function(t){return e.OnSet_MassGroupSetting_Dict_Func=t}))}},{key:"UpdatedDate",get:function(){return this.ModelItem.UpdatedDate}},{key:"Main_Classname",get:function(){return this.main_Classname},set:function(t){this.main_Classname=t}},{key:"UserDict",get:function(){var t;return null!==(t=this.userDict)&&void 0!==t?t:this.userDict=Ag(this)}},{key:"Admin",get:function(){var t;return null!==(t=this.admin)&&void 0!==t?t:this.admin=Hg(this)}},{key:"Commands",get:function(){return this.commands||function(t){if(!t.IsGet_Commands){t.IsGet_Commands=!0;var e=function(e){t.Commands=e,t.IsGet_Commands=!1},n=Lg();n.Commands&&e(n.Commands),ot(n.OnSet_Commands_Func,(function(){return e(n.Commands)}),!1)}}(this),this.commands},set:function(t){this.commands=t}},{key:"AdminCommands",get:function(){return this.adminCommands||function(t){if(!t.IsGet_AdminCommands){t.IsGet_AdminCommands=!0;var e=function(e){t.AdminCommands=e,t.IsGet_AdminCommands=!1},n=Lg();n.AdminCommands&&e(n.AdminCommands),ot(n.OnSet_AdminCommands_Func,(function(){return e(n.AdminCommands)}),!1)}}(this),this.adminCommands},set:function(t){this.adminCommands=t}},{key:"MassType_Dict",get:function(){var t;return null!==(t=this.massType_Dict)&&void 0!==t?t:this.massType_Dict=Bg()}},{key:"Category_Dict",get:function(){var t;return null!==(t=this.category_Dict)&&void 0!==t?t:this.category_Dict=Wg()}},{key:"Parameter_Dict",get:function(){var t;return null!==(t=this.parameter_Dict)&&void 0!==t?t:this.parameter_Dict=zg()}},{key:"MassExport_Dict",get:function(){var t;return null!==(t=this.massExport_Dict)&&void 0!==t?t:this.massExport_Dict=Kg()}},{key:"DesignOption",get:function(){return this.ModelItem.DesignOption}},{key:"HomeView",get:function(){return function(t){if(t.ProjectViewType!==nh&&!pt([It,jt]))return t.UnAuthorized_View;switch(t.ProjectViewType){case nh:return Object(F.jsx)("div",{className:"massresult__comp__wrapper",children:Object(F.jsx)(Nv,{store:t.MassResultCompVM})});case"mepsetting":return"MEP Setting";case"document":return Object(F.jsx)(c_,{});case dh:return Object(F.jsx)(V_,{});case hh:return t.MassType_Dict.ListData.View;case mh:return t.MassType_Dict.CategoryBindingData.View;case fh:return t.MassType_Dict.MaterialBindingData.View;case vh:return t.MassType_Dict.SystemBindingData.View;case uh:return t.Category_Dict.View;case lh:return t.Parameter_Dict.View;case _h:return t.MassExport_Dict.View;case ph:return t.Project_DictVM.View}}(this)}},{key:"View",get:function(){return function(t){switch(t.DesignOption){case Xd:return Object(F.jsxs)("div",{className:"projectcomp",children:[t.Nav_Visible?Object(F.jsx)(Mg,{}):"",Object(F.jsxs)("div",{className:"projectcomp__main__wrapper \n          ".concat(t.Nav_Visible?"leftoffset":""),children:[t.UserDict.View,Object(F.jsxs)("div",{className:"projectcomp__main__dec",children:[Object(F.jsx)("div",{className:t.Main_Classname,children:Object(F.jsx)(ig.a,{basename:".",children:Object(F.jsxs)(sg.c,{children:[Object(F.jsx)(sg.a,{exact:!0,path:"/",component:Tg}),Object(F.jsx)(sg.a,{exact:!0,path:"/massdetail/:id",component:Cg}),Object(F.jsx)(sg.a,{exact:!0,path:"/project/:id",component:Rg}),Object(F.jsx)(sg.a,{exact:!0,path:"/admin",component:wg})]})})}),Object(F.jsx)("div",{className:"projectcomp__main__bottom"})]})]})]});case"portal_plugin":return t.Is_AddOutsideEvent||(t.Is_AddOutsideEvent=!0,[nh,rh,oh,ch].forEach((function(e){var n=document.getElementById("massdatabase-toggle-".concat(e));n&&n.addEventListener("click",(function(){t.ProjectViewType=e}))}))),Object(F.jsx)("div",{className:"projectcomp",children:Object(F.jsxs)("div",{className:"projectcomp__main__wrapper",children:[t.UserDict.View,Object(F.jsxs)("div",{className:"projectcomp__main__dec",children:[Object(F.jsxs)("div",{className:t.Main_Classname,children:[t.Project_DictVM.SelectView,t.ProjectComp.View]}),Object(F.jsx)("div",{className:"projectcomp__main__bottom"})]})]})})}}(this)}}],[{key:"Instance",get:function(){var e;return null!==(e=this.instance)&&void 0!==e?e:this.instance=new t}}]),t}();qg.instance=void 0;var Qg=Object(d.observer)((function(t){t.store;var e,n=null!==(e=eh)&&void 0!==e?e:eh=qg.Instance;return Object(F.jsx)(F.Fragment,{children:n.View})})),Xg=function(t){Object(u.a)(n,t);var e=Object(l.a)(n);function n(){return Object(o.a)(this,n),e.apply(this,arguments)}return Object(c.a)(n,[{key:"render",value:function(){return Object(F.jsx)(Qg,{})}}]),n}(i.Component),Yg=Xg,Jg=function(t){t&&t instanceof Function&&n.e(2).then(n.bind(null,648)).then((function(e){var n=e.getCLS,i=e.getFID,s=e.getFCP,r=e.getLCP,a=e.getTTFB;n(t),i(t),s(t),r(t),a(t)}))};a.a.render(Object(F.jsx)(Yg,{}),document.getElementById("root")),Jg()}});
//# sourceMappingURL=main.js.map
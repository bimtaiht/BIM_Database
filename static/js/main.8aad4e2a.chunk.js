(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{180:function(t,e,n){},181:function(t,e,n){},182:function(t,e,n){},183:function(t,e,n){},185:function(t,e){},191:function(t,e,n){},192:function(t,e,n){},193:function(t,e,n){},194:function(t,e,n){},229:function(t,e,n){},230:function(t,e,n){},232:function(t,e,n){},284:function(t,e,n){},288:function(t,e,n){},326:function(t,e,n){},328:function(t,e,n){},371:function(t,e,n){},372:function(t,e,n){},373:function(t,e,n){},374:function(t,e,n){},375:function(t,e,n){},376:function(t,e,n){},377:function(t,e,n){},378:function(t,e,n){},379:function(t,e,n){},380:function(t,e,n){},381:function(t,e,n){},382:function(t,e,n){},383:function(t,e,n){},384:function(t,e,n){},385:function(t,e,n){},386:function(t,e,n){},387:function(t,e,n){},388:function(t,e,n){},389:function(t,e,n){},390:function(t,e,n){},391:function(t,e,n){},392:function(t,e,n){},397:function(t,e){},398:function(t,e){},399:function(t,e,n){},400:function(t,e,n){},401:function(t,e,n){},402:function(t,e,n){},414:function(t,e,n){},415:function(t,e,n){},416:function(t,e,n){},418:function(t,e,n){},419:function(t,e,n){},420:function(t,e,n){},421:function(t,e,n){},427:function(t,e,n){},428:function(t,e,n){},429:function(t,e,n){},430:function(t,e,n){},431:function(t,e,n){"use strict";n.r(e);var i=n(0),s=n(1),r=n.n(s),a=n(30),c=n.n(a),o=(n(229),n(2)),u=n(3),l=n(7),h=n(6),d=(n(230),n(231),n(11)),m=(n(232),n(446)),f=n(443),p=n(216),_=n(447),v=n(4),I="text",g="password",b=function(){function t(){Object(o.a)(this,t),this.content=void 0,this.placeholder="n\u1ed9i dung input",this.State=I,Object(v.l)(this,{content:v.m,placeholder:v.m,State:v.m})}return Object(u.a)(t,[{key:"Content",get:function(){return this.content},set:function(t){this.content=t,this.onSetContent&&this.onSetContent(t),this.OnSetContent&&this.OnSetContent(t)}},{key:"Placeholder",set:function(t){this.placeholder=t}},{key:"Style",get:function(){return this.style||(this.style=this.inputStyle?this.inputStyle:{},this.wrapper&&(this.style.position="relative")),this.style}}]),t}(),j=function(t,e){var n=new b;return n.content=t,n.placeholder=e,n},O=function(t){Object(l.a)(n,t);var e=Object(h.a)(n);function n(t){var i;Object(o.a)(this,n),(i=e.call(this,t)).onChange=function(t){var e=t.target.value;i.state.Content=e},i.OnKeyDown=function(t){var e=i.state;e.OnKeyDown&&e.OnKeyDown(t)};var s=i.props.store;if(s)i.state=s;else{i.state=j("N\u1ed9i dung input")}return i.state.Ref=r.a.createRef(),i}return Object(u.a)(n,[{key:"render",value:function(){var t=this.state,e=t.content,n=t.placeholder,s=this.props.style,r=this.props.className,a=this.props.onFocus?this.props.onFocus:t.OnFocus,c=this.props.onBlur?this.props.onBlur:t.OnBlur,o=this.props.onPaste?this.props.onPaste:t.OnPaste;return Object(i.jsxs)(i.Fragment,{children:[t.State===I?Object(i.jsx)(_.a,{ref:t.Ref,style:s,className:r,value:e,onChange:this.onChange,onKeyDown:this.OnKeyDown,onFocus:a,onBlur:c,onPaste:o,placeholder:n}):"",t.State===g?Object(i.jsx)(_.a.Password,{ref:t.Ref,style:s,className:r,value:e,onChange:this.onChange,onFocus:a,onBlur:c,onPaste:o,onKeyDown:this.OnKeyDown}):""]})}}]),n}(s.Component),y=Object(d.a)(O),S=n(34),M=n(63),C=n.n(M),k=n(96),V=n(197),D=n.n(V),w=n(450),T=function(t){return D.a.create({baseURL:"https://api.bimdev.vn/api",Accept:"application/json","Content-Type":"application/json",timeout:t})},x=function(t){return{success:t.status>=200&&t.status<300,data:t.data,message:t.statusText}},F=function(){var t=Object(k.a)(C.a.mark((function t(e){var n;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e;case 3:return n=t.sent,t.abrupt("return",x(n));case 7:return t.prev=7,t.t0=t.catch(0),t.abrupt("return",(i=t.t0,w.b.error("Error sending request: ".concat(i)),{success:!1}));case 10:return t.prev=10,t.finish(10);case 12:case"end":return t.stop()}var i}),t,null,[[0,7,10,12]])})));return function(e){return t.apply(this,arguments)}}(),N=2e4,G=function(){var t=Object(k.a)(C.a.mark((function t(e,n,i){return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=i||N,t.abrupt("return",F(T(i).get(e,n)));case 2:case"end":return t.stop()}}),t)})));return function(e,n,i){return t.apply(this,arguments)}}(),R=function(){var t=Object(k.a)(C.a.mark((function t(e,n,i,s){var r;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s=s||N,t.next=3,F(T(s).put(e,n,i));case 3:return r=t.sent,t.abrupt("return",r);case 5:case"end":return t.stop()}}),t)})));return function(e,n,i,s){return t.apply(this,arguments)}}(),L=function(){var t=Object(k.a)(C.a.mark((function t(e,n,i,s){var r;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s=s||N,t.next=3,F(T(s).post(e,n,i));case 3:return r=t.sent,t.abrupt("return",r);case 5:case"end":return t.stop()}}),t)})));return function(e,n,i,s){return t.apply(this,arguments)}}(),P="Concrete",U="Rebar",E="AcceptanceNumberInternal",A="AcceptanceNumber",H="AcceptanceDate",W="SupervisorContractor",B="SupervisorConsultant",K="SupervisorClient",z="SubContractor",q="PaymentPeriodSubContractor",X="PaymentPeriodClient",Y=function(){return[E,A,H,W,B,K,z,q,X]},Q=function(t){switch(t){case E:return"acceptanceNumberInternal";case A:return"acceptanceNumber";case H:return"acceptanceDate";case W:return"supervisorContractor";case B:return"supervisorConsultant";case K:return"supervisorClient";case z:return"subContractor";case q:return"paymentPeriodSubContractor";case X:return"paymentPeriodClient"}},J=function(t){switch(t){case E:return"BBNT n\u1ed9i b\u1ed9";case A:return"BBNT";case H:return"Ng\xe0y nghi\u1ec7m thu";case W:return"Gi\xe1m s\xe1t Nh\xe0 th\u1ea7u";case B:return"Gi\xe1m s\xe1t T\u01b0 v\u1ea5n";case K:return"Gi\xe1m s\xe1t C\u0110T";case z:return"Th\u1ea7u ph\u1ee5";case q:return"K\u1ef3 thanh to\xe1n Th\u1ea7u ph\u1ee5";case X:return"K\u1ef3 thanh to\xe1n Ch\u1ee7 \u0111\u1ea7u t\u01b0"}},Z="Project",$="Phase",tt="Workpackage",et="Value",nt="Unit",it="elementName",st="MassType",rt="workItem",at="level",ct="diameter",ot="block",ut="zone",lt="typename",ht="materialName",dt="systemtype",mt="systemclassification",ft="familyName",pt="size",_t="roomName",vt="roomNumber",It="guid",gt="elementId",bt=function(){var t=[st,rt,at,ot,ut,ft,lt,it,ht,_t,vt,dt,mt,pt,It,gt];return t.push.apply(t,Y()),t},jt=function(t,e){var n=void 0;switch(e){case Z:case $:n=t.Name;break;case tt:n=t.FullName;break;default:n=t}return n||"undefined"},Ot=function(){return[rt,st,ot]},yt=function(t){var e;switch(t){case Z:e="D\u1ef1 \xe1n";break;case $:e="Phi\xean b\u1ea3n";break;case tt:e="G\xf3i th\u1ea7u";break;case et:e="Gi\xe1 tr\u1ecb";break;case nt:e="\u0110\u01a1n v\u1ecb";break;case it:e="T\xean c\u1ea5u ki\u1ec7n";break;case st:e="C\xf4ng t\xe1c";break;case rt:e="H\u1ea1ng m\u1ee5c";break;case at:e="Level";break;case ot:e="Block";break;case"discipline":e="B\u1ed9 m\xf4n";break;case ut:e="Zone";break;case lt:e="Type";break;case ht:e="V\u1eadt li\u1ec7u";break;case dt:e="System Type";break;case mt:e="System Classification";break;case ft:e="Family";break;case pt:e="Size";break;case _t:e="Room Name";break;case vt:e="Room Numnber";break;case It:e="Guid";break;case gt:e="ElementId";break;default:e=J(t)}return e},St=(new Intl.DateTimeFormat("en-GB"),function(){return Math.random().toString(36).substr(2,9)}),Mt=function(){return([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,(function(t){return(t^crypto.getRandomValues(new Uint8Array(1))[0]&15>>t/4).toString(16)}))},Ct=function(t,e,n){if(-1!==e&&-1!==n&&e!==n){var i=t[e];t[e]=t[n],t[n]=i}},kt=function(t,e){var n=!0,i=!0;return t.length===e.length&&(t.forEach((function(t,s){n&&!e.includes(t)&&(n=!1,i=!1)})),i)},Vt=function(t,e){var n=t.findIndex((function(t){return t.Key===e}));if(0!==n)return t.splice(n,1)},Dt=function(t,e){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=Mt(),s=function(){e(),n&&Vt(t,i)};t.push({Key:i,Value:s})},wt=function(t,e){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];t.push({Key:Mt(),Value:e,IsDelete:n})},Tt=function(t,e){t.forEach((function(t){return t.Value()})),e(t=t.filter((function(t){return!t.IsDelete})))},xt=function(t,e){return"".concat(function(t){for(var e="A".charCodeAt(0),n="Z".charCodeAt(0)-e+1,i="";t>=0;)i=String.fromCharCode(t%n+e)+i,t=Math.floor(t/n)-1;return i}(e)).concat(t+1)},Ft=function(t,e,n,i){return"".concat(xt(t,e),":").concat(xt(n,i))},Nt=function(t,e,n,i){var s,r=t.ApiData,a=r._id?r._id:t._id;if(i)s=function(){return R("".concat(e,"/").concat(i),r)};else{var c=!a;s=function(){return c?L("".concat(e,"/add"),r):R("".concat(e,"/edit"),r)}}s().then((function(t){return t.data})).then((function(e){c&&(t._id=e._id),n(e,c)}))},Gt=function(t,e,n){var i={_id:t._id};R("".concat(e,"/delete"),i).then((function(t){return t.data})).then((function(t){n(t)}))},Rt=function(t){return(t.originalEvent||t).clipboardData.getData("text/plain")},Lt=function(t,e,n){var i=t.findIndex(e);if(void 0===(s=-1!==i?t[i]:void 0)&&n){var s=n();t.push(s)}return s},Pt=function(){function t(){Object(o.a)(this,t),this.Cells=[]}return Object(u.a)(t,[{key:"id",get:function(){return this._id||(this._id=St()),this._id}},{key:"Index",get:function(){return this.Dict.Columns.indexOf(this)}}]),t}(),Ut="default",Et="edit",At="category",Ht="parameter",Wt="bystring",Bt="bynumber",Kt="byequal",zt="bycontain",qt="bynotcontain",Xt="byequal",Yt="bysmaller",Qt="bybigger",Jt="bybetween",Zt=function(t,e){var n=new ne;return n.ValueType=t.valueType,n.NumberFilterType=t.numberFilterType,n.StringFilterType=t.stringFilterType,n.Values=t.values,n.CategoryType=e,n},$t=function(t){if(!t)return t;var e=new ne;return e.ValueType=t.ValueType,e.NumberFilterType=t.NumberFilterType,e.StringFilterType=t.StringFilterType,e.Values=Object(S.a)(t.Values),e.CategoryType=t.CategoryType,e},te=function(t){var e=[];switch(t.CategoryType){case At:e=[];break;case Ht:e=Gd.Instance.ParameterNames}return e},ee=function(t,e){if(void 0===e||null===e)return!1;var n=!1,i=t.Values;switch(t.ValueType){case Wt:if("string"===typeof e)switch(t.StringFilterType){case Kt:i.forEach((function(t){n||t!==e||(n=!0)}));break;case zt:var s=e.toLowerCase();i.forEach((function(t){!n&&s.includes(t.toLowerCase())&&(n=!0)}));break;case qt:s=e.toLowerCase();n=!0,i.forEach((function(t){n&&s.includes(t.toLowerCase())&&(n=!1)}))}break;case Bt:if(!isNaN(e))switch(t.NumberFilterType){case Xt:return e===i[0];case Yt:return e<i[0];case"bysmallerorequal":return e<=i[0];case Qt:return e>i[0];case"bybiggerorequal":return e>=i[0];case Jt:var r=i[0],a=i[1];return t.IsEqualLeft&&r===e||r<e&&e<a||t.IsEqualRight&&e===a}}return n},ne=function(){function t(){Object(o.a)(this,t)}return Object(u.a)(t,[{key:"Values",get:function(){return this.values},set:function(t){this.values=t}},{key:"ValueStorageList",get:function(){return this.valueStorageList||(this.valueStorageList=te(this)),this.valueStorageList}},{key:"ApiData",get:function(){return{valueType:(t=this).ValueType,numberFilterType:t.NumberFilterType,stringFilterType:t.StringFilterType,values:t.Values};var t}}]),t}(),ie=function(){function t(){var e=this;Object(o.a)(this,t),this.Delete=function(t){var n=e.Index;e.MassGroupItem.Items.splice(n,1),t&&t((function(){e.MassGroupItem.Items.splice(n,0,e)}))}}return Object(u.a)(t,[{key:"SupItem",get:function(){return this.supItem||(this.supItem=ue(this)),this.supItem}},{key:"Index",get:function(){return this.MassGroupItem.Items.indexOf(this)}},{key:"Title",get:function(){return this.title||(this.title=this.Value),this.title},set:function(t){this.title=t}},{key:"NewMGI",get:function(){return this.newMGI||(this.newMGI=oe(this),!this.newMGI&&this.newMGI_id&&(this.newMGI_id=void 0)),this.newMGI},set:function(t){this.newMGI=t,t&&t!==this.MassGroupItem?this.newMGI_id=t.id:this.newMGI_id=void 0}},{key:"ApiData",get:function(){return{value:this.Value,supValue:this.SupValue,title:this.Title,newMGI_id:this.newMGI_id,createType:this.CreateType}}}]),t}(),se="byuser",re="byauto",ae=function(t,e){var n=new ie;return n.MassGroupItem=t,e?(n.CreateType=se,n.Value=Mt(),n.Title="T\xean \u0111\u1ea7u m\u1ee5c"):n.CreateType=re,n},ce=function(t,e){var n=new ie;return n.Value=t.Value,n.SupValue=t.SupValue,n.Title=t.Title,n.newMGI_id=t.newMGI_id,n.MassGroupItem=e,n.CreateType=t.CreateType,n},oe=function(t){var e=t.newMGI_id;if(e){var n=t.MassGroupItem.SupComponent.AllItems,i=n.findIndex((function(t){return t._id===e}));return-1!==i?n[i]:void 0}},ue=function(t){if(!t.IsGet_SupItem){t.IsGet_SupItem=!0;var e=t.SupValue;if(e){var n=t.MassGroupItem.Items,i=n.findIndex((function(t){return t.Value===e}));return-1!==i?n[i]:void 0}}},le=function(){function t(){var e=this;Object(o.a)(this,t),this.SubComponents=[],this.NotIncludeValues=[],this.Items=[],this.AddNotIncludeValue=function(t,n){var i=e.NotIncludeValues,s=i.indexOf(t);-1===s&&(e.NotIncludeValues.push(t),n&&(s=i.length-1,n((function(){i.splice(s,1)}))))},this.GetItem=function(t,n,i){var s=e.Items.findIndex((function(e){return e.Value===t}));if(-1===s){var r=ae(e);if(r.Value=t,r.Title=n,e.Items.push(r),i){var a=e.Items.length;i((function(){e.Items.splice(a-1,1)}))}return r}return e.Items[s]},this.SupRows=[],this.CreatedByUser_Rows=[],this.On_AddSupRow_Func_Dict=[],this.AddSupRow=function(t){var n=e.SupRows;-1===n.indexOf(t)&&(e.NewRow=t,n.push(t),e.HandleCreatedByUserRows(t),Tt(e.On_AddSupRow_Func_Dict,(function(t){return e.On_AddSupRow_Func_Dict=t})))},this.OnIsFirstSetSupRow_Funcs=[],this.HandleCreatedByUserRows=function(t){for(var n=e.Items.filter((function(t){return t.CreateType===se&&!t.IsAdd_Done})),i=[],s=!0,r=function(){var t=void 0,r=[];s?(t=function(t){return void 0===t.SupItem||t.SupItem.CreateType!==se},s=!1):t=function(t){return-1!==i.findIndex((function(e){return e.Value===t.SupValue}))},n.forEach((function(n,s,a){e.IsDebug,t(n)&&(i.push(n),r.push(s))})),r.forEach((function(t,e){n.splice(t-e,1)}))};0!==n.length;)r();i.forEach((function(t){var n,i=t.Value,s=e.SupRows.concat(e.CreatedByUser_Rows),r=!0;if(t.SupValue||0===s.length){var a=s.findIndex((function(e){return e.Name===t.SupValue}));-1!==a?n=s[a]:r=!1}else n=s[0];if(!r)return!1;t.IsAdd_Done=!0;var c=function(t){var n=e.Table.GetRow(i,t);return n.FullValue=i,n.IsCreatedByUser=!0,e.Table.CreatedByUser_Rows.push(n),e.CreatedByUser_Rows.push(n),n},o=function(t){t.MassGroupItem=e,u(t)},u=function(n){var i=e.SubComponents.findIndex((function(e){return e.Filter.Values.includes(t.Value)}));-1!==i&&e.SubComponents[i].Items[0].AddSupRow(n)},l=t.NewMGI;if(l){var h=t.SupValue;l.GetItem(i),e.Table.Handle_ReplaceMGI(l,h,c,o)}else o(c(n))}))}}return Object(u.a)(t,[{key:"id",get:function(){return this._id||(this._id=Mt()),this._id},set:function(t){this._id=t}},{key:"Index",get:function(){return this.SupComponent.Items.indexOf(this)}},{key:"Rank",get:function(){return this.SupComponent.Rank}},{key:"OrderItems",get:function(){return this.Items}},{key:"OrderValues",get:function(){return this.Items.map((function(t){return t.Value}))}},{key:"ApiData",get:function(){var t=this.Items.map((function(t){return t.ApiData}));return{_id:this.id,field:this.Field,subComponents:this.SubComponents.map((function(t){return t.ApiData})),valueOrders:this.ValueOrders,notIncludeValues:this.NotIncludeValues,items:t}}},{key:"IsFirstSetSupRow",get:function(){return this.isFirstSetSupRow},set:function(t){this.isFirstSetSupRow=t,this.OnIsFirstSetSupRow_Funcs.forEach((function(t){return t()}))}},{key:"HaveMassItemSubComponents",get:function(){return this.SubComponents.filter((function(t){return t.IsHaveMassItem}))}},{key:"Table",get:function(){return this.table||(this.table=be(this)),this.table},set:function(t){this.table=t}}]),t}(),he=function(){function t(){Object(o.a)(this,t)}return Object(u.a)(t,[{key:"OriginComponent",get:function(){return this.originComponent||(this.originComponent=_e(this)),this.originComponent}},{key:"ApiData",get:function(){return{filter:this.Filter?this.Filter.ApiData:void 0,items:this.Items.map((function(t){return t.ApiData}))}}},{key:"AllItems",get:function(){return this.OriginComponent.AllSubItems}},{key:"AllSubItems",get:function(){var t=Object(S.a)(this.Items);return this.Items.forEach((function(e){return e.SubComponents.forEach((function(e){return t.push.apply(t,e.AllSubItems)}))})),t}},{key:"Rank",get:function(){return this.SupItem?this.SupItem.SupComponent.Rank+1:0}}]),t}(),de="https://api.bimdev.vn/api/hb_mgs_d",me=function(){function t(){var e=this;Object(o.a)(this,t),this.SaveDatabase=function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=arguments.length>1?arguments[1]:void 0;Nt(e,de,(function(){t&&w.b.success("save successfully!"),n&&n()}),"edit")}}return Object(u.a)(t,[{key:"TempId",get:function(){return this.tempId||(this.tempId=Mt()),this.tempId}},{key:"id",get:function(){return this._id?this._id:this.TempId}},{key:"ApiData",get:function(){return{_id:this._id,dictId:this.Dict._id,mainMassGroupComponent:this.MainMassGroupComponent.ApiData}}}]),t}(),fe=function(t,e){var n=new he;return n.Filter=t.filter?Zt(t.filter):void 0,n.Items=t.items.map((function(t){return Ie(t,n)})),e instanceof me?n.Dict=e:e instanceof le&&(n.SupItem=e),n},pe=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!t)return t;var i=new he;return i.Filter=$t(t.Filter),i.Items=t.Items.map((function(t){return ge(t,i,n)})),i.SupItem=e,i},_e=function(t){return t.SupItem?t.SupItem.SupComponent.OriginComponent:t},ve=function(t,e,n){var i=new le;return i.Field=t,i.SupComponent=n,e&&(i.SubComponents=e),i},Ie=function(t,e){var n=new le;return n._id=t._id,n.Field=t.field,n.SupComponent=e,n.SubComponents=t.subComponents?t.subComponents.map((function(t){return fe(t,n)})):[],t.items?(n.Items=t.items.map((function(t){return function(t,e){var n=new ie;return n.Value=t.value,n.SupValue=t.supValue,n.Title=t.title,n.newMGI_id=t.newMGI_id,n.MassGroupItem=e,n.CreateType=t.createType?t.createType:re,n}(t,n)})).filter((function(t){return t.Value})),n.IsHaveValueOrder=!0):(n.Items=[],n.IsHaveValueOrder=!1),n.NotIncludeValues=t.notIncludeValues?t.notIncludeValues:[],n},ge=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!t)return t;var i=new le;return i.id=t.id,i.Field=t.Field,i.NotIncludeValues=Object(S.a)(t.NotIncludeValues),i.IsHaveValueOrder=t.IsHaveValueOrder,i.SupComponent=e,n&&t.Rank>0||(i.Items=t.Items.map((function(t){return ce(t,i)})),i.SubComponents=t.SubComponents.map((function(t){return pe(t,i,n)}))),i},be=function(t){return t.SupComponent.SupItem.Table},je=n(44),Oe=n.n(je),ye=function(t,e){var n=new Se;return n.Items=t,n.InitialItems=e,n},Se=function(){function t(){var e=this;Object(o.a)(this,t),this.items=void 0,this.GetInitialIndexs=function(){var t=e.InitialItems;return t?t.map((function(t){return e.Items.indexOf(t)})).filter((function(t){return-1!==t})):[]},this.selectedIndexs=[],this.GetSelectedItems=function(){return e.SelectedIndexs.map((function(t){return e.Items[t]}))},this.open=!1,this.canOpen=!0,this.disabled=!1,Object(v.l)(this,{items:v.m,selectedIndexs:v.m,open:v.m,canOpen:v.m,disabled:v.m})}return Object(u.a)(t,[{key:"Items",get:function(){return this.items},set:function(t){this.items=t}},{key:"InitialItems",get:function(){return this.initialItems},set:function(t){this.IsSet_InitialItem=!0,this.initialItems=t,this.InitialIndexs=this.GetInitialIndexs(),this.SelectedIndexs=this.InitialIndexs}},{key:"InitialIndexs",get:function(){return this.initialIndexs||(this.initialIndexs=this.GetInitialIndexs()),this.initialIndexs},set:function(t){this.initialIndexs=t}},{key:"SelectedIndexs",get:function(){return this.selectedIndexs},set:function(t){this.selectedIndexs=t,this.SelectedItems=this.GetSelectedItems()}},{key:"SelectedItems",get:function(){return this.selectedItems||(this.selectedItems=this.GetSelectedItems()),this.selectedItems},set:function(t){this.selectedItems=t,this.IsSet_InitialItem?this.IsSet_InitialItem=!1:this.OnSelectedItemChanged&&this.OnSelectedItemChanged(t)}},{key:"Placeholder",get:function(){return this.placeholder||(this.placeholder="ch\u1ecdn \u0111\u1ed1i t\u01b0\u1ee3ng ..."),this.placeholder},set:function(t){this.placeholder=t}},{key:"TitleRender",get:function(){return this.titleRender||(this.titleRender=function(t){return t.DisplayContent?t.DisplayContent:"".concat(t)}),this.titleRender},set:function(t){this.titleRender=t}},{key:"Open",get:function(){return this.open},set:function(t){this.open=t,this.OnSetOpen&&this.OnSetOpen(t)}},{key:"CanOpen",get:function(){return this.canOpen},set:function(t){this.canOpen=t}},{key:"Disabled",get:function(){return this.GetDisabled_Func?this.GetDisabled_Func():this.disabled},set:function(t){this.disabled=t}}]),t}(),Me=m.a.Option,Ce=function(t){Object(l.a)(n,t);var e=Object(h.a)(n);function n(t){var i;Object(o.a)(this,n),(i=e.call(this,t)).onValueChange=function(t){i.state.SelectedIndexs=t},i.onDropdownVisibleChange=function(t){i.state.Open=t};var s=i.props.store;return i.state=s||new Se,i}return Object(u.a)(n,[{key:"render",value:function(){var t=this.state,e=this.props.style?this.props.style:{width:"100%"},n=t.Placeholder,s=t.Items,r=t.SelectedIndexs,a=t.InitialIndexs;0===r.length&&(r=a,t.InitialIndexs=[]);var c=s?s.map((function(e,n){var s=t.TitleRender(e),r=void 0;return r=void 0===e?St():"string"!==typeof e&&isNaN(e)?e._id?e._id:e.id:e,Object(i.jsx)(Me,{value:n,children:s},r)})):"";return Object(i.jsx)(i.Fragment,{children:Object(i.jsx)(m.a,{style:e,mode:"multiple",placeholder:n,optionFilterProp:"children",onChange:this.onValueChange,value:r,filterOption:function(t,e){return e.children.toLowerCase().indexOf(t.toLowerCase())>=0},open:t.CanOpen&&t.Open,onDropdownVisibleChange:this.onDropdownVisibleChange,disabled:t.Disabled,children:c})})}}]),n}(s.Component),ke=Object(d.a)(Ce),Ve=n(451),De=n(449),we=n(452),Te=n(448),xe=function t(){var e=this;Object(o.a)(this,t),this.IsElementVisible=!1,this.ShowElement=function(){e.IsElementVisible=!0},this.HideElement=function(){e.IsElementVisible=!1},Object(v.l)(this,{IsElementVisible:v.m})},Fe=function(t){Object(l.a)(n,t);var e=Object(h.a)(n);function n(t){var i;Object(o.a)(this,n);var s=(i=e.call(this,t)).props.store;return i.state=s||new xe,i}return Object(u.a)(n,[{key:"render",value:function(){var t=this.state,e=this.props.className;if(!t.style){var n=this.props.style?this.props.style:{};n.minWidth||(n.minWidth=150),t.style=n}return Object(i.jsx)(i.Fragment,{children:Object(i.jsx)("div",{className:e,style:t.style,onMouseEnter:t.ShowElement,onMouseLeave:t.HideElement,children:t.IsElementVisible?t.Element:""})})}}]),n}(s.Component),Ne=Object(d.a)(Fe),Ge=n(455),Re=function(t,e){var n=new Le;return n.Items=t,n.InitialItem=e,n},Le=function(){function t(){var e=this;Object(o.a)(this,t),this.items=void 0,this.initialItem=void 0,this.GetInitialIndex=function(){var t=e.Items.indexOf(e.InitialItem);return-1!==t?t:null},this.selectedIndex=void 0,this.SetValue=function(t){e.InitialItem=e.SelectedItem=t},this.GetSelectedItem=function(){var t=e.SelectedIndex;if(-1!==t)return e.Items[t]},this.CanClear=!1,this.Clear=function(){e.SelectedIndex=null},this.open=!1,this.canOpen=!0,this.isDisabled=!1,this.disabled=!1,Object(v.l)(this,{items:v.m,selectedIndex:v.m,CanClear:v.m,open:v.m,canOpen:v.m,isDisabled:v.m,disabled:v.m})}return Object(u.a)(t,[{key:"Items",get:function(){return this.items||(this.items=[]),this.items},set:function(t){this.items=t}},{key:"InitialItem",get:function(){return this.initialItem},set:function(t){this.IsSet_InitialItem=!0,this.initialItem=t,this.InitialIndex=this.GetInitialIndex(),this.SelectedIndex=this.InitialIndex}},{key:"InitialIndex",get:function(){return this.initialIndex||(this.initialIndex=this.GetInitialIndex()),this.initialIndex},set:function(t){this.initialIndex=t}},{key:"SelectedIndex",get:function(){return this.selectedIndex},set:function(t){this.selectedIndex=t,this.SelectedItem=this.GetSelectedItem()}},{key:"SelectedItem",get:function(){return this.selectedItem||(this.selectedItem=this.GetSelectedItem()),this.selectedItem},set:function(t){this.selectedItem=t,this.IsSet_InitialItem?this.IsSet_InitialItem=!1:this.OnSelectedItemChanged&&this.OnSelectedItemChanged(t)}},{key:"Placeholder",get:function(){return this.placeholder||(this.placeholder="ch\u1ecdn \u0111\u1ed1i t\u01b0\u1ee3ng ..."),this.placeholder},set:function(t){this.placeholder=t}},{key:"DivStyle",get:function(){return this.CanClear?{position:"relative",padding:"0 22px 0 0"}:{}}},{key:"TitleRender",get:function(){return this.titleRender||(this.titleRender=function(t){return t.DisplayContent?t.DisplayContent:"".concat(t)}),this.titleRender},set:function(t){this.titleRender=t}},{key:"Open",get:function(){return this.open},set:function(t){this.open=t,this.OnSetOpen&&this.OnSetOpen(t)}},{key:"CanOpen",get:function(){return this.canOpen},set:function(t){this.canOpen=t}},{key:"IsDisabled",get:function(){return this.isDisabled},set:function(t){this.isDisabled=t}},{key:"Disabled",get:function(){return this.GetDisabled_Func?this.GetDisabled_Func():this.disabled},set:function(t){this.disabled=t}}]),t}(),Pe=function t(){var e=this;Object(o.a)(this,t),this.getClassName=function(){return e.className||(e.className="float ".concat(e.location)),e.className}},Ue=function(t){var e=new Pe;return e.location=t,e},Ee=function(t){Object(l.a)(n,t);var e=Object(h.a)(n);function n(t){var i;Object(o.a)(this,n),(i=e.call(this,t)).getWrapperContent=function(){var t=i.state.wrapper;return t||""};var s=i.props.store;return i.state=s||Ue("top right"),i}return Object(u.a)(n,[{key:"render",value:function(){var t=this.state;return Object(i.jsx)(i.Fragment,{children:Object(i.jsx)("span",{className:t.getClassName(),children:this.getWrapperContent()})})}}]),n}(s.Component),Ae=Object(d.a)(Ee),He=(n(284),m.a.Option),We=function(t){Object(l.a)(n,t);var e=Object(h.a)(n);function n(t){var i;Object(o.a)(this,n),(i=e.call(this,t)).onValueChange=function(t){i.state.SelectedIndex=t},i.onDropdownVisibleChange=function(t){i.state.Open=t};var s=i.props.store;return i.state=s||new Le,i}return Object(u.a)(n,[{key:"render",value:function(){var t=this.state,e=this.props.className?this.props.className:"",n=this.props.style?this.props.style:{width:"100%"},s=t.Placeholder,r=t.Items,a=t.SelectedIndex,c=t.InitialIndex;-1===a&&(a=c,t.InitialIndex=-1);var o=r?r.map((function(e,n){var s=t.TitleRender(e),r=void 0;return r=void 0===e?St():"string"!==typeof e&&isNaN(e)?e._id?e._id:e.id:e,Object(i.jsx)(He,{value:n,children:s},r)})):"",u="";if(t.CanClear){var l=Ue("right");l.wrapper=Object(i.jsx)(p.a,{size:"small",type:"primary",onClick:t.Clear,children:"x"}),u=Object(i.jsx)(Ae,{store:l})}return Object(i.jsx)(i.Fragment,{children:Object(i.jsxs)("div",{className:"select__wrapper ".concat(e),style:t.DivStyle,children:[u,Object(i.jsx)(m.a,{style:n,showSearch:!0,placeholder:s,optionFilterProp:"children",onChange:this.onValueChange,value:a,filterOption:function(t,e){return e.children.toLowerCase().indexOf(t.toLowerCase())>=0},open:t.CanOpen&&t.Open,onDropdownVisibleChange:this.onDropdownVisibleChange,disabled:t.Disabled||t.IsDisabled,children:o})]})})}}]),n}(s.Component),Be=Object(d.a)(We),Ke="inside",ze="lower",qe=function(){function t(){var e=this;Object(o.a)(this,t),this.Location=Ke,this.ToggleLocation=function(){switch(e.Location){case Ke:e.Location=ze;break;case ze:e.Location=Ke}},Object(v.l)(this,{Location:v.m})}return Object(u.a)(t,[{key:"Color",get:function(){return function(t){switch(t.Location){case Ke:return"#52c41a";case ze:return"#faad14"}}(this)}},{key:"ButtonStyle",get:function(){return{width:50,backgroundColor:this.Color,border:"none"}}}]),t}(),Xe="input",Ye="select",Qe=n(38),Je=n(203),Ze=n.n(Je),$e=function(t){Object(l.a)(n,t);var e=Object(h.a)(n);function n(t){var i;Object(o.a)(this,n),(i=e.call(this,t)).handleChange=function(t){i.state.Content=t.target.value},i.OnPaste=function(t){t.preventDefault();var e=Rt(t);i.state.Content=e},i.OnKeyDown=function(t){var e=i.state;e.OnKeyDown?e.OnKeyDown(t):(t.ctrlKey&&66==t.which||t.ctrlKey&&73==t.which||13==t.keyCode)&&t.preventDefault()},i.contentEditable=r.a.createRef();var s=i.props.store;if(s)i.state=s;else{i.state=j("N\u1ed9i dung input")}return i.state.Ref=r.a.createRef(),i}return Object(u.a)(n,[{key:"render",value:function(){var t,e=this.state,n=e.Content,s=this.props.className?this.props.className:"",r=this.props.style,a=this.props.onFocus?this.props.onFocus:e.OnFocus;return e.OnKeyDown=e.OnKeyDown?e.OnKeyDown:this.props.onKeyDown,Object(i.jsxs)(i.Fragment,{children:[e.State===I?Object(i.jsx)(Ze.a,(t={ref:e.Ref,className:"ant-input ".concat(s),style:r,innerRef:this.contentEditable,placeholder:e.Placeholder},Object(Qe.a)(t,"style",r),Object(Qe.a)(t,"html",n||""),Object(Qe.a)(t,"onChange",this.handleChange),Object(Qe.a)(t,"onPaste",this.OnPaste),Object(Qe.a)(t,"onKeyDown",this.OnKeyDown),Object(Qe.a)(t,"onFocus",a),t)):"",e.State===g?Object(i.jsx)(_.a.Password,{value:n,onChange:this.handleChange,className:s,style:r}):""]})}}]),n}(s.Component),tn=Object(d.a)($e),en=function(){function t(){var e=this;Object(o.a)(this,t),this.items=void 0,this.inputTitle=void 0,this.outputTitle=void 0,this.availableItems=void 0,this.selectedItems=[],this.GetKey=function(t){return"string"===typeof t?t:t.id?t.id:Mt()},this.Select=function(t){var n=e.AvailableItems.indexOf(t);e.AvailableItems.splice(n,1),e.SelectedItems.push(t),e.IsChanged=!0},this.Unselect=function(t){var n=e.SelectedItems.indexOf(t);e.SelectedItems.splice(n,1);var i=e.Items.indexOf(t);i<e.AvailableItems.length?e.AvailableItems.splice(i,0,t):e.AvailableItems.push(t),e.IsChanged=!0},Object(v.l)(this,{items:v.m,availableItems:v.m,selectedItems:v.m,inputTitle:v.m,outputTitle:v.m})}return Object(u.a)(t,[{key:"Items",get:function(){return this.items},set:function(t){this.items=t,this.AvailableItems=Object(S.a)(this.Items),this.SelectedItems=[]}},{key:"InputTitle",get:function(){return this.inputTitle||(this.inputTitle="D\u1eef li\u1ec7u input"),this.inputTitle},set:function(t){this.inputTitle=t}},{key:"OutputTitle",get:function(){return this.outputTitle||(this.outputTitle="D\u1eef li\u1ec7u output"),this.outputTitle},set:function(t){this.outputTitle=t}},{key:"AvailableItems",get:function(){return this.availableItems},set:function(t){this.availableItems=t}},{key:"SelectedItems",get:function(){return this.selectedItems},set:function(t){this.selectedItems=t}},{key:"IsChanged",set:function(t){this.OnSelectedItemChanged&&this.OnSelectedItemChanged(this.SelectedItems)}},{key:"Render",get:function(){return this.render||(this.render=sn(this)),this.render},set:function(t){this.render=t}}]),t}(),nn=function(t,e,n,i){var s=new en;return s.Items=t,s.Render=e,s.InputTitle=n,s.OutputTitle=i,s},sn=function(t){return function(t){return t}},rn=(n(288),function(t){Object(l.a)(n,t);var e=Object(h.a)(n);function n(t){var i;Object(o.a)(this,n),(i=e.call(this,t)).onValueChange=function(t){i.state.SelectedIndexs=t},i.onDropdownVisibleChange=function(t){i.state.Open=t};var s=i.props.store;return i.state=s||nn(["a","b","c","d","e","f","g","h","i","j","k","q","r","s","t"]),i}return Object(u.a)(n,[{key:"render",value:function(){var t=this.state;this.props.style;return Object(i.jsx)(i.Fragment,{children:Object(i.jsxs)("table",{className:"tc_table",children:[Object(i.jsx)("thead",{children:Object(i.jsxs)("tr",{children:[Object(i.jsx)("th",{children:Object(i.jsx)("div",{className:"tc_table__title",children:Object(i.jsx)("span",{children:t.InputTitle})})}),Object(i.jsx)("th",{children:Object(i.jsx)("div",{className:"tc_table__title",children:t.OutputTitle})})]})}),Object(i.jsx)("tbody",{children:Object(i.jsxs)("tr",{children:[Object(i.jsx)("td",{children:Object(i.jsx)("span",{className:"tc_select__partition__items",children:t.AvailableItems.map((function(e){return Object(i.jsx)("span",{onClick:function(){return t.Select(e)},children:t.Render(e)},t.GetKey(e))}))})}),Object(i.jsx)("td",{children:Object(i.jsx)("span",{className:"tc_select__partition__items",children:t.SelectedItems.map((function(e){return Object(i.jsx)("span",{onClick:function(){return t.Unselect(e)},children:t.Render(e)},t.GetKey(e))}))})})]})})]})})}}]),n}(s.Component)),an=Object(d.a)(rn),cn=function(){function t(){var e=this;Object(o.a)(this,t),this.editable_TitleVM_RenderState=void 0,this.Method=function(t){return e.Dict[t]},Object(v.l)(this,{editable_TitleVM_RenderState:v.m})}return Object(u.a)(t,[{key:"Editable_TitleVM",get:function(){return this.Dict.Editable_TitleVM}},{key:"Editable_TitleVM_RenderState",get:function(){return void 0===this.editable_TitleVM_RenderState&&(this.editable_TitleVM_RenderState=this.Editable_TitleVM.RenderState),this.editable_TitleVM_RenderState},set:function(t){this.editable_TitleVM_RenderState=t,this.Editable_TitleVM.RenderState=t}},{key:"View",get:function(){return Object(i.jsx)(hn,{store:this})}}]),t}(),on=n(453),un=n(454),ln=function(t){Object(l.a)(n,t);var e=Object(h.a)(n);function n(t){var i;Object(o.a)(this,n);var s=(i=e.call(this,t)).props.store;return i.state=s||new cn,i}return Object(u.a)(n,[{key:"render",value:function(){var t=this.state;return Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)(p.a,{size:"small",type:"primary",className:"btn-success",onClick:t.Method("MoveUp"),children:Object(i.jsx)(on.a,{})}),Object(i.jsx)(p.a,{size:"small",type:"primary",className:"btn-success",onClick:t.Method("MoveDown"),children:Object(i.jsx)(un.a,{})}),Object(i.jsx)(p.a,{type:"primary",size:"small",className:"btn-warning",onClick:t.Method("OpenModal"),children:"..."}),Object(i.jsx)(p.a,{size:"small",type:"primary",className:"btn-success",onClick:t.Method("AddSub"),children:"+"}),Object(i.jsx)(p.a,{type:"primary",size:"small",danger:!0,onClick:t.Method("Delete"),children:"x"})]})}}]),n}(s.Component),hn=Object(d.a)(ln),dn="each",mn=function(){return["m","m2","m3","kg",dn]},fn=function(t){var e;switch(t){case dn:e="S\u1ed1 l\u01b0\u1ee3ng (c\xe1i)";break;case"m":e="Chi\u1ec1u d\xe0i (m)";break;case"m2":e="Di\u1ec7n t\xedch (m2)";break;case"m3":e="Th\u1ec3 t\xedch (m3)";break;case"kg":e="Kh\u1ed1i l\u01b0\u1ee3ng (kg)"}return e},pn="lower",_n="upper",vn="both",In="none",gn="celldata",bn="unitlist",jn="unit",On="delete",yn="addsub",Sn="subcells",Mn="unit",Cn="removedata",kn=function(){function t(){var e=this;Object(o.a)(this,t),this.subItems=[],this.isShowSub=!0,this.rank=void 0,this.IsToolVisible=!1,this.FieldInputType=Ye,this.Toggle_FieldInputType=function(){switch(e.FieldInputType){case Ye:e.TempField=e.FieldInputVM.Content,e.FieldInputType=Xe;break;case Xe:e.FieldSelectVM.InitialItem=e.TempField,e.FieldInputType=Ye}},this.title=void 0,this.EditTitle=function(){e.HideHover(),e.Editable_TitleVM.RenderState=Et},this.GetCellByColumn=function(t){var n=e.Cells.findIndex((function(e){return e.Column===t}));return-1!==n?e.Cells[n]:void 0},this.ToggleSub=function(){e.IsShowSub=!e.IsShowSub},this.SetSubFields=function(t){var n=e.TempSubFields?e.TempSubFields:[],i=!0;if(e.SubFields.length!==n.length?i=!1:e.SubFields.forEach((function(t,e){i&&t!==n[e]&&(i=!1)})),!i){var s;if(t&&(s=[],t((function(){s.forEach((function(t){return t()}))}))),t){var r=e.SubItems;s.push((function(){e.SubItems=r}))}var a=e.SubFields;t&&s.push((function(){e.SubFields=a})),e.SubFields=n;var c=new ne;c.ValueType=Wt,c.StringFilterType=Kt,c.Values=[e.FullValue];var o=e.MassGroupItem,u=new he;u.SubItem=o,u.Filter=c;var l=u.Items=n.map((function(t){return ve(t,null,u)})),h=o.SubComponents;if(e.SubMassGroupComponent){var d=h.indexOf(e.SubMassGroupComponent);if(t){var m=h[d];s.push((function(){h[d]=m}))}h[d]=u}else t&&s.push((function(){h.splice(h.length-1,1)})),h.push(u);if(t){var f=e.SubMassGroupComponent;s.push((function(){e.SubMassGroupComponent=f}))}if(e.SubMassGroupComponent=u,e.SubItems=[],t){var p=e.Original_SubMassGroupItem;s.push((function(){e.Original_SubMassGroupItem=p}))}if(e.Original_SubMassGroupItem=void 0,0!==l.length){var _=e.Table;if(e.Items.forEach((function(t){switch(_.ColumnField){case $:t.ValidPhasesByInput.forEach((function(n){return _.HandleItem(t,n,u,e)}));break;default:_.HandleItem(t,t.GetValue(_.ColumnField).Value,u,e)}})),e.Update.Run({Section:gn,Data:{Sections:Sn}},pn,!1),t){var v=e.Unit;s.push((function(){e.Update.Run({Section:jn,Data:{Unit:v}},In)}))}e.Update.Run({Section:jn,Data:{Unit:e.Unit?e.Unit:dn}},pn)}}},this.MoveUp=function(){var t=e.CurrentList,n=e.Index;if(0!==n){var i=e.OrderMGI.OrderItems,s=e.OrderMGI.OrderValues,r=s.indexOf(t[n].FullValue),a=s.indexOf(t[n-1].FullValue),c=function(){Ct(t,n,n-1),Ct(i,r,a)};c(),e.Table.CommandDict.Add({Key:"moveuprow",Undo:c})}},this.MoveDown=function(){var t=e.CurrentList,n=e.Index;if(t.length-1!==n){var i=e.OrderMGI.OrderItems,s=e.OrderMGI.OrderValues,r=s.indexOf(t[n].FullValue),a=s.indexOf(t[n+1].FullValue),c=function(){Ct(t,n,n+1),Ct(i,r,a)};c(),e.Table.CommandDict.Add({Key:"movedownrow",Undo:c})}},this.AddSub=function(){br(e,e.Table)},this.Delete=function(){e.Update.Run({Section:On,Data:{DeleteType:Cn}},_n,!0,(function(t){e.Table.CommandDict.Add({Key:"deleterow",Undo:t})}))},this.ReplaceOK=function(t){var n=e.ReplaceFactory,i=n.ReferenceRow;if(i){var s=n.Location;i===e&&s===ze||i===e.SupItem&&s===Ke||(e.Replace(i,s,t),n.Location=Ke)}},this.Replace_SubItems=function(t){var n;t&&(n=[],t((function(){n.forEach((function(t){return t()}))}))),e.Temp_SelectSubItems.forEach((function(t){t.Replace(e,Ke,(function(t){n&&n.push(t)}))}))},this.Replace=function(t,n,i){e.Original_SupRow;var s,r=e.MassGroupItem,a=void 0;switch(n){case Ke:a=t;break;case ze:a=t.SupItem}if(e.SupItem!==a){var c=[],o=e.IsReplaced;c.push((function(){return e.IsReplaced=o})),e.IsReplaced=!0;var u=a?a.Replace_SubMassGroupItem?a.Replace_SubMassGroupItem:gr(a):e.Table.MainMGI,l=r.GetItem(e.FullValue,(function(t){c.push(t)})),h=l.NewMGI,d=l.SupValue;c.push((function(){l.NewMGI=h,l.SupValue=d})),l.NewMGI=u,l.SupValue=null===(s=a)||void 0===s?void 0:s.Name;var m=e.ReplaceMGI;if(c.push((function(){e.ReplaceMGI=m})),e.ReplaceMGI=u,e.Update.Run({Section:On,Data:{DeleteType:"default"}},_n,!0,(function(t){return c.push(t)})),i){var f=e.SupItem;c.push((function(){return e.SupItem=f}))}e.SupItem=a,a.Update.Run({Section:yn,Data:{Item:e}},In,!0,(function(t){return c.push(t)}));var p=e.IsShowSubFieldSelect;c.push((function(){e.IsShowSubFieldSelect=p})),e.IsShowSubFieldSelect=!1,i&&i((function(){c.forEach((function(t){return t()}))}))}},this.IsModalVisible=!1,this.OpenModal=function(){var t;e.IsModalVisible=!0,e.TitleVM.Content=e.Title,e.FieldInputVM.Content=e.Field;var n=e.FieldSelectVM,i=(t=n.Items).findIndex((function(t){return t.Value===e.Field}));n.InitialItem=-1!==i?t[i]:void 0,e.TempField=e.Field;var s=e.SubFieldSelectVM;t=s.Items,s.InitialItems=t.filter((function(t){return-1!==e.SubFields.indexOf(t.Value)})),e.Temp_SelectSubItems=void 0,e.SelectSubItemsVM.Items=e.LocationStorageList;var r=e.LocationSelectVM;r.Items=e.LocationStorageList,r.InitialItem=void 0},this.ModalOK=function(){e.IsModalVisible=!1;var t=[];e.Table.CommandDict.Add({Key:"rowmodalok",Undo:function(){t.forEach((function(t){return t()}))}});var n=e.TitleVM.Content;if(e.Title=n,e.MassGroupItem.GetItem(e.FullValue).Title=n,e.Field!==e.TempField){var i=e.Field;t.push((function(){e.Field=i})),e.Field=e.TempField}e.IsCreatedByUser||e.SetSubFields((function(e){t.push(e)})),e.Temp_SelectSubItems?e.Replace_SubItems((function(e){t.push(e)})):e.ReplaceOK((function(e){t.push(e)}))},this.ModalCancel=function(){e.IsModalVisible=!1},this.PMS_WorkPackages=["THI C\xd4NG CH\xcdNH (HBC)","C\xd4NG T\xc1C CHU\u1ea8N B\u1eca PH\u1ea6N NG\u1ea6M","C\xd4NG T\xc1C CHU\u1ea8N B\u1eca PH\u1ea6N NG\u1ea6M (PH\u01af\u01a0NG ...)","K\u1ebft th\xfac th\xf4 - B\xe0n giao"],this.ShowHover=function(){e.Editable_TitleVM.RenderState!==Et&&e.HoverData.Show()},this.HideHover=function(){e.HoverData.Hide()},this.On_HandleTotal_Cells_Done_Dict_Funcs=[],this.AddHandleTotal_Cell=function(t){e.HandleTotal_Cells||(e.HandleTotal_Cells=[]);var n=e.HandleTotal_Cells;n.push(t),n.length===e.Cells.length&&(e.HandleTotal_Cells=void 0,e.Is_HandleTotal_Cells_Done=!0,e.IsCreatedByUser&&e.Table.Add_Handled_CreatedByUser_Row(e))},this.On_HandleTotalData_Cells_Func=[],this.HandleTotalData_Cells=void 0,this.AddHandleTotalData_Cell=function(t){e.HandleTotalData_Cells||(e.HandleTotalData_Cells=[]);var n=e.HandleTotalData_Cells;n.push(t),n.length===e.Cells.length&&(e.HandleTotalData_Cells=void 0,e.Is_HandleTotalData_Cells=!0,e.IsCreatedByUser&&e.Table.Add_Handled_CreatedByUser_Row(e))},this.IsHaveAdditionInformation=!1,this.AdditionInformation=void 0,this.Is_SelectSubItems_ModalOpen=!1,this.Open_SelectSubItems_Modal=function(){e.Is_SelectSubItems_ModalOpen=!0},this.SelectSubItems_ModalCancel=function(){e.Is_SelectSubItems_ModalOpen=!1},this.SelectSubItems_ModalOK=function(){e.Is_SelectSubItems_ModalOpen=!1},this.Temp_SelectSubItems=void 0,this.isShow_RawValue=void 0,Object(v.l)(this,{rank:v.m,isShowSub:v.m,IsToolVisible:v.m,subItems:v.m,IsModalVisible:v.m,title:v.m,FieldInputType:v.m,IsHaveAdditionInformation:v.m,AdditionInformation:v.m,Is_SelectSubItems_ModalOpen:v.m,Temp_SelectSubItems:v.m,isShow_RawValue:v.m})}return Object(u.a)(t,[{key:"id",get:function(){return this._id||(this._id=St()),this._id}},{key:"Index",get:function(){return this.CurrentList.indexOf(this)}},{key:"SupItem",get:function(){return this.supItem},set:function(t){this.supItem=t,this.CurrentList=void 0,this.Rank=void 0}},{key:"CurrentList",get:function(){return this.currentList||(this.currentList=this.SupItem?this.SupItem.SubItems:this.Table.MainRows),this.currentList},set:function(t){this.currentList=t}},{key:"Table",get:function(){return this.Dict}},{key:"SubItems",get:function(){return this.subItems},set:function(t){this.subItems=t}},{key:"AllItems",get:function(){var t=[];return t.push(this),this.SubItems.forEach((function(e){t.push.apply(t,e.AllItems)})),t}},{key:"Cells",get:function(){return this.cells||(this.cells=kr(this)),this.cells}},{key:"Update",get:function(){return this.update||(this.update=xr(this)),this.update}},{key:"Items",get:function(){var t=this.Cells.reduce((function(t,e){return t.concat(e.Items)}),[]);return t=t.filter((function(t,e,n){return n.indexOf(t)===e}))}},{key:"MassGroupItem",get:function(){return this.massGroupItem},set:function(t){if(this.massGroupItem=t,t){var e=t.GetItem(this.FullValue).Title;this.Title=e}}},{key:"ReplaceMGI",get:function(){return this.replaceMGI},set:function(t){this.replaceMGI=t}},{key:"Original_SubMassGroupItem",get:function(){return this.original_SubMassGroupItem||(this.original_SubMassGroupItem=_r(this)),this.original_SubMassGroupItem},set:function(t){this.original_SubMassGroupItem=t}},{key:"Replace_SubMassGroupItem",get:function(){return this.replace_SubMassGroupItem||(this.replace_SubMassGroupItem=vr(this)),this.replace_SubMassGroupItem},set:function(t){this.replace_SubMassGroupItem=t}},{key:"SubMassGroupItem",get:function(){return this.Replace_SubMassGroupItem?this.Replace_SubMassGroupItem:this.Original_SubMassGroupItem},set:function(t){this.Replace_SubMassGroupItem=t}},{key:"Field",get:function(){return this.field||(this.field=this.MassGroupItem?this.MassGroupItem.Field:void 0),this.field},set:function(t){this.field=t}},{key:"IsReplaced",get:function(){return this.isReplaced},set:function(t){this.isReplaced=t,(this.IsHaveAdditionInformation=yr(this))&&(this.AdditionInformation=Sr(this))}},{key:"Original_SupRow",get:function(){return this.original_SupRow||(this.original_SupRow=jr(this)),this.original_SupRow},set:function(t){this.original_SupRow=t}},{key:"Original_Full_SupRows",get:function(){return Or(this)}},{key:"OrderMGI",get:function(){return this.ReplaceMGI?this.ReplaceMGI:this.MassGroupItem}},{key:"SubFields",get:function(){return this.subFields||(this.subFields=Ir(this)),this.subFields},set:function(t){this.subFields=t}},{key:"IsShowSub",get:function(){return this.isShowSub},set:function(t){this.isShowSub=t,this.ToggleButtonContentVM.Content=dr(this)}},{key:"ToggleButtonContent",get:function(){return this.toggleButtonContent||(this.toggleButtonContent=dr(this)),this.toggleButtonContent},set:function(t){this.toggleButtonContent=t}},{key:"ToggleButtonContentVM",get:function(){var t=this;this.toggleButtonContentVM||((this.toggleButtonContentVM=j(this.ToggleButtonContent)).OnSetContent=function(e){return t.ToggleButtonContent=e});return this.toggleButtonContentVM}},{key:"Rank",get:function(){return void 0===this.rank&&(this.rank=ur(this)),this.rank},set:function(t){this.rank=t,this.SubItems.forEach((function(t){return t.Rank=void 0}))}},{key:"IsHaveSub",get:function(){return hr(this)}},{key:"Style",get:function(){return lr(this)}},{key:"FieldInputVM",get:function(){var t=this;this.fieldInputVM||((this.fieldInputVM=j()).onSetContent=function(e){return t.TempField=e});return this.fieldInputVM}},{key:"FieldSelectVM",get:function(){return this.fieldSelectVM||(this.fieldSelectVM=mr(this)),this.fieldSelectVM}},{key:"FieldInputElement",get:function(){return Object(i.jsx)(i.Fragment,{children:Object(i.jsxs)("div",{className:"massrow__fieldinput_wrapper",children:[Object(i.jsx)("div",{className:"massrow__fieldinput",children:this.FieldInputType===Ye?Object(i.jsx)(Be,{store:this.FieldSelectVM}):Object(i.jsx)(tn,{store:this.FieldInputVM})}),this.IsCreatedByUser?Object(i.jsx)(Ve.a,{unCheckedChildren:"inp",checkedChildren:"sel",checked:this.FieldInputType===Ye,onChange:this.Toggle_FieldInputType}):""]})})}},{key:"SubFieldSelectVM",get:function(){return this.subFieldSelectVM||(this.subFieldSelectVM=fr(this)),this.subFieldSelectVM}},{key:"Title",get:function(){return this.title},set:function(t){this.title=t,this.TitleVM.Content=t,this.Editable_TitleVM.Content=t}},{key:"TitleVM",get:function(){return this.titleVM||(this.titleVM=j(this.Title,"ti\xeau \u0111\u1ec1")),this.titleVM}},{key:"Editable_TitleVM",get:function(){return this.editable_TitleVM||(this.editable_TitleVM=Nr(this)),this.editable_TitleVM}},{key:"LocationStorageList",get:function(){return this.Table.AllRows}},{key:"LocationSelectVM",get:function(){return this.locationSelectVM||(this.locationSelectVM=pr(this)),this.locationSelectVM}},{key:"DeleteData",get:function(){return this.deleteData||(this.deleteData=Tr(this)),this.deleteData}},{key:"ReplaceFactory",get:function(){return this.replaceFactory||(this.replaceFactory=new qe),this.replaceFactory}},{key:"PMS_WorkPackages_SelectVM",get:function(){return this.pms_WorkPackages_SelectVM||(this.pms_WorkPackages_SelectVM=Re(this.PMS_WorkPackages)),this.pms_WorkPackages_SelectVM}},{key:"ModalElement",get:function(){var t=this.ReplaceFactory,e="180px";return Object(i.jsxs)(Oe.a,{title:this.Title,visible:this.IsModalVisible,width:700,onOk:this.ModalOK,onCancel:this.ModalCancel,children:[Object(i.jsxs)(De.a,{gutter:15,style:{marginTop:10},children:[Object(i.jsx)(we.a,{flex:e,children:Object(i.jsx)("b",{children:" Ti\xeau \u0111\u1ec1:"})}),Object(i.jsx)(we.a,{flex:"auto",children:Object(i.jsx)("b",{children:this.TitleVM.Content})})]}),Object(i.jsxs)(De.a,{gutter:15,style:{marginTop:10},children:[Object(i.jsx)(we.a,{flex:e,children:Object(i.jsx)("b",{children:" Nh\xf3m hi\u1ec7n t\u1ea1i:"})}),Object(i.jsx)(we.a,{flex:"auto",children:this.FieldInputElement})]}),this.IsCreatedByUser?"":Object(i.jsxs)(De.a,{gutter:15,style:{marginTop:10},children:[Object(i.jsx)(we.a,{flex:e,children:Object(i.jsx)("b",{children:" Thi\u1ebft l\u1eadp ph\xe2n nh\xf3m:"})}),Object(i.jsx)(we.a,{flex:"auto",children:Object(i.jsx)(ke,{store:this.SubFieldSelectVM})})]}),Object(i.jsxs)(De.a,{gutter:15,style:{marginTop:10},children:[Object(i.jsxs)(we.a,{flex:e,className:"mass__modal__title__wrapper",children:[Object(i.jsx)("b",{children:"\u0110\u1ed5i v\u1ecb tr\xed /"}),Object(i.jsx)(p.a,{type:"primary",size:"small",className:this.Temp_SelectSubItems?"mass__modal__title__selectsubitems__button":"",onClick:this.Open_SelectSubItems_Modal,children:"ch\u1ecdn t\u1eadp con"}),this.SelectSubItems_ModalElement]}),Object(i.jsx)(we.a,{flex:"auto",children:Object(i.jsxs)(De.a,{children:[Object(i.jsx)(we.a,{flex:"auto",children:Object(i.jsx)(Be,{store:this.LocationSelectVM})}),Object(i.jsx)(we.a,{children:Object(i.jsx)(p.a,{type:"primary",size:"small",style:t.ButtonStyle,onClick:t.ToggleLocation,children:t.Location})})]})})]}),Object(i.jsxs)(De.a,{gutter:15,style:{marginTop:10},children:[Object(i.jsx)(we.a,{flex:e,children:Object(i.jsx)("b",{children:"Th\xf4ng tin c\xf4ng tr\u01b0\u1eddng:"})}),Object(i.jsxs)(we.a,{flex:"auto",children:[Object(i.jsx)(p.a,{type:"primary",size:"small",className:"btn-warning",onClick:this.Site.OpenModal,children:"..."}),this.Site.ModalView]})]})]})}},{key:"HoverData",get:function(){return this.hoverData||(this.hoverData=Mr(this)),this.hoverData}},{key:"HoverToolElement",get:function(){var t=new xe;return t.Element=this.ToolElement.View,Object(i.jsx)(Ne,{className:"mass__row__hovertool",store:t})}},{key:"ToolElement",get:function(){return this.toolElement||(this.toolElement=Cr(this)),this.toolElement}},{key:"AdditionInfomation_Element",get:function(){return Object(i.jsx)(i.Fragment,{children:this.IsHaveAdditionInformation?Object(i.jsx)(Te.a,{trigger:"hover",content:Object(i.jsx)("span",{className:"info",children:this.AdditionInformation}),children:Object(i.jsx)(Ge.a,{className:"info"})}):""})}},{key:"ExportInfo",get:function(){var t,e={Key:this.Field,Value:this.Title};return this.SupItem?(t=Object(S.a)(this.SupItem.ExportInfo)).push(e):t=[e],t}},{key:"ExportValue",get:function(){var t=[];return this.Cells.forEach((function(e){t.push({Key:e.Column.Name,Value:e.TotalValue})})),t}},{key:"ExportData",get:function(){return{Infos:this.ExportInfo,Values:this.ExportValue}}},{key:"Is_HandleTotal_Cells_Done",set:function(t){this.On_HandleTotal_Cells_Done_Dict_Funcs.forEach((function(t){return t.Value()}))}},{key:"Is_HandleTotalData_Cells",get:function(){return this.is_HandleTotalData_Cells},set:function(t){var e=this;Tt(this.On_HandleTotalData_Cells_Func,(function(t){return e.On_HandleTotalData_Cells_Func=t})),this.is_HandleTotalData_Cells=t}},{key:"IsHave_Addition_Wrapper",get:function(){return this.IsHaveAdditionInformation||this.IsShow_RawValue}},{key:"SelectSubItems_ModalElement",get:function(){return Object(i.jsx)(Oe.a,{title:"Ch\u1ecdn t\u1eadp h\u1ee3p \u0111\u1ea7u m\u1ee5c con",visible:this.Is_SelectSubItems_ModalOpen,onOk:this.SelectSubItems_ModalOK,onCancel:this.SelectSubItems_ModalCancel,children:Object(i.jsx)("div",{className:"mass__subitemmodal__wrapper",children:Object(i.jsx)(an,{store:this.SelectSubItemsVM})})})}},{key:"SelectSubItemsVM",get:function(){var t=this;this.selectSubItemsVM||((this.selectSubItemsVM=nn([],(function(t){var e=15*t.Rank;return Object(i.jsx)("div",{style:{marginLeft:e},children:t.Title})}),"T\u1eadp h\u1ee3p v\u1ecb tr\xed","V\u1ecb tr\xed \u0111\u01b0\u1ee3c ch\u1ecdn")).OnSelectedItemChanged=function(e){return t.Temp_SelectSubItems=e});return this.selectSubItemsVM}},{key:"IsShow_RawValue",get:function(){return this.isShow_RawValue||(this.isShow_RawValue=Vr(this)),this.isShow_RawValue},set:function(t){this.isShow_RawValue=t}},{key:"RawValue_Element",get:function(){return Object(i.jsx)(i.Fragment,{children:this.IsShow_RawValue?Object(i.jsx)(Te.a,{trigger:"hover",content:Object(i.jsx)("span",{className:"success",children:this.RawValue}),children:Object(i.jsx)(Ge.a,{className:"success"})}):""})}},{key:"Unit_SetType",get:function(){return this.unit_SetType||(this.unit_SetType=0===this.SubItems.length?"upper":"both"),this.unit_SetType},set:function(t){this.unit_SetType=t}},{key:"Unit",get:function(){return this.UnitData.CurrentUnit}},{key:"UnitData",get:function(){return this.unitData||(this.unitData=wr(this)),this.unitData}},{key:"Site",get:function(){return this.site||(this.site=Fr(this)),this.site}}]),t}(),Vn="enter",Dn=function(t){var e;return t.altKey&&13==t.keyCode?e="alt_enter":t.ctrlKey&&66==t.which?e="ctrl_b":t.ctrlKey&&73==t.which?e="ctrl_i":t.ctrlKey?e="ctrl":t.altKey?e="alt":13==t.keyCode?e=Vn:9==t.keyCode?e="tab":8==t.keyCode?e="backspace":46==t.keyCode?e="del":27==t.keyCode&&(e="esc"),{key:e,value:t.key}},wn=function(){function t(){Object(o.a)(this,t),this.Value=0}return Object(u.a)(t,[{key:"ValueString",get:function(){var t=2;switch(this.Unit){case"each":t=0;break;default:t=2}var e=this.Value.toLocaleString("en-US",{maximumFractionDigits:t});return"".concat(e)}},{key:"ApiData",get:function(){return{unit:this.Unit,value:this.Value}}}]),t}(),Tn=function t(){var e=this;Object(o.a)(this,t),this.Update_SubCells=function(t,n){var i=e.Host;i.SubCells=Rn(i),e.Update_TotalValueData(void 0,n)},this.Update_TotalValueData=function(t,n){Nn(e.Host)},this.Update_Unit=function(t,n){e.Host;e.Update_ValueCurrent(void 0,n)},this.Update_ValueCurrent=function(t,n){var i=e.Host,s=i.Unit,r=function(){i.CurrentTotalValueItem=Lt(i.TotalValueData,(function(t){return t.Unit===s}))};i.TotalValueData?r():wt(i.OnGet_TotalValueData_Func,r)},this.Run=function(t){var n,i,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:In,r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];switch(Array.isArray(t)||(t=[t]),r&&t.forEach((function(t){e.RunItem(t,s)})),s){case In:break;case pn:e.SubItems.forEach((function(e){e.Update.Run(t,s)}));break;case _n:null===(n=e.SupItem)||void 0===n||n.Update.Run(t,s);break;case vn:e.SubItems.forEach((function(e){e.Update.Run(t,pn)})),null===(i=e.SupItem)||void 0===i||i.Update.Run(t,_n)}},this.RunItem=function(t,n){var i="string"===typeof t?t:t.Section,s=t.Data;switch(i){case Sn:e.Update_SubCells(s,n);break;case"valuelist":e.Update_TotalValueData(s,n);break;case Mn:e.Update_Unit(s,n);break;case"valuecurrent":e.Update_ValueCurrent(s,n)}}},xn=function(){return Gd.Instance},Fn=function(t,e,n){var i=Lt(e.Cells,(function(e){return e.Column===t}));return t.Cells.push(i),i},Nn=function(t){t.IsGet_TotalValueData=!1,Gn(t)},Gn=function(t){if(!t.IsGet_TotalValueData){t.IsGet_TotalValueData=!0;var e=mn().map((function(t){var e=new wn;return e.Unit=t,e})),n=0,i=(t.SubCells?t.SubCells:t.Items).length,s=function(s,r){n++;var a=[];e.forEach((function(t,e){var n=t.Unit,i=Lt(s,(function(t){return t.Unit===n}));void 0===i?a.push(e):t.Value+=i.Value})),a.forEach((function(t,n){e.splice(t-n,1)})),n===i&&(t.TotalValueData=e)};t.SubCells?t.SubCells.forEach((function(t){t.TotalValueData?s(t.TotalValueData):wt(t.OnGet_TotalValueData_Func,(function(){s(t.TotalValueData)}))})):t.Items.forEach((function(e){var n=e.ValueDict;t.Dict.ColumnField===$&&(n=e.GetPhaseItem(t.Column.Name)),void 0!==n.FullData?s(n.FullData):wt(n.OnGet_FullData_Func_Dict,(function(){s(n.FullData)}))}))}},Rn=function(t){var e=t.Row.SubItems;if(e&&0!==e.length){var n=t.Column;return e.map((function(t,e,i){return t.GetCellByColumn(n)})).filter((function(t){return void 0!==t}))}},Ln=function(t){Object(l.a)(n,t);var e=Object(h.a)(n);function n(t){var i;Object(o.a)(this,n),(i=e.call(this,t)).getWrapperContent=function(){var t=i.state.wrapper;return t||""};var s=i.props.store;return i.state=s||{content:"N\u1ed9i dung"},i}return Object(u.a)(n,[{key:"render",value:function(){var t=this.state.content,e=this.props.className,n=this.props.style;return Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)("span",{className:e,style:n,children:t}),this.getWrapperContent()]})}}]),n}(s.Component),Pn=Object(d.a)(Ln),Un=function(){function t(){var e=this;Object(o.a)(this,t),this.items=[],this.OnGet_TotalValueData_Func=[],this.totalValueData=void 0,this.CurrentTotalValueItem=void 0,this.AsString=function(){console.log("".concat(e.Column.Name," - ").concat(e.Row.Name," - ").concat(e.TotalValue))},this.ShowDetail=function(){var t="".concat("/BIM_Database").concat("/#","/massdetail"),n=function(e){return window.open(function(e){return"".concat(t,"/").concat(e)}(e),"_blank")};e.viewDetailId?n(e.viewDetailId):e.GetViewDetailId((function(t){var i=e.viewDetailId=t._id;n(i)}))},this.vcs_Item=void 0,this.valueColor="#1890ff",this.tdBgColor=void 0,this.ApiData=function(){var t;e.Table.ColumnField===$&&(t=e.Column.Data._id);var n=e.AllItems.map((function(t){return t._id}));return{massType:e.MassType,massIds:n,phaseId:t}},this.GetViewDetailId=function(t){var n=e.ApiData();R("https://api.bimdev.vn/api/hbdv/updatemass",n).then((function(t){return t.data})).then((function(e){return t(e)}))},this.OnGet_TLS_LevelGroups_Func_Dict=[],this.isHaveWarning=void 0,this.tls_LevelGroup_Descriptions=void 0,Object(v.l)(this,{valueColor:v.m,tdBgColor:v.m,isHaveWarning:v.m,tls_LevelGroup_Descriptions:v.m,vcs_Item:v.m,CurrentTotalValueItem:v.m})}return Object(u.a)(t,[{key:"id",get:function(){return this._id||(this._id=St()),this._id}},{key:"Table",get:function(){return this.Dict}},{key:"ColumnIndex",get:function(){return this.Column.Index}},{key:"Items",get:function(){return this.items},set:function(t){this.items=t}},{key:"Unit",get:function(){return this.Row.Unit}},{key:"TotalValueData",get:function(){return void 0===!this.totalValueData&&Gn(this),this.totalValueData},set:function(t){var e,n=this;this.totalValueData=t,(e=this).Row.AddHandleTotalData_Cell(e),Tt(this.OnGet_TotalValueData_Func,(function(t){return n.OnGet_TotalValueData_Func=t}))}},{key:"ContentVM",get:function(){return this.contentVM||(this.contentVM=j(this.ValueString)),this.contentVM}},{key:"ValueString",get:function(){return function(t){if(!t.CanHave_TotalValue)return"";var e=t.TotalValue;if(!e)return"";var n=2,i=t.Unit;switch(i){case"each":i="c\xe1i",n=0;break;default:n=2}var s=e.toLocaleString("en-US",{maximumFractionDigits:n});return"".concat(s," ").concat(i)}(this)}},{key:"SupItem",get:function(){return this.supItem||(this.supItem=function(t){if(!t.IsGet_SupItem){t.IsGet_SupItem=!0;var e=t.Row.SupItem;if(e){var n=e.Cells,i=n.findIndex((function(e){return e.Column===t.Column}));return-1!==i?n[i]:void 0}}}(this)),this.supItem},set:function(t){this.supItem=t}},{key:"SubCells",get:function(){return this.subCells||(this.subCells=Rn(this)),this.subCells},set:function(t){this.subCells=t}},{key:"MassType",get:function(){return this.massType||(this.massType=function(t){var e=void 0;if(t.SubCells){var n=!0;t.SubCells.forEach((function(t){n&&t.MassType&&(e=t.MassType,n=!1)}))}else t.Items&&t.Items.length>0&&(e=t.Items[0].MassType);return e}(this)),this.massType},set:function(t){this.massType=t}},{key:"Update",get:function(){return this.update||(this.update=function(t){var e=new Tn;return e.Host=t,e}(this)),this.update}},{key:"AllItems",get:function(){return this.SubCells?this.SubCells.map((function(t){return t.Items})).reduce((function(t,e){return t.concat(e)}),[]):this.Items}},{key:"IsHaveVCS_Item",get:function(){var t;return this.isHaveVCS_Item||(this.isHaveVCS_Item=(t=this).Dict.ColumnField===$&&2===xn().MassResultComp.Phases.length&&1===t.ColumnIndex),this.isHaveVCS_Item},set:function(t){this.isHaveVCS_Item=t}},{key:"VCS_Item",get:function(){return this.vcs_Item},set:function(t){var e;this.vcs_Item=t,this.ValueColor=(e=this).IsHaveVCS_Item&&e.VCS_Item?"#FFFFFF":"#1890ff",this.TDBgColor=function(t){return t.IsHaveVCS_Item&&t.VCS_Item?t.VCS_Item.Color:"#FFFFFF"}(this)}},{key:"ValueColor",get:function(){return this.valueColor},set:function(t){this.valueColor=t}},{key:"TDBgColor",get:function(){return this.tdBgColor},set:function(t){this.tdBgColor=t}},{key:"AStyle",get:function(){return{color:this.ValueColor,fontWeight:"bold"}}},{key:"TDStyle",get:function(){return{backgroundColor:this.TDBgColor}}},{key:"Get_TLS_LevelGroups",set:function(t){this.OnGet_TLS_LevelGroups_Func_Dict.forEach((function(t){return t.Value()}))}},{key:"TLS_LevelGroups",get:function(){return this.tls_LevelGroups||function(t){if(!t.IsGet_TLS_LevelGroups){t.IsGet_TLS_LevelGroups=!0;var e=[],n=0,i=t.SubCells?t.SubCells.length:t.Items.length,s=function(t,e){-1===e.findIndex((function(e){return e.id===t.id}))&&e.push(t)},r=function(r){n++,r&&(Array.isArray(r)?r.forEach((function(t){return s(t,e)})):s(r,e)),n===i&&(t.TLS_LevelGroups=e)};t.SubCells?t.SubCells.forEach((function(t){t.TLS_LevelGroups?r(t.TLS_LevelGroups):Dt(t.OnGet_TLS_LevelGroups_Func_Dict,(function(){return r(t.TLS_LevelGroup)}))})):t.Items.forEach((function(e){var n=e;t.Dict.ColumnField===$&&(n=e.GetPhaseItem(t.Column.Name)),n.TLS_LevelGroup||n.Get_TLS_LevelGroup?r(n.TLS_LevelGroup):Dt(n.OnGet_TLS_LevelGroup_Func_Dict,(function(){return r(n.TLS_LevelGroup)}))}))}}(this),this.tls_LevelGroups},set:function(t){this.tls_LevelGroups=t,this.Get_TLS_LevelGroups=!0}},{key:"IsHaveWarning",get:function(){return void 0===this.isHaveWarning&&(this.isHaveWarning=function(t){if(t.Row.Field!==at)return!1;var e=function(t){return 0!==t.length};if(t.TLS_LevelGroups)return e(t.TLS_LevelGroups);Dt(t.OnGet_TLS_LevelGroups_Func_Dict,(function(){t.IsHaveWarning=e(t.TLS_LevelGroups)}))}(this)),this.isHaveWarning},set:function(t){this.isHaveWarning=t}},{key:"TLS_LevelGroup_Descriptions",get:function(){return this.tls_LevelGroup_Descriptions||function(t){if(!t.IsGet_TLS_LevelGroup_Descriptions){t.IsGet_TLS_LevelGroup_Descriptions=!0;var e=function(e,n,i,s){i++,-1===n.indexOf(e)&&n.push(e),i===s&&(t.TLS_LevelGroup_Descriptions=n)},n=function(t){var n=[],i=t.length;t.forEach((function(t){t.FullDescription?e(t.FullDescription,n,0,i):Dt(t.OnGetLevelStorageList_Func_Dict,(function(){e(t.FullDescription,n,0,i)}),!1)}))};t.TLS_LevelGroups?n(t.TLS_LevelGroups):t.OnGet_TLS_LevelGroups_Funcs.push((function(){n(t.TLS_LevelGroups)}))}}(this),this.tls_LevelGroup_Descriptions},set:function(t){this.tls_LevelGroup_Descriptions=t}}]),t}(),En="text",An="select",Hn=function(t){if(!t.IsGet_Units){t.IsGet_Units=!0;var e=t.Dict,n=function(){var n;e.Cells.map((function(t){return t.TotalValueData})).forEach((function(t,e){if(0===e)n=t.map((function(t){return t.Unit}));else{var i=[];n.forEach((function(e,n){Lt(t,(function(t){return e===t.Unit}))||i.push(n)})),i.forEach((function(t,e){n.splice(t-e,1)}))}})),t.Units=n};e.Is_HandleTotalData_Cells?n():wt(e.On_HandleTotalData_Cells_Func,n)}},Wn=function(t,e){var n,i=t.CurrentUnit;if(i)n=function(){t.SetUnit_FromHost(i)};else{var s=[],r=t.Dict;!function t(e){var n=e.UnitData.CurrentUnit;e!==r&&e.UnitData.CurrentUnit?s.push({Row:e,Unit:n,DirectionType:pn}):(s.push({Row:e,Unit:void 0,DirectionType:e===r?_n:In}),e.SubItems.forEach((function(e){return t(e)})))}(r),n=function(){s.forEach((function(t){t.Row.Update.Run({Section:jn,Data:{Unit:t.Unit}},t.DirectionType)}))}}e(n)},Bn=function(){function t(){var e=this;Object(o.a)(this,t),this.OnSet_Unit_Func=[],this.units=void 0,this.Reset_Units=function(){var t;(t=e).IsGet_Units=!1,Hn(t)},this.SetUnit_FromHost=function(t){var n=function(){e.IsUndo=!1,t&&!e.Units.includes(t)||e.Unit_SelectVM.SetValue(t)};e.Units?n():wt(e.OnSet_Unit_Func,n)},this.RenderState=En,this.OnMouseEnter=function(){e.RenderState=An},this.OnMouseLeave=function(){e.Unit_SelectVM.Open||(e.RenderState=En)},this.IsUndo=!0,this.SetUndo=function(t){Wn(e,t)},Object(v.l)(this,{units:v.m,RenderState:v.m})}return Object(u.a)(t,[{key:"Update_DirectionType",get:function(){return this.update_DirectionType||(this.update_DirectionType=0===this.Dict.SubItems.length?_n:In),this.update_DirectionType},set:function(t){this.update_DirectionType=t}},{key:"Units",get:function(){return this.units||Hn(this),this.units},set:function(t){var e=this;this.units=t,Tt(this.OnSet_Unit_Func,(function(t){return e.OnSet_Unit_Func=t}))}},{key:"CurrentUnit",get:function(){return this.currentUnit},set:function(t){this.currentUnit===t&&(this.Update_DirectionType=In),this.currentUnit=t,this.Unit_RenderVM.Content=t,function(t,e){var n=t.Update_DirectionType,i=t.Dict;i.Update.Run({Section:gn,Data:{Sections:Mn}},In),n!==In&&i.Update.Run(jn,n,!1),t.Update_DirectionType=vn}(this)}},{key:"Unit_SelectVM",get:function(){return this.unit_SelectVM||(this.unit_SelectVM=function(t){var e=new Le;e.Placeholder="...";var n=function(){var n=t.Units;if(e.Items=n,!t.Is_Unit_Select_Created){var i=t.Dict;t.Is_Unit_Select_Created=!0,t.Update_DirectionType===_n&&t.SetUnit_FromHost(Dr(i))}};return t.Units&&n(),wt(t.OnSet_Unit_Func,n,!1),e.OnSelectedItemChanged=function(e){if(t.IsUndo){var n=t.Table;Wn(t,(function(t){n.CommandDict.Add({Key:"changeunitrow",Undo:t})}))}else t.IsUndo=!0;t.CurrentUnit=e},e.OnSetOpen=function(e){e||(t.RenderState=En)},e}(this)),this.unit_SelectVM}},{key:"Unit_RenderVM",get:function(){return this.unit_RenderVM||(this.unit_RenderVM=j(this.CurrentUnit)),this.unit_RenderVM}},{key:"MainView",get:function(){this.Unit_SelectVM;switch(this.RenderState){case An:return Object(i.jsx)(Be,{className:"massrow__unit__select",store:this.Unit_SelectVM});case En:return this.Unit_RenderVM.Content}}},{key:"Update",get:function(){return this.Dict.Update}},{key:"Table",get:function(){return this.Dict.Table}}]),t}(),Kn=function t(){var e=this;Object(o.a)(this,t),this.Run=function(t,n){if(i=void 0,n){var i=[];n((function(){i.forEach((function(t){return t()}))}))}var s=t.DeleteType,r=e.Host,a=(r.Table,r.SupItem),c=r.CurrentList;if(s===Cn&&(r.IsCreatedByUser?r.MassGroupItem.GetItem(r.FullValue).Delete((function(t){n&&i.push(t)})):r.MassGroupItem.AddNotIncludeValue(r.FullValue,(function(t){n&&i.push(t)}))),a&&1===c.length)t.IsContinue=!0;else{t.IsContinue=!1;var o=r.Index;n&&i.push((function(){c.splice(o,0,r)})),c.splice(o,1),a&&(n&&(i.push((function(){a.Update.Run([{Section:gn,Data:{Sections:Sn}},bn],vn)})),a.UnitData.SetUndo((function(t){i.push(t)}))),a.Update.Run([{Section:gn,Data:{Sections:Sn}},bn,jn],_n))}}},zn=function(){function t(){var e=this;Object(o.a)(this,t),this.Update_Units=function(t,n){e.UnitData.Reset_Units()},this.Update_Unit=function(t,n){var i;if(t)i=t.Unit;else switch(n){case _n:i=Dr(e.Host);break;case pn:i=e.Host.SupItem.Unit}var s=e.UnitData;s.Update_DirectionType=In,s.SetUnit_FromHost(i)},this.Update_CellData=function(t,n){if(t&&t.Unit_SetType&&(e.Host.Unit_SetType=t.Unit_SetType),!t||!t.Sections)throw"invalid";e.Cells.forEach((function(e){return e.Update.Run(t.Sections)}))},this.Update_Delete=function(t,n,i){e.Host.DeleteData.Run(t,i),e.IsContinue=t.IsContinue},this.Update_AddSub=function(t,n,i){var s,r=e.Host,a=r.SubItems;i&&(s=[],i((function(){s.forEach((function(t){return t()}))})),s.push((function(){a.splice(a.length-1,1),r.Update.Run([{Section:gn,Data:{Sections:Sn}},bn],_n)})),r.UnitData.SetUndo((function(t){s.push(t)}))),a.push(t.Item),r.Update.Run([{Section:gn,Data:{Sections:Sn}},bn,jn],_n),e.IsContinue=!1},this.Run=function(t,n){var i,s,r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],a=arguments.length>3?arguments[3]:void 0;if(n){var c=[],o=function(){c.forEach((function(t){return t()}))};if(Array.isArray(t)||(t=[t]),r&&t.forEach((function(t){e.RunItem(t,n,(function(t){c.push(t)}))})),e.IsContinue)switch(n){case In:break;case pn:e.SubItems.forEach((function(e){e.Update.Run(t,n)}));break;case _n:null===(i=e.SupItem)||void 0===i||i.Update.Run(t,n);break;case vn:e.SubItems.forEach((function(e){e.Update.Run(t,pn)})),null===(s=e.SupItem)||void 0===s||s.Update.Run(t,_n)}else e.IsContinue=!0;a&&a(o)}else w.b.error("dirType is undefined!")},this.RunItem=function(t,n,i){var s="string"===typeof t?t:t.Section,r=t.Data;switch(s){case bn:e.Update_Units(r,n,i);break;case jn:e.Update_Unit(r,n,i);break;case gn:e.Update_CellData(r,n,i);break;case On:e.Update_Delete(r,n,i);break;case yn:e.Update_AddSub(r,n,i)}},this.IsContinue=!0}return Object(u.a)(t,[{key:"UnitData",get:function(){return this.Host.UnitData}},{key:"Cells",get:function(){return this.Host.Cells}},{key:"SupItem",get:function(){return this.Host.SupItem}},{key:"SubItems",get:function(){return this.Host.SubItems}}]),t}(),qn=function(){function t(){var e=this;Object(o.a)(this,t),this.GetValue=function(t){return e.ModelItem[t]},this.SetValue=function(t,n){e.ModelItem[t]=n},this.Initial=function(){ci(e)},this.Run_SetValue=function(){oi(e)},this.OpenModal=function(){e.Initial(),e.Is_Modal_Visible=!0,e.Is_Run_Valid=!1},this.ModalCancel=function(){e.Is_Modal_Visible=!1},this.ModalOK=function(){e.Run_SetValue(),e.Is_OK_Valid?(e.Is_Modal_Visible=!1,e.Is_Run_Valid=!0,e.Run()):w.b.warn("B\u1ea1n ph\u1ea3i \u0111i\u1ec1n \u0111\u1ee7 c\xe1c tr\u01b0\u1eddng th\xf4ng tin!")},this.Run=function(){e.Is_Run_Valid&&e.ModelItem.Run()},this.SaveDatabase=function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=arguments.length>1?arguments[1]:void 0;e.ModelItem.SaveDatabase(t,n)},this.Is_Modal_Visible=!1,Object(v.l)(this,{Is_Modal_Visible:v.m})}return Object(u.a)(t,[{key:"InputVMs",get:function(){return this.inputVMs||(this.inputVMs=ii(this)),this.inputVMs}},{key:"InputView",get:function(){return ri(this)}},{key:"ModalView",get:function(){return ai(this)}}]),t}(),Xn=(n(326),n(327),function(t){if(t.length<1||t.length>2)return!1;if(isNaN(t))return!1;var e=parseInt(t);return!(e<1||e>31)}),Yn=function(t){if(t.length<1||t.length>2)return!1;if(isNaN(t))return!1;var e=parseInt(t);return!(e<1||e>12)},Qn=function(t){return 4===t.length&&!isNaN(t)},Jn=function(t){return function(t,e){if(t){var n;switch(e){case"dd/MM/yyyy":var i=t.split("/");if(3!==i.length)return;if(!Xn(i[0])||!Yn(i[1])||!Qn(i[2]))return;n=i.reverse().join("-");break;default:n=t}return new Date(n)}}(t.Content,"dd/MM/yyyy")},Zn=n(108),$n=n.n(Zn),ti=(n(328),function(){function t(){var e=this;Object(o.a)(this,t),this.content=void 0,this.date=void 0,this.dateOnPicker=void 0,this.SetDate=function(t){e.Date=t,e.content=function(t,e){if(t){t.toLocaleDateString("en-US",{weekday:"short"});var n=t.toLocaleDateString("en-US",{day:"numeric"}),i=t.toLocaleDateString("en-US",{month:"2-digit"}),s=t.toLocaleDateString("en-US",{year:"numeric"});switch(e){case"dd/MM/yyyy":default:return"".concat(n,"/").concat(i,"/").concat(s)}}}(t,"dd/MM/yyyy")},this.Set_DateOnPicker=function(t){e.HidePopover(),e.SetDate(t)},this.placeholder="n\u1ed9i dung input",this.State="text",this.Is_Popover_Visible=!1,this.ShowPopover=function(){e.Is_Popover_Visible=!0},this.HidePopover=function(){e.Is_Popover_Visible=!1},Object(v.l)(this,{content:v.m,placeholder:v.m,dateOnPicker:v.m,Is_Popover_Visible:v.m})}return Object(u.a)(t,[{key:"Content",get:function(){return this.content},set:function(t){this.content=t,this.Date=Jn(this)}},{key:"Date",get:function(){return this.date||(this.date=Jn(this)),this.date},set:function(t){this.date=t,this.DateOnPicker=t}},{key:"DateOnPicker",get:function(){return this.dateOnPicker||(this.dateOnPicker=this.Date),this.dateOnPicker},set:function(t){t&&(this.dateOnPicker=t)}},{key:"Placeholder",set:function(t){this.placeholder=t}},{key:"DatePickerView",get:function(){return Object(i.jsxs)("div",{className:"datepicker__popover__wrapper",children:[Object(i.jsx)($n.a,{selected:this.DateOnPicker,inline:!0,value:this.DateOnPicker,onSelect:this.Set_DateOnPicker}),Object(i.jsx)(p.a,{type:"primary",size:"small",className:"btn-danger",onClick:this.HidePopover,children:"x"})]})}}]),t}()),ei=function(t){Object(l.a)(n,t);var e=Object(h.a)(n);function n(t){var i;Object(o.a)(this,n);var s=(i=e.call(this,t)).props.store;return i.state=s||new ti,i}return Object(u.a)(n,[{key:"render",value:function(){var t=this.state;return Object(i.jsx)(i.Fragment,{children:Object(i.jsx)(Te.a,{content:t.DatePickerView,visible:t.Is_Popover_Visible,children:Object(i.jsx)(y,{store:t,onFocus:t.ShowPopover})})})}}]),n}(s.Component),ni=Object(d.a)(ei),ii=function(t){return Y().map((function(t){var e;switch(t){case H:e=new ti;break;default:e=new b}return e.Placeholder="",e.Field=t,e}))},si=function(t,e){switch(e.Field){case H:return e.Initial=function(){return e.SetDate(t.GetValue(e.Field))},e.GetValue=function(){return e.Date},Object(i.jsx)(ni,{store:e});default:return e.Initial=function(){return e.Content=t.GetValue(e.Field)},e.GetValue=function(){return e.Content},Object(i.jsx)(y,{store:e})}},ri=function(t){return Object(i.jsx)("table",{className:"siteinput__table",children:Object(i.jsx)("tbody",{children:t.InputVMs.map((function(e){return Object(i.jsxs)("tr",{className:"siteinput__tr",children:[Object(i.jsx)("th",{className:"siteinput__title",children:J(e.Field)+":"}),Object(i.jsx)("td",{className:"siteinput__input",children:si(t,e)})]},St())}))})})},ai=function(t){return Object(i.jsx)(Oe.a,{title:"Th\xf4ng tin c\xf4ng tr\u01b0\u1eddng",visible:t.Is_Modal_Visible,footer:Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)(p.a,{type:"primary",size:"small",onClick:t.ModalOK,children:"run"}),Object(i.jsx)(p.a,{type:"text",size:"small",onClick:t.ModalCancel,children:"cancel"})]}),children:t.InputView})},ci=function(t){t.InputVMs.forEach((function(t){t.Initial()}))},oi=function(t){var e=t.Is_OK_Valid=!0;t.InputVMs.forEach((function(n){if(e){var i=n.GetValue();!i||"string"===typeof i&&0===i.length?t.Is_OK_Valid=!1:t.SetValue(n.Field,i)}}))},ui=function(){function t(){Object(o.a)(this,t),this.IsGet_TLS_LevelGroup=!1,this.OnGet_TLS_LevelGroup_Func_Dict=[],this.OnGet_FullValue_Func_Dict=[]}return Object(u.a)(t,[{key:"Project",get:function(){return this.Phase.Project}},{key:"MassItem",get:function(){return this.Dict}},{key:"Get_TLS_LevelGroup",get:function(){return this.get_TLS_LevelGroup},set:function(t){this.OnGet_TLS_LevelGroup_Func_Dict.forEach((function(t){return t.Value()})),this.get_TLS_LevelGroup=t}},{key:"TLS_LevelGroup",get:function(){return this.tls_LevelGroup||pi(this),this.tls_LevelGroup},set:function(t){this.tls_LevelGroup=t,this.Get_TLS_LevelGroup=!0}},{key:"Get_FullValue",set:function(t){this.OnGet_FullValue_Func_Dict.forEach((function(t){return t.Value()}))}},{key:"FullValue",get:function(){return this.fullValue||gi(this),this.fullValue},set:function(t){this.fullValue=t,this.Get_FullValue=!0}},{key:"LevelItem",get:function(){return this.levelItem||(this.levelItem=bi(this)),this.levelItem}}]),t}(),li=function(){function t(){Object(o.a)(this,t),this.OnSet_Replace_Value_Func_Dict=[],this.OnSet_Value_Func_Dict=[]}return Object(u.a)(t,[{key:"Origin_Value",get:function(){return this.originValue||(this.originValue=di(this)),this.originValue}},{key:"Replace_Value",get:function(){return this.replace_Value||mi(this),this.replace_Value},set:function(t){var e=this;this.replace_Value=t,Tt(this.OnSet_Replace_Value_Func_Dict,(function(t){return e.OnSet_Replace_Value_Func_Dict=t}))}},{key:"Project",get:function(){return this.MassItem.Project}},{key:"Phase",get:function(){var t;return null===(t=this.MassPhase_Item)||void 0===t?void 0:t.Phase}},{key:"Value",get:function(){return this.value||fi(this),this.value},set:function(t){var e=this;this.value=t,Tt(this.OnSet_Value_Func_Dict,(function(t){return e.OnSet_Value_Func_Dict=t}))}}]),t}(),hi=function(t,e){var n=new li;return n.MassItem=t,n.MassPhase_Item=e,n},di=function(t){return t.MassItem.GetValue_Mas(at)},mi=function(t){if(!t.IsGet_Replace_Value){t.IsGet_Replace_Value=!0;var e=t.Phase?t.Phase:t.Project,n=t.Origin_Value,i=function(e){var i,s=e.Data.Binding.Items,r=!1;s.forEach((function(t){!r&&t.Values.includes(n)&&(r=!0,i=t.Name)})),t.Replace_Value=i||n};e.TypicalLevelSetting?i(e.TypicalLevelSetting):wt(e.OnGetTypicalLevelSetting_Func_Dict,(function(){return i(e.TypicalLevelSetting)}),!1)}},fi=function(t){if(!t.IsGet_Value){t.IsGet_Value=!0;var e=function(e){t.Value=e};t.Replace_Value?e(t.Replace_Value):(t.value=t.Origin_Value,wt(t.OnSet_Replace_Value_Func_Dict,(function(){return e(t.Replace_Value)}),!1))}},pi=function(t){if(!t.IsGet_TLS_LevelGroup){t.IsGet_TLS_LevelGroup=!0;var e=t.Phase,n=function(e){var n=e.Data.Typical,i=_i(t,n);return Ii(t,i)},i=e.TypicalLevelSetting;i?t.TLS_LevelGroup=n(i):wt(e.OnGetTypicalLevelSetting_Func_Dict,(function(){return t.TLS_LevelGroup=n(e.TypicalLevelSetting)}))}},_i=function(t,e){if(e){var n=void 0;return e.PageItems.forEach((function(e){!n&&vi(t,e)&&(n=e)})),n}},vi=function(t,e){var n=e.Filters,i=!0;return n.forEach((function(e){if(i){var n=e.Field,s=t.MassItem.GetValue_Mas(n);i=e.Values.includes(s)}})),i},Ii=function(t,e){if(e){var n=void 0;return e.LevelGroups.forEach((function(e){var i=e.Primary_Values,s=t.MassItem.GetValue_Mas(at);!n&&i.includes(s)&&(n=e)})),n}},gi=function(t){if(!t.IsGet_FullValue){t.IsGet_FullValue=!0;var e=function(e){var n=e?e.Count:1;return t.MassItem.Value*n};t.TLS_LevelGroup||t.Get_TLS_LevelGroup?t.FullValue=e(t.TLS_LevelGroup):Dt(t.OnGet_TLS_LevelGroup_Func_Dict,(function(){t.FullValue=e(t.TLS_LevelGroup)}))}},bi=function(t){return hi(t.Dict,t)},ji=function(){function t(){var e=this;Object(o.a)(this,t),this.Delete=function(){var t=e._id;R("https://api.bimdev.vn/api/hbs/delete",{_id:t}).then((function(t){return t.data})).then((function(t){return w.b.success("Delete setting successfully")})),e.Dict.Items.splice(e.Index,1),e.OnDelete&&e.OnDelete(),e.Dict.Input.EditItemId=void 0},this.SaveDatabase=function(t){Nt(e,e.Url,(function(n,i){var s=e.Dict.Items;if(i)s.push(e);else{var r=s.indexOf((function(t){return t._id===e._id}));s[r]=e}t&&t(n,i)}))}}return Object(u.a)(t,[{key:"Name",get:function(){return this.name},set:function(t){this.name=t,this.OnNameChanged&&this.OnNameChanged(t)}},{key:"Description",get:function(){return this.description},set:function(t){this.description=t,this.OnDescriptionChanged&&this.OnDescriptionChanged(t)}},{key:"Data",get:function(){return this.data},set:function(t){this.data=t,this.OnDataChanged&&this.OnDataChanged(t)}},{key:"DisplayContent",get:function(){return this.Name}},{key:"Index",get:function(){return this.Dict.Items.indexOf(this)}},{key:"ApiData",get:function(){var t;return{_id:this._id,projectId:null===(t=this.Project)||void 0===t?void 0:t._id,settingType:this.SettingType,name:this.Name,description:this.Description,data:this.Data.ApiData}}}]),t}(),Oi=function(){function t(){var e=this;Object(o.a)(this,t),this.Delete=function(){e.Dict.LevelGroups.splice(e.Index,1)},this.OnGetLevelStorageList_Func_Dict=[]}return Object(u.a)(t,[{key:"id",get:function(){return this._id||(this._id=Mt()),this._id}},{key:"Index",get:function(){return this.Dict.LevelGroups.indexOf(this)}},{key:"ApiData",get:function(){return{levels:this.Levels?this.Levels:[],primary:this.Primary}}},{key:"Count",get:function(){return this.Levels.length}},{key:"GetLevelStorageList",get:function(){return this.getLevelStorageList},set:function(t){this.getLevelStorageList=t,this.OnGetLevelStorageList_Func_Dict.forEach((function(t){return t.Value()}))}},{key:"LevelStorageList",get:function(){var t=this,e=this.Dict.LevelStorageList;return e||this.IsGet_LevelStorageList||(this.IsGet_LevelStorageList=!0,this.Setting.OnGetLevelStorageList_Funcs.push((function(){t.GetLevelStorageList=!0}))),e}},{key:"Setting",get:function(){return this.Dict.Setting}},{key:"LevelIndexs",get:function(){var t=this;return this.Levels.map((function(e){return t.LevelStorageList.indexOf(e)}))}},{key:"MinLevel",get:function(){return this.LevelStorageList[Math.min.apply(Math,this.LevelIndexs)]}},{key:"MaxLevel",get:function(){return this.LevelStorageList[Math.max.apply(Math,this.LevelIndexs)]}},{key:"Description",get:function(){if(this.LevelStorageList)return"Typ: ".concat(this.MinLevel," - ").concat(this.MaxLevel," (").concat(this.Count,")")}},{key:"FullDescription",get:function(){if(this.Description)return"".concat(this.Dict.FilterDescription," (").concat(this.Description,")")}},{key:"Primary",get:function(){return this.primary||(this.primary=Mi(this)),this.primary},set:function(t){this.primary=t}},{key:"Primary_Values",get:function(){return Ci(this)}}]),t}(),yi=function(t,e){var n=new Oi;return Array.isArray(t)?n.Levels=t:(n.Levels=t.levels,n.Primary=t.primary),n.Dict=e,n},Si=function(t){var e=new Oi;return e.Dict=t,e},Mi=function(t){if(t.Levels&&0!==t.Levels.length)return t.Levels[0]},Ci=function(t){var e=t.Primary,n=t.Setting.Binding.Items,i=n.findIndex((function(t){return t.Name===e}));return-1!==i?n[i].Values:[]},ki="input",Vi="select",Di=function(){function t(){Object(o.a)(this,t),this.InputType=Vi}return Object(u.a)(t,[{key:"Value",get:function(){return this.value},set:function(t){this.value=t}},{key:"ApiData",get:function(){return{value:this.Value,inputType:this.InputType}}}]),t}(),wi=function(){function t(){var e=this;Object(o.a)(this,t),this.Delete=function(){e.Dict.Filters.splice(e.Index,1)},this.Items=[],this.AddItem=function(){var t=new Di;return e.Items.push(t),t}}return Object(u.a)(t,[{key:"id",get:function(){return this._id||(this._id=Mt()),this._id}},{key:"Index",get:function(){return this.Dict.Filters.indexOf(this)}},{key:"Values",get:function(){return this.Items.filter((function(t){return t.Value})).map((function(t){return t.Value}))}},{key:"Field",get:function(){return this.field||(this.field=this.FieldStorageList[0]),this.field},set:function(t){this.field=t}},{key:"FieldStorageList",get:function(){return this.Dict.FieldFilterStorageList}},{key:"ApiData",get:function(){return{field:this.Field,items:this.Items.filter((function(t){return t.Value})).map((function(t){return t.ApiData}))}}},{key:"Description",get:function(){var t=this.Values.reduce((function(t,e,n,i){return 0!==i.indexOf(e)&&(t+=", "),t+=e}),"");return"".concat(this.Field,": ").concat(t)}}]),t}(),Ti=function(t){var e=new wi;return e.Dict=t,e},xi=function(){function t(){var e=this;Object(o.a)(this,t),this.Name="t\xean setting",this.Delete=function(){e.Dict.PageItems.splice(e.Index,1)},this.AddLevelGroup=function(){var t=Si(e);return e.LevelGroups.push(t),t},this.AddFilter=function(){var t=Ti(e);return e.Filters.push(t),t}}return Object(u.a)(t,[{key:"id",get:function(){return this._id||(this._id=Mt()),this._id}},{key:"Index",get:function(){return this.Dict.PageItems.indexOf(this)}},{key:"FieldFilterStorageList",get:function(){return this.Dict.FieldFilterStorageList}},{key:"Setting",get:function(){return this.Dict.Setting}},{key:"LevelStorageList",get:function(){return this.Dict.LevelStorageList}},{key:"LevelGroups",get:function(){return this.levelGroups||(this.levelGroups=Gi(this)),this.levelGroups},set:function(t){this.levelGroups=t}},{key:"Filters",get:function(){return this.filters||(this.filters=Ri(this)),this.filters},set:function(t){this.filters=t}},{key:"FilterDescription",get:function(){return this.Filters.reduce((function(t,e,n,i){return 0!==i.indexOf(e)&&(t+="; "),t+=e.Description}),"")}},{key:"ApiData",get:function(){return{name:this.Name,levelGroups:this.LevelGroups.map((function(t){return t.ApiData})).filter((function(t){return 0!==t.levels.length})),filters:this.Filters.map((function(t){return t.ApiData}))}}}]),t}(),Fi=function(t,e){var n=new xi;return n.Name=t.name,n.Filters=t.filters.map((function(t){return function(t,e){var n=new wi;return n.Field=t.field,t.items?n.Items=t.items.map((function(t){var e=new Di;return e.Value=t.value,e.InputType=t.inputType,e})):n.Items=t.values.map((function(t){var e=new Di;return e.Value=t,e})),n.Dict=e,n}(t,n)})),n.LevelGroups=t.levelGroups?t.levelGroups.map((function(t){return yi(t,n)})):t.levels.map((function(t){return yi(t,n)})),n.Dict=e,n},Ni=function(t){var e=new xi;return e.Name="setting 1",e.Dict=t,e},Gi=function(t){return[Si(t)]},Ri=function(t){return[Ti(t)]},Li=function(){function t(){var e=this;Object(o.a)(this,t),this.AddPageItem=function(){var t=Ni(e);return e.PageItems.push(t),t.Name="setting ".concat(t.Index+1),t}}return Object(u.a)(t,[{key:"Setting",get:function(){return this.Dict}},{key:"LevelStorageList",get:function(){return this.Dict.LevelStorageList}},{key:"PageItems",get:function(){return this.pageItems||(this.pageItems=Ei(this)),this.pageItems},set:function(t){this.pageItems=t}},{key:"FieldFilterStorageList",get:function(){return this.Dict.FieldFilterStorageList}},{key:"ApiData",get:function(){return{pageItems:this.PageItems.map((function(t){return t.ApiData}))}}}]),t}(),Pi=function(t,e){var n=new Li;return n.PageItems=t.pageItems.map((function(t){return Fi(t,n)})),n.Dict=e,n},Ui=function(t){var e=new Li;return e.Dict=t,e},Ei=function(t){return[Ni(t)]},Ai=function(){function t(){var e=this;Object(o.a)(this,t),this.Delete=function(){e.Dict.Items.splice(e.Index,1)},this.Name="",this.Values=[]}return Object(u.a)(t,[{key:"TempId",get:function(){return this.tempId||(this.tempId=Mt()),this.tempId}},{key:"id",get:function(){return this._id?this._id:this.TempId}},{key:"Index",get:function(){return this.Dict.Items.indexOf(this)}},{key:"ApiData",get:function(){return{name:this.Name,values:this.Values}}}]),t}(),Hi=function(){function t(){var e=this;Object(o.a)(this,t),this.Items=[],this.AddItem=function(){var t=function(t){var e=new Ai;return e.Dict=t,e}(e);return e.Items.push(t),t},this.Update_LevelData=function(){e.LevelStorageList=Ki(e)},this.OnSet_LevelStorageList_Func_Dict=[]}return Object(u.a)(t,[{key:"LevelStorageList",get:function(){return this.levelStorageList||(this.levelStorageList=Ki(this)),this.levelStorageList},set:function(t){var e=this;this.levelStorageList=t,Tt(this.OnSet_LevelStorageList_Func_Dict,(function(t){return e.OnSet_LevelStorageList_Func_Dict=t}))}},{key:"ApiData",get:function(){return{items:this.Items.map((function(t){return t.ApiData}))}}}]),t}(),Wi=function(t,e){var n=new Hi;return n.Items=t.items.map((function(t){return function(t,e){var n=new Ai;return n.Name=t.name,n.Values=t.values,n.Dict=e,n}(t,n)})),n},Bi=function(t){var e=new Hi;return e.Items=[],e},Ki=function(t){return t.Items.map((function(t){return t.Name}))},zi=function(){function t(){Object(o.a)(this,t),this.OnSet_LevelStorageList_Func_Dict=[]}return Object(u.a)(t,[{key:"LevelStorageList",get:function(){return this.levelStorageList||(this.levelStorageList=qi(this)),this.levelStorageList},set:function(t){var e=this;this.levelStorageList=t,Tt(this.OnSet_LevelStorageList_Func_Dict,(function(t){return e.OnSet_LevelStorageList_Func_Dict=t}))}},{key:"FieldFilterStorageList",get:function(){return this.Dict.FieldFilterStorageList}},{key:"ApiData",get:function(){return{binding:this.Binding.ApiData,typical:this.Typical.ApiData}}}]),t}(),qi=function(t){return t.Binding.LevelStorageList},Xi=n(110),Yi=function(t){Object(l.a)(n,t);var e=Object(h.a)(n);function n(){var t;Object(o.a)(this,n);for(var i=arguments.length,s=new Array(i),r=0;r<i;r++)s[r]=arguments[r];return(t=e.call.apply(e,[this].concat(s))).Save=function(){is(Object(Xi.a)(t))},t.OnGetLevelStorageList_Funcs=[],t}return Object(u.a)(n,[{key:"FieldFilterStorageList",get:function(){return this.fieldFilterStorageList||(this.fieldFilterStorageList=ns()),this.fieldFilterStorageList}},{key:"LevelStorageList",get:function(){return this.levelStorageList||(this.levelStorageList=ss(this)),this.levelStorageList},set:function(t){this.levelStorageList=t,this.GetLevelStorageList=!0}},{key:"GetLevelStorageList",set:function(t){this.OnGetLevelStorageList_Funcs.forEach((function(t){return t()}))}}]),n}(ji),Qi="level",Ji="massdetail",Zi="masstype",$i=function(t,e,n){var i=new Yi;return i._id=t._id,i.Name=t.name,i.Description=t.description,i.SettingType=t.settingType,i.Data=function(t,e){var n,i=new zi;return t.typical?(n=i.Binding=Wi(t.binding),i.Typical=Pi(t.typical,i)):(n=i.Binding=Bi(),i.Typical=Pi(t,i)),i.Dict=e,wt(n.OnSet_LevelStorageList_Func_Dict,(function(){return i.LevelStorageList=qi(i)}),!1),i}(t.data,i),i.Project=e,i.Phase=n,i},ts=function(t){var e=new Yi;return e.Name="thi\u1ebft l\u1eadp ...",e.Description="M\xf4 t\u1ea3 thi\u1ebft l\u1eadp ...",e.SettingType="typicallevel",e.Data=function(t){var e=new zi,n=e.Binding=Bi();return e.Typical=Ui(e),e.Dict=t,wt(n.OnSet_LevelStorageList_Func_Dict,(function(){return e.LevelStorageList=qi(e)}),!1),e}(e),e.Project=t,e},es=function(t,e,n){var i={projectId:t._id,phaseId:null===e||void 0===e?void 0:e._id},s="https://api.bimdev.vn/api/hbs/".concat("tl");L("".concat(s,"/get"),i).then((function(t){return t.data})).then((function(i){var s=i?$i(i,t,e):void 0,r=s||ts(t);n(s,r)}))},ns=function(){return Ot()},is=function(t){var e=t._id,n=t.ApiData,i="https://api.bimdev.vn/api/hbs/".concat("tl"),s=!!e;(s?R("".concat(i,"/edit"),n):L("".concat(i,"/add"),n)).then((function(t){return t.data})).then((function(e){s&&(t._id=e._id),w.b.success("add setting successfully!")}))},ss=function(t){var e=t.Project.Level_Dict,n=function(t){return t.map((function(t){return t.Name}))};if(e.Items)return n(e.Items);e.OnGetItemsDone_Funcs.push((function(){t.LevelStorageList=n(e.Items)}))},rs=function(){function t(){Object(o.a)(this,t),this.OnGetExportSetVersions_Func=[],this.OnGetTypicalLevelSetting_Func_Dict=[]}return Object(u.a)(t,[{key:"ExportSetVersions",get:function(){return this.exportSetVersions},set:function(t){this.exportSetVersions=t,this.exportSetVersionIds=t.map((function(t){return t._id}))}},{key:"GetExportSetVersions",set:function(t){this.OnGetExportSetVersions_Func.forEach((function(t){return t()}))}},{key:"Project",get:function(){return this.project||(this.project=this.Dict.Dict),this.project},set:function(t){this.project=t}},{key:"GetTypicalLevelSetting",set:function(t){var e=this;Tt(this.OnGetTypicalLevelSetting_Func_Dict,(function(t){return e.OnGetTypicalLevelSetting_Func_Dict=t}))}},{key:"TypicalLevelSetting",get:function(){var t=this;return this.typicalLevelSetting||this.IsOnGetDb_Async||(this.IsOnGetDb_Async=!0,es(this.Project,this,(function(e,n){t.TypicalLevelSetting=e,t.GetTypicalLevelSetting=!0}))),this.typicalLevelSetting},set:function(t){this.typicalLevelSetting=t}}]),t}(),as=function(t,e){if(t){var n=new rs;return n._id=t._id,n.Name=t.name,n.Description=t.description,n.Dict=e,n.CreatedDate=new Date(t.createdDate),cs(t._id,(function(t){n.ExportSetVersions=t,n.GetExportSetVersions=!0})),n}},cs=function(t,e){var n="https://api.bimdev.vn/api/hbesv/byphase?phaseId=".concat(t);G(n).then((function(t){return t.data})).then((function(t){e&&e(t)}))},os=function(){function t(){var e=this;Object(o.a)(this,t),this.OnGetItemsDone_Funcs=[],this.Add=function(t){e.Items.push(t),e.OnAdd&&e.OnAdd(t)},this.AddMassVersion=function(){var t=e.Input.ApiData,n=e.Project;R("".concat("https://api.bimdev.vn/api/hbphase","/mass/add"),t).then((function(t){return t.data})).then((function(t){var i=as(t,e);e.Add(i),w.b.success("create version successfully!"),function(t,e){var n={projectId:t,phaseId:e};L("".concat("https://api.bimdev.vn/api/hbs","/addphase"),n).then((function(t){return t.data})).then((function(t){w.b.success("attach phase to settings successfully!")}))}(n._id,t._id)}));var i=function(t){return t.AddVersion()},s=n.InputExportSet;s?i(s):n.OnGetInputExportSetDone_Funcs.push((function(){s=n.InputExportSet,i(s)}))},this.Get_Phase=function(t){var n=e.Items,i=n.findIndex((function(e){return e._id===t._id}));if(-1===i){var s=as(t,e);return n.push(s),s}return n[i]}}return Object(u.a)(t,[{key:"Project",get:function(){return this.Dict}},{key:"GetItemsDone",set:function(t){this.OnGetItemsDone_Funcs.forEach((function(t){return t()}))}},{key:"Input",get:function(){return this.input||(this.input=hs(this)),this.input}}]),t}(),us=function(){function t(){Object(o.a)(this,t)}return Object(u.a)(t,[{key:"ApiData",get:function(){return{projectId:this.Dict.Dict._id,name:this.Name,description:this.Description}}}]),t}(),ls=function(t){var e=new os;return t?(e.Dict=t,function(t,e){var n="https://api.bimdev.vn/api/hbphase/list?projectId=".concat(t);G(n).then((function(t){return t.data})).then((function(t){e&&e(t)}))}(t._id,(function(t){e.Items=t.map((function(t){return as(t,e)})),e.GetItemsDone=!0}))):e.Items=[],e},hs=function(t){return function(t){var e=new us;return e.Dict=t,e.Name="Version 1",e.Description="m\xf4 t\u1ea3 phi\xean b\u1ea3n",e}(t)},ds=function(){function t(){var e=this;Object(o.a)(this,t),this.OnSet_LevelDict_Func_Dict=[],this.OnSet_LevelSetting_Func_Dict=[],this.OnGetTypicalLevelSetting_Func_Dict=[],this.OnSet_Commands_Func=[],this.Reset_Commands=function(){e.Commands=void 0,Fs(e)}}return Object(u.a)(t,[{key:"Phase_Dict",get:function(){return this.phase_Dict||(this.phase_Dict=ls(this)),this.phase_Dict}},{key:"ExportSet_Dict",get:function(){return this.exportSet_Dict||(this.exportSet_Dict=ws(this)),this.exportSet_Dict}},{key:"LevelDict",get:function(){return this.levelDict||Ts(this),this.levelDict},set:function(t){var e=this;this.levelDict=t,Tt(this.OnSet_LevelDict_Func_Dict,(function(t){return e.OnSet_LevelDict_Func_Dict=t}))}},{key:"LevelSetting",get:function(){return this.levelSetting||xs(this),this.levelSetting},set:function(t){var e=this;this.levelSetting=t,Tt(this.OnSet_LevelSetting_Func_Dict,(function(t){return e.OnSet_LevelSetting_Func_Dict=t}))}},{key:"GetTypicalLevelSetting",get:function(){return this.getTypicalLevelSetting},set:function(t){var e=this;this.getTypicalLevelSetting=t,Tt(this.OnGetTypicalLevelSetting_Func_Dict,(function(t){return e.OnGetTypicalLevelSetting_Func_Dict=t}))}},{key:"TypicalLevelSetting",get:function(){var t=this;return this.typicalLevelSetting||this.IsOnGetDb_Async||(this.IsOnGetDb_Async=!0,es(this,null,(function(e,n){t.TypicalLevelSetting=e,t.TypicalLevelSetting_ForEdit=n,t.GetTypicalLevelSetting=!0}))),this.typicalLevelSetting},set:function(t){this.typicalLevelSetting=t}},{key:"TypicalLevelSetting_ForEdit",get:function(){return this.typicalLevelSetting_ForEdit||(this.typicalLevelSetting_ForEdit=this.TypicalLevelSetting),this.typicalLevelSetting_ForEdit},set:function(t){this.typicalLevelSetting_ForEdit=t}},{key:"Url",get:function(){if(!this.url){var t="".concat("/BIM_Database").concat("/#","/project");t="".concat(t,"/").concat(this._id),this.url=t}return this.url}},{key:"Commands",get:function(){return this.commands||Fs(this),this.commands},set:function(t){var e=this;this.commands=t,Tt(this.OnSet_Commands_Func,(function(t){return e.OnSet_Commands_Func=t}))}}]),t}(),ms=function t(){Object(o.a)(this,t)},fs=function t(){Object(o.a)(this,t)},ps=function(){return"".concat(Gd.Instance.ApiUrl,"/hbld")},_s=function(t,e){var n=new ms;n.Project=e;var i=t.data.items;return n.Items=i?i.map((function(t){return function(t,e){var n=new fs;return n.Name=t.name,n.Elevation=t.elevation,n.Dict=e,n}(t,n)})):[],n},vs="https://api.bimdev.vn/api/hbs/lv",Is=function(t){Object(l.a)(n,t);var e=Object(h.a)(n);function n(){var t;Object(o.a)(this,n);for(var i=arguments.length,s=new Array(i),r=0;r<i;r++)s[r]=arguments[r];return(t=e.call.apply(e,[this].concat(s))).SettingType=Qi,t.Url=vs,t}return n}(ji),gs="https://api.bimdev.vn/api/hbes",bs="input",js=function(){function t(){var e=this;Object(o.a)(this,t),this.OnSet_id_Func_Dict=[],this.SaveDatabase=function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=arguments.length>1?arguments[1]:void 0;Nt(e,gs,(function(){t&&w.b.success("save successfully!"),n&&n()}))},this.Delete=function(){e.CurrentList.splice(e.Index,1),e.DeleteDatabase(!0)},this.DeleteDatabase=function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=arguments.length>1?arguments[1]:void 0;Gt(e,gs,(function(){t&&w.b.success("delete successflly!"),n&&n()}))},this.NewVersion=function(t){return ys(e,t)},this.SaveMassItems=function(){Ss(e)},this.OnSet_MassItems_Func=[]}return Object(u.a)(t,[{key:"_id",get:function(){return this.__id},set:function(t){var e=this;this.__id=t,Tt(this.OnSet_id_Func_Dict,(function(t){return e.OnSet_id_Func_Dict=t}))}},{key:"TempId",get:function(){return this.tempId||(this.tempId=Mt()),this.tempId}},{key:"id",get:function(){return this._id?this._id:this.TempId}},{key:"MassType",get:function(){return this.massType||(this.massType="Concrete"),this.massType},set:function(t){this.massType=t}},{key:"Project",get:function(){return this.Dict.Project}},{key:"ApiData",get:function(){var t,e=this.Dict;return{_id:this._id,projectId:null===(t=e.Project)||void 0===t?void 0:t._id,name:this.Name,description:this.Description,massType:this.MassType,retrieveFrom:bs}}},{key:"CurrentList",get:function(){return this.Dict.Items}},{key:"Index",get:function(){return this.CurrentList.indexOf(this)}},{key:"MassItems",get:function(){return this.massItems||Os(this),this.massItems},set:function(t){var e=this;this.massItems=t,Tt(this.OnSet_MassItems_Func,(function(t){return e.OnSet_MassItems_Func=t}))}}]),t}(),Os=function(t){if(!t.IsGet_MassItems){t.IsGet_MassItems=!0;var e=function(e){t.MassItems=e?e.map((function(t){return Us(t)})):[],t.IsGet_MassItems=!1};if(t._id){var n={otherData:{exportSetId:t._id}};Bs(n,(function(t){e(t)}))}else e()}},ys=function(t,e){var n={exportSetId:t._id};L("".concat("https://api.bimdev.vn/api/hbesv","/add"),n).then((function(t){return t.data})).then((function(t){e&&e(t)}))},Ss=function(t){var e=t.MassItems;t.NewVersion((function(n){!function(n){var i={projectId:t.Project._id,exportSetId:t._id,exportSetVersionId:n,items:e.map((function(t){return t.ApiData_ForInput}))};L("".concat("https://api.bimdev.vn/api/hbm","/addlist"),i).then((function(t){return t.data})).then((function(t){w.b.success("import data successfully!")}))}(n._id)}))},Ms=function(){function t(){var e=this;Object(o.a)(this,t),this.OnSet_Items_Func=[],this.AddItem=function(t){e.Items.push(t),e.OnAddItem&&e.OnAddItem(t)},this.NewItem=function(t){var n=function(t){var e=new js;return e.Dict=t,e}(e);n.Name=t,e.AddItem(n),n.SaveDatabase()}}return Object(u.a)(t,[{key:"TempId",get:function(){return this.tempId||(this.tempId=Mt()),this.tempId}},{key:"id",get:function(){return this._id?this._id:this.TempId}},{key:"Items",get:function(){return this.items||ks(this),this.items},set:function(t){var e=this;this.items=t,Tt(this.OnSet_Items_Func,(function(t){return e.OnSet_Items_Func=t}))}}]),t}(),Cs="s",ks=function(t){if(!t.IsGet_Items){t.IsGet_Items=!0;var e=function(e){t.Items=e.map((function(e){return function(t,e){var n=new js;return n._id=t._id,n.projectId=t.projectId,n.Name=t.name,n.Description=t.description,n.MassType=t.massType,n.Dict=e,n}(e,t)})),t.IsGet_Items=!1};!function(){var n;!function(t,e){t=t||{},L("".concat(gs,"/list"),t).then((function(t){return t.data})).then((function(t){e&&e(t)}))}({projectId:null===(n=t.Project)||void 0===n?void 0:n._id,retrieveFrom:bs},(function(t){e(t)}))}()}},Vs=function(t,e){if(t){var n=new ds;return n._id=t._id,n.Name=t.name,n.Code=t.code,n.Dict=e,n}},Ds=function(t,e){G("https://api.bimdev.vn/api/hbp/list").then((function(t){return t.data})).then((function(n){var i=n.map((function(e){return Vs(e,t)}));e&&e(i)}))},ws=function(t){return function(t){var e=new Ms;return t instanceof ds&&(e.Project=t),e.Dict=t,e}(t)},Ts=function(t){if(!t.IsGet_LevelDict){t.IsGet_LevelDict=!0;!function(t,e){var n={projectId:t},i="".concat(ps(),"/get");L(i,n).then((function(t){return t.data})).then((function(t){e&&e(t)}))}(t._id,(function(e){return t.LevelDict=_s(e,t)}))}},xs=function(t){t.IsGet_LevelSetting||(t.IsGet_LevelSetting=!0,t.LevelSetting=function(t){var e=new Is;return e.Name="thi\u1ebft l\u1eadp level",e.Description="M\xf4 t\u1ea3 thi\u1ebft l\u1eadp",e.Data=Bi(),e.Project=t,e}(t))},Fs=function(t){if(!t.IsGet_Commands){t.IsGet_Commands=!0;var e=function(e){t.Commands=e&&0!==e.length?e[0].commands:[],t.IsGet_Commands=!1},n=Gd.Instance.UserDict.LoginUser;if(n){var i={userId:n._id,projectId:t._id};L("".concat("https://api.bimdev.vn/api/hb_upc","/list"),i).then((function(t){return t.data})).then((function(t){e(t)}))}else e()}},Ns=function(t,e){var n=new wn;return n.Value=t.value,n.Unit=t.unit,n.Dict=e,n},Gs=function(t){if(!t.IsGet_FullData){t.IsGet_FullData=!0;var e=function(e){var n=e?e.Count:1;t.FullData=t.Data.map((function(t){var e=function(t,e){e||(e=t.Dict);var n=new wn;return n.Value=t.Value,n.Unit=t.Unit,n.Dict=e,n}(t);return e.Value*=n,e})),t.IsGet_FullData=!1},n=t.Dict;n.TLS_LevelGroup||n.Get_TLS_LevelGroup?e(n.TLS_LevelGroup):wt(n.OnGet_TLS_LevelGroup_Func_Dict,(function(){e(n.TLS_LevelGroup)}))}},Rs="raw",Ls=function(){function t(){var e=this;Object(o.a)(this,t),this.Data=[],this.OnGet_FullData_Func_Dict=[],this.GetItem=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Rs,i=arguments.length>2?arguments[2]:void 0,s=function(){var i=n===Rs?e.Data:e.FullData,s=Lt(i,(function(e){return e.Unit===t}));return s||n!==Rs||((s=new wn).Unit=t,i.push(s)),s};if(n===Rs||!e.FullData)return s();wt(e.OnGet_FullData_Func_Dict,(function(){var t=s();i&&i(t)}))},this.GetValue=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Rs,i=arguments.length>2?arguments[2]:void 0,s=function(){var i=n===Rs?e.Data:e.FullData,s=Lt(i,(function(e){return e.Unit===t}));return s?s.Value:void 0};if(n===Rs||!e.FullData)return s();wt(e.OnGet_FullData_Func_Dict,(function(){var t=s();i&&i(t)}))}}return Object(u.a)(t,[{key:"FullData",get:function(){return this.fullData||Gs(this),this.fullData},set:function(t){var e=this;this.fullData=t,Tt(this.OnGet_FullData_Func_Dict,(function(t){return e.OnGet_FullData_Func_Dict=t}))}}]),t}(),Ps=function(){return Gd.Instance},Us=function(t,e,n){var i,s=new Ks;s._id=t._id,t.valueData?s.ValueDict.Data=t.valueData.map((function(t){return Ns(t,s)})):s.ValueDict.Data=[Ns(t,s)],t.massType?s.MassType=t.massType:s.MassType=t.ExportSets&&0!==t.ExportSets.length?t.ExportSets[0].massType:void 0,s.Info=t.info,s.projectId=t.projectId,s.workpackageId=t.workpackageId,s.exportSetId=t.exportSetId,s.exportSetVersionId=t.exportSetVersionId,s.Element=t.Elements&&0!==t.Elements.length?t.Elements[0]:void 0,s.Site=0!==t.SiteInfos.length?qs(t.SiteInfos[0],s):void 0;var r=t.Projects&&0!==t.Projects.length?t.Projects[0]:void 0;if(r){var a=Ps().Project_Dict_ForMassDetail;i=s.Project=a.Get_Project(r)}e&&(s.IsDetailView=!0,n&&(s.IsHavePhase=!0,(n=(a=Ps().Phase_Dict_ForMassDetail).Get_Phase(n)).Project=i,s.Phases=[n]));return s},Es=function(t,e){if(e){var n=void 0;return e.PageItems.forEach((function(e){!n&&As(t,e)&&(n=e)})),n}},As=function(t,e){var n=e.Filters,i=!0;return n.forEach((function(e){if(i){var n=e.Field,s=t.GetValue_Mas(n);i=e.Values.includes(s)}})),i},Hs=function(t,e){if(e){var n=void 0;return e.LevelGroups.forEach((function(e){var i=e.Primary_Values,s=t.GetValue_Mas(at);!n&&i.includes(s)&&(n=e)})),n}},Ws=function(t){return t.ValidPhasesByInput.map((function(e){return function(t,e){var n=new ui;return n.Phase=t,n.Dict=e,n}(e,t)}))},Bs=function(t,e){t=t||{};L("".concat("https://api.bimdev.vn/api/hbmr","/newlist"),t).then((function(t){return t.data})).then((function(t){e&&e(t)}))},Ks=function(){function t(){var e=this;Object(o.a)(this,t),this.IsGetElement=!1,this.OnGetElementDone_Funcs=[],this.GetValue=function(t,n){if(t){var i;if(t===at){var s=e.LevelItem;return!s.IsGet_Value&&n&&(i=!0,wt(s.OnSet_Value_Func_Dict,(function(){n(s.Value)}))),{Value:s.Value,IsHandle:i}}return{Value:e.GetValue_Mas(t),IsHandle:i}}},this.GetValue_Mas=function(t){if(t){var n=function(t,e){switch(e){case Z:case st:case $:return{fields:[e],isFromElement:!1};case rt:case it:case"rebarType":case"partition":case at:case ct:case ot:case ut:case lt:case ht:case _t:case vt:case dt:case mt:case ft:case pt:case It:case gt:if(t.Element){var n=void 0;switch(e){case It:case gt:return{fields:["Element",e],isFromElement:!0};case rt:case it:case lt:case dt:case mt:case ft:n="identify";break;case at:case ot:case ut:case _t:case vt:n="locate";break;case pt:n="geometry"}return{fields:["Element","info",n,e],isFromElement:!0}}return{fields:["Info",e],isFromElement:!1};default:return{fields:["Site",e]}}}(e,t),i=n.fields;return!n.isFromElement||e.Element?function(){var n=e,s=!0;if(i.forEach((function(t){if(s){var e=n[t];void 0===(n=e)&&(s=!1)}})),t===et){var r=2;"each"===e.Unit&&(r=0),n=n.toLocaleString("en-US",{maximumFractionDigits:r})}return n}():void 0}},this.AddDatabase=function(t){var n=e.ApiData,i=n._id,s="https://api.bimdev.vn/api/hbm",r=i?"edit":"add";(i?R("".concat(s,"/").concat(r),n):L("".concat(s,"/").concat(r),n)).then((function(t){return t.data})).then((function(n){"add"===r&&(e._id=n._id),t&&t(n),w.b.success("".concat(r," mass successfully"))}))},this.DeleteDatabase=function(t){var n={_id:e._id};R("".concat("https://api.bimdev.vn/api/hbm","/delete"),n).then((function(t){return t.data})).then((function(e){t&&t(e),w.b.success("delete mass successfully")}))},this.OnGet_TLS_LevelGroup_Func_Dict=[],this.OnGet_FullValue_Func_Dict=[],this.GetPhaseItem=function(t){var n=e.PhaseItems,i=n.findIndex((function(e){return e.Phase.Name===t}));return n[i]}}return Object(u.a)(t,[{key:"Project",get:function(){return this.project||(this.project=function(t){var e=Ps().Project_Dict.Items,n=t.projectId,i=e.findIndex((function(t){return t._id===n}));return-1!==i?e[i]:void 0}(this)),this.project},set:function(t){this.project=t}},{key:"Workpackage",get:function(){return this.workpackage||(this.workpackage=function(t){var e=Ps().Workpackage_Dict.Workpackages,n=t.workpackageId,i=e.findIndex((function(t){return t._id===n}));return-1!==i?e[i]:void 0}(this)),this.workpackage}},{key:"Phases",get:function(){return this.phases||(this.phases=function(t){var e=Ps().Phase_Dict,n=[];if(!e)return n;var i=e.Items,s=t.exportSetVersionId;return i.forEach((function(t){t.exportSetVersionIds.includes(s)&&n.push(t)})),n}(this)),this.phases},set:function(t){this.phases=t}},{key:"ValidPhasesByInput",get:function(){return function(t){if(t.IsDetailView)return t.Phases;var e=Ps().MassResultComp.Phases,n=t.Phases,i=[];return n.forEach((function(t){e.includes(t)&&i.push(t)})),i}(this)}},{key:"GetElementDone",set:function(t){this.OnGetElementDone_Funcs.forEach((function(t){return t()}))}},{key:"ApiData",get:function(){return{_id:this._id,projectId:this.projectId,elementId:this.elementId,workpackageId:this.workpackageId,exportSetId:this.exportSetId,exportSetVersionId:this.exportSetVersionId,value:this.Value,unit:this.Unit,massType:this.MassType,info:this.Info}}},{key:"ApiData_ForInput",get:function(){return{valueData:this.ValueDict.Data.map((function(t){return t.ApiData})),info:this.Info}}},{key:"Get_TLS_LevelGroup",get:function(){return this.get_TLS_LevelGroup},set:function(t){this.get_TLS_LevelGroup=t}},{key:"TLS_LevelGroup",get:function(){return this.tls_LevelGroup||function(t){if(!t.IsGet_TLS_LevelGroup){t.IsGet_TLS_LevelGroup=!0;var e=t.Project,n=function(e){t.TLS_LevelGroup=e,t.IsGet_TLS_LevelGroup=!1},i=function(e){var n=e.Data.Typical,i=Es(t,n);return Hs(t,i)},s=e.TypicalLevelSetting;e.GetTypicalLevelSetting||s?n(i(s)):wt(e.OnGetTypicalLevelSetting_Func_Dict,(function(){return n(i(e.TypicalLevelSetting))}))}}(this),this.tls_LevelGroup},set:function(t){this.tls_LevelGroup=t,this.Get_TLS_LevelGroup=!0,this.OnGet_TLS_LevelGroup_Func_Dict.forEach((function(t){return t.Value()}))}},{key:"Get_FullValue",set:function(t){var e=this;Tt(this.OnGet_FullValue_Func_Dict,(function(t){return e.OnGet_FullValue_Func_Dict=t})),this.get_FullValue=t}},{key:"ValueDict",get:function(){return this.valueDict||(this.valueDict=function(t){var e=new Ls;return e.Dict=t,e}(this)),this.valueDict}},{key:"PhaseItems",get:function(){return this.phaseItems||(this.phaseItems=Ws(this)),this.phaseItems}},{key:"Lastest_PhaseItem",get:function(){return this.lastest_PhaseItem||(this.lastest_PhaseItem=function(t){if(!t.IsGet_Lastest_PhaseItem){t.IsGet_Lastest_PhaseItem=!0;var e=t.PhaseItems;if(e&&0!==e.length)return 1===e.length||e.sort((function(t,e){return e.Phase.CreatedDate-t.Phase.CreatedDate})),e[0]}}(this)),this.lastest_PhaseItem}},{key:"LevelItem",get:function(){return this.levelItem||(this.levelItem=function(t){if(!Ps().CurrentProject)return t.OriginLevelItem;if(t.IsDetailView&&!t.IsHavePhase)return t.OriginLevelItem;var e=t.Lastest_PhaseItem;return e?e.LevelItem:t.OriginLevelItem}(this)),this.levelItem}},{key:"OriginLevelItem",get:function(){return this.originLevelItem||(this.originLevelItem=hi(this)),this.originLevelItem}},{key:"Site",get:function(){return this.site},set:function(t){this.site=t}}]),t}(),zs=function(){function t(){var e=this;Object(o.a)(this,t),this.SaveDatabase=function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=arguments.length>1?arguments[1]:void 0;Nt(e,e.Url,(function(){e.Row&&(e._id=void 0),t&&w.b.success("save successfully!"),n&&n()}))},this.Run=function(){Ys(e)}}return Object(u.a)(t,[{key:"ApiData",get:function(){var t,e=this,n={_id:this._id};if(this.Row){n.projectId=Gd.Instance.CurrentProject._id;var i=function(t){return{field:t.Field,value:t.RawValue}},s=this.Row,r=n.filter=[i(s)];s.Original_Full_SupRows.forEach((function(t){r.push(i(t))})),t=n.input={}}else n.massId=this.MassItem._id,t=n;return Y().forEach((function(n){t[Q(n)]=e[n]})),n}}]),t}(),qs=function(t,e){var n=Xs(e);return n._id=t._id,Y().forEach((function(e){n[e]=t[Q(e)]})),n},Xs=function(t){var e=new zs;return t instanceof kn?(e.Url="https://api.bimdev.vn/api/hb_se",e.Row=t):t instanceof Ks&&(e.Url="https://api.bimdev.vn/api/hb_si",e.MassItem=t),e},Ys=function(t){t.SaveDatabase(!1);var e=t.Row.Items,n=e.length,i=0,s=function(){++i===n&&w.b.success("save successfully!")};e.forEach((function(e){var n,i=null===(n=e.Site)||void 0===n?void 0:n._id,r=e.Site=function(t,e){var n=Xs(e);return Y().forEach((function(e){n[e]=t[e]})),n}(t,e);r._id=i,r.SaveDatabase(!1,s)}))},Qs=function(){function t(){Object(o.a)(this,t)}return Object(u.a)(t,[{key:"Render",get:function(){return this.render||(this.render=Js(this)),this.render},set:function(t){this.render=t}}]),t}(),Js=function(t){switch(t.State){case Ut:return function(t,e){var n=e.ClassName,s=e.Style,r=e.OnDoubleClick,a=e.OnClick;return Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)("span",{className:n,style:s,onDoubleClick:r,onClick:a,children:t}),e.Is_Tool_Visible&&e.Is_Edit_Visible?Object(i.jsx)(p.a,{type:"primary",size:"small",className:"left10 btn-warning",onClick:e.Edit,children:"e"}):""]})};case Et:return function(t,e){var n,s=e.ClassName,r=e.Style,a=e.OnFocus;return Object(i.jsx)(i.Fragment,{children:Object(i.jsxs)("div",{className:"input__wrapper ".concat(s),children:[Object(i.jsx)(y,(n={ref:e.Ref,className:"input__main",style:r,store:e},Object(Qe.a)(n,"ref",e.Ref),Object(Qe.a)(n,"onFocus",a),n)),e.Is_Tool_Visible&&e.Is_OK_Visible?Object(i.jsx)(p.a,{type:"primary",size:"small",onClick:e.EditOK,children:"ok"}):""]})})};default:return}},Zs=function t(){var e=this;Object(o.a)(this,t),this.Items=[],this.GetRender=function(t){var n=e.Items,i=n.findIndex((function(e){return e.State===t}));if(-1===i){var s=function(t,e){var n=new Qs;return n.State=t,n.Render=e,n}(t);return n.push(s),s}return n[i]}},$s=function(){function t(){var e=this;Object(o.a)(this,t),this.content=void 0,this.placeholder="n\u1ed9i dung input",this.State=I,this.IsEditing=!1,this.OnSet_RenderState_Func_Dict=[],this.renderState=Ut,this.CanChange_RenderState=!0,this.Is_Tool_Visible=!0,this.Is_Edit_Visible=!0,this.Is_OK_Visible=!0,this.Edit=function(){e.RenderState=Et},this.EditOK=function(){e.RenderState=Ut},this.Render=function(){return e.Render_Dict.GetRender(e.RenderState).Render(e.Content,e)},this.OnSet_Ref_Func_Dict=[],this.Focus=function(){var t=function(){var t;null===(t=e.Ref_Element)||void 0===t||t.focus()};e.Ref?t():wt(e.OnSet_Ref_Func_Dict,(function(){return t()}))},Object(v.l)(this,{content:v.m,placeholder:v.m,State:v.m,IsEditing:v.m,renderState:v.m,Is_Tool_Visible:v.m,Is_Edit_Visible:v.m,Is_OK_Visible:v.m,CanChange_RenderState:v.m})}return Object(u.a)(t,[{key:"Content",get:function(){return this.content},set:function(t){this.content=t,this.onSetContent&&this.onSetContent(t)}},{key:"Placeholder",set:function(t){this.placeholder=t}},{key:"TitleFunc",get:function(){var t=this;return this.titleFunc||(this.titleFunc=function(){return t.Content}),this.titleFunc},set:function(t){this.titleFunc=t}},{key:"Render_Dict",get:function(){return this.render_Dict||(this.render_Dict=new Zs),this.render_Dict},set:function(t){this.render_Dict=t}},{key:"RenderState",get:function(){return this.renderState},set:function(t){this.CanChange_RenderState&&(this.renderState=t,this.OnSet_RenderState_Func_Dict.forEach((function(t){return t.Value()})))}},{key:"Ref",get:function(){return this.ref},set:function(t){var e=this;this.ref=t,Tt(this.OnSet_Ref_Func_Dict,(function(t){return e.OnSet_Ref_Func_Dict=t}))}},{key:"Ref_Element",get:function(){if(!this.ref_Element){var t=this.Ref.current;t&&t.getEl&&(t=t.getEl()),this.ref_Element=t}return this.ref_Element}}]),t}(),tr=function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2?arguments[2]:void 0,i=new $s;return i.Content=t,i.CanChange_RenderState=e,void 0===n&&(n=e),i.Is_Tool_Visible=n,i},er="manual",nr="mouseEvent",ir="hidden",sr=(n(371),function(t){Object(l.a)(n,t);var e=Object(h.a)(n);function n(t){var i;Object(o.a)(this,n);var s=(i=e.call(this,t)).props.store;return i.state=s||new ar,i}return Object(u.a)(n,[{key:"render",value:function(){var t=this.state;return t.ClassName=t.ClassName?t.ClassName:this.props.className?this.props.className:"",t.Style=t.Style?t.Style:this.props.style,Object(i.jsx)(i.Fragment,{children:t.Is_Visible?Object(i.jsxs)(i.Fragment,{children:[t.WrapperView,t.AdditionElement]}):t.VisibleType===ir?Object(i.jsx)("div",{className:t.BlankStyle}):""})}}]),n}(s.Component)),rr=Object(d.a)(sr),ar=function(){function t(){var e=this;Object(o.a)(this,t),this.is_Visible=void 0,this.ToggleType=er,this.VisibleType="collapse",this.is_Hover_Visible=void 0,this.Show_Hover=function(t){t.stopPropagation(),e.OnPre_ShowHover&&e.OnPre_ShowHover(),e.Is_Hover_Visible=!0},this.Toggle_Hover=function(t){e.Is_Hover_Visible=t},this.PreRun=function(t){t.stopPropagation(),e.IsRun_Cancel=!1,e.OnPreRun&&e.OnPreRun(),e.IsRun_Cancel||e.Run()},this.PreCancel=function(t){t.stopPropagation(),e.Cancel()},this.Show=function(){e.Is_Visible=!0},this.Hide=function(){e.IsRun_Cancel=!1,e.OnPreHide&&e.OnPreHide(),e.IsRun_Cancel||e.Is_Hover_Visible||(e.Is_Visible=!1)},this.ClassName=void 0,this.Style=void 0,this.AdditionElement="",this.BlankStyle="delete__blank",this.Title="X\xe1c nh\u1eadn l\u1ec7nh?",Object(v.l)(this,{is_Visible:v.m,is_Hover_Visible:v.m,VisibleType:v.m,ClassName:v.m,Style:v.m})}return Object(u.a)(t,[{key:"id",get:function(){return this._id||(this._id=Mt()),this._id},set:function(t){this._id=t}},{key:"Is_Visible",get:function(){return this.is_Visible||(this.is_Visible=this.ToggleType===er),this.is_Visible},set:function(t){this.is_Visible=t}},{key:"Is_Hover_Visible",get:function(){return this.is_Hover_Visible},set:function(t){this.is_Hover_Visible=t,this.ToggleType===nr&&(t||(this.Is_Visible=!1)),this.OnSet_Is_Hover_Visible&&this.OnSet_Is_Hover_Visible(t)}},{key:"Run",get:function(){var t;return this.run||(this.run=(t=this,function(){t.Is_Hover_Visible=!1,t.OnRun&&t.OnRun()})),this.run},set:function(t){this.run=t}},{key:"Cancel",get:function(){var t;return this.cancel||(this.cancel=(t=this,function(){t.Is_Hover_Visible=!1,t.OnCancel&&t.OnCancel()})),this.cancel},set:function(t){this.cancel=t}},{key:"ShowHover_Button",get:function(){return this.showHover_Button?this.showHover_Button:this.Retrieve_ShowHover_Button()},set:function(t){this.showHover_Button=t}},{key:"Retrieve_ShowHover_Button",get:function(){var t;return this.retrieve_ShowHover_Button||(this.retrieve_ShowHover_Button=(t=this,function(){return Object(i.jsx)(p.a,{type:"primary",size:"small",className:"btn_delete ".concat(t.ClassName),style:t.Style,onClick:t.Show_Hover,children:"x"})})),this.retrieve_ShowHover_Button},set:function(t){this.retrieve_ShowHover_Button=t}},{key:"View",get:function(){return Object(i.jsx)(rr,{store:this},this.id)}},{key:"WrapperView",get:function(){return this.Retrieve_WrapperView()}},{key:"Retrieve_WrapperView",get:function(){var t;return this.retrieve_WrapperView||(this.retrieve_WrapperView=(t=this,function(){return Object(i.jsx)(Te.a,{content:Object(i.jsx)(i.Fragment,{children:t.Modal_ContentView}),title:t.Title,trigger:"click",visible:t.Is_Hover_Visible,onVisibleChange:t.Toggle_Hover,children:t.ShowHover_Button})})),this.retrieve_WrapperView},set:function(t){this.retrieve_WrapperView=t}},{key:"Modal_ButtonView",get:function(){var t;return this.modal_ButtonView||(this.modal_ButtonView=(t=this,Object(i.jsxs)("div",{className:"delete__btn-group",children:[Object(i.jsx)(p.a,{type:"primary",size:"small",onClick:t.PreRun,children:"ok"}),Object(i.jsx)(p.a,{type:"text",size:"small",className:"btn_blank",onClick:t.PreCancel,children:"cancel"})]}))),this.modal_ButtonView},set:function(t){this.modal_ButtonView=t}},{key:"Modal_InfoView",get:function(){return this.modal_InfoView||(this.modal_InfoView=""),this.modal_InfoView},set:function(t){this.modal_InfoView=t}},{key:"Modal_ContentView",get:function(){var t;return this.modal_ContentView||(this.modal_ContentView=(t=this,Object(i.jsxs)(i.Fragment,{children:[t.Modal_InfoView,t.Modal_ButtonView]}))),this.modal_ContentView},set:function(t){this.modal_ContentView=t}}]),t}(),cr=function(){return Gd.Instance},or=function(t,e){var n=new kn;return n.Name=t,n.Dict=e,n},ur=function(t){return t.SupItem?t.SupItem.Rank+1:0},lr=function(t){return{marginLeft:20*t.Rank}},hr=function(t){return 0!==t.SubItems.length},dr=function(t){return t.IsShowSub?"-":"+"},mr=function(t){var e=cr().MIF_Dict_ForMassGroup,n=Re(e,t.Field);return n.TitleRender=function(t){return t.Name},n.Placeholder="ch\u1ecdn nh\xf3m",n.IsDisabled=!t.IsCreatedByUser,n.OnSelectedItemChanged=function(e){return t.TempField=null===e||void 0===e?void 0:e.Value},n},fr=function(t){var e=cr().MIF_Dict_ForMassGroup,n=ye(e,void 0);return n.TitleRender=function(t){return t.Name},n.Placeholder="ch\u1ecdn ph\xe2n nh\xf3m",n.OnSelectedItemChanged=function(e){return t.TempSubFields=e.map((function(t){return t.Value}))},n},pr=function(t){var e=Re([],void 0);return e.Placeholder="ch\u1ecdn v\u1ecb tr\xed",e.TitleRender=function(t){var e=15*t.Rank;return Object(i.jsx)("div",{style:{marginLeft:e},children:t.Title})},e.OnSelectedItemChanged=function(e){t.ReplaceFactory.ReferenceRow=e},e},_r=function(t){var e=t.SubItems;if(0!==e.length)return e[0].MassGroupItem},vr=function(t){var e=t.SubItems;if(0!==e.length)return e[0].ReplaceMGI},Ir=function(t){var e=t.SubMassGroupItem;if(!e)return[];var n=e.SupComponent.Items,i=-1,s=!0;n.forEach((function(t,e){s&&0===t.HaveMassItemSubComponents.length?i=e:s=!1}));var r=n.indexOf(t.MassGroupItem);return-1===i?[e.Field]:n.filter((function(t,e){return(-1===r||r<e)&&e<=i})).map((function(t){return t.Field}))},gr=function(t,e){var n;e&&(n=[],e((function(){n.forEach((function(t){return t()}))})));var i=new ne;i.ValueType=Wt,i.StringFilterType=Kt,i.Values=[t.FullValue];var s=t.MassGroupItem,r=void 0,a=s.SubComponents.findIndex((function(t){return kt(t.Filter.Values,i.Values)}));if(-1!==a)r=s.SubComponents[a];else{if((r=new he).SubItem=s,r.Filter=i,n){var c=s.SubComponents;n.push((function(){c.splice(c.length-1,1)}))}s.SubComponents.push(r)}var o=ve(null,null,r);if(r.Items=[o],n){var u=t.SubMassGroupItem;n.push((function(){t.SubMassGroupItem=u}))}return t.SubMassGroupItem=o,o},br=function(t,e){var n=[],i=t?t.SubMassGroupItem?t.SubMassGroupItem:gr(t,(function(t){n.push(t)})):e.MainMGI,s=ae(i,se);s.SupValue=null===t||void 0===t?void 0:t.Name,n.push((function(){i.Items.splice(i.Items.length-1,1)})),i.Items.push(s);var r=or(s.Value,e);r.FullValue=s.Value,r.IsCreatedByUser=!0;r.Cells;return r.MassGroupItem=i,r.SupItem=t,n.push((function(){r.CurrentList.splice(r.CurrentList.length-1,1)})),r.CurrentList.push(r),r.Editable_TitleVM.RenderState=Et,e.CommandDict.Add({Key:"addrow",Undo:function(){n.forEach((function(t){return t()}))}}),r},jr=function(t){if(!t.IsGet_Original_SupRow)return t.IsGet_Original_SupRow=!0,t.SupItem},Or=function(t){for(var e=[],n=t.Original_SupRow;n;)e.push(n),n=n.Original_SupRow;return e.reverse(),e},yr=function(t){return!!t.IsReplaced},Sr=function(t){return t.Original_Full_SupRows.reduce((function(t,e,n){return 0!=n&&(t+=" > "),t+=e.Title}),"")},Mr=function(t){var e=new ar;return e.ToggleType=nr,e.VisibleType=ir,e.BlankStyle="massrow__hover__blank",e.Retrieve_WrapperView=function(){return t.ToolElement.View},e},Cr=function(t){var e=new cn;return e.Dict=t,e},kr=function(t){var e=t.Table;return e.Columns.map((function(n){var i=new Un;return i.Column=n,i.Row=t,i.Dict=e,e.Cells.push(i),i}))},Vr=function(t){return!t.IsCreatedByUser&&t.RawValue!==t.Title},Dr=function(t){var e,n=!1;return 0!==t.SubItems.length?t.SubItems.forEach((function(t){n||(void 0===e&&(e=t.Unit),e&&e===t.Unit||(e=void 0,n=!0))})):e=dn,e},wr=function(t){var e=new Bn;return e.Dict=t,e},Tr=function(t){var e=new Kn;return e.Host=t,e},xr=function(t){var e=new zn;return e.Host=t,e},Fr=function(t){return function(t,e){var n=new qn;return n.ModelItem=t,n.Dict=e,n}(Xs(t),t)},Nr=function(t){var e=tr(t.Title);return e.Is_Tool_Visible=!1,e.OnKeyDown=function(t){var n=Dn(t),i=n.key;n.value;switch(i){case Vn:e.RenderState=Ut;break;case"esc":e.IsEscape=!0,e.RenderState=Ut}},Dt(e.OnSet_RenderState_Func_Dict,(function(){if(e.RenderState===Ut){if(e.IsEscape)return e.Content=t.Title,void(e.IsEscape=!1);if(e.Content===t.Title)return;var n=[];t.Table.CommandDict.Add({Key:"renamerow",Undo:function(){n.forEach((function(t){return t()}))}});var i=t.IsShow_RawValue,s=t.Title;n.push((function(){return t.Title=s}));var r=t.title=e.Content;n.push((function(){t.IsShow_RawValue=i})),t.IsShow_RawValue=Vr(t);var a=t.MassGroupItem.GetItem(t.FullValue,(function(t){return n.push(t)})),c=a.Title;n.push((function(){a.Title=c})),a.Title=r,t.ToolElement.editable_TitleVM_RenderState=e.RenderState}}),!1),e},Gr=function(){function t(){var e=this;Object(o.a)(this,t),this.Data=[],this.MaxLength=15,this.Add=function(t){var n=e.Data;n.length===e.MaxLength&&n.splice(0,1),n.push(t)},this.Undo=function(){var t=e.Data;if(0!==t.length){var n=t.length;t.splice(n-1,1)[0].Undo()}},Object(v.l)(this,{Data:v.m})}return Object(u.a)(t,[{key:"ButtonView",get:function(){return Pr(this)}},{key:"Disabled",get:function(){return 0===this.Data.length}}]),t}(),Rr=function(t){Object(l.a)(n,t);var e=Object(h.a)(n);function n(t){var i;Object(o.a)(this,n);var s=(i=e.call(this,t)).props.store;return s&&(i.state=s),i}return Object(u.a)(n,[{key:"render",value:function(){this.state;var t=this.props.width?this.props.width:512,e=this.props.height?this.props.height:512,n=this.props.className;return Object(i.jsx)(i.Fragment,{children:Object(i.jsx)("svg",{className:n,width:t,height:e,viewBox:"0 0 25.64 25.64",children:Object(i.jsx)("path",{d:"M10.385,1.499C10.096,1.378,9.76,1.446,9.537,1.667L0.228,8.98c-0.304,0.302-0.304,0.797,0,1.1\r l9.309,7.278c0.148,0.15,0.348,0.229,0.549,0.229c0.102,0,0.203-0.021,0.299-0.059c0.291-0.121,0.465-0.404,0.465-0.719V12.45\r c9.955,0,14.309,2.808,13.646,11.751C28.713,9.893,20.619,6.659,10.85,6.659V2.217C10.849,1.902,10.676,1.619,10.385,1.499z"})})})}}]),n}(s.Component),Lr=Object(d.a)(Rr),Pr=(n(372),function(t){return Object(i.jsx)(p.a,{type:"primary",size:"small",className:"commanddict__button btn-warning",onClick:t.Undo,disabled:t.Disabled,children:Object(i.jsx)(Lr,{width:12,height:12})})}),Ur=function(t){return function(t){var e=new Gr;return e.Dict=t,e}(t)},Er=function(){function t(){Object(o.a)(this,t)}return Object(u.a)(t,[{key:"_id",get:function(){return this.ModelItem._id}},{key:"Name",get:function(){return this.name||(this.name=this.ModelItem.Name),this.name},set:function(t){this.name=t,this.ModelItem.Name=t}},{key:"Description",get:function(){return this.description||(this.description=this.ModelItem.Description),this.description},set:function(t){this.description=t,this.ModelItem.Description=t}},{key:"DisplayContent",get:function(){return"".concat(this.Name)}}]),t}(),Ar=function(t,e){if(t){var n=new Er;return n.ModelItem=t,n.Dict=e,n}},Hr="addversion",Wr=function(){function t(){var e=this;Object(o.a)(this,t),this.items=void 0,this.OnGetItemsDone_Funcs=[],this.state=void 0,this.Add=function(t){e.Items.push(t)},this.AddVersion=function(){e.State=Hr},this.Cancel=function(){e.State=void 0},this.OK=function(){var t=e.Input.Name;-1===e.Items.findIndex((function(e){return e.Name===t}))?(e.State=void 0,e.ModelItem.AddMassVersion()):w.b.warning("version name already exists!")},Object(v.l)(this,{items:v.m,state:v.m})}return Object(u.a)(t,[{key:"Items",get:function(){return this.items||(this.items=Kr(this)),this.items}},{key:"GetItemsDone",set:function(t){this.OnGetItemsDone_Funcs.forEach((function(t){return t()}))}},{key:"Input",get:function(){return this.input||(this.input=zr(this)),this.input}},{key:"State",get:function(){return this.state},set:function(t){this.state=t}},{key:"Commands",get:function(){return Ll.Instance.Commands}}]),t}(),Br=function(){function t(){Object(o.a)(this,t),this.name=void 0}return Object(u.a)(t,[{key:"Name",get:function(){return this.name||(this.name=this.ModelItem.Name),this.name},set:function(t){this.name=t,this.ModelItem.Name=t}},{key:"Description",get:function(){return this.description||(this.description=this.ModelItem.Description),this.description},set:function(t){this.description=t,this.ModelItem.Description=t}},{key:"NameVM",get:function(){var t=this;this.nameVM||((this.nameVM=j(this.Name,"t\xean version")).onSetContent=function(e){return t.Name=e});return this.nameVM}},{key:"DescriptionVM",get:function(){var t=this;this.descriptionVM||((this.descriptionVM=j(this.Description,"m\xf4 t\u1ea3")).onSetContent=function(e){return t.Description=e});return this.descriptionVM}}]),t}(),Kr=function(t){var e=t.ModelItem.Items;if(e)return e.map((function(e){return Ar(e,t)}))},zr=function(t){return function(t,e){var n=new Br;return n.ModelItem=t,n.Dict=e,n}(t.ModelItem.Input,t)},qr=function(){function t(){Object(o.a)(this,t),this.OnSet_LevelSetting_Func_Dict=[],this.typicalLevelSetting=void 0,this.typicalLevelSetting_ForEdit=void 0,this.commands=void 0,Object(v.l)(this,{typicalLevelSetting:v.m,typicalLevelSetting_ForEdit:v.m,commands:v.m})}return Object(u.a)(t,[{key:"_id",get:function(){return this.ModelItem._id}},{key:"Name",get:function(){return this.name||(this.name=this.ModelItem.Name),this.name},set:function(t){this.name=t,this.ModelItem.Name=t}},{key:"Code",get:function(){return this.code||(this.code=this.ModelItem.Code),this.code},set:function(t){this.code=t,this.ModelItem.Code=t}},{key:"Phase_DictVM",get:function(){return this.phase_DictVM||(this.phase_DictVM=Wc(this)),this.phase_DictVM}},{key:"ExportSet_Dict",get:function(){return this.exportSet_Dict||(this.exportSet_Dict=Bc(this)),this.exportSet_Dict}},{key:"DisplayContent",get:function(){return"".concat(this.Code," - ").concat(this.Name)}},{key:"Level_Dict",get:function(){return this.ModelItem.Level_Dict}},{key:"LevelSetting",get:function(){return this.levelSetting||Kc(this),this.levelSetting},set:function(t){var e=this;this.levelSetting=t,Tt(this.OnSet_LevelSetting_Func_Dict,(function(t){return e.OnSet_LevelSetting_Func_Dict=t}))}},{key:"TypicalLevelSetting",get:function(){return this.typicalLevelSetting||(this.typicalLevelSetting=qc(this)),this.typicalLevelSetting},set:function(t){this.typicalLevelSetting=t}},{key:"TypicalLevelSetting_ForEdit",get:function(){return this.typicalLevelSetting_ForEdit||(this.typicalLevelSetting_ForEdit=Xc(this)),this.typicalLevelSetting_ForEdit},set:function(t){this.typicalLevelSetting_ForEdit=t}},{key:"Url",get:function(){return this.ModelItem.Url}},{key:"Commands",get:function(){return this.commands||Yc(this),this.commands},set:function(t){this.commands=t}}]),t}(),Xr=function(){function t(){var e=this;Object(o.a)(this,t),this.name=void 0,this.GetDataVM=function(){if(e.OnGetDataVM)return e.OnGetDataVM()},this.Delete=function(){e.Dict.Items.splice(e.Index,1)},Object(v.l)(this,{name:v.m})}return Object(u.a)(t,[{key:"_id",get:function(){return this.ModelItem._id}},{key:"M2VM",get:function(){return this.ModelItem.M2VM},set:function(t){this.ModelItem.M2VM=t}},{key:"Name",get:function(){return this.name||(this.name=this.ModelItem.Name),this.name},set:function(t){this.name=t,this.M2VM||(this.ModelItem.Name=t)}},{key:"NameVM",get:function(){var t=this;this.nameVM||((this.nameVM=j(this.Name,"t\xean thi\u1ebft l\u1eadp ...")).onSetContent=function(e){return t.Name=e});return this.nameVM}},{key:"Description",get:function(){return this.description||(this.description=this.ModelItem.Description),this.description},set:function(t){this.description=t,this.M2VM||(this.ModelItem.Description=t)}},{key:"SettingType",get:function(){return this.settingType||(this.settingType=this.ModelItem.SettingType),this.settingType},set:function(t){this.settingType=t,this.ModelItem.SettingType=t}},{key:"SearchName",get:function(){return this.Name}},{key:"DisplayContent",get:function(){return this.Name}},{key:"Data",get:function(){return this.data||(this.data=this.ModelItem.Data),this.data},set:function(t){this.data=t,this.M2VM||(this.ModelItem.Data=t)}},{key:"DataVM",get:function(){return this.dataVM||(this.dataVM=this.GetDataVM()),this.dataVM},set:function(t){this.dataVM=t,t&&this.OnInitialSetDataVM&&this.OnInitialSetDataVM(t),this.M2VM||(this.Data=t?t.ModelItem:t)}},{key:"Index",get:function(){return this.Dict.Items.indexOf(this)}}]),t}(),Yr=function(t){Object(l.a)(n,t);var e=Object(h.a)(n);function n(){return Object(o.a)(this,n),e.apply(this,arguments)}return n}(Xr),Qr="view",Jr="edit",Zr=function(){return[Qr,Jr]},$r=function(){function t(){var e=this;Object(o.a)(this,t),this.Is_ShowValue_Delete=void 0,this.ShowValue_Delete=function(){e.Commands.includes(Jr)&&(e.Is_ShowValue_Delete=!0)},this.HideValue_Delete=function(){e.Is_ShowValue_Delete=!1},this.Delete=function(){e.ModelItem.Delete();var t=e.Dict;t.Items.splice(e.Index,1),t.Table.DeleteItem(e)},Object(v.l)(this,{Is_ShowValue_Delete:v.m})}return Object(u.a)(t,[{key:"id",get:function(){return this.ModelItem.id}},{key:"Name",get:function(){return this.ModelItem.Name},set:function(t){this.ModelItem.Name=t}},{key:"NameVM",get:function(){var t=this;if(!this.nameVM){var e=this.nameVM=tr(this.Name);Dt(e.OnSet_RenderState_Func_Dict,(function(){e.RenderState===Ut&&(t.Name=e.Content)}),!1)}return this.nameVM}},{key:"Values",get:function(){return this.ModelItem.Values},set:function(t){this.ModelItem.Values=t}},{key:"Value_StorageList",get:function(){return this.value_StorageList||ea(this),this.value_StorageList},set:function(t){this.value_StorageList=t;var e=this.ValueVM;e.Items=t,e.InitialItems=this.Values}},{key:"ValueVM",get:function(){var t=this;if(!this.valueVM){var e=this.Value_StorageList?this.Value_StorageList:[],n=this.valueVM=ye(e,this.Values);n.Placeholder="Cho\u0323n d\u01b0\u0303 li\xea\u0323u",n.OnSelectedItemChanged=function(e){return t.Values=e},n.GetDisabled_Func=function(){return!t.Commands.includes(Jr)}}return this.valueVM}},{key:"Value_Element",get:function(){return Object(i.jsx)(i.Fragment,{children:Object(i.jsxs)("div",{className:"ls_item__value__wrapper",onMouseEnter:this.ShowValue_Delete,onMouseLeave:this.HideValue_Delete,children:[Object(i.jsx)(ke,{store:this.ValueVM}),Object(i.jsx)("div",{className:"ls_item__value__delete",children:this.Is_ShowValue_Delete?Object(i.jsx)(p.a,{type:"primary",size:"small",onClick:this.Delete,children:"x"}):Object(i.jsx)("div",{})})]})})}},{key:"Index",get:function(){return this.Dict.Items.indexOf(this)}},{key:"IsLast",get:function(){return this.Dict.Items.length-1===this.Index}},{key:"Project",get:function(){return this.Dict.Project}},{key:"Commands",get:function(){return Ll.Instance.Commands}}]),t}(),ta=function(t,e){var n=new $r;return n.ModelItem=t,n.Dict=e,n},ea=function(t){if(!t.IsGet_Value_StorageList){t.IsGet_Value_StorageList=!0;var e=t.Project.ModelItem,n=function(e){t.Value_StorageList=e.Items.map((function(t){return t.Name}))};e.LevelDict?n(e.LevelDict):wt(e.OnSet_LevelDict_Func_Dict,(function(){n(e.LevelDict)}),!1)}},na=function(){function t(){var e=this;Object(o.a)(this,t),this.items=void 0,this.AddItem=function(){var t=ta(e.ModelItem.AddItem(),e);return t.NameVM.RenderState=Et,e.Items.push(t),e.Table.AddItem(t),t},this.Update_LevelData=function(){e.ModelItem.Update_LevelData(),w.b.success("save successfully!")},Object(v.l)(this,{items:v.m})}return Object(u.a)(t,[{key:"Items",get:function(){return this.items||(this.items=Va(this)),this.items},set:function(t){this.items=t}},{key:"Project",get:function(){return this.Dict.Project}},{key:"Table",get:function(){return this.table||(this.table=Da(this)),this.table}},{key:"Commands",get:function(){return Ll.Instance.Commands}}]),t}(),ia=n(208),sa="default",ra="edit",aa=function(){function t(){Object(o.a)(this,t)}return Object(u.a)(t,[{key:"Render",get:function(){return this.render||(this.render=la(this)),this.render},set:function(t){this.render=t}}]),t}(),ca=function(){function t(){var e=this;Object(o.a)(this,t),this.renderState=void 0,this.Render=function(){var t=e.DataIndex,n=e.Item,i=oa(e);return e.Table.Override_Get_CellRender?e.Table.Override_Get_CellRender(i,n,t,e,e.Row,e.Column):e.Render_Dict.GetRender(e.RenderState).Render(i,n,t,e,e.Row,e.Column)},Object(v.l)(this,{renderState:v.m})}return Object(u.a)(t,[{key:"Key",get:function(){return"".concat(this.Column.Key,"_").concat(this.Row.Key)}},{key:"Item",get:function(){return this.Row.Item}},{key:"ColumnIndex",get:function(){return this.Row.Cells.indexOf(this)}},{key:"RowIndex",get:function(){return this.Row.Index}},{key:"RenderState",get:function(){return this.renderState||(this.renderState=this.Column.RenderState),this.renderState},set:function(t){this.renderState=t}},{key:"ValueVM",get:function(){if(!this.valueVM){var t=oa(this);this.valueVM=j(t)}return this.valueVM}},{key:"Render_Dict",get:function(){return this.render_Dict||(this.render_Dict=this.Column.Render_Dict),this.render_Dict}},{key:"DataIndex",get:function(){return this.Column.DataIndex}}]),t}(),oa=function(t){var e=t.DataIndex,n=t.Item;if(t.Table.Override_Get_CellValue)return t.Table.Override_Get_CellValue(n,t,t.Row,t.Column);var i=void 0;return e&&(i=n,e.forEach((function(t){i=i[t]}))),i},ua=function(t,e){var n=new aa;return n.State=t,n.Render=e,n},la=function(t){switch(t.State){case sa:return function(t,e,n,i,s,r){return i.ValueVM.Content};case ra:return function(t,e,n,s,r,a){if(!n)return t;var c=s.ValueVM,o=n.length,u=e;return n.filter((function(t,e){return e<o-1})).forEach((function(t){return u=u[t]})),c.onSetContent=function(t){u[n[o-1]]=t},Object(i.jsx)(y,{store:c})};default:return}},ha=function t(){var e=this;Object(o.a)(this,t),this.Items=[],this.GetRender=function(t){var n=e.Items,i=n.findIndex((function(e){return e.State===t}));if(-1===i){var s=ua(t);return n.push(s),s}return n[i]}},da=function(){function t(){Object(o.a)(this,t)}return Object(u.a)(t,[{key:"Render",get:function(){return this.render||(this.render=ma(this)),this.render},set:function(t){this.render=t}}]),t}(),ma=function(t){switch(t.State){case sa:return function(t,e,n){return Object(i.jsx)(i.Fragment,{children:Object(i.jsxs)("div",{className:"column__title__wrapper",children:[t,n.CanHandleColumn&&e.IsShow_MoveCommand?Object(i.jsxs)("div",{className:"column__title__tool",children:[n.CanEditColumn?Object(i.jsx)(p.a,{type:"primary",size:"small",style:{backgroundColor:"#faad14",border:"none"},onClick:e.Edit,children:"e"}):"",n.CanDeleteColumn?Object(i.jsx)(p.a,{type:"primary",danger:!0,size:"small",onClick:e.Delete,children:"x"}):""]}):""]})})};case ra:return function(t,e,n){return Object(i.jsx)(i.Fragment,{children:Object(i.jsxs)("div",{className:"column__title__wrapper",children:[e.InputElement,Object(i.jsx)(p.a,{type:"primary",size:"small",onClick:e.OK,children:"ok"})]})})};default:return}},fa=function t(){var e=this;Object(o.a)(this,t),this.Items=[],this.GetRender=function(t){var n=e.Items,i=n.findIndex((function(e){return e.State===t}));if(-1===i){var s=function(t,e){var n=new da;return n.State=t,n.Render=e,n}(t);return n.push(s),s}return n[i]}},pa="select",_a="input",va=function(t,e,n,i){var s=new ba;s.Title=t,Array.isArray(e)?s.DataIndex=e:s.DataIndex=[e],s.Key=St(),s.Table=i;var r=s.Render_Dict;return n&&n.forEach((function(t){r.GetRender(t.State).Render=t.Render})),s},Ia=function(t,e,n){var i=new ba;return i.Title=t,i.DataIndex=n?[n]:[t],i.Key=St(),i.Table=e,i.OnSetTitleOK_Funcs.push((function(){i.InputType===_a&&(i.DataIndex=[i.Title]),e.Update()})),i},ga=function(t){var e=[ua(sa,(function(e,n,s,r,a){var c="";if(t.CanHandleItem&&t.CanEditItem){c=Object(i.jsx)(p.a,{type:"primary",size:"small",style:{backgroundColor:"#faad14",border:"none"},onClick:function(){return a.Edit()},children:"edit"})}var o="";if(t.CanHandleItem&&t.CanDeleteItem){o=Object(i.jsx)(p.a,{type:"primary",danger:!0,size:"small",onClick:function(){return t.DeleteItem(n,a)},children:"x"})}return Object(i.jsxs)(i.Fragment,{children:[c,o]})})),ua(ra,(function(t,e,n,s,r){return Object(i.jsx)(p.a,{type:"primary",size:"small",onClick:function(){return r.OK()},children:"ok"})}))],n=va(undefined,null,e,t);return n.IsAction=!0,n.TitleRender_Dict.GetRender(sa).Render=function(){return Object(i.jsxs)("div",{style:{display:"flex"},children:[Object(i.jsx)(p.a,{type:"primary",size:"small",onClick:t.AddColumn,children:"(+) c"}),t.CanHandleItem&&t.CanAddItem?Object(i.jsx)(p.a,{type:"primary",size:"small",onClick:t.AddItem,children:"(+) r"}):""]})},n},ba=function(){function t(){var e=this;Object(o.a)(this,t),this.TitleRenderState=sa,this.RenderState=sa,this.title=void 0,this.dataIndex=void 0,this.OnSetTitleOK_Funcs=[],this.Edit=function(){var t=e.Table;t.CanHandleColumn&&t.CanEditColumn&&(e.TitleRenderState=ra)},this.OK=function(){e.TitleRenderState=sa,e.OnSetTitleOK_Funcs.forEach((function(t){return t(e)}))},this.Delete=function(){var t=e.Table;t.CanHandleColumn&&t.CanDeleteColumn&&(t.Columns.splice(e.Index,1),t.Update())},this.TitleRender=function(){var t=e.Title,n=e.Table;return e.TitleRender_Dict.GetRender(e.TitleRenderState).Render(t,e,n)},this.inputType=void 0,this.IsShow_MoveCommand=!1,this.Show_MoveCommand=function(){e.IsShow_MoveCommand=!0},this.Collapse_MoveCommand=function(){e.IsShow_MoveCommand=!1},this.MoveLeft=function(){var t=e.Index;if(0!==t){var n=e.CurrentList;1!==n.filter((function(t){return!t.IsActive})).length&&(Ct(n,t,t-1),e.Table.Update())}},this.MoveRight=function(){var t=e.Index,n=e.CurrentList,i=n.filter((function(t){return!t.IsActive}));1!==i.length&&t!==i.length&&(Ct(n,t,t+1),e.Table.Update())},Object(v.l)(this,{title:v.m,TitleRenderState:v.m,inputType:v.m,IsShow_MoveCommand:v.m})}return Object(u.a)(t,[{key:"Index",get:function(){return this.CurrentList.indexOf(this)}},{key:"CurrentList",get:function(){return this.Table.Columns},set:function(t){this.Table.Columns=t}},{key:"Title",get:function(){return this.title},set:function(t){this.title=t}},{key:"DataIndex",get:function(){return this.dataIndex},set:function(t){this.dataIndex=t}},{key:"Key",get:function(){return this.key||(this.key=Mt()),this.key},set:function(t){this.key=t}},{key:"TitleRender_Dict",get:function(){return this.titleRender_Dict||(this.titleRender_Dict=new fa),this.titleRender_Dict}},{key:"Render_Dict",get:function(){return this.render_Dict||(this.render_Dict=new ha),this.render_Dict},set:function(t){this.render_Dict=t}},{key:"InputType",get:function(){return this.inputType||(this.inputType=this.Table.Column_InputType),this.inputType}},{key:"AllNames",get:function(){return this.Table.AllColumnNames}},{key:"InputVM",get:function(){var t=this;if(!this.inputVM){var e=this.inputVM=j(this.Title);e.onSetContent=function(e){return t.Title=e}}return e}},{key:"SelectVM",get:function(){var t=this;if(!this.selectVM){var e=this.AllNames,n=this.selectVM=Re(this.AllNames);if(n.TitleRender=function(t){return t.Name},n.OnSelectedItemChanged=function(e){t.Title=e.Name,t.DataIndex=[e.Value]},this.Title){if(!n.InitialItem){var i=e.findIndex((function(e){return e.Name===t.Title}));n.InitialItem=e[i]}}else{var s=e[0];this.Title=s.Name,this.DataIndex=[s.Value],n.InitialItem=s}}return this.selectVM}},{key:"InputElement",get:function(){switch(this.InputType){case _a:return Object(i.jsx)(y,{store:this.InputVM});case pa:var t=this.Table.Column_Title_SelectWidth;return Object(i.jsx)("div",{style:{width:t},children:Object(i.jsx)(Be,{store:this.SelectVM})})}}},{key:"CanShow_MoveCommand",get:function(){return this.Table.CanShow_MoveCommand}}]),t}(),ja=function(){function t(){var e=this;Object(o.a)(this,t),this.Item=void 0,this.Edit=function(){var t=e.Table;t.CanHandleItem&&t.CanEditItem&&e.Cells.forEach((function(t){return t.RenderState=ra}))},this.OK=function(){e.Cells.forEach((function(t){return t.RenderState=sa})),e.Table.EditItem(e.Item)},Object(v.l)(this,{Item:v.m})}return Object(u.a)(t,[{key:"Key",get:function(){return this.key||(this.key=this.Item._id?this.Item._id:this.Item.id,this.key||(this.key=St())),this.key}},{key:"Index",get:function(){return this.Table.Rows.indexOf(this)}},{key:"Cells",get:function(){return this.cells||(this.cells=ya(this)),this.cells}}]),t}(),Oa=function(t,e){var n=new ja;return n.Item=t,n.Table=e,n},ya=function(t){return t.Table.Columns.map((function(e){return function(t,e){var n=new ca;return n.Row=t,n.Column=e,n.Table=t.Table,n}(t,e)}))},Sa=function(){function t(){var e,n=this;Object(o.a)(this,t),this.CanHandleItem=!0,this.CanAddItem=!0,this.CanDeleteItem=!0,this.CanEditItem=!0,this.CanHandleColumn=!0,this.CanAddColumn=!0,this.CanDeleteColumn=!0,this.CanEditColumn=!0,this.IsShowActionColumn=!0,this.columns=void 0,this.dataSource=void 0,this.rows=void 0,this.AddItem=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(n.CanHandleItem&&n.CanAddItem){void 0===t&&(t=n.OnGetItemForAdd?n.OnGetItemForAdd():{Key:St(),IsTypeNotDefined:!0}),n.DataSource.push(t);var i=Oa(t,n);n.Rows.push(i),e&&i.Edit()}},this.DeleteItem=function(t,e){if(n.CanHandleItem&&n.CanDeleteItem){var i=n.DataSource,s=i.indexOf(t);i.splice(s,1),n.Rows.splice(s,1),n.OnDeleteItem&&n.OnDeleteItem(t)}},this.EditItem=function(t){if(n.CanHandleItem&&n.CanEditItem){if(t.IsTypeNotDefined){var e=n.DataSource.findIndex((function(e){return e.Key===t.Key}));t=n.DataSource[e]=Object(ia.a)({},t)}n.OnEditItem&&n.OnEditItem(t)}},this.AddColumn=function(){if(n.CanHandleColumn&&n.CanDeleteColumn){var t=Ia(null,n),e=n.Columns.findIndex((function(t){return t.IsAction}));-1!==e?n.Columns.splice(e,0,t):n.Columns.push(t),t.Edit()}},this.Update=function(){n.Rows=null},this.Column_InputType=_a,this.AllColumnNames=[],this.CanShow_MoveCommand=!0,Object(v.l)(this,(e={columns:v.m,dataSource:v.m,rows:v.m,AllColumnNames:v.m,Column_InputType:v.m,CanHandleItem:v.m,CanAddItem:v.m,CanDeleteItem:v.m,CanEditItem:v.m},Object(Qe.a)(e,"CanHandleItem",v.m),Object(Qe.a)(e,"CanAddItem",v.m),Object(Qe.a)(e,"CanDeleteItem",v.m),Object(Qe.a)(e,"CanEditItem",v.m),Object(Qe.a)(e,"IsShowActionColumn",v.m),e))}return Object(u.a)(t,[{key:"Columns",get:function(){return this.columns||(this.columns=[va("T\xean c\u1ea5u ki\u1ec7n","ElementName",null,this),va("\u0110\u01b0\u1eddng k\xednh","Diameter",null,this)],this.IsShowActionColumn&&this.columns.push(ga(this))),this.columns},set:function(t){this.columns=t,this.Rows=void 0}},{key:"DataSource",get:function(){return this.dataSource||(this.dataSource=[]),this.dataSource},set:function(t){this.dataSource=t,this.Rows=void 0}},{key:"Rows",get:function(){var t;return this.rows||(this.rows=(t=this).DataSource.map((function(e){return Oa(e,t)}))),this.rows},set:function(t){this.rows=t}}]),t}(),Ma=(n(373),function(t){Object(l.a)(n,t);var e=Object(h.a)(n);function n(t){var i;Object(o.a)(this,n);var s=(i=e.call(this,t)).props.store;return i.state=s||new $s,i.state.Ref=r.a.createRef(),i}return Object(u.a)(n,[{key:"render",value:function(){var t=this.state;return t.ClassName=this.props.className?this.props.className:"",t.Style=this.props.style,t.OnFocus=t.OnFocus?t.OnFocus:this.props.onFocus,t.OnDoubleClick=t.OnDoubleClick?t.OnDoubleClick:this.props.onDoubleClick,t.OnClick=t.OnClick?t.OnClick:this.props.onClick,Object(i.jsx)(i.Fragment,{children:t.Render()})}}]),n}(s.Component)),Ca=Object(d.a)(Ma),ka=function(t,e){var n=new na;return n.ModelItem=t,n.Dict=e,n},Va=function(t){return t.ModelItem.Items.map((function(e){return ta(e,t)}))},Da=function(t){var e=new Sa,n=new ba;n.Title="T\xean",n.DataIndex=["name"],n.Key=St(),n.Table=e,n.ClassName="ls__title-column";var s=new ba;return s.Title="T\u01b0\u01a1ng \u0111\u01b0\u01a1ng v\u01a1\u0301i",s.DataIndex=["value"],s.Key=St(),s.Table=e,s.ClassName="ls__value-column",e.Columns=[n,s],e.CanShow_MoveCommand=!1,e.CanHandleColumn=!1,e.Override_Get_CellRender=function(e,n,s,r,a,c){switch(c.DataIndex[0]){case"name":return t.Commands.includes(Jr)?Object(i.jsx)(Ca,{store:n.NameVM}):n.NameVM.Content;case"value":return n.Value_Element}},e.DataSource=Object(S.a)(t.Items),e},wa=function(){function t(){Object(o.a)(this,t),this.OnSet_LevelStorageList_Func_Dict=[]}return Object(u.a)(t,[{key:"Binding",get:function(){return this.binding||(this.binding=ec(this)),this.binding}},{key:"Typical",get:function(){return this.typical||(this.typical=nc(this)),this.typical}},{key:"LevelStorageList",get:function(){return this.levelStorageList||(this.levelStorageList=ic(this)),this.levelStorageList},set:function(t){var e=this;this.levelStorageList=t,Tt(this.OnSet_LevelStorageList_Func_Dict,(function(t){return e.OnSet_LevelStorageList_Func_Dict=t}))}},{key:"FieldFilterStorageList",get:function(){return this.Dict.FieldFilterStorageList}},{key:"SettingVM",get:function(){return this.Dict}},{key:"Project",get:function(){return this.Dict.Project}}]),t}(),Ta="text",xa="input",Fa=function(){function t(){Object(o.a)(this,t),this.Cancel=!1,this.ischecked=void 0,this.isDisable=!1,Object(v.l)(this,{ischecked:v.m,isDisable:v.m,Cancel:v.m})}return Object(u.a)(t,[{key:"Ischecked",set:function(t){this.ischecked=t,this.onCheckChange&&this.onCheckChange(t)}}]),t}(),Na=function(t,e){var n=new Fa;return n.ischecked=e,n.name=t,n},Ga=(n(374),function(t){Object(l.a)(n,t);var e=Object(h.a)(n);function n(t){var i;Object(o.a)(this,n),(i=e.call(this,t)).onCheckedChange=function(t){var e=i.state,n=t.target.checked;e.OnCheckChanging&&e.OnCheckChanging(n),e.Cancel||(e.Ischecked=n)};var s=i.props.store;return i.state=s||Na(!1),i}return Object(u.a)(n,[{key:"render",value:function(){var t=this.state,e=t.ischecked,n=t.name,s=t.isDisable;return Object(i.jsx)(i.Fragment,{children:Object(i.jsxs)("label",{children:[Object(i.jsx)("input",{type:"checkbox",checked:e,onChange:this.onCheckedChange,disabled:s}),Object(i.jsx)("span",{className:"checkbox__title",children:n})]})})}}]),n}(s.Component)),Ra=Object(d.a)(Ga),La=function(){function t(){var e=this;Object(o.a)(this,t),this.Delete=function(){e.ModelItem.Delete(),e.Dict.LevelGroups.splice(e.Index,1),e.Primary=Ua(e)},this.primary=void 0,this.isSelectOpen=void 0,Object(v.l)(this,{primary:v.m,isSelectOpen:v.m})}return Object(u.a)(t,[{key:"id",get:function(){return this.ModelItem.id}},{key:"LevelStorageList",get:function(){return this.levelStorageList||(this.levelStorageList=Ea(this)),this.levelStorageList},set:function(t){this.levelStorageList=t;var e=this.LevelSelectVM;e.Items=t,e.InitialItems=this.Levels}},{key:"Levels",get:function(){return this.ModelItem.Levels},set:function(t){this.ModelItem.Levels=t}},{key:"SettingVM",get:function(){return this.Dict.SettingVM}},{key:"LevelSelectVM",get:function(){var t=this;if(!this.levelSelectVM){var e=this.LevelStorageList;e||this.SettingVM.ModelItem.OnGetLevelStorageList_Funcs.push((function(){var e=t.levelSelectVM;e.Items=t.LevelStorageList,e.InitialItems=t.Levels})),e=e||[];var n=this.levelSelectVM=ye(e,this.Levels);n.Placeholder="ch\u1ecdn level ...",n.GetDisabled_Func=function(){return!t.Commands.includes(Jr)},n.TitleRender=function(e){var n=j(t.IsSelectOpen||t.Primary===e?"click":"hover"),s=j(t.Primary===e?"primary":"dashed"),r=j(t.Primary===e?"":"Set");return Object(i.jsx)(Te.a,{trigger:n.Content,content:Object(i.jsxs)("span",{children:[t.Primary!==e?Object(i.jsx)("span",{className:"levelgroup__addtext",children:r.Content}):"",Object(i.jsx)(p.a,{size:"small",type:s.Content,onClick:function(){t.Primary=e},children:"Primary"})]}),children:Object(i.jsx)("span",{className:t.Primary===e?"levelgroup__primary":"",children:e})})},n.OnSetOpen=function(e){return t.IsSelectOpen=e},n.OnSelectedItemChanged=function(e){t.Levels=e,-1===t.Levels.indexOf(t.Primary)&&(t.Primary=Ua(t))}}return this.levelSelectVM}},{key:"Index",get:function(){return this.Dict.LevelGroups.indexOf(this)}},{key:"Primary",get:function(){return this.primary||(this.primary=this.ModelItem.Primary),this.primary},set:function(t){this.primary=this.ModelItem.Primary=t}},{key:"IsSelectOpen",get:function(){return this.isSelectOpen},set:function(t){this.isSelectOpen=t}},{key:"Commands",get:function(){return Ll.Instance.Commands}}]),t}(),Pa=function(t,e){var n=new La;return n.ModelItem=t,n.Dict=e,wt(e.OnSet_LevelStorageList_Func_Dict,(function(){return n.LevelStorageList=Ea(n)}),!1),n},Ua=function(t){if(t.Levels&&0!==t.Levels.length)return t.Levels[0]},Ea=function(t){return t.Dict.LevelStorageList},Aa=function(){function t(){var e=this;Object(o.a)(this,t),this.value=void 0,this.Delete=function(){e.Dict.ModelItem.Items.splice(e.Index,1),e.Dict.Items.splice(e.Index,1)},this.inputType=void 0,this.ToggleInputType=function(){switch(e.InputType){case ki:e.SelectVM.InitialItem=e.Value,e.Value=e.SelectVM.SelectedItem,e.InputType=Vi;break;case Vi:e.Value?e.ValueVM.Content=e.Value:(e.ValueVM.Content||(e.ValueVM.Content="value"),e.Value=e.ValueVM.Content),e.InputType=ki}},this.SwitchChecked_Funcs=function(){return e.InputType===Vi},Object(v.l)(this,{inputType:v.m,value:v.m})}return Object(u.a)(t,[{key:"id",get:function(){return this._id||(this._id=Mt()),this._id}},{key:"Index",get:function(){return this.Dict.Items.indexOf(this)}},{key:"Values",get:function(){return this.Dict.ModelItem.Items}},{key:"Value",get:function(){return this.value||(this.value=this.Values[this.Index].Value),this.value},set:function(t){this.value=this.Values[this.Index].Value=t}},{key:"ValueVM",get:function(){var t=this;this.valueVM||((this.valueVM=j(this.Value)).onSetContent=function(e){t.Value=e});return this.valueVM}},{key:"SelectVM",get:function(){var t=this;if(!this.selectVM){var e=this.selectVM=Re(["C\u1ed9t","V\xe1ch","D\u1ea7m","S\xe0n"],this.Value);e.Placeholder="...",e.OnSetOpen=function(e){return t.SelectOpen=e},e.OnSelectedItemChanged=function(e){return t.Value=e}}return this.selectVM}},{key:"InputType",get:function(){return this.inputType||(this.inputType=this.ModelItem.InputType),this.inputType},set:function(t){this.inputType=this.ModelItem.InputType=t}},{key:"InputElement",get:function(){switch(this.InputType){case ki:return Object(i.jsx)(y,{store:this.ValueVM,className:"tls_filter__value__input"});case Vi:return Object(i.jsx)(Be,{store:this.SelectVM,className:"tls_filter__value__select"})}}},{key:"SelectOpen",get:function(){return void 0===this.selectOpen&&(this.selectOpen=this.SelectVM.Open),this.selectOpen},set:function(t){this.selectOpen=t,this.PopoverState.Content=Wa(this)}},{key:"PopoverState",get:function(){return this.popoverState||(this.popoverState=j(Wa(this))),this.popoverState}},{key:"Commands",get:function(){return Ll.Instance.Commands}}]),t}(),Ha=function(t,e){var n=new Aa;return n.ModelItem=t,n.Dict=e,n},Wa=function(t){return t.SelectOpen?"none":"hover"},Ba=function(){function t(){var e=this;Object(o.a)(this,t),this.Delete=function(){e.ModelItem.Delete(),e.Dict.Filters.splice(e.Index,1)},this.items=void 0,this.AddItem=function(){var t=Ha(e.ModelItem.AddItem(),e);return e.Items.push(t),t},Object(v.l)(this,{items:v.m})}return Object(u.a)(t,[{key:"id",get:function(){return this.ModelItem.id}},{key:"Field",get:function(){return this.ModelItem.Field},set:function(t){this.ModelItem.Field=t}},{key:"FieldStorageList",get:function(){return this.Dict.FieldFilterStorageList}},{key:"FieldSelectVM",get:function(){var t=this;if(!this.fieldSelectVM){var e=this.fieldSelectVM=Re(this.FieldStorageList,this.Field);e.Placeholder="ch\u1ecdn b\u1ed9 l\u1ecdc ...",e.OnSelectedItemChanged=function(e){return t.Field=e},e.GetDisabled_Func=function(){return!t.Commands.includes(Jr)}}return this.fieldSelectVM}},{key:"Index",get:function(){return this.Dict.Filters.indexOf(this)}},{key:"Items",get:function(){return this.items||(this.items=za(this)),this.items}},{key:"Commands",get:function(){return Ll.Instance.Commands}}]),t}(),Ka=function(t,e){var n=new Ba;return n.ModelItem=t,n.Dict=e,n},za=function(t){return t.ModelItem.Items.map((function(e){return Ha(e,t)}))},qa=function(){function t(){var e=this;Object(o.a)(this,t),this.name=void 0,this.State=Ta,this.ToggleState=function(){switch(e.State){case Ta:e.State=xa;break;case xa:e.NameVM.Content=e.Name,e.State=Ta}},this.NameOK=function(){e.State=Ta,e.Name=e.NameVM.Content},this.NameCancel=function(){e.State=Ta},this.Delete=function(){e.ModelItem.Delete();var t=e.Index,n=e.IsLast,i=e.Dict,s=i.PageItems;s.splice(t,1),i.AllTabs.splice(t,1),0!==s.length&&(i.IsModelChangePageKey=!0,i.CurrentPageKey=(n?s[t-1]:s[t]).id)},this.OnSet_LevelStorageList_Func_Dict=[],this.levelGroups=void 0,this.AddLevelGroup=function(){var t=Pa(e.ModelItem.AddLevelGroup(),e);return e.LevelGroups.push(t),t},this.filters=void 0,this.AddFilter=function(){var t=Ka(e.ModelItem.AddFilter(),e);return e.Filters.push(t),t},Object(v.l)(this,{name:v.m,State:v.m,levelGroups:v.m,filters:v.m})}return Object(u.a)(t,[{key:"id",get:function(){var t;return null===(t=this.ModelItem)||void 0===t?void 0:t.id},set:function(t){this._id=t}},{key:"Name",get:function(){return this.name||(this.name=this.ModelItem.Name),this.name},set:function(t){this.name=this.ModelItem.Name=t}},{key:"DeleteMarginCss",get:function(){return this.State===xa?"tls_pageItem__deletemargin":""}},{key:"NameVM",get:function(){return this.nameVM||(this.nameVM=j(this.Name)),this.nameVM}},{key:"InputToolElement",get:function(){return Object(i.jsxs)("div",{children:[Object(i.jsx)(p.a,{type:"primary",size:"small",onClick:this.NameOK,children:"ok"}),Object(i.jsx)(p.a,{type:"dashed",size:"small",onClick:this.NameCancel,children:"cancel"})]})}},{key:"InputElement",get:function(){return Object(i.jsx)(tn,{className:"tls_pageItem_input",store:this.NameVM})}},{key:"TitleElement",get:function(){var t=Object(i.jsx)(p.a,{type:"primary",size:"small",onClick:this.Delete,className:"tls_pageItem__delete",children:"x"});switch(this.State){case Ta:return Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)("span",{children:this.Name}),this.Commands.includes(Jr)?Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)(p.a,{type:"primary",size:"small",className:"tls_pageItem__edit",onClick:this.ToggleState,children:"e"}),t]}):""]});case xa:return Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)(Te.a,{content:this.InputToolElement,trigger:"focus",children:Object(i.jsx)("span",{children:this.InputElement})}),t]})}}},{key:"Index",get:function(){return this.Dict.PageItems.indexOf(this)}},{key:"IsLast",get:function(){return this.Dict.PageItems.length-1===this.Index}},{key:"SettingVM",get:function(){return this.Dict.SettingVM}},{key:"LevelStorageList",get:function(){return this.levelStorageList||(this.levelStorageList=Ja(this)),this.levelStorageList},set:function(t){var e=this;this.levelStorageList=t,Tt(this.OnSet_LevelStorageList_Func_Dict,(function(t){return e.OnSet_LevelStorageList_Func_Dict=t}))}},{key:"LevelGroups",get:function(){return this.levelGroups||(this.levelGroups=Ya(this)),this.levelGroups}},{key:"FieldFilterStorageList",get:function(){return this.Dict.FieldFilterStorageList}},{key:"Filters",get:function(){return this.filters||(this.filters=Qa(this)),this.filters}},{key:"Commands",get:function(){return Ll.Instance.Commands}}]),t}(),Xa=function(t,e){var n=new qa;return n.ModelItem=t,n.Dict=e,wt(e.OnSet_LevelStorageList_Func_Dict,(function(){return n.LevelStorageList=Ja(n)}),!1),n},Ya=function(t){return t.ModelItem.LevelGroups.map((function(e){return Pa(e,t)}))},Qa=function(t){return t.ModelItem.Filters.map((function(e){return Ka(e,t)}))},Ja=function(t){return t.Dict.LevelStorageList},Za=function(){function t(){var e=this;Object(o.a)(this,t),this.OnSet_LevelStorageList_Func_Dict=[],this.pageItems=void 0,this.AddPageItem=function(){var t=Xa(e.ModelItem.AddPageItem(),e);e.PageItems.push(t);var n=e.IsHaveAddCommandTab?1:0;return e.AllTabs.splice(e.AllTabs.length-n,0,t),e.CurrentPageKey=t.id,t},this.IsHaveAddCommandTab=!1,this.allTabs=void 0,this.currentPageKey=void 0,this.IsModelChangePageKey=!1,this.ChangePageKey=function(t){e.IsModelChangePageKey?e.IsModelChangePageKey=!1:e.CurrentPageKey=t},this.Save=function(){e.SettingVM.Save()},Object(v.l)(this,{pageItems:v.m,currentPageKey:v.m,allTabs:v.m})}return Object(u.a)(t,[{key:"SettingVM",get:function(){return this.Dict.SettingVM}},{key:"LevelStorageList",get:function(){return this.levelStorageList||(this.levelStorageList=tc(this)),this.levelStorageList},set:function(t){var e=this;this.levelStorageList=t,Tt(this.OnSet_LevelStorageList_Func_Dict,(function(t){return e.OnSet_LevelStorageList_Func_Dict=t}))}},{key:"FieldFilterStorageList",get:function(){return this.Dict.FieldFilterStorageList}},{key:"PageItems",get:function(){return this.pageItems||(this.pageItems=$a(this)),this.pageItems}},{key:"AddCommandTab",get:function(){return this.addCommandTab||(this.addCommandTab={id:"add",TitleElement:Object(i.jsx)(p.a,{className:"tls__tabs__add",type:"text",size:"small",onClick:this.AddPageItem,children:"+"})}),this.addCommandTab}},{key:"AllTabs",get:function(){if(!this.allTabs){var t=Object(S.a)(this.PageItems);this.IsHaveAddCommandTab&&t.push(this.AddCommandTab),this.allTabs=t}return this.allTabs}},{key:"CurrentPageKey",get:function(){return this.currentPageKey||(this.currentPageKey=this.PageItems[0].id),this.currentPageKey},set:function(t){this.currentPageKey=t}},{key:"Commands",get:function(){return Ll.Instance.Commands}}]),t}(),$a=function(t){return t.ModelItem.PageItems.map((function(e){return Xa(e,t)}))},tc=function(t){return t.Dict.LevelStorageList},ec=function(t){return ka(t.ModelItem.Binding,t)},nc=function(t){return function(t,e){var n=new Za;return n.ModelItem=t,n.Dict=e,wt(e.OnSet_LevelStorageList_Func_Dict,(function(){return n.LevelStorageList=tc(n)}),!1),n}(t.ModelItem.Typical,t)},ic=function(t){return t.ModelItem.LevelStorageList},sc=function(t){Object(l.a)(n,t);var e=Object(h.a)(n);function n(){var t;Object(o.a)(this,n);for(var i=arguments.length,s=new Array(i),r=0;r<i;r++)s[r]=arguments[r];return(t=e.call.apply(e,[this].concat(s))).Save=function(){t.ModelItem.Save()},t}return Object(u.a)(n,[{key:"LevelStorageList",get:function(){return this.ModelItem.LevelStorageList}},{key:"FieldFilterStorageList",get:function(){return this.ModelItem.FieldFilterStorageList}}]),n}(Xr),rc=function(t,e){if(t){var n=new sc;return n.ModelItem=t,n.Project=e,t.OnNameChanged=function(e){t.M2VM&&(n.Name=e)},t.OnDescriptionChanged=function(e){t.M2VM&&(n.Description=e)},t.OnDataChanged=function(e){t.M2VM&&(n.Data=e,n.DataVM=n.GetDataVM())},n.OnGetDataVM=function(){return function(t,e){var n=new wa;return n.ModelItem=t,n.Dict=e,wt(t.OnSet_LevelStorageList_Func_Dict,(function(){return n.LevelStorageList=ic(n)}),!1),n}(t.Data,n)},n}},ac=(n(375),n(456)),cc=n(457),oc=(n(376),"info"),uc="value",lc=function(t){Object(l.a)(n,t);var e=Object(h.a)(n);function n(t){var i;Object(o.a)(this,n);var s=(i=e.call(this,t)).props.store;return i.state=s||new kc,i}return Object(u.a)(n,[{key:"render",value:function(){var t=this.state;return Object(i.jsx)(i.Fragment,{children:Object(i.jsxs)("table",{className:"table table-bordered",children:[Object(i.jsxs)("thead",{className:"es__thead",children:[Object(i.jsx)("tr",{children:t.ColumnGroups.map((function(t){return t.View}))}),Object(i.jsx)("tr",{children:t.ColumnGroups.map((function(t){return t.Columns.map((function(t){return t.View}))}))})]}),Object(i.jsx)("tbody",{children:t.Items?t.Items.map((function(e){return Object(i.jsx)("tr",{children:t.ColumnGroups.map((function(t){return t.Columns.map((function(t){return t.MassItem_Render(e)}))}))},e._id)})):Object(i.jsx)("tr",{})})]})})}}]),n}(s.Component),hc=Object(d.a)(lc),dc=(n(377),function(){function t(){var e=this;Object(o.a)(this,t),this.columns=void 0,this.AddColumn=function(){yc(e),e.Table.Refresh_ColumnCount()},Object(v.l)(this,{columns:v.m})}return Object(u.a)(t,[{key:"TempId",get:function(){return this.tempId||(this.tempId=Mt()),this.tempId}},{key:"id",get:function(){return this._id?this._id:this.TempId}},{key:"Title",get:function(){return bc(this)}},{key:"DefaultField",get:function(){return Oc(this)}},{key:"Table",get:function(){return this.Dict}},{key:"Columns",get:function(){return this.columns||(this.columns=jc(this)),this.columns}},{key:"ColumnsCount",get:function(){return this.Columns.length}},{key:"View",get:function(){return Object(i.jsxs)("th",{colSpan:this.ColumnsCount,children:[Object(i.jsx)("span",{children:this.Title}),this.Commands.includes(Jr)?Object(i.jsx)(p.a,{type:"primary",size:"small",className:"es__mi__add btn-success",onClick:this.AddColumn,children:"+"}):""]},this.id)}},{key:"Commands",get:function(){return Ll.Instance.Commands}}]),t}()),mc=function(){function t(){var e=this;Object(o.a)(this,t),this.renderState=Ut,this.Edit=function(){e.Commands.includes(Jr)&&e.RenderState===Ut&&(e.RenderState=Et,e.Hide_Tool())},this.title=void 0,this.Delete=function(){e.CurrentList.splice(e.Index,1),e.Table.Refresh_ColumnCount()},this.OnMouseEnter=function(){e.RenderState!==Et&&e.Show_Tool()},this.OnMouseLeave=function(){e.Hide_Tool()},this.MassItem_Render=function(t){var n=e.Field,s=e.Group===oc?function(){return t.GetValue_Mas(n)}:function(){return t.ValueDict.GetValue(n)};return Object(i.jsx)("td",{children:s()},e.id)},Object(v.l)(this,{renderState:v.m,title:v.m})}return Object(u.a)(t,[{key:"Show_Tool",value:function(){this.DeleteVM.Show()}},{key:"Hide_Tool",value:function(){this.DeleteVM.Hide()}},{key:"TempId",get:function(){return this.tempId||(this.tempId=Mt()),this.tempId}},{key:"id",get:function(){return this._id?this._id:this.TempId}},{key:"RenderState",get:function(){return this.renderState},set:function(t){this.renderState=t}},{key:"Field",get:function(){return this.field},set:function(t){this.field=t,this.Title=vc(this)}},{key:"Table",get:function(){return this.Dict.Table}},{key:"Title",get:function(){return this.title||(this.title=vc(this)),this.title},set:function(t){this.title=t}},{key:"TitleSelect",get:function(){return this.titleSelect||(this.titleSelect=_c(this)),this.titleSelect}},{key:"TitleView",get:function(){switch(this.RenderState){case Ut:return Object(i.jsxs)("div",{className:"f",children:[Object(i.jsx)("div",{className:"f1",children:this.Title}),this.Commands.includes(Jr)?this.DeleteVM.View:""]});case Et:return Object(i.jsx)(Be,{store:this.TitleSelect})}}},{key:"View",get:function(){return Object(i.jsx)("th",{style:this.Table.Tr_Style,onDoubleClick:this.Edit,onMouseEnter:this.OnMouseEnter,onMouseLeave:this.OnMouseLeave,children:this.TitleView},this.id)}},{key:"CurrentList",get:function(){return this.Dict.Columns}},{key:"Index",get:function(){return this.CurrentList.indexOf(this)}},{key:"DeleteVM",get:function(){return this.deleteVM||(this.deleteVM=Ic(this)),this.deleteVM}},{key:"Commands",get:function(){return Ll.Instance.Commands}}]),t}(),fc=function(){return Gd.Instance},pc=function(t,e,n){var i=new mc;return i.Field=t,i.Group=e,i.Dict=n,i},_c=function(t){var e=new Le;switch(t.Group){case oc:e.Items=fc().MIF_Dict_ForInput;break;case uc:e.Items=fc().MUT_Dict}return e.TitleRender=function(t){return t.Name},e.InitialItem=Lt(e.Items,(function(e){return e.Name===t.Title})),e.OnSelectedItemChanged=function(e){t.Field=e.Value,t.RenderState=Ut},e},vc=function(t){var e=t.Field;switch(t.Group){case oc:return yt(e);case uc:return fn(e)}},Ic=function(t){var e=new ar;return e.ToggleType=nr,e.Title="X\xe1c nh\u1eadn x\xf3a?",e.OnRun=function(){t.Delete()},e},gc=function(t,e){var n=new dc;return n.Group=t,n.Dict=e,n},bc=function(t){switch(t.Group){case oc:return"TH\xd4NG TIN";case uc:return"GI\xc1 TR\u1eca"}},jc=function(t){return t.Fields.map((function(e){return pc(e,t.Group,t)}))},Oc=function(t){switch(t.Group){case oc:return rt;case uc:return dn}},yc=function(t){var e=pc(t.DefaultField,t.Group,t);return t.Columns.push(e),t},Sc="https://api.bimdev.vn/api/hbes_table",Mc=function(t){var e=new kc;return e.Dict=t,e},Cc=function(t){return t.ColumnGroups.reduce((function(t,e){return t+e.Columns.length}),0)},kc=function(){function t(){var e=this;Object(o.a)(this,t),this.OnSet_id_Func_Dict=[],this.items=void 0,this.SetItems=function(t){e.Dict.ModelItem.MassItems=t},this.Refresh_Info=function(){e.Infos=e.GetColumnGroup(oc).Columns.map((function(t){return t.Field})),e.Values=function(t){return t.GetColumnGroup(uc).Columns.map((function(t){return t.Field}))}(e)},this.infos=void 0,this.values=void 0,this.Refresh_ColumnCount=function(){e.ColumnCount=Cc(e)},this.columnCount=void 0,this.GetColumnGroup=function(t){return Lt(e.ColumnGroups,(function(e){return e.Group===t}))},this.SaveDatabase=function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=arguments.length>1?arguments[1]:void 0;Nt(e,Sc,(function(){t&&w.b.success("save successfully!"),n&&n()}))},this.Save=function(){e.SaveDatabase(!0)},this.OnPaste=function(t){var n=Rt(t).split("\r\n");if(0!==n.length&&(1!==n.length||0!==n[0].length)){var i=n.map((function(t){return t.split("\t")})),s=i.length-1;1===i[s].length&&0===i[s][0].length&&i.splice(s,1),e.SetItems(function(t,e){t.Refresh_Info();var n=t.Infos,i=n.length,s=t.Values,r=i+s.length;return e.map((function(t){var e=new Ks,a=e.Info={},c=e.ValueDict;c.Dict=e,c.GetItem(dn).Value=1;for(var o=0;o<t.length;o++)o>=r||(o<i?a[n[o]]=t[o]:isNaN(t[o])||(c.GetItem(s[o-i]).Value=parseFloat(t[o])));return e}))}(e,i)),e.Dict.SaveMassItems(),e.PasteVM.Content=""}},Object(v.l)(this,{items:v.m,columnCount:v.m})}return Object(u.a)(t,[{key:"_id",get:function(){return this.__id},set:function(t){var e=this;this.__id=t,Tt(this.OnSet_id_Func_Dict,(function(t){return e.OnSet_id_Func_Dict=t}))}},{key:"TempId",get:function(){return this.tempId||(this.tempId=Mt()),this.tempId}},{key:"id",get:function(){return this._id?this._id:this.TempId}},{key:"Items",get:function(){return this.items||function(t){if(!t.IsGet_Items){t.IsGet_Items=!0;var e=function(e){t.Items=e,t.IsGet_Items=!1},n=t.Dict;n.MassItems&&e(n.MassItems),wt(n.OnSet_MassItems_Func,(function(){return e(n.MassItems)}),!1)}}(this),this.items},set:function(t){this.items=t}},{key:"Infos",get:function(){return this.infos||(this.infos=[rt,at]),this.infos},set:function(t){this.infos=t}},{key:"InfoCount",get:function(){return this.Infos.length}},{key:"Values",get:function(){return this.values||(this.values=[dn]),this.values},set:function(t){this.values=t}},{key:"ValueCount",get:function(){return this.Values.length}},{key:"ColumnCount",get:function(){return void 0===this.columnCount&&(this.columnCount=Cc(this)),this.columnCount},set:function(t){this.columnCount=t}},{key:"Tr_Style",get:function(){return{width:(1/this.ColumnCount*100).toFixed(1)+"%"}}},{key:"ColumnGroups",get:function(){return this.columnGroups||(this.columnGroups=function(t){var e=gc(oc,t);e.Fields=t.Infos;var n=gc(uc,t);return n.Fields=t.Values,[e,n]}(this)),this.columnGroups}},{key:"ApiData",get:function(){return this.Refresh_Info(),{_id:this._id,dictId:this.Dict.ModelItem._id,infos:this.Infos,values:this.Values}}},{key:"PasteContent",get:function(){return this.pasteContent},set:function(t){this.pasteContent=t,t&&0!==t.length&&(this.PasteVM.Content="")}},{key:"PasteVM",get:function(){var t=this;if(!this.pasteVM){var e=this.pasteVM=new b;e.Content="",e.Placeholder="paste d\u1eef li\u1ec7u v\xe0o \u0111\xe2y ...",e.onSetContent=function(e){return t.PasteContent=e}}return this.pasteVM}},{key:"View",get:function(){return Object(i.jsx)(hc,{store:this})}},{key:"WrapperView",get:function(){return Object(i.jsxs)("div",{children:[this.Commands.includes(Jr)?Object(i.jsx)("div",{className:"es__table__tool__wrapper",children:Object(i.jsxs)("div",{className:"f-ac",children:[Object(i.jsx)(p.a,{type:"primary",size:"small",onClick:this.Save,children:"L\u01afU \u0110\u1ea6U M\u1ee4C B\u1ea2NG"}),Object(i.jsx)(y,{store:this.PasteVM,className:"es__table__paste",onPaste:this.OnPaste})]})}):"",Object(i.jsx)(hc,{store:this})]})}},{key:"Commands",get:function(){return Ll.Instance.Commands}}]),t}(),Vc=function(t,e){var n=new Tc;return n.ModelItem=t,n.Dict=e,n},Dc=function(t){if(!t.IsGet_MassItems_Table){t.IsGet_MassItems_Table=!0;var e=function(e){t.MassItems_Table=0!==e.length?function(t,e){var n=Mc(e);return n._id=t._id,n.Infos=t.infos,n.Values=t.values,n}(e[0],t):Mc(t),t.IsGet_MassItems_Table=!1};!function(t,e){t=t||{},L("".concat(Sc,"/list"),t).then((function(t){return t.data})).then((function(t){e&&e(t)}))}({dictId:t.ModelItem._id},(function(t){e(t)}))}},wc=function(t){var e=new Le;return e.Items=[P,"Formwork",U,"Structure","Sitework","Tiling & Paving","Masonry","Metal","Painting","Plaster","Screed","Roofing","Wooden","Mosaic","Gypsum","Carpet","Vinyl","Skirting","FloorFinish","WallFinish","CeilingFinish","Staircase","Ceiling","Door","Window","Furniture","Lighting Fixture","Plumbing Fixture","Railing","Arc","HVAC","Electrical","Plumbing","Firefighter","MEP"],e.InitialItem=t.MassType,e.OnSelectedItemChanged=function(e){t.MassType=e},e},Tc=(n(378),function(){function t(){var e=this;Object(o.a)(this,t),this.renderState=Ut,this.Edit=function(){e.Commands.includes(Jr)&&e.RenderState===Ut&&(e.RenderState=Et,e.Hide_Tool())},this.isActive=!1,this.Set_Active=function(){var t=e.Dict;t.TempCurrentItem&&(t.TempCurrentItem.IsActive=!1),t.TempCurrentItem=e,e.IsActive=!0},this.UnSet_Active=function(){e.Dict.TempCurrentItem=void 0,e.IsActive=!1},this.OnMouseEnter=function(){e.RenderState!==Et&&e.Show_Tool()},this.OnMouseLeave=function(){e.Hide_Tool()},this.SaveDatabase=function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=arguments.length>1?arguments[1]:void 0;e.ModelItem.SaveDatabase(t,n,!1)},this.Delete=function(){e.CurrentList.splice(e.Index,1),e.ModelItem.Delete()},this.OnSet_MassItems_Func=[],this.massItems=void 0,this.massItems_Table=void 0,this.SaveMassItems=function(){e.ModelItem.SaveMassItems()},Object(v.l)(this,{isActive:v.m,massItems:v.m,massItems_Table:v.m,renderState:v.m})}return Object(u.a)(t,[{key:"Show_Tool",value:function(){this.ActiveTool.Show(),this.DeleteVM.Show()}},{key:"Hide_Tool",value:function(){this.ActiveTool.Hide(),this.DeleteVM.Hide()}},{key:"id",get:function(){return this.ModelItem.id}},{key:"projectId",get:function(){return this.ModelItem.projectId}},{key:"RenderState",get:function(){return this.renderState},set:function(t){this.renderState=t,this.NameVM.RenderState=t,this.DescriptionVM.RenderState=t,t===Ut&&this.SaveDatabase(!1)}},{key:"Name",get:function(){return this.ModelItem.Name},set:function(t){this.ModelItem.Name=t}},{key:"NameVM",get:function(){var t=this;if(!this.nameVM){var e=this.nameVM=tr(this.Name,this.CanEdit);e.Is_Tool_Visible=!1,e.OnKeyDown=function(e){var n=Dn(e),i=n.key;n.value;switch(i){case Vn:t.RenderState=Ut}},Dt(e.OnSet_RenderState_Func_Dict,(function(){e.RenderState===Ut&&(t.Name=e.Content)}),!1)}return this.nameVM}},{key:"NameView",get:function(){return Object(i.jsx)(Ca,{className:"mgs__cell__main",store:this.NameVM})}},{key:"NameWrapper_View",get:function(){return Object(i.jsxs)("div",{className:"mgs__cell__wrapper",children:[this.NameView,this.ActiveTool.View]})}},{key:"MassType",get:function(){return this.ModelItem.MassType},set:function(t){this.ModelItem.MassType=t,this.MassType_Render.Content=t}},{key:"MassType_Render",get:function(){return this.massType_Render||(this.massType_Render=function(t){var e=new b;return e.Content=t.MassType,e}(this)),this.massType_Render}},{key:"MassType_Select",get:function(){return this.massType_Select||(this.massType_Select=wc(this)),this.massType_Select}},{key:"MassType_View",get:function(){switch(this.RenderState){case Ut:return Object(i.jsx)(Pn,{store:this.MassType_Render});case Et:return Object(i.jsx)(Be,{store:this.MassType_Select})}}},{key:"Description",get:function(){return this.ModelItem.Description},set:function(t){this.ModelItem.Description=t}},{key:"DescriptionVM",get:function(){var t=this;if(!this.descriptionVM){var e=this.descriptionVM=tr(this.Description,this.CanEdit);e.Is_Tool_Visible=!1,e.OnKeyDown=function(e){var n=Dn(e),i=n.key;n.value;switch(i){case Vn:t.RenderState=Ut}},Dt(e.OnSet_RenderState_Func_Dict,(function(){e.RenderState===Ut&&(t.Description=e.Content)}),!1)}return this.descriptionVM}},{key:"DescriptionView",get:function(){return Object(i.jsx)(Ca,{className:"mgs__cell__main",store:this.DescriptionVM})}},{key:"DescriptionWrapper_View",get:function(){return Object(i.jsxs)("div",{className:"mgs__cell__wrapper",children:[this.DescriptionView,this.Commands.includes(Jr)?this.DeleteVM.View:""]})}},{key:"Project",get:function(){return this.Dict.Project}},{key:"IsActive",get:function(){return this.isActive},set:function(t){this.isActive=t}},{key:"ActiveStyle",get:function(){return this.IsActive?"active":""}},{key:"ActiveTool",get:function(){return this.activeTool||(this.activeTool=function(t){var e=new ar;return e.ToggleType=nr,e.Retrieve_WrapperView=function(){return t.IsActive?Object(i.jsx)(p.a,{type:"primary",size:"small",onClick:t.UnSet_Active,className:"btn-warning",children:Object(i.jsx)(cc.a,{})}):Object(i.jsx)(p.a,{type:"primary",size:"small",onClick:t.Set_Active,children:Object(i.jsx)(ac.a,{})})},e}(this)),this.activeTool}},{key:"RowView",get:function(){return Object(i.jsxs)("tr",{className:"es__row ".concat(this.ActiveStyle),onDoubleClick:this.Edit,onMouseEnter:this.OnMouseEnter,onMouseLeave:this.OnMouseLeave,children:[Object(i.jsx)("td",{children:this.NameWrapper_View}),Object(i.jsx)("td",{children:this.MassType_View}),Object(i.jsx)("td",{children:this.DescriptionWrapper_View})]})}},{key:"CurrentList",get:function(){return this.Dict.Items}},{key:"Index",get:function(){return this.CurrentList.indexOf(this)}},{key:"DeleteVM",get:function(){return this.deleteVM||(this.deleteVM=function(t){var e=new ar;return e.ToggleType=nr,e.Title="X\xe1c nh\u1eadn x\xf3a?",e.OnRun=function(){t.Delete()},e}(this)),this.deleteVM}},{key:"MassItems",get:function(){return this.massItems||function(t){if(!t.IsGet_MassItems){t.IsGet_MassItems=!0;var e=function(e){t.MassItems=e,t.IsGet_MassItems=!1},n=t.ModelItem;n.MassItems&&e(n.MassItems),wt(n.OnSet_MassItems_Func,(function(){return e(n.MassItems)}),!1)}}(this),this.massItems},set:function(t){var e=this;this.massItems=t,Tt(this.OnSet_MassItems_Func,(function(t){return e.OnSet_MassItems_Func=t}))}},{key:"MassItems_Table",get:function(){return this.massItems_Table||Dc(this),this.massItems_Table},set:function(t){this.massItems_Table=t}},{key:"Commands",get:function(){return Ll.Instance.Commands}}]),t}()),xc=function(t){Object(l.a)(n,t);var e=Object(h.a)(n);function n(t){var i;Object(o.a)(this,n);var s=(i=e.call(this,t)).props.store;return i.state=s||new Tc,i}return Object(u.a)(n,[{key:"render",value:function(){var t=this.state;return Object(i.jsx)(i.Fragment,{children:t.RowView})}}]),n}(s.Component),Fc=Object(d.a)(xc),Nc=function(t){Object(l.a)(n,t);var e=Object(h.a)(n);function n(t){var i;Object(o.a)(this,n);var s=(i=e.call(this,t)).props.store;return i.state=s||new Rc,i}return Object(u.a)(n,[{key:"render",value:function(){var t,e=this.state;return Object(i.jsx)(i.Fragment,{children:Object(i.jsxs)("table",{className:"table table-bordered",children:[Object(i.jsx)("thead",{className:"es__thead",children:Object(i.jsxs)("tr",{children:[Object(i.jsx)("th",{className:"es__table__name",children:"T\xean"}),Object(i.jsx)("th",{className:"es__table__masstype",children:"C\xf4ng t\xe1c"}),Object(i.jsx)("th",{className:"es__table__description",children:"M\xf4 t\u1ea3"})]})}),Object(i.jsx)("tbody",{children:null===(t=e.Items)||void 0===t?void 0:t.map((function(t){return Object(i.jsx)(Fc,{store:t},t.id)}))})]})})}}]),n}(s.Component),Gc=Object(d.a)(Nc),Rc=function(){function t(){var e=this;Object(o.a)(this,t),this.items=void 0,this.AddItem=function(t){var n=e.Items;if(n.length!==e.ModelItem.Items.length){var i=Vc(t,e);n.push(i)}},this.currentItem=void 0,this.Is_Modal_Visible=!1,Object(v.l)(this,{items:v.m,Is_Modal_Visible:v.m,currentItem:v.m})}return Object(u.a)(t,[{key:"id",get:function(){return this.ModelItem.id}},{key:"Items",get:function(){return this.items||Pc(this),this.items},set:function(t){this.items=t}},{key:"AddVM",get:function(){return this.addVM||(this.addVM=Uc(this)),this.addVM}},{key:"CurrentItem",get:function(){return this.currentItem},set:function(t){this.currentItem=t,this.ModelItem.CurrentItem=null===t||void 0===t?void 0:t.ModelItem}},{key:"TableView",get:function(){return Object(i.jsx)(Gc,{store:this})}},{key:"MainView",get:function(){return Object(i.jsxs)("div",{className:"f",children:[this.Commands.includes(Jr)?Object(i.jsx)("div",{className:"es__add",children:this.AddVM.View}):"",Object(i.jsx)("div",{className:"es__main f1",children:Object(i.jsx)(Gc,{store:this})})]})}},{key:"ModalView",get:function(){return Ac(this)}},{key:"PickView",get:function(){return Ec(this)}},{key:"Commands",get:function(){return Ll.Instance.Commands}}]),t}(),Lc=n(458),Pc=(n(379),function(t){if(!t.IsGet_Items){t.IsGet_Items=!0;var e=function(e){t.Items=e.map((function(e){return Vc(e,t)})),t.IsGet_Items=!1},n=t.ModelItem;n.Items&&e(n.Items),wt(n.OnSet_Items_Func,(function(){return e(n.Items)}),!1)}}),Uc=function(t){var e=new ar,n=new b;return n.Placeholder="t\xean b\u1ea3ng ...",e.ToggleType=er,e.Title="X\xe1c nh\u1eadn th\xeam b\u1ea3ng?",e.OnPre_ShowHover=function(){n.Content=void 0},e.Modal_InfoView=Object(i.jsx)(y,{store:n}),e.Modal_ContentView=Object(i.jsxs)("div",{className:"f-ac",children:[e.Modal_InfoView,e.Modal_ButtonView]}),e.ShowHover_Button=Object(i.jsx)(p.a,{type:"primary",size:"small",className:"btn-success",onClick:e.Show_Hover,children:Object(i.jsx)(Lc.a,{})}),e.OnPreRun=function(){n.Content&&0!==n.Content.length||(e.IsRun_Cancel=!0,w.b.warn("Vui l\xf2ng nh\u1eadp t\xean b\u1ea3ng!"))},e.OnRun=function(){t.ModelItem.NewItem(n.Content)},e},Ec=function(t){var e=t.CurrentItem?t.CurrentItem.Name:"(none)";return Object(i.jsx)(p.a,{type:"primary",onClick:function(){t.Is_Modal_Visible=!0,t.TempCurrentItem&&t.TempCurrentItem.UnSet_Active()},children:Object(i.jsxs)("div",{className:"f",children:[Object(i.jsx)("div",{children:"CH\u1eccN B\u1ea2NG:"}),Object(i.jsx)("div",{className:"es__pick__current",children:e})]})})},Ac=function(t){var e=function(){t.Is_Modal_Visible=!1};return Object(i.jsx)(Oe.a,{title:"CH\u1eccN B\u1ea2NG TH\u1ed0NG K\xca",visible:t.Is_Modal_Visible,width:1e3,className:"es__modal",onCancel:e,footer:Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)(p.a,{type:"primary",size:"small",onClick:function(){t.Is_Modal_Visible=!1,t.CurrentItem=t.TempCurrentItem},children:"ok"}),Object(i.jsx)(p.a,{type:"text",size:"small",onClick:e,children:"cancel"})]}),children:Object(i.jsx)("div",{children:t.MainView})})},Hc=function(t,e){if(t){var n=new qr;return n.ModelItem=t,n.Dict=e,n}},Wc=function(t){return function(t){var e=new Wr;return e.ModelItem=t,t.OnGetItemsDone_Funcs.push((function(t){e.Items,e.GetItemsDone=!0})),t.OnAdd=function(t){e.Add(Ar(t,e))},e}(t.ModelItem.Phase_Dict)},Bc=function(t){return function(t,e){var n=new Rc;return n.ModelItem=t,n.Dict=e,e instanceof qr&&(n.Project=e),t.OnAddItem=function(t){return n.AddItem(t)},n}(t.ModelItem.ExportSet_Dict,t)},Kc=function(t){if(!t.IsGet_LevelSetting){t.IsGet_LevelSetting=!0;var e=function(e){t.LevelSetting=function(t,e){if(t){var n=new Yr;return n.ModelItem=t,n.Project=e,n.OnGetDataVM=function(){var e=t.Data;return ka(e,n)},n}}(e,t)},n=t.ModelItem;n.LevelSetting?e(n.LevelSetting):wt(n.OnSet_LevelSetting_Func_Dict,(function(){e(n.LevelSetting)}),!1)}},zc=function(t,e){return rc(t,e)},qc=function(t){var e=t.ModelItem,n=e.TypicalLevelSetting;if(n)return zc(n,t);wt(e.OnGetTypicalLevelSetting_Func_Dict,(function(){return t.TypicalLevelSetting=zc(e.TypicalLevelSetting,t)}),!1)},Xc=function(t){var e=t.ModelItem,n=e.TypicalLevelSetting_ForEdit;if(n)return zc(n,t);wt(e.OnGetTypicalLevelSetting_Func_Dict,(function(){return t.TypicalLevelSetting_ForEdit=zc(e.TypicalLevelSetting_ForEdit,t)}),!1)},Yc=function(t){if(!t.IsGet_Commands){t.IsGet_Commands=!0;var e=function(e){t.Commands=e,t.IsGet_Commands=!1},n=t.ModelItem;n.Commands&&e(n.Commands),wt(n.OnSet_Commands_Func,(function(){return e(n.Commands)}),!1)}},Qc=function(){function t(){Object(o.a)(this,t),this.items=void 0,Object(v.l)(this,{items:v.m})}return Object(u.a)(t,[{key:"Items",get:function(){return this.items||Jc(this),this.items},set:function(t){this.items=t,this.GetItemsDone=!0}},{key:"GetItemsDone",set:function(t){this.OnGetItemsDone&&this.OnGetItemsDone(t)}}]),t}(),Jc=function(t){if(!t.IsGet_Items){t.IsGet_Items=!0;var e=function(e){t.Items=e.map((function(e){return Hc(e,t)}))},n=t.ModelItem;n.Items&&0!==n.Items.length?e(n.Items):n.OnGetItemsDone=function(){return e(n.Items)}}},Zc=function(){function t(){var e=this;Object(o.a)(this,t),this.IsShowProjectSelect=!0,this.CanHavePhase=!1,this.isHavePhase=void 0,this.IsDataPending=!1,this.handledRatio=0,this.GetMassData=function(){e.IsDataPending=!0,e.HandledRatio=0,e.ModelItem.GetMassData()},this.massGroupSetting_Dict=void 0,Object(v.l)(this,{IsShowProjectSelect:v.m,CanHavePhase:v.m,isHavePhase:v.m,IsDataPending:v.m,massGroupSetting_Dict:v.m})}return Object(u.a)(t,[{key:"Projects",get:function(){return this.projects||(this.projects=this.ModelItem.Projects),this.projects},set:function(t){this.projects=t,this.ModelItem.Projects=t}},{key:"ProjectVMs",get:function(){return this.projectVMs||(this.projectVMs=no(this)),this.projectVMs},set:function(t){this.projectVMs=t,this.Projects=t.map((function(t){return t.ModelItem}))}},{key:"ProjectVMStorageList",get:function(){return this.projectVMStorageList||(this.projectVMStorageList=eo(this)),this.projectVMStorageList},set:function(t){this.projectVMStorageList=t,this.projectVMs=no(this);var e=this.ProjectSelectVM;e.Items=t,e.InitialItems=this.projectVMs}},{key:"ProjectSelectOpen",get:function(){return void 0===this.projectSelectOpen&&(this.projectSelectOpen=this.ProjectSelectVM.Open),this.projectSelectOpen},set:function(t){this.projectSelectOpen=t,this.ProjectPopoverState.Content=so(this)}},{key:"ProjectPopoverState",get:function(){return this.projectPopoverState||(this.projectPopoverState=j(so(this))),this.projectPopoverState}},{key:"ProjectSelectVM",get:function(){var t=this;if(!this.projectSelectVM){var e=this.ProjectVMStorageList?this.ProjectVMStorageList:[],n=this.projectSelectVM=ye(e,this.ProjectVMs);n.Placeholder="ch\u1ecdn d\u1ef1 \xe1n",n.TitleRender=function(e){return Object(i.jsx)(Te.a,{trigger:t.ProjectPopoverState.Content,placement:"topLeft",content:Object(i.jsx)("a",{target:"_blank",rel:"noreferrer",href:e.Url,children:"View project"}),children:e.DisplayContent})},n.OnSelectedItemChanged=function(e){return t.ProjectVMs=e},n.OnSetOpen=function(e){return t.ProjectSelectOpen=e}}return this.projectSelectVM}},{key:"Phases",get:function(){return this.phases||(this.phases=this.ModelItem.Phases),this.phases},set:function(t){this.phases=t,this.ModelItem.Phases=t}},{key:"PhaseVMs",get:function(){return this.phaseVMs||(this.phaseVMs=io(this)),this.phaseVMs},set:function(t){this.phaseVMs=t,this.Phases=t.map((function(t){return t.ModelItem}))}},{key:"MassItem_Dict",get:function(){return this.massItem_Dict||(this.massItem_Dict=this.ModelItem.MassItem_Dict),this.massItem_Dict}},{key:"PhaseVMStorageList",get:function(){return this.phaseVMStorageList},set:function(t){this.phaseVMStorageList=t,this.phaseVMs=io(this);var e=this.PhaseSelectVM;e.Items=t,e.InitialItems=this.phaseVMs}},{key:"PhaseSelectVM",get:function(){var t=this;if(!this.phaseSelectVM){var e=this.PhaseVMStorageList?this.PhaseVMStorageList:[],n=this.phaseSelectVM=ye(e,this.PhaseVMs);n.Placeholder="ch\u1ecdn version",n.OnSelectedItemChanged=function(e){return t.PhaseVMs=e}}return this.phaseSelectVM}},{key:"IsHavePhase",get:function(){return this.isHavePhase||(this.isHavePhase=this.ModelItem.IsHavePhase),this.isHavePhase},set:function(t){this.isHavePhase=t,this.ModelItem.IsHavePhase=t}},{key:"IsShowPhaseSelectVM",get:function(){var t=this;this.isShowPhaseSelectVM||((this.isShowPhaseSelectVM=Na("So s\xe1nh c\xe1c version",this.IsHavePhase)).onCheckChange=function(e){t.IsHavePhase=e});return this.isShowPhaseSelectVM}},{key:"LoadingSpinTip",get:function(){return"loading data ... (".concat((100*this.HandledRatio).toFixed(1),"%)")}},{key:"LoadingSpinTipVM",get:function(){return this.loadingSpinTipVM||(this.loadingSpinTipVM=j(this.LoadingSpinTip)),this.loadingSpinTipVM}},{key:"HandledRatio",get:function(){return this.handledRatio},set:function(t){this.handledRatio=t,this.LoadingSpinTipVM.Content=this.LoadingSpinTip}},{key:"MassGroupSetting_Dict",get:function(){return this.massGroupSetting_Dict||ro(this),this.massGroupSetting_Dict},set:function(t){this.massGroupSetting_Dict=t,console.log(t.Dict)}}]),t}(),$c=function(){return Ll.Instance},to=function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=new Zc;return n.ModelItem=t,t.ViewItem=n,e&&($c().Project_DictVM.OnGetItemsDone=function(t){n.ProjectVMStorageList=eo(n)}),t.OnGetItemsDone_Funcs.push((function(){w.b.success("get data successfully")})),n},eo=function(t){return $c().Project_DictVM.Items},no=function(t){var e=t.ProjectVMStorageList;if(!e)return[];var n=[];return t.Projects.forEach((function(t){var i=e.findIndex((function(e){return e.ModelItem===t}));-1!==i&&n.push(e[i])})),n},io=function(t){var e=t.PhaseVMStorageList;if(!e)return[];var n=[];return t.Phases.forEach((function(t){var i=e.findIndex((function(e){return e.ModelItem===t}));-1!==i&&n.push(e[i])})),n},so=function(t){return t.ProjectSelectOpen?"none":"hover"},ro=function(t){if(!t.IsGet_MassGroupSetting_Dict){t.IsGet_MassGroupSetting_Dict=!0;var e=function(e){t.MassGroupSetting_Dict=e},n=$c();n.MassGroupSetting_Dict&&e(n.MassGroupSetting_Dict),wt(n.OnSet_MassGroupSetting_Dict_Func,(function(){return e(n.MassGroupSetting_Dict)}),!1)}},ao=function(){return Ll.Instance},co=function(t){if(!t)return!1;var e=ao().Commands;return!!oo(t,e)||oo(t,ao().AdminCommands)},oo=function(t,e){var n=e;if(!n)return!1;if("string"===typeof t)return n.includes(t);var i=!1;return t.forEach((function(t){i||(i=n.includes(t))})),i},uo=(n(180),function(){function t(){var e=this;Object(o.a)(this,t),this.Items=[],this.currentItem=void 0,this.SetCurrent=function(t){e.CurrentItem=t},this.IsHaveBorder=!0,Object(v.l)(this,{Items:v.m,currentItem:v.m,IsHaveBorder:v.m})}return Object(u.a)(t,[{key:"CurrentItem",get:function(){var t;return this.currentItem||(this.currentItem=(t=this).Items&&0!==t.Items.length?t.Items[0]:void 0),this.currentItem},set:function(t){this.currentItem=t}},{key:"IdRender",get:function(){return this.idRender||(this.idRender=function(t){return t.id}),this.idRender},set:function(t){this.idRender=t}},{key:"TitleRender",get:function(){return this.titleRender||(this.titleRender=function(t){return t.Title}),this.titleRender},set:function(t){this.titleRender=t}},{key:"TitleView_Render",get:function(){var t;return this.titleView_Render||(this.titleView_Render=(t=this,function(e){var n=t.CurrentItem===e?"active":"";return Object(i.jsx)("div",{className:"tab__title ".concat(n),onClick:function(){return t.SetCurrent(e)},children:t.TitleRender(e)},t.IdRender(e))})),this.titleView_Render},set:function(t){this.titleView_Render=t}},{key:"ContentRender",get:function(){return this.contentRender||(this.contentRender=function(t){return t.Content}),this.contentRender},set:function(t){this.contentRender=t}},{key:"ContentWrapper_Render",get:function(){var t;return this.contentWrapper_Render||(this.contentWrapper_Render=(t=this,function(e){return Object(i.jsx)("div",{children:t.ContentRender(e)},t.IdRender(e))})),this.contentWrapper_Render},set:function(t){this.contentWrapper_Render=t}},{key:"BorderStyle",get:function(){return this.IsHaveBorder?"border":""}},{key:"TitleView",get:function(){var t;return Object(i.jsx)("div",{className:"tab__title__wrapper",children:null===(t=this.Items)||void 0===t?void 0:t.map(this.TitleView_Render)})}},{key:"ContentView",get:function(){return this.CurrentItem?this.ContentWrapper_Render(this.CurrentItem):""}},{key:"ContentWrapper_View",get:function(){return Object(i.jsx)("div",{className:"tab__content__wrapper ".concat(this.BorderStyle),children:this.ContentView})}},{key:"View",get:function(){return Object(i.jsxs)("div",{className:"tab__wrapper",children:[this.TitleView,this.ContentWrapper_View]})}}]),t}()),lo=(n(380),function(){function t(){Object(o.a)(this,t),this.Show=this.Tool.Show,this.Hide=this.Tool.Hide,this.dict=void 0,Object(v.l)(this,{dict:v.m})}return Object(u.a)(t,[{key:"InputName",get:function(){var t;return null===(t=this.ModelItem)||void 0===t?void 0:t.InputName},set:function(t){this.ModelItem.InputName=t}},{key:"InputNameVM",get:function(){var t=this;this.inputNameVM||((this.inputNameVM=j(this.InputName,"t\xean template")).onSetContent=function(e){return t.InputName=e});return this.inputNameVM}},{key:"Tool",get:function(){return this.tool||(this.tool=ho(this)),this.tool}},{key:"View",get:function(){return this.Tool.View}},{key:"Run",get:function(){var t=this;return this.run||(this.run=function(){return t.ModelItem.Run()}),this.run}},{key:"Dict",get:function(){return this.dict},set:function(t){this.dict=t,mo(this,t)}},{key:"Delete",get:function(){return this.Dict.DeleteVM}}]),t}()),ho=function(t){var e=new ar;return e.ToggleType=nr,e.OnPre_ShowHover=function(){t.InputNameVM.Content=void 0},e.Modal_InfoView=Object(i.jsx)(y,{store:t.InputNameVM}),e.Modal_ContentView=Object(i.jsxs)("div",{className:"mgs__template__modalcontent",children:[e.Modal_InfoView,e.Modal_ButtonView]}),e.Retrieve_ShowHover_Button=function(){return Object(i.jsxs)("div",{children:[Object(i.jsx)(p.a,{type:"primary",size:"small",onClick:e.Show_Hover,children:"Add Template"}),t.Dict?t.Delete.View:""]})},e.OnPreHide=function(){t.Delete.Is_Hover_Visible&&(e.IsRun_Cancel=!0)},e.OnPreRun=function(){t.InputName&&0!==t.InputName.length||(e.IsRun_Cancel=!0,w.b.warn("Vui l\xf2ng nh\u1eadp t\xean template!"))},e.OnRun=t.Run,e},mo=function(t,e){e.DeleteVM.OnSet_Is_Hover_Visible=function(e){var n=t.Tool;e&&(n.Is_Hover_Visible&&(n.Is_Hover_Visible=!1),n.Is_Visible=!0)}},fo=n(459),po="project",_o="template",vo="query",Io="save",go=function(t,e){var n=new Oo;return n.ModelItem=t,n.Dict=e,n},bo=function(t){return function(t,e){var n=new lo(e);return n.ModelItem=t,n.Dict=e,n.Tool.AdditionElement=t.DeleteView,n}(t.ModelItem.AddTemplate,t)},jo=(n(381),function(){return Ll.Instance}),Oo=function(){function t(){var e=this;Object(o.a)(this,t),this.renderState=Ut,this.Edit=function(){e.Commands.includes(Jr)&&e.RenderState===Ut&&(e.RenderState=Et,e.Hide_Tool())},this.isActive=!1,this.Set_Active=function(){var t=jo().Mgs_Dict_Dict;t.Current_MGS&&(t.Current_MGS.IsActive=!1),t.Current_MGS=e,e.IsActive=!0},this.UnSet_Active=function(){jo().Mgs_Dict_Dict.Current_MGS=void 0,e.IsActive=!1},this.dd_UseType=void 0,this.OnMouseEnter=function(){e.RenderState!==Et&&e.Show_Tool()},this.OnMouseLeave=function(){e.Hide_Tool()},this.SaveDatabase=function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=arguments.length>1?arguments[1]:void 0;e.ModelItem.SaveDatabase(t,n,!1)},this.Delete=function(){e.CurrentList.splice(e.Index,1),e.ModelItem.Delete()},Object(v.l)(this,{isActive:v.m,dd_UseType:v.m})}return Object(u.a)(t,[{key:"Show_Tool",value:function(){switch(this.DD_UseType){case vo:switch(this.ActiveTool.Show(),this.D_UseType){case po:this.AddTemplate.Show();break;case _o:this.DeleteVM.Show()}break;case Io:this.SaveTable.Show()}}},{key:"Hide_Tool",value:function(){switch(this.DD_UseType){case vo:switch(this.ActiveTool.Hide(),this.D_UseType){case po:this.AddTemplate.Hide();break;case _o:this.DeleteVM.Hide()}break;case Io:this.SaveTable.Hide()}}},{key:"id",get:function(){return this.ModelItem.id}},{key:"projectId",get:function(){return this.ModelItem.projectId}},{key:"RenderState",get:function(){return this.renderState},set:function(t){this.renderState=t,this.NameVM.RenderState=t,this.DescriptionVM.RenderState=t,t===Ut&&this.SaveDatabase(!1)}},{key:"Name",get:function(){return this.ModelItem.Name},set:function(t){this.ModelItem.Name=t}},{key:"Name_ForPick",get:function(){return"".concat(this.Name).concat(this.D_UseType===_o?" (from template)":"")}},{key:"NameVM",get:function(){var t=this;if(!this.nameVM){var e=this.nameVM=tr(this.Name,this.CanEdit);e.Is_Tool_Visible=!1,e.OnKeyDown=function(e){var n=Dn(e),i=n.key;n.value;switch(i){case Vn:t.RenderState=Ut}},Dt(e.OnSet_RenderState_Func_Dict,(function(){e.RenderState===Ut&&(t.Name=e.Content)}),!1)}return this.nameVM}},{key:"NameView",get:function(){return Object(i.jsx)(Ca,{className:"mgs__cell__main",store:this.NameVM})}},{key:"NameWrapper_View",get:function(){return Object(i.jsxs)("div",{className:"mgs__cell__wrapper",children:[this.NameView,this.DD_UseType===vo?this.ActiveTool.View:this.Commands.includes(Jr)?this.SaveTable.View:""]})}},{key:"Description",get:function(){return this.ModelItem.Description},set:function(t){this.ModelItem.Description=t}},{key:"DescriptionVM",get:function(){var t=this;if(!this.descriptionVM){var e=this.descriptionVM=tr(this.Description,this.CanEdit);e.Is_Tool_Visible=!1,e.OnKeyDown=function(e){var n=Dn(e),i=n.key;n.value;switch(i){case Vn:t.RenderState=Ut}},Dt(e.OnSet_RenderState_Func_Dict,(function(){e.RenderState===Ut&&(t.Description=e.Content)}),!1)}return this.descriptionVM}},{key:"DescriptionView",get:function(){return Object(i.jsx)(Ca,{className:"mgs__cell__main",store:this.DescriptionVM})}},{key:"DescriptionWrapper_View",get:function(){return Object(i.jsxs)("div",{className:"mgs__cell__wrapper",children:[this.DescriptionView,co(Jr)&&this.DD_UseType===vo?this.D_UseType===po?this.AddTemplate.View:this.DeleteVM.View:""]})}},{key:"AddTemplate",get:function(){return this.addTemplate||(this.addTemplate=bo(this)),this.addTemplate}},{key:"ActiveTool",get:function(){return this.activeTool||(this.activeTool=function(t){var e=new ar;return e.ToggleType=nr,e.Retrieve_WrapperView=function(){return t.IsActive?Object(i.jsx)(p.a,{type:"primary",size:"small",onClick:t.UnSet_Active,className:"btn-warning",children:Object(i.jsx)(cc.a,{})}):Object(i.jsx)(p.a,{type:"primary",size:"small",onClick:t.Set_Active,children:Object(i.jsx)(ac.a,{})})},e}(this)),this.activeTool}},{key:"IsActive",get:function(){return this.isActive},set:function(t){this.isActive=t}},{key:"ActiveStyle",get:function(){return this.DD_UseType===vo&&this.IsActive?"active":""}},{key:"D_UseType",get:function(){return this.Dict.UseType}},{key:"DD_UseType",get:function(){return this.dd_UseType||(this.dd_UseType=this.Dict.Dict.UseType),this.dd_UseType},set:function(t){this.dd_UseType=t}},{key:"SaveTable",get:function(){return this.saveTable||(this.saveTable=function(t){var e=new ar;return e.ToggleType=nr,e.Title="X\xe1c nh\u1eadn l\u01b0u \u0111\xe8?",e.ShowHover_Button=Object(i.jsx)(p.a,{type:"primary",size:"small",className:"btn-success",onClick:e.Show_Hover,children:Object(i.jsx)(fo.a,{})}),e.OnRun=function(){var e=t.Dict.Save;e.Name=t.Name,e.Run()},e}(this)),this.saveTable}},{key:"RowView",get:function(){return Object(i.jsxs)("tr",{className:"mgs__row ".concat(this.ActiveStyle),onDoubleClick:this.Edit,onMouseEnter:this.OnMouseEnter,onMouseLeave:this.OnMouseLeave,children:[Object(i.jsx)("td",{children:this.NameWrapper_View}),Object(i.jsx)("td",{children:this.DescriptionWrapper_View})]})}},{key:"CurrentList",get:function(){return this.Dict.Items}},{key:"Index",get:function(){return this.CurrentList.indexOf(this)}},{key:"DeleteVM",get:function(){return this.deleteVM||(this.deleteVM=function(t){var e=new ar;return e.ToggleType=t.D_UseType===po?er:nr,e.Title="X\xe1c nh\u1eadn x\xf3a?",e.OnRun=function(){t.Delete()},e}(this)),this.deleteVM}},{key:"Commands",get:function(){return jo().Commands}}]),t}(),yo=function(t){Object(l.a)(n,t);var e=Object(h.a)(n);function n(t){var i;Object(o.a)(this,n);var s=(i=e.call(this,t)).props.store;return i.state=s||new Oo,i}return Object(u.a)(n,[{key:"render",value:function(){var t=this.state;return Object(i.jsx)(i.Fragment,{children:t.RowView})}}]),n}(s.Component),So=Object(d.a)(yo),Mo=function(t){Object(l.a)(n,t);var e=Object(h.a)(n);function n(t){var i;Object(o.a)(this,n);var s=(i=e.call(this,t)).props.store;return i.state=s||function(){var t=new uo;return t.Items=[{Title:"London",Content:"A"},{Title:"Paris",Content:"B"}],t.IdRender=function(t){return t.Title},t}(),i}return Object(u.a)(n,[{key:"render",value:function(){var t=this.state;return Object(i.jsx)(i.Fragment,{children:t.View})}}]),n}(s.Component),Co=(Object(d.a)(Mo),function(t){Object(l.a)(n,t);var e=Object(h.a)(n);function n(t){var i;Object(o.a)(this,n);var s=(i=e.call(this,t)).props.store;return i.state=s||new Vo,i}return Object(u.a)(n,[{key:"render",value:function(){var t,e=this.state;return Object(i.jsx)(i.Fragment,{children:Object(i.jsxs)("table",{className:"table table-bordered",children:[Object(i.jsx)("thead",{className:"mgs__thead",children:Object(i.jsxs)("tr",{children:[Object(i.jsx)("th",{className:"mgs__table__name",children:"Name"}),Object(i.jsx)("th",{className:"mgs__table__description",children:"Description"})]})}),Object(i.jsx)("tbody",{children:null===(t=e.Items)||void 0===t?void 0:t.map((function(t){return Object(i.jsx)(So,{store:t},t.id)}))})]})})}}]),n}(s.Component)),ko=Object(d.a)(Co),Vo=function(){function t(){var e=this;Object(o.a)(this,t),this.OnSet_Items_Func=[],this.items=void 0,this.AddItem=function(t){var n=e.Items;if(n.length!==e.ModelItem.Items.length){var i=go(t,e);n.push(i)}},Object(v.l)(this,{items:v.m})}return Object(u.a)(t,[{key:"id",get:function(){return this.ModelItem.id}},{key:"Items",get:function(){return this.items||Lo(this),this.items},set:function(t){var e=this;this.items=t,Tt(this.OnSet_Items_Func,(function(t){return e.OnSet_Items_Func=t}))}},{key:"UseType",get:function(){return this.ModelItem.UseType}},{key:"CategoryName",get:function(){return this.ModelItem.CategoryName}},{key:"Save",get:function(){return this.save||(this.save=Po(this)),this.save}},{key:"TableView",get:function(){return Object(i.jsx)(ko,{store:this})}},{key:"TableWrapper_View",get:function(){return Object(i.jsx)("div",{className:"mgs__table__wrapper",children:Object(i.jsx)(ko,{store:this})})}}]),t}(),Do=(n(382),function(t){Object(l.a)(n,t);var e=Object(h.a)(n);function n(t){var i;Object(o.a)(this,n);var s=(i=e.call(this,t)).props.store;return i.state=s||new Fo,i}return Object(u.a)(n,[{key:"render",value:function(){var t=this.state;return Object(i.jsx)(i.Fragment,{children:t.Is_Input_Visible?Object(i.jsx)("div",{className:"mgs__save__wrapper",children:Object(i.jsxs)("div",{className:"mgs__save__dec",children:[Object(i.jsx)("div",{className:"mgs__save__input",children:t.InputView}),Object(i.jsxs)("div",{className:"mgs__save__tool",children:[Object(i.jsx)(p.a,{type:"primary",size:"small",onClick:t.ToggleState,children:t.ToggleContent}),Object(i.jsx)(p.a,{type:"primary",size:"small",onClick:t.OK,children:"ok"}),Object(i.jsx)(p.a,{type:"primary",size:"small",onClick:t.Cancel,children:"cancel"})]})]})}):""})}}]),n}(s.Component)),wo=Object(d.a)(Do),To="select",xo="input",Fo=function(){function t(){var e=this;Object(o.a)(this,t),this.state=void 0,this.ToggleState=function(){e.State=e.State===To?xo:To},this.Is_Input_Visible=!1,this.Initial=function(){e.Is_Input_Visible=!0,e.State=To},this.OK=function(){var t=e.Name;t&&0!==t.length?(e.Is_Input_Visible=!1,e.Run()):w.b.warning("Vui l\xf2ng ch\u1ecdn / \u0111i\u1ec1n b\u1ed9 thi\u1ebft l\u1eadp!")},this.Cancel=function(){e.Is_Input_Visible=!1},this.Run=function(){e.ModelItem.Run();var t=Ll.Instance.Mgs_Dict_Dict;t.UseType===Io&&(t.Is_Modal_Visible=!1)},Object(v.l)(this,{state:v.m,Is_Input_Visible:v.m})}return Object(u.a)(t,[{key:"Name",get:function(){return this.ModelItem.Name},set:function(t){this.ModelItem.Name=t}},{key:"State",get:function(){return this.state},set:function(t){this.state=t,Ro(this,t)}},{key:"ToggleContent",get:function(){return this.State===To?"inp":"sel"}},{key:"SelectVM",get:function(){return this.selectVM||(this.selectVM=No(this)),this.selectVM}},{key:"InputVM",get:function(){return this.inputVM||(this.inputVM=Go(this)),this.inputVM}},{key:"SaveIcon_View",get:function(){return Object(i.jsx)(p.a,{type:"primary",size:"small",disabled:this.Is_Input_Visible,onClick:this.Initial,children:Object(i.jsx)(fo.a,{})})}},{key:"InputView",get:function(){switch(this.State){case To:return Object(i.jsx)(Be,{store:this.SelectVM});case xo:return Object(i.jsx)(y,{store:this.InputVM})}}},{key:"MainView",get:function(){return Object(i.jsx)(wo,{store:this})}}]),t}(),No=function(t){var e=Re();return e.Placeholder="ch\u1ecdn thi\u1ebft l\u1eadp",e.TitleRender=function(t){return t.Name},e.OnSelectedItemChanged=function(e){return t.Name=null===e||void 0===e?void 0:e.Name},e},Go=function(t){var e=j(t.Name,"t\xean thi\u1ebft l\u1eadp");return e.onSetContent=function(n){return t.Name=e.Content},e},Ro=function(t,e){var n=t.Dict;switch(e){case To:(i=t.SelectVM).Items=n.Items,i.InitialItem=n.Main_CurrentItem;break;case xo:var i;(i=t.InputVM).Content=t.Name}},Lo=function(t){if(!t.IsGet_Items){t.IsGet_Items=!0;var e=function(e){var n=!0;if(t.UseType===po){var i,s=null===(i=Gd.Instance.CurrentProject)||void 0===i?void 0:i._id;if(s)if(0!==e.length)n=e[0].projectId===s;else{var r=t.Items;r&&0!==r.length&&(n=r[0].projectId!==s)}}n&&(t.Items=e.map((function(e){return go(e,t)})))},n=t.ModelItem;n.Items&&e(n.Items),wt(n.OnSet_Items_Func,(function(){return e(n.Items)}),!1)}},Po=function(t){return function(t,e){var n=new Fo;return n.ModelItem=t,n.Dict=e,n}(t.ModelItem.Save,t)},Uo=(n(383),function(){function t(){var e=this;Object(o.a)(this,t),this.useType=vo,this.Toggle_UseType=function(){e.UseType=e.UseType===vo?Io:vo},this.Is_Modal_Visible=!1,this.current_MGS=void 0,Object(v.l)(this,{useType:v.m,current_MGS:v.m,Is_Modal_Visible:v.m})}return Object(u.a)(t,[{key:"Items",get:function(){return this.items||(this.items=Eo(this)),this.items}},{key:"UseType",get:function(){return this.useType},set:function(t){this.useType=t,Yo(this,t)}},{key:"QueryTab",get:function(){return this.queryTab||(this.queryTab=Ho(this)),this.queryTab}},{key:"SaveTab",get:function(){return this.saveTab||(this.saveTab=Wo(this)),this.saveTab}},{key:"View",get:function(){return qo(this)}},{key:"ModalView",get:function(){return Xo(this)}},{key:"MainItem",get:function(){return this.mainItem||(this.mainItem=Ao(this)),this.mainItem}},{key:"Add_MGS",get:function(){return this.add_MGS||(this.add_MGS=Bo(this)),this.add_MGS}},{key:"Current_MGS",get:function(){return this.current_MGS},set:function(t){this.current_MGS=t,this.ModelItem.Current_MGS=null===t||void 0===t?void 0:t.ModelItem}},{key:"Pick_MGS_View",get:function(){return Ko(this)}},{key:"Save_MGS_View",get:function(){return zo(this)}},{key:"Commands",get:function(){return Ll.Instance.Commands}}]),t}()),Eo=function(t){return t.ModelItem.Items.map((function(e){return function(t,e){var n=new Vo;return n.ModelItem=t,n.Dict=e,t.OnAddItem=function(t){return n.AddItem(t)},n}(e,t)}))},Ao=function(t){return Lt(t.Items,(function(t){return t.UseType===po}))},Ho=function(t){var e=new uo;return e.Items=t.Items,e.TitleRender=function(t){return t.CategoryName},e.ContentRender=function(t){return t.TableWrapper_View},e},Wo=function(t){var e=new uo;return e.Items=[t.MainItem],e.TitleRender=function(t){return t.CategoryName},e.ContentRender=function(t){return t.TableWrapper_View},e},Bo=function(t){var e=new ar,n=new b;return n.Placeholder="t\xean thi\u1ebft l\u1eadp ...",e.ToggleType=er,e.Title="X\xe1c nh\u1eadn th\xeam thi\u1ebft l\u1eadp?",e.OnPre_ShowHover=function(){n.Content=void 0},e.Modal_InfoView=Object(i.jsx)(y,{store:n}),e.Modal_ContentView=Object(i.jsxs)("div",{className:"msg__dd__save__add__hoverwrapper",children:[e.Modal_InfoView,e.Modal_ButtonView]}),e.ShowHover_Button=Object(i.jsx)(p.a,{type:"primary",size:"small",className:"btn-success",onClick:e.Show_Hover,children:Object(i.jsx)(Lc.a,{})}),e.OnPreRun=function(){n.Content&&0!==n.Content.length||(e.IsRun_Cancel=!0,w.b.warn("Vui l\xf2ng nh\u1eadp t\xean thi\u1ebft l\u1eadp!"))},e.OnRun=function(){var e=t.MainItem.Save;e.Name=n.Content,e.Run()},e},Ko=function(t){var e=t.Current_MGS?t.Current_MGS.Name_ForPick:"(none)";return Object(i.jsx)(p.a,{type:"primary",onClick:function(){t.Is_Modal_Visible=!0,t.UseType=vo},children:Object(i.jsxs)("div",{className:"msg__dd__pick__wrapper",children:[Object(i.jsx)("div",{children:"CH\u1eccN THI\u1ebeT L\u1eacP:"}),Object(i.jsx)("div",{className:"msg__dd__pick__current",children:e})]})})},zo=function(t){if(co(Jr)){return Object(i.jsx)(p.a,{type:"primary",size:"small",onClick:function(){t.Is_Modal_Visible=!0,t.UseType=Io},children:Object(i.jsx)(fo.a,{})})}return""},qo=function(t){switch(t.UseType){case vo:return Object(i.jsx)(i.Fragment,{children:t.QueryTab.View});case Io:return Object(i.jsx)(i.Fragment,{children:Object(i.jsxs)("div",{className:"msg__dd__save__wrapper",children:[Object(i.jsx)("div",{className:"msg__dd__save__add",children:t.Commands.includes(Jr)?t.Add_MGS.View:""}),Object(i.jsx)("div",{className:"msg__dd__save__main",children:t.SaveTab.ContentView})]})})}},Xo=function(t){var e=t.UseType===vo?"CH\u1eccN THI\u1ebeT L\u1eacP":"L\u01afU THI\u1ebeT L\u1eacP";return Object(i.jsx)(Oe.a,{title:e,visible:t.Is_Modal_Visible,width:1e3,className:"msg__modal",onCancel:function(){t.Is_Modal_Visible=!t.Is_Modal_Visible},footer:null,children:Object(i.jsx)("div",{children:t.View})})},Yo=function(t,e){var n=t.MainItem,i=function(){n.Items.forEach((function(t){t.DD_UseType=e}))};n.Items?i():wt(n.OnSet_Items_Func,i)},Qo="login",Jo="user",Zo=function(){function t(){var e=this;Object(o.a)(this,t),this.OnSet_LoginUser_Func=[],this.Logout=function(){e.LoginUser=void 0},this.viewType=void 0,Object(v.l)(this,{viewType:v.m})}return Object(u.a)(t,[{key:"Url",get:function(){return this.ModelItem.Url},set:function(t){this.ModelItem.Url=t}},{key:"LoginUser",get:function(){return this.loginUser||bu(this),this.loginUser},set:function(t){var e=this;this.loginUser=t,this.ViewType=Su(this),this.IsSet_Model?this.ModelItem.LoginUser=null===t||void 0===t?void 0:t.ModelItem:this.IsSet_Model=!0,Tt(this.OnSet_LoginUser_Func,(function(t){return e.OnSet_LoginUser_Func=t}))}},{key:"Login",get:function(){return this.login||(this.login=ju(this)),this.login}},{key:"NewPassword",get:function(){return this.newPassword||(this.newPassword=Ou(this)),this.newPassword}},{key:"ViewType",get:function(){return this.viewType||yu(this),this.viewType},set:function(t){this.viewType=t}},{key:"LoginRender",get:function(){return this.loginRender||(this.loginRender=Mu(this)),this.loginRender},set:function(t){this.loginRender=t}},{key:"UserRender",get:function(){return this.userRender||(this.userRender=Cu(this)),this.userRender},set:function(t){this.userRender=t}},{key:"MainViewRender",get:function(){return this.mainViewRender||(this.mainViewRender=ku(this)),this.mainViewRender},set:function(t){this.mainViewRender=t}},{key:"MainView",get:function(){return this.MainViewRender()}},{key:"ModalViewRender",get:function(){return this.modalViewRender||(this.modalViewRender=Vu(this)),this.modalViewRender},set:function(t){this.modalViewRender=t}},{key:"ModalView",get:function(){return this.ModalViewRender()}},{key:"ViewRender",get:function(){return this.viewRender||(this.viewRender=Du(this)),this.viewRender},set:function(t){this.viewRender=t}},{key:"View",get:function(){return this.ViewRender()}}]),t}(),$o=function(){function t(){var e=this;Object(o.a)(this,t),this.renderState=Ut,this.Edit=function(){e.RenderState===Ut&&(e.RenderState=Et,e.Hide_Tool())},this.IsSaveDatabase=!0,this.SaveDatabase=function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=arguments.length>1?arguments[1]:void 0;e.ModelItem.SaveDatabase(t,n,!1)},this.Delete=function(){e.CurrentList.splice(e.Index,1),e.ModelItem.Delete()},Object(v.l)(this,{renderState:v.m})}return Object(u.a)(t,[{key:"Show_Tool",value:function(){}},{key:"Hide_Tool",value:function(){}},{key:"id",get:function(){return this.ModelItem.id}},{key:"RenderState",get:function(){return this.renderState},set:function(t){this.renderState=t,this.UsernameVM.RenderState=t,this.OnSet_RenderState&&this.OnSet_RenderState(t),this.IsSaveDatabase?t===Ut&&this.SaveDatabase(!1):this.IsSaveDatabase=!0}},{key:"Username",get:function(){return this.ModelItem.Username},set:function(t){this.ModelItem.Username=t}},{key:"UsernameVM",get:function(){var t=this;if(!this.usernameVM){var e=this.usernameVM=tr(this.Username,this.CanEdit);e.Is_Tool_Visible=!1,Dt(e.OnSet_RenderState_Func_Dict,(function(){e.RenderState===Ut&&(t.Username=e.Content)}),!1)}return this.usernameVM}},{key:"UsernameView",get:function(){return Object(i.jsx)(Ca,{store:this.UsernameVM})}},{key:"Name",get:function(){return this.ModelItem.Name},set:function(t){this.ModelItem.Name=t}},{key:"CurrentList",get:function(){return this.Dict.Items}},{key:"Index",get:function(){return this.CurrentList.indexOf(this)}}]),t}(),tu=function(t,e){if(t){var n=new $o;return n.ModelItem=t,n.Dict=e,n}},eu=function(){function t(){var e=this;Object(o.a)(this,t),this.Username="",this.Is_Modal_Visible=!1,this.ModalOK=function(){var t=e.Username,n=e.Password;t&&0!==t.length?n&&0!==n.length?e.Validate():w.b.warn("B\u1ea1n ph\u1ea3i nh\u1eadp Password!"):w.b.warn("B\u1ea1n ph\u1ea3i nh\u1eadp UserName!")},this.Initial=function(){e.UsernameVM.Content="",e.PasswordVM.Content=""},this.Validate=function(){hu(e)},Object(v.l)(this,{Is_Modal_Visible:v.m})}return Object(u.a)(t,[{key:"UsernameVM",get:function(){return this.usernameVM||(this.usernameVM=au(this)),this.usernameVM}},{key:"PasswordVM",get:function(){return this.passwordVM||(this.passwordVM=cu(this)),this.passwordVM}},{key:"ApiData",get:function(){return{username:this.Username,password:this.Password}}},{key:"ButtonView",get:function(){return ou(this)}},{key:"MainView",get:function(){return uu(this)}},{key:"ModalView",get:function(){return lu(this)}}]),t}(),nu=(n(384),function(){function t(){var e=this;Object(o.a)(this,t),this.OnSet_id_Func_Dict=[],this.SaveDatabase=function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=arguments.length>1?arguments[1]:void 0;Nt(e,e.Url,(function(){t&&w.b.success("save successfully!"),n&&n()}))},this.Delete=function(){e.CurrentList.splice(e.Index,1),e._id&&e.DeleteDatabase(!1)},this.DeleteDatabase=function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=arguments.length>1?arguments[1]:void 0;Gt(e,e.Url,(function(){t&&w.b.success("delete successflly!"),n&&n()}))}}return Object(u.a)(t,[{key:"_id",get:function(){return this.__id},set:function(t){var e=this;this.__id=t,Tt(this.OnSet_id_Func_Dict,(function(t){return e.OnSet_id_Func_Dict=t}))}},{key:"TempId",get:function(){return this.tempId||(this.tempId=Mt()),this.tempId}},{key:"id",get:function(){return this._id?this._id:this.TempId}},{key:"ApiData",get:function(){return this.GetApiData_Func?this.GetApiData_Func():{_id:this._id,username:this.Username,name:this.Name}}},{key:"Url",get:function(){return this.GetUrl_Func()}},{key:"CurrentList",get:function(){return this.Dict.Items}},{key:"Index",get:function(){return this.CurrentList.indexOf(this)}}]),t}()),iu=function(t,e){var n=su(e);return n._id=t._id,n.Username=t.username,n.Name=t.name,t.userToken&&(e.Token=t.userToken),n},su=function(t){var e=new nu;return e.Dict=t,e},ru=function(t,e,n){e=e||{};L("".concat(t,"/list"),e).then((function(t){return t.data})).then((function(t){n&&n(t)}))},au=function(t){var e=new b;return e.Placeholder="t\xean user",e.Content=t.Username,e.onSetContent=function(e){return t.Username=e},e},cu=function(t){var e=new b;return e.State=g,e.Content=t.Password,e.onSetContent=function(e){return t.Password=e},e},ou=function(t){return Object(i.jsx)(p.a,{type:"primary",size:"small",onClick:function(){t.Initial(),t.Is_Modal_Visible=!0},children:"Login"})},uu=function(t){return Object(i.jsx)("table",{className:"login__table",children:Object(i.jsxs)("tbody",{children:[Object(i.jsxs)("tr",{className:"login__tr name",children:[Object(i.jsx)("th",{className:"login__title",children:"Username:"}),Object(i.jsx)("td",{className:"login__input",children:Object(i.jsx)(y,{store:t.UsernameVM})})]}),Object(i.jsxs)("tr",{children:[Object(i.jsx)("th",{className:"login__title",children:"Password:"}),Object(i.jsx)("td",{className:"login__input",children:Object(i.jsx)(y,{store:t.PasswordVM})})]})]})})},lu=function(t){var e=function(){t.Is_Modal_Visible=!1};return Object(i.jsx)(Oe.a,{title:"\u0110\u0103ng nh\u1eadp",visible:t.Is_Modal_Visible,onCancel:e,width:350,footer:Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)(p.a,{type:"primary",size:"small",onClick:t.ModalOK,children:"ok"}),Object(i.jsx)(p.a,{type:"text",size:"small",onClick:e,children:"cancel"})]}),children:Object(i.jsx)("div",{children:t.MainView})})},hu=function(t){var e=t.Dict,n=e.ModelItem;ru(e.Url,t.ApiData,(function(i){!function(i){0!==i.length?(e.LoginUser=tu(iu(i[0],n),e),t.Is_Modal_Visible=!1):w.b.warn("Th\xf4ng tin \u0111\u0103ng nh\u1eadp kh\xf4ng \u0111\xfang!")}(i)}))},du=function(){function t(){var e=this;Object(o.a)(this,t),this.Is_Modal_Visible=!1,this.ModalOK=function(){var t=e.OldPassword,n=e.NewPassword,i=e.ReNewPassword;t&&0!==t.length?n&&0!==n.length?t!==n?i===n?e.Validate():w.b.warn("Th\xf4ng tin nh\u1eadp l\u1ea1i Password m\u1edbi kh\xf4ng \u0111\xfang!"):w.b.warn("Password m\u1edbi b\u1ecb tr\xf9ng v\u1edbi password c\u0169!"):w.b.warn("B\u1ea1n ph\u1ea3i nh\u1eadp Password m\u1edbi!"):w.b.warn("B\u1ea1n ph\u1ea3i nh\u1eadp Password c\u0169!")},this.OpenModal=function(){e.Initial(),e.Is_Modal_Visible=!0},this.Initial=function(){e.OldPasswordVM.Content="",e.NewPasswordVM.Content="",e.ReNewPasswordVM.Content=""},this.Validate=function(){gu(e)},Object(v.l)(this,{Is_Modal_Visible:v.m})}return Object(u.a)(t,[{key:"OldPasswordVM",get:function(){return this.oldPasswordVM||(this.oldPasswordVM=mu(this)),this.oldPasswordVM}},{key:"NewPasswordVM",get:function(){return this.newPasswordVM||(this.newPasswordVM=fu(this)),this.newPasswordVM}},{key:"ReNewPasswordVM",get:function(){return this.reNewPasswordVM||(this.reNewPasswordVM=pu(this)),this.reNewPasswordVM}},{key:"ApiData",get:function(){var t;return{_id:null===(t=this.User.ModelItem)||void 0===t?void 0:t._id,oldpassword:this.OldPassword,newpassword:this.NewPassword}}},{key:"User",get:function(){return this.Dict.LoginUser}},{key:"ButtonView",get:function(){return _u(this)}},{key:"MainView",get:function(){return vu(this)}},{key:"ModalView",get:function(){return Iu(this)}}]),t}(),mu=(n(385),function(t){var e=new b;return e.State=g,e.Content=t.OldPassword,e.onSetContent=function(e){return t.OldPassword=e},e}),fu=function(t){var e=new b;return e.State=g,e.Content=t.NewPassword,e.onSetContent=function(e){return t.NewPassword=e},e},pu=function(t){var e=new b;return e.State=g,e.Content=t.ReNewPassword,e.onSetContent=function(e){return t.ReNewPassword=e},e},_u=function(t){return Object(i.jsx)(p.a,{type:"primary",size:"small",onClick:function(){t.OpenModal()},children:"New Password"})},vu=function(t){var e;return Object(i.jsx)("table",{className:"newpassword__table",children:Object(i.jsxs)("tbody",{children:[Object(i.jsxs)("tr",{className:"newpassword__tr name",children:[Object(i.jsx)("th",{className:"newpassword__title",children:"Username:"}),Object(i.jsx)("td",{className:"newpassword__input",children:Object(i.jsx)("b",{children:null===(e=t.User)||void 0===e?void 0:e.Username})})]}),Object(i.jsxs)("tr",{children:[Object(i.jsx)("th",{className:"newpassword__title",children:"OldPassword:"}),Object(i.jsx)("td",{className:"newpassword__input",children:Object(i.jsx)(y,{store:t.OldPasswordVM})})]}),Object(i.jsxs)("tr",{children:[Object(i.jsx)("th",{className:"newpassword__title",children:"NewPassword:"}),Object(i.jsx)("td",{className:"newpassword__input",children:Object(i.jsx)(y,{store:t.NewPasswordVM})})]}),Object(i.jsxs)("tr",{children:[Object(i.jsx)("th",{className:"login__title",children:"Re-NewPassword:"}),Object(i.jsx)("td",{className:"login__input",children:Object(i.jsx)(y,{store:t.ReNewPasswordVM})})]})]})})},Iu=function(t){var e=function(){t.Is_Modal_Visible=!1};return Object(i.jsx)(Oe.a,{title:"\u0110\u1ed5i m\u1eadt kh\u1ea9u",visible:t.Is_Modal_Visible,onCancel:e,width:400,footer:Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)(p.a,{type:"primary",size:"small",onClick:t.ModalOK,children:"ok"}),Object(i.jsx)(p.a,{type:"text",size:"small",onClick:e,children:"cancel"})]}),children:Object(i.jsx)("div",{children:t.MainView})})},gu=function(t){var e=t.Dict;e.ModelItem;R("".concat(e.Url,"/newpassword"),t.ApiData).then((function(t){return t.data})).then((function(e){!function(e){"wrongpassword"===e?w.b.warn("Password c\u0169 kh\xf4ng \u0111\xfang!"):0!==e.length&&(t.Is_Modal_Visible=!1,w.b.success("change password successfully!"),t.Dict.LoginUser=void 0)}(e)}))},bu=(n(386),function(t){if(!t.IsGet_LoginUser){t.IsGet_LoginUser=!0;var e=t.ModelItem;wt(e.OnSet_LoginUser_Func,(function(){return n=e.LoginUser,t.IsSet_Model=!1,t.LoginUser=n?tu(n,t):void 0,void(t.IsGet_LoginUser=!0);var n}));e.LoginUser}}),ju=function(t){return function(t){var e=new eu;return e.Dict=t,e}(t)},Ou=function(t){return function(t){var e=new du;return e.Dict=t,e}(t)},yu=function(t){if(!t.IsGet_ViewType){t.IsGet_ViewType=!0;var e=function(){t.ViewType=Su(t),t.IsGet_ViewType=!1};t.LoginUser?e():wt(t.OnSet_LoginUser_Func,e)}},Su=function(t){return t.LoginUser?Jo:Qo},Mu=function(t){return function(){return t.Login.ButtonView}},Cu=function(t){return function(){return Object(i.jsx)(i.Fragment,{children:Object(i.jsxs)("div",{className:"f-ac",children:[Object(i.jsx)("div",{className:"ud__username",onClick:t.NewPassword.OpenModal,children:Object(i.jsx)("b",{children:t.LoginUser.Username})}),Object(i.jsx)(p.a,{type:"primary",size:"small",className:"btn-danger ud__logout",onClick:t.Logout,children:"x"})]})})}},ku=function(t){return function(){switch(t.ViewType){case Qo:return t.LoginRender();case Jo:return t.UserRender();default:return""}}},Vu=function(t){return function(){return Object(i.jsxs)(i.Fragment,{children:[t.Login.ModalView,t.NewPassword.ModalView]})}},Du=function(t){return function(){return Object(i.jsxs)("div",{children:[Object(i.jsx)("div",{className:"ud__main__wrapper",children:t.MainView}),t.ModalView]})}},wu=function(){function t(){Object(o.a)(this,t),this.OnSet_Users_Func=[],this.OnSet_Projects_Func=[],Object(v.l)(this,{})}return Object(u.a)(t,[{key:"Users",get:function(){return this.users||bl(this),this.users},set:function(t){var e=this;this.users=t,Tt(this.OnSet_Users_Func,(function(t){return e.OnSet_Users_Func=t}))}},{key:"Projects",get:function(){return this.projects||jl(this),this.projects},set:function(t){var e=this;this.projects=t,Tt(this.OnSet_Projects_Func,(function(t){return e.OnSet_Projects_Func=t}))}},{key:"UserManager_Dict",get:function(){return this.userManager_Dict||(this.userManager_Dict=Ol(this)),this.userManager_Dict}},{key:"ProjectCommand_Dict",get:function(){return this.projectCommand_Dict||(this.projectCommand_Dict=yl(this)),this.projectCommand_Dict}},{key:"ProjectGroupCommand_Dict",get:function(){return this.projectGroupCommand_Dict||(this.projectGroupCommand_Dict=Sl(this)),this.projectGroupCommand_Dict}}]),t}(),Tu=(n(387),function(t){Object(l.a)(n,t);var e=Object(h.a)(n);function n(t){var i;Object(o.a)(this,n);var s=(i=e.call(this,t)).props.store;return i.state=s||new Fu,i}return Object(u.a)(n,[{key:"render",value:function(){var t,e=this.state;return Object(i.jsx)(i.Fragment,{children:Object(i.jsxs)("table",{className:"admin__um__table",children:[Object(i.jsx)("thead",{className:"admin__um__thead",children:Object(i.jsxs)("tr",{children:[Object(i.jsx)("th",{className:"admin__um__table__username",children:"Username"}),Object(i.jsx)("th",{className:"admin__um__table__password",children:"Password"})]})}),Object(i.jsx)("tbody",{className:"admin__um__tbody",children:null===(t=e.Items)||void 0===t?void 0:t.map((function(t){return e.ItemRender(t)}))})]})})}}]),n}(s.Component)),xu=Object(d.a)(Tu),Fu=(n(181),function(){function t(){var e=this;Object(o.a)(this,t),this.items=void 0,this.AddItem=function(){var t=e.ModelItem.Dict.GetUser_Func();e.ModelItem.Items.push(t);var n=e.GetItem_Func(t);e.Items.push(n)},Object(v.l)(this,{items:v.m})}return Object(u.a)(t,[{key:"id",get:function(){return this.ModelItem.id}},{key:"Items",get:function(){return this.items||Nu(this),this.items},set:function(t){this.items=t}},{key:"GetItem_Func",get:function(){return this.getItem_Func||(this.getItem_Func=Ru(this)),this.getItem_Func}},{key:"ItemRender",get:function(){return this.itemRender||(this.itemRender=Gu(this)),this.itemRender}},{key:"TableView",get:function(){return Object(i.jsx)(xu,{store:this})}},{key:"MainView",get:function(){return Object(i.jsxs)("div",{children:[Object(i.jsx)("div",{className:"f-jc admin__um__title",children:Object(i.jsx)("span",{children:"QU\u1ea2N L\xdd NG\u01af\u1edcI D\xd9NG"})}),Object(i.jsxs)("div",{className:"f",children:[Object(i.jsx)("div",{className:"admin__um__add",children:Object(i.jsx)(p.a,{type:"primary",size:"small",className:"btn-success",onClick:this.AddItem,children:"+"})}),Object(i.jsx)("div",{className:"es__main f1",children:Object(i.jsx)(xu,{store:this})})]})]})}}]),t}()),Nu=function(t){if(!t.IsGet_Items){t.IsGet_Items=!0;var e=function(e){t.Items=e.map((function(e){return t.GetItem_Func(e)})),t.IsGet_Items=!1},n=t.ModelItem;n.Items&&e(n.Items),wt(n.OnSet_Items_Func,(function(){return e(n.Items)}),!1)}},Gu=function(t){return function(t){return Object(i.jsxs)("tr",{onDoubleClick:t.Edit,children:[Object(i.jsx)("td",{children:Object(i.jsx)("div",{className:"admin__um__username",children:t.UsernameView})}),Object(i.jsx)("td",{children:Object(i.jsxs)("div",{className:"admin__um__password f-ac",children:[Object(i.jsx)("div",{className:"f1",children:t.PasswordView}),t.ToolView_Render()]})})]},t.id)}},Ru=function(t){return function(e){var n=tu(e,t),s=n.PasswordVM=tr("",void 0);s.Is_Tool_Visible=!1,n.OnSet_RenderState=function(t){s.RenderState=t},Dt(s.OnSet_RenderState_Func_Dict,(function(){s.RenderState===Ut&&(e.Password=s.Content,s.Content="")}),!1),n.PasswordView=Object(i.jsx)(Ca,{store:s});var r=function(){n.RenderState=Ut},a=function(){n.UsernameVM.Content=n.Username,n.PasswordVM.Content="",n.IsSaveDatabase=!1,n.RenderState=Ut};return n.ToolView_Render=function(){return Object(i.jsxs)("div",{className:"f",children:[n.RenderState===Et?Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)(p.a,{type:"primary",size:"small",onClick:r,children:"ok"}),Object(i.jsx)(p.a,{type:"primary",size:"small",onClick:a,children:"cancel"})]}):"",Object(i.jsx)(p.a,{type:"primary",size:"small",className:"btn-danger",onClick:n.Delete,children:"x"})]})},n}},Lu=(n(388),function(){function t(){var e=this;Object(o.a)(this,t),this.renderState=Et,this.Edit=function(){e.RenderState===Ut&&(e.RenderState=Et,e.Hide_Tool())},this.OnMouseEnter=function(){e.RenderState!==Et&&e.Show_Tool()},this.OnMouseLeave=function(){e.Hide_Tool()},this.SaveDatabase=function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=arguments.length>1?arguments[1]:void 0;e.ModelItem.SaveDatabase(t,n,!1)},this.Delete=function(){e.CurrentList.splice(e.Index,1),e.ModelItem.Delete()},Object(v.l)(this,{renderState:v.m})}return Object(u.a)(t,[{key:"Show_Tool",value:function(){this.DeleteVM.Show()}},{key:"Hide_Tool",value:function(){this.DeleteVM.Hide()}},{key:"id",get:function(){return this.ModelItem.id}},{key:"projectId",get:function(){return this.ModelItem.projectId}},{key:"RenderState",get:function(){return this.renderState},set:function(t){this.renderState=t}},{key:"Project",get:function(){return this.ModelItem.Project},set:function(t){this.ModelItem.Project=t,this.Project_Render.Content=null===t||void 0===t?void 0:t.Name}},{key:"Project_Render",get:function(){return this.project_Render||(this.project_Render=qu(this)),this.project_Render}},{key:"Project_Select",get:function(){return this.project_Select||(this.project_Select=Xu(this)),this.project_Select}},{key:"Project_View",get:function(){switch(this.RenderState){case Ut:return Object(i.jsx)(Pn,{store:this.Project_Render});case Et:return Object(i.jsx)(Be,{store:this.Project_Select})}}},{key:"User",get:function(){return this.ModelItem.User},set:function(t){this.ModelItem.User=t,this.User_Render.Content=null===t||void 0===t?void 0:t.Username}},{key:"User_Render",get:function(){return this.user_Render||(this.user_Render=Yu(this)),this.user_Render}},{key:"User_Select",get:function(){return this.user_Select||(this.user_Select=Qu(this)),this.user_Select}},{key:"User_View",get:function(){switch(this.RenderState){case Ut:return Object(i.jsx)(Pn,{store:this.User_Render});case Et:return Object(i.jsx)(Be,{store:this.User_Select})}}},{key:"Commands",get:function(){return this.ModelItem.Commands},set:function(t){this.ModelItem.Commands=t}},{key:"Command_Select",get:function(){return this.command_Select||(this.command_Select=Ju(this)),this.command_Select}},{key:"Command_View",get:function(){return Object(i.jsx)(ke,{store:this.Command_Select})}},{key:"CurrentList",get:function(){return this.Group.Items}},{key:"Index",get:function(){return this.CurrentList.indexOf(this)}},{key:"DeleteVM",get:function(){return this.deleteVM||(this.deleteVM=zu(this)),this.deleteVM}}]),t}()),Pu=function(t){var e=new Bu;return e.Dict=t,e},Uu="https://api.bimdev.vn/api/hb_upc",Eu=function(){function t(){var e=this;Object(o.a)(this,t),this.OnSet_id_Func_Dict=[],this.OnSet_User_Func=[],this.OnSet_Project_Func=[],this.Commands=[],this.SaveDatabase=function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=arguments.length>1?arguments[1]:void 0;Nt(e,Uu,(function(){t&&w.b.success("save successfully!"),n&&n()}))},this.Delete=function(){e.CurrentList.splice(e.Index,1),e._id&&e.DeleteDatabase(!1)},this.DeleteDatabase=function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=arguments.length>1?arguments[1]:void 0;Gt(e,Uu,(function(){t&&w.b.success("delete successflly!"),n&&n()}))}}return Object(u.a)(t,[{key:"_id",get:function(){return this.__id},set:function(t){var e=this;this.__id=t,Tt(this.OnSet_id_Func_Dict,(function(t){return e.OnSet_id_Func_Dict=t}))}},{key:"TempId",get:function(){return this.tempId||(this.tempId=Mt()),this.tempId}},{key:"id",get:function(){return this._id?this._id:this.TempId}},{key:"User",get:function(){return void 0===this.user&&Hu(this),this.user},set:function(t){var e=this;this.user=t,this.userId=null===t||void 0===t?void 0:t._id,Tt(this.OnSet_User_Func,(function(t){return e.OnSet_User_Func=t}))}},{key:"Project",get:function(){return void 0===this.project&&Wu(this),this.project},set:function(t){var e=this;this.project=t,this.projectId=null===t||void 0===t?void 0:t._id,Tt(this.OnSet_Project_Func,(function(t){return e.OnSet_Project_Func=t}))}},{key:"ApiData",get:function(){return{_id:this._id,userId:this.userId,projectId:this.projectId,commands:this.Commands}}},{key:"CurrentList",get:function(){return this.Dict.Items}},{key:"Index",get:function(){return this.CurrentList.indexOf(this)}}]),t}(),Au=function(t){var e=new Eu;return e.Dict=t,e},Hu=function(t){if(!t.IsGet_User){t.IsGet_User=!0;var e=function(e){t.User=e?Lt(e,(function(e){return e._id===t.userId})):null,t.IsGet_User=!1};if(t.userId){var n=t.Dict.Dict;n.Users?e(n.Users):wt(n.OnSet_Users_Func,(function(){return e(n.Users)}))}else e()}},Wu=function(t){if(!t.IsGet_Project){t.IsGet_Project=!0;var e=function(e){t.Project=e?Lt(e,(function(e){return e._id===t.projectId})):null,t.IsGet_Project=!1};if(t.projectId){var n=t.Dict.Dict;n.Projects?e(n.Projects):wt(n.OnSet_Projects_Func,(function(){return e(n.Projects)}))}else e()}},Bu=(n(389),function(){function t(){var e=this;Object(o.a)(this,t),this.OnSet_id_Func_Dict=[],this.renderState=Et,this.Items=[],this.AddItem=function(){var t=e.Dict.ModelItem,n=Au(t);n.Project=e.Project,t.Items.push(n);var i=Ku(n,e);e.Items.push(i)},this.Delete=function(){e.CurrentList.splice(e.Index,1),e.Items.forEach((function(t){t.Delete()}))},Object(v.l)(this,{Items:v.m})}return Object(u.a)(t,[{key:"_id",get:function(){return this.__id},set:function(t){var e=this;this.__id=t,Tt(this.OnSet_id_Func_Dict,(function(t){return e.OnSet_id_Func_Dict=t}))}},{key:"TempId",get:function(){return this.tempId||(this.tempId=Mt()),this.tempId}},{key:"id",get:function(){return this._id?this._id:this.TempId}},{key:"RenderState",get:function(){return this.renderState},set:function(t){this.renderState=t}},{key:"Key",get:function(){return this.Project}},{key:"Project",get:function(){return this.project},set:function(t){this.project=t,this.Project_Render.Content=null===t||void 0===t?void 0:t.Name}},{key:"Project_Render",get:function(){return this.project_Render||(this.project_Render=function(t){var e,n=new b;return n.Content=null===(e=t.Project)||void 0===e?void 0:e.Name,n}(this)),this.project_Render}},{key:"Project_Select",get:function(){return this.project_Select||(this.project_Select=function(t){var e=new Le;e.TitleRender=function(t){return t.Name},e.Placeholder="ch\u1ecdn d\u1ef1 \xe1n ...",e.OnSelectedItemChanged=function(e){t.Project=e};var n=function(n){e.Items=n,e.InitialItem=t.Project},i=t.Dict.Dict;return i.Projects?n(i.Projects):wt(i.OnSet_Projects_Func,(function(){return n(i.Projects)})),e}(this)),this.project_Select}},{key:"Project_View",get:function(){switch(this.RenderState){case Ut:return Object(i.jsx)(Pn,{store:this.Project_Render});case Et:return Object(i.jsx)(Be,{store:this.Project_Select})}}},{key:"CurrentList",get:function(){return this.Dict.Groups}},{key:"Index",get:function(){return this.CurrentList.indexOf(this)}},{key:"DeleteVM",get:function(){return this.deleteVM||(this.deleteVM=function(t){var e=new ar;return e.ToggleType=er,e.Title="X\xe1c nh\u1eadn x\xf3a?",e.OnRun=function(){t.Delete()},e}(this)),this.deleteVM}},{key:"RowView",get:function(){var t;return Object(i.jsxs)("tr",{children:[Object(i.jsx)("td",{className:"admin__pc__group__project",children:Object(i.jsxs)("div",{className:"f-ac",children:[this.Project_View,Object(i.jsx)(p.a,{type:"primary",size:"small",className:"btn-danger",onClick:this.Delete,children:"x"})]})}),Object(i.jsx)("td",{className:"admin__pc__group__usergroup",children:Object(i.jsxs)("div",{className:"f",children:[Object(i.jsx)("div",{className:"admin__pc__group__add",children:Object(i.jsx)(p.a,{type:"primary",size:"small",className:"btn-success",onClick:this.AddItem,children:"+"})}),Object(i.jsx)("div",{className:"f1",children:Object(i.jsx)("table",{className:"admin__pc__group__authorize__table",children:Object(i.jsx)("tbody",{children:null===(t=this.Items)||void 0===t?void 0:t.map((function(t){return Object(i.jsxs)("tr",{children:[Object(i.jsx)("td",{className:"admin__pc__group__user",children:t.User_View}),Object(i.jsx)("td",{className:"admin__pc__group__command",children:t.Command_View}),Object(i.jsx)("td",{children:Object(i.jsx)(p.a,{type:"primary",size:"small",className:"btn-danger",onClick:t.Delete,children:"x"})})]},t.id)}))})})})]})})]},this.id)}}]),t}()),Ku=function(t,e){var n=new Lu;return n.ModelItem=t,e instanceof Bu&&(n.Group=e,n.Dict=e.Dict),n},zu=function(t){var e=new ar;return e.ToggleType=er,e.Title="X\xe1c nh\u1eadn x\xf3a?",e.OnRun=function(){t.Delete()},e},qu=function(t){var e,n=new b;return n.Content=null===(e=t.Project)||void 0===e?void 0:e.Name,n},Xu=function(t){var e=new Le;e.TitleRender=function(t){return t.Name},e.Placeholder="ch\u1ecdn d\u1ef1 \xe1n ...",e.OnSelectedItemChanged=function(e){t.Project=e};var n=function(n){e.Items=n,e.InitialItem=t.Project},i=t.Dict.Dict;return i.Projects?n(i.Projects):wt(i.OnSet_Projects_Func,(function(){return n(i.Projects)})),e},Yu=function(t){var e,n=new b;return n.Content=null===(e=t.User)||void 0===e?void 0:e.Username,n},Qu=function(t){var e=new Le;e.Placeholder="ch\u1ecdn user ...",e.TitleRender=function(t){return t.Username},e.OnSelectedItemChanged=function(e){t.User=e};var n=function(t){e.Items=t},i=function(t){e.InitialItem=t},s=t.Dict.Dict;s.Users?n(s.Users):wt(s.OnSet_Users_Func,(function(){n(s.Users)}));var r=t.ModelItem;return void 0!==r.User?i(r.User):wt(r.OnSet_User_Func,(function(){return i(r.User)})),e},Ju=function(t){var e=new Se;return e.Items=Zr(),e.InitialItems=t.Commands,e.Placeholder="commands ...",e.OnSelectedItemChanged=function(e){t.Commands=e},e},Zu=(n(390),function(t){Object(l.a)(n,t);var e=Object(h.a)(n);function n(t){var i;Object(o.a)(this,n);var s=(i=e.call(this,t)).props.store;return i.state=s||new Bu,i}return Object(u.a)(n,[{key:"render",value:function(){var t=this.state;return Object(i.jsx)(i.Fragment,{children:t.RowView})}}]),n}(s.Component)),$u=Object(d.a)(Zu),tl=function(t){Object(l.a)(n,t);var e=Object(h.a)(n);function n(t){var i;Object(o.a)(this,n);var s=(i=e.call(this,t)).props.store;return i.state=s||new nl,i}return Object(u.a)(n,[{key:"render",value:function(){var t,e=this.state;return Object(i.jsx)(i.Fragment,{children:Object(i.jsxs)("table",{className:"admin__pc__table",children:[Object(i.jsx)("thead",{className:"admin__pc__thead",children:Object(i.jsxs)("tr",{children:[Object(i.jsx)("th",{className:"admin__pc__table__project",children:"D\u1ef1 \xe1n"}),Object(i.jsx)("th",{className:"admin__pc__table__authorize",children:"Ph\xe2n quy\u1ec1n"})]})}),Object(i.jsx)("tbody",{className:"admin__pc__tbody",children:null===(t=e.Groups)||void 0===t?void 0:t.map((function(t){return Object(i.jsx)($u,{store:t},t.id)}))})]})})}}]),n}(s.Component),el=Object(d.a)(tl),nl=(n(182),function(){function t(){var e=this;Object(o.a)(this,t),this.groups=void 0,this.AddGroup=function(){e.Groups.push(Pu(e))},this.Refine=function(){var t=[];e.Groups.forEach((function(e,n,i){e.Project&&0!==e.Items.length&&i.findIndex((function(t){return t.Project===e.Project}))===n||t.push(e)})),t.forEach((function(t){t.Delete()})),e.Groups.forEach((function(e){t=[],e.Items.forEach((function(e,n,i){e.User&&0!==e.Commands.length&&i.findIndex((function(t){return t.User===e.User}))===n||t.push(e)})),t.forEach((function(t){t.Delete()}))})),t=[],e.Groups.forEach((function(e,n,i){0===e.Items.length&&t.push(e)})),t.forEach((function(t){t.Delete()}))},this.Save=function(){e.Refine(),e.ModelItem.Save()},Object(v.l)(this,{groups:v.m})}return Object(u.a)(t,[{key:"id",get:function(){return this.ModelItem.id}},{key:"Groups",get:function(){return this.groups||il(this),this.groups},set:function(t){this.groups=t}},{key:"TableView",get:function(){return Object(i.jsx)(el,{store:this})}},{key:"MainView",get:function(){return Object(i.jsxs)("div",{children:[Object(i.jsx)("div",{className:"f-jc admin__pc__title",children:Object(i.jsx)("span",{children:"PH\xc2N QUY\u1ec0N D\u1ef0 \xc1N"})}),Object(i.jsxs)("div",{className:"f",children:[Object(i.jsxs)("div",{className:"admin__pc__add",children:[Object(i.jsx)(p.a,{type:"primary",size:"small",className:"btn-success",onClick:this.AddGroup,children:"+"}),Object(i.jsx)(p.a,{type:"primary",size:"small",className:"btn-success",onClick:this.Save,children:Object(i.jsx)(fo.a,{})})]}),Object(i.jsx)("div",{className:"es__main f1",children:Object(i.jsx)(el,{store:this})})]})]})}}]),t}()),il=function(t){if(!t.IsGet_Groups){t.IsGet_Groups=!0;var e=function(e){var n=function(){t.Groups=function(t,e,n,i){var s=[];return t.forEach((function(t){var r=t[e],a=void 0,c=s.findIndex((function(t){return r===t.Key}));-1===c?(a=n?n(r):{Key:r,Items:[]},s.push(a)):a=s[c];var o=i?i(t,a):t;a.Items.push(o)})),s}(e,"Project",(function(e){var n=Pu(t);return n.Project=e,n}),(function(t,e){return Ku(t,e)})),t.IsGet_Groups=!1},i=e.length;if(0===i)n();else{var s=-1,r=function(){++s===i-1&&n()};e.forEach((function(t){void 0!==t.Project?r():wt(t.OnSet_Project_Func,r)}))}},n=t.ModelItem;n.Items&&e(n.Items),wt(n.OnSet_Items_Func,(function(){return e(n.Items)}),!1)}},sl=(n(391),function(){function t(){var e=this;Object(o.a)(this,t),this.renderState=Et,this.Edit=function(){e.RenderState===Ut&&(e.RenderState=Et,e.Hide_Tool())},this.OnMouseEnter=function(){e.RenderState!==Et&&e.Show_Tool()},this.OnMouseLeave=function(){e.Hide_Tool()},this.SaveDatabase=function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=arguments.length>1?arguments[1]:void 0;e.ModelItem.SaveDatabase(t,n,!1)},this.Delete=function(){e.CurrentList.splice(e.Index,1),e.ModelItem.Delete()},Object(v.l)(this,{renderState:v.m})}return Object(u.a)(t,[{key:"Show_Tool",value:function(){this.DeleteVM.Show()}},{key:"Hide_Tool",value:function(){this.DeleteVM.Hide()}},{key:"id",get:function(){return this.ModelItem.id}},{key:"RenderState",get:function(){return this.renderState},set:function(t){this.renderState=t}},{key:"User",get:function(){return this.ModelItem.User},set:function(t){this.ModelItem.User=t,this.User_Render.Content=null===t||void 0===t?void 0:t.Username}},{key:"User_Render",get:function(){return this.user_Render||(this.user_Render=cl(this)),this.user_Render}},{key:"User_Select",get:function(){return this.user_Select||(this.user_Select=ol(this)),this.user_Select}},{key:"User_View",get:function(){switch(this.RenderState){case Ut:return Object(i.jsx)(Pn,{store:this.User_Render});case Et:return Object(i.jsx)(Be,{store:this.User_Select})}}},{key:"Commands",get:function(){return this.ModelItem.Commands},set:function(t){this.ModelItem.Commands=t}},{key:"Command_Select",get:function(){return this.command_Select||(this.command_Select=ul(this)),this.command_Select}},{key:"Command_View",get:function(){return Object(i.jsx)(ke,{store:this.Command_Select})}},{key:"CurrentList",get:function(){return this.Dict.Items}},{key:"Index",get:function(){return this.CurrentList.indexOf(this)}},{key:"DeleteVM",get:function(){return this.deleteVM||(this.deleteVM=al(this)),this.deleteVM}},{key:"RowView",get:function(){return Object(i.jsxs)("tr",{children:[Object(i.jsx)("td",{children:Object(i.jsxs)("div",{className:"f-ac admin__pgc__user",children:[this.User_View,Object(i.jsx)(p.a,{type:"primary",size:"small",className:"btn-danger",onClick:this.Delete,children:"x"})]})}),Object(i.jsx)("td",{children:Object(i.jsx)("div",{className:"admin__pgc__command",children:this.Command_View})})]})}}]),t}()),rl=function(t,e){var n=new sl;return n.ModelItem=t,n.Dict=e,n},al=function(t){var e=new ar;return e.ToggleType=er,e.Title="X\xe1c nh\u1eadn x\xf3a?",e.OnRun=function(){t.Delete()},e},cl=function(t){var e,n=new b;return n.Content=null===(e=t.User)||void 0===e?void 0:e.Username,n},ol=function(t){var e=new Le;e.Placeholder="ch\u1ecdn user ...",e.TitleRender=function(t){return t.Username},e.OnSelectedItemChanged=function(e){t.User=e};var n=function(t){e.Items=t},i=function(t){e.InitialItem=t},s=t.Dict.Dict;s.Users?n(s.Users):wt(s.OnSet_Users_Func,(function(){n(s.Users)}));var r=t.ModelItem;return void 0!==r.User?i(r.User):wt(r.OnSet_User_Func,(function(){return i(r.User)})),e},ul=function(t){var e=new Se;return e.Items=Zr(),e.InitialItems=t.Commands,e.Placeholder="commands ...",e.OnSelectedItemChanged=function(e){t.Commands=e},e},ll="https://api.bimdev.vn/api/hb_upgc",hl=function(){function t(){var e=this;Object(o.a)(this,t),this.OnSet_id_Func_Dict=[],this.OnSet_User_Func=[],this.Commands=[],this.SaveDatabase=function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=arguments.length>1?arguments[1]:void 0;Nt(e,ll,(function(){t&&w.b.success("save successfully!"),n&&n()}))},this.Delete=function(){e.CurrentList.splice(e.Index,1),e._id&&e.DeleteDatabase(!1)},this.DeleteDatabase=function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=arguments.length>1?arguments[1]:void 0;Gt(e,ll,(function(){t&&w.b.success("delete successflly!"),n&&n()}))}}return Object(u.a)(t,[{key:"_id",get:function(){return this.__id},set:function(t){var e=this;this.__id=t,Tt(this.OnSet_id_Func_Dict,(function(t){return e.OnSet_id_Func_Dict=t}))}},{key:"TempId",get:function(){return this.tempId||(this.tempId=Mt()),this.tempId}},{key:"id",get:function(){return this._id?this._id:this.TempId}},{key:"User",get:function(){return void 0===this.user&&ml(this),this.user},set:function(t){var e=this;this.user=t,this.userId=null===t||void 0===t?void 0:t._id,Tt(this.OnSet_User_Func,(function(t){return e.OnSet_User_Func=t}))}},{key:"ApiData",get:function(){return{_id:this._id,userId:this.userId,commands:this.Commands}}},{key:"CurrentList",get:function(){return this.Dict.Items}},{key:"Index",get:function(){return this.CurrentList.indexOf(this)}}]),t}(),dl=function(t){var e=new hl;return e.Dict=t,e},ml=function(t){if(!t.IsGet_User){t.IsGet_User=!0;var e=function(e){t.User=e?Lt(e,(function(e){return e._id===t.userId})):null,t.IsGet_User=!1};if(t.userId){var n=t.Dict.Dict;n.Users?e(n.Users):wt(n.OnSet_Users_Func,(function(){return e(n.Users)}))}else e()}},fl=(n(392),function(t){Object(l.a)(n,t);var e=Object(h.a)(n);function n(t){var i;Object(o.a)(this,n);var s=(i=e.call(this,t)).props.store;return i.state=s||new sl,i}return Object(u.a)(n,[{key:"render",value:function(){var t=this.state;return Object(i.jsx)(i.Fragment,{children:t.RowView})}}]),n}(s.Component)),pl=Object(d.a)(fl),_l=function(t){Object(l.a)(n,t);var e=Object(h.a)(n);function n(t){var i;Object(o.a)(this,n);var s=(i=e.call(this,t)).props.store;return i.state=s||new Il,i}return Object(u.a)(n,[{key:"render",value:function(){var t,e=this.state;return Object(i.jsx)(i.Fragment,{children:Object(i.jsxs)("table",{className:"admin__pgc__table",children:[Object(i.jsx)("thead",{className:"admin__pgc__thead",children:Object(i.jsxs)("tr",{children:[Object(i.jsx)("th",{className:"admin__pgc__table__user",children:"Ng\u01b0\u1eddi d\xf9ng"}),Object(i.jsx)("th",{className:"admin__pgc__table__authorize",children:"Ph\xe2n quy\u1ec1n"})]})}),Object(i.jsx)("tbody",{className:"admin__pgc__tbody",children:null===(t=e.Items)||void 0===t?void 0:t.map((function(t){return Object(i.jsx)(pl,{store:t},t.id)}))})]})})}}]),n}(s.Component),vl=Object(d.a)(_l),Il=(n(183),function(){function t(){var e=this;Object(o.a)(this,t),this.items=void 0,this.AddItem=function(){var t=dl(e.ModelItem);e.ModelItem.Items.push(t);var n=rl(t,e);e.Items.push(n)},this.Refine=function(){var t=[];e.Items.forEach((function(e,n,i){e.User&&0!==e.Commands.length&&i.findIndex((function(t){return t.User===e.User}))===n||t.push(e)})),t.forEach((function(t){t.Delete()}))},this.Save=function(){e.Refine(),e.ModelItem.Save()},Object(v.l)(this,{items:v.m})}return Object(u.a)(t,[{key:"id",get:function(){return this.ModelItem.id}},{key:"Items",get:function(){return this.items||gl(this),this.items},set:function(t){this.items=t}},{key:"TableView",get:function(){return Object(i.jsx)(vl,{store:this})}},{key:"MainView",get:function(){return Object(i.jsxs)("div",{children:[Object(i.jsx)("div",{className:"f-jc admin__pgc__title",children:Object(i.jsx)("span",{children:"PH\xc2N QUY\u1ec0N NH\xd3M D\u1ef0 \xc1N"})}),Object(i.jsxs)("div",{className:"f",children:[Object(i.jsxs)("div",{className:"admin__pgc__add",children:[Object(i.jsx)(p.a,{type:"primary",size:"small",className:"btn-success",onClick:this.AddItem,children:"+"}),Object(i.jsx)(p.a,{type:"primary",size:"small",className:"btn-success",onClick:this.Save,children:Object(i.jsx)(fo.a,{})})]}),Object(i.jsx)("div",{className:"es__main f1",children:Object(i.jsx)(vl,{store:this})})]})]})}}]),t}()),gl=function(t){if(!t.IsGet_Items){t.IsGet_Items=!0;var e=function(e){t.Items=e.map((function(e){return rl(e,t)})),t.IsGet_Items=!1},n=t.ModelItem;n.Items&&e(n.Items),wt(n.OnSet_Items_Func,(function(){return e(n.Items)}),!1)}},bl=function(t){if(!t.IsGet_Users){t.IsGet_Users=!0;var e=function(e){t.Users=e,t.IsGet_Users=!1},n=t.ModelItem;n.Users?e(n.Users):wt(n.OnSet_Users_Func,(function(){return e(n.Users)}))}},jl=function(t){if(!t.IsGet_Projects){t.IsGet_Projects=!0;var e=function(e){t.Projects=e,t.IsGet_Projects=!1},n=t.ModelItem;n.Projects?e(n.Projects):wt(n.OnSet_Projects_Func,(function(){return e(n.Projects)}))}},Ol=function(t){return function(t,e){var n=new Fu;return n.ModelItem=t,n.Dict=e,n}(t.ModelItem.UserManager_Dict,t)},yl=function(t){return function(t,e){var n=new nl;return n.ModelItem=t,n.Dict=e,n}(t.ModelItem.ProjectCommand_Dict,t)},Sl=function(t){return function(t,e){var n=new Il;return n.ModelItem=t,n.Dict=e,n}(t.ModelItem.ProjectGroupCommand_Dict,t)},Ml=function(){return Gd.Instance},Cl=function(t){return function(t){var e=new Qc;return e.ModelItem=t,e}(Ml().Project_Dict)},kl=function(t){return function(t){var e=new Uo;return e.ModelItem=t,e}(Ml().Mgs_Dict_Dict)},Vl=function(t){var e=function(t,e){var n=new Zo;return n.ModelItem=t,n.Dict=e,n}(Ml().UserDict,t);return e.ViewRender=function(){return Object(i.jsx)("div",{className:"ud__wrapper",children:Object(i.jsxs)("div",{className:"ud__dec f",children:[Object(i.jsx)("div",{className:"f1"}),Object(i.jsxs)("div",{children:[Object(i.jsx)("div",{className:"ud__main__wrapper",children:e.MainView}),e.ModalView]})]})})},e},Dl=function(t){return function(t,e){var n=new wu;return n.ModelItem=t,n.Dict=e,n}(Ml().Admin,t)},wl="mass",Tl="typicallevel",xl="phase",Fl="inputdata",Nl="mepsetting",Gl="document",Rl="masstype",Ll=function(){function t(){Object(o.a)(this,t),this.isDebug=void 0,this.OnSet_ProjectViewType_Func_Dict=[],this.projectViewType=wl,this.OnSet_CurrentProject_Func_Dict=[],this.currentProject=void 0,this.massGroupSetting_Dict=void 0,this.main_Classname="projectcomp__main",this.commands=void 0,this.adminCommands=void 0,this.UnAuthorized_View=Object(i.jsx)("span",{className:"unauthorize",children:"B\u1ea1n kh\xf4ng c\xf3 quy\u1ec1n truy c\u1eadp View hi\u1ec7n t\u1ea1i!"}),Object(v.l)(this,{isDebug:v.m,projectViewType:v.m,currentProject:v.m,main_Classname:v.m,massGroupSetting_Dict:v.m,commands:v.m,adminCommands:v.m})}return Object(u.a)(t,[{key:"pmData",get:function(){return Gd.Instance}},{key:"Project_DictVM",get:function(){return this.project_DictVM||(this.project_DictVM=Cl()),this.project_DictVM}},{key:"MassResultCompVM",get:function(){return this.massResultCompVM||(this.massResultCompVM=to(Ml().MassResultComp)),this.massResultCompVM},set:function(t){this.massResultCompVM=t,this.pmData.MassResultComp=t?t.ModelItem:t}},{key:"IsDebug",get:function(){return void 0===this.isDebug&&(this.isDebug=this.pmData.IsDebug),this.isDebug},set:function(t){this.isDebug=this.pmData.IsDebug=t}},{key:"ProjectViewType",get:function(){return this.projectViewType},set:function(t){this.projectViewType=t,this.OnSet_ProjectViewType_Func_Dict.forEach((function(t){return t.Value()}))}},{key:"CurrentProject",get:function(){return this.currentProject},set:function(t){this.currentProject=t,this.OnSet_CurrentProject_Func_Dict.forEach((function(t){return t.Value()})),this.pmData.CurrentProject=null===t||void 0===t?void 0:t.ModelItem}},{key:"Mgs_Dict_Dict",get:function(){return this.mgs_Dict_Dict||(this.mgs_Dict_Dict=kl()),this.mgs_Dict_Dict}},{key:"MassGroupSetting_Dict",get:function(){return this.massGroupSetting_Dict||(this.massGroupSetting_Dict=Lt(this.Mgs_Dict_Dict.Items,(function(t){return t.UseType===po}))),this.massGroupSetting_Dict}},{key:"UpdatedDate",get:function(){return this.pmData.UpdatedDate}},{key:"Main_Classname",get:function(){return this.main_Classname},set:function(t){this.main_Classname=t}},{key:"UserDict",get:function(){return this.userDict||(this.userDict=Vl(this)),this.userDict}},{key:"Admin",get:function(){return this.admin||(this.admin=Dl(this)),this.admin}},{key:"Commands",get:function(){return this.commands||function(t){if(!t.IsGet_Commands){t.IsGet_Commands=!0;var e=function(e){t.Commands=e,t.IsGet_Commands=!1},n=Ml();n.Commands&&e(n.Commands),wt(n.OnSet_Commands_Func,(function(){return e(n.Commands)}),!1)}}(this),this.commands},set:function(t){this.commands=t}},{key:"AdminCommands",get:function(){return this.adminCommands||function(t){if(!t.IsGet_AdminCommands){t.IsGet_AdminCommands=!0;var e=function(e){t.AdminCommands=e,t.IsGet_AdminCommands=!1},n=Ml();n.AdminCommands&&e(n.AdminCommands),wt(n.OnSet_AdminCommands_Func,(function(){return e(n.AdminCommands)}),!1)}}(this),this.adminCommands},set:function(t){this.adminCommands=t}}],[{key:"Instance",get:function(){return this.instance||(this.instance=new t),this.instance}}]),t}(),Pl=n(209),Ul=n.n(Pl),El=n(101),Al=n(95),Hl=function(){function t(){var e=this;Object(o.a)(this,t),this.Export=function(){var t=Al.write(e.Workbook,{bookType:"xlsx",type:"array"}),n=new Blob([t],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=UTF-8"});El.saveAs(n,e.FileName+".xlsx")}}return Object(u.a)(t,[{key:"Workbook",get:function(){return this.Override_Get_Workbook?this.Override_Get_Workbook():this.workbook},set:function(t){this.workbook=t}},{key:"FileName",get:function(){return this.Override_Get_FileName?this.Override_Get_FileName():this.fileName},set:function(t){this.fileName=t}}]),t}(),Wl=function(){function t(){Object(o.a)(this,t),this.row=0,this.column=0}return Object(u.a)(t,[{key:"Row",get:function(){return this.Override_Get_Row?this.Override_Get_Row():this.row},set:function(t){this.row=t,this.Override_Get_Row=void 0}},{key:"Column",get:function(){return this.Override_Get_Column?this.Override_Get_Column():this.column},set:function(t){this.column=t,this.Override_Get_Column=void 0}},{key:"Formula",get:function(){return this.Override_Get_Formula?this.Override_Get_Formula():this.formula},set:function(t){this.formula=t,this.Override_Get_Formula=void 0}},{key:"Address",get:function(){return xt(this.Row,this.Column)}},{key:"SubItems",get:function(){return this.subItems||(this.subItems=function(t){var e=t.Column;return t.Dict.SubItems.map((function(t){var n=t.Cells,i=n.findIndex((function(t){return t.Column===e}));return-1!==i?n[i]:void 0})).filter((function(t){return void 0!==t}))}(this)),this.subItems}},{key:"IsContinueSubRows",get:function(){return void 0===this.isContinueSubRows&&(this.isContinueSubRows=function(t){var e=!0;return t.SubItems.forEach((function(t){e&&0!==t.SubItems.length&&(e=!1)})),e}(this)),this.isContinueSubRows}},{key:"ResultData",get:function(){return{t:this.Type,v:this.Value,f:this.Formula,z:this.Format,s:this.Style}}}]),t}(),Bl=function(){function t(){Object(o.a)(this,t)}return Object(u.a)(t,[{key:"Rank",get:function(){return this.Row.Rank}},{key:"SubItems",get:function(){return this.subItems||(this.subItems=zl(this)),this.subItems}},{key:"FullItems",get:function(){return Yl(this)}},{key:"Cells",get:function(){return this.cells||(this.cells=Xl(this)),this.cells}},{key:"FullIndex",get:function(){return this.Worksheet.FullRows.indexOf(this)}},{key:"Title",get:function(){return this.title||(this.title=ql(this)),this.title}}]),t}(),Kl=function(t,e,n){var i=new Bl;return i.Row=t,i.Worksheet=e,i.SupItem=n,i},zl=function(t){return t.Row.SubItems.map((function(e){return Kl(e,t.Worksheet,t)}))},ql=function(t){for(var e=t.Row,n="",i=0;i<e.Rank;i++)n+="  ";return n+=e.Title},Xl=function(t){var e=t.ValueCell_Dict=[],n=t.Worksheet.First_ValueColumn,i=t.Worksheet.First_ValueRow,s=t.Row,r=[],a=function(){return t.FullIndex+i},c=new Wl;c.Dict=t,c.Type=Cs,c.Value=t.Title,c.Column=0+n,c.Override_Get_Row=a,r.push(c);var o=s.Table.Columns;return s.Cells.forEach((function(i){var s=new Wl;s.Dict=t,s.Type="n",s.Value=i.TotalValue,s.Format="0.00",s.Column=o.indexOf(i.Column)+1+n,s.Override_Get_Row=a,s.Override_Get_Formula=function(){var t,e=s.SubItems,n=e.length;if(0!==n)return s.IsContinueSubRows?t="SUM(".concat(e[0].Address,":").concat(e[n-1].Address,")"):(t=e.reduce((function(t,e,n){return 0!==n&&(t+=","),t+=e.Address}),"SUM("),t+=")"),t};var c=i.Column.Name;r.push(s),e.push({Key:c,Value:s})})),r},Yl=function(t){var e=[t];return t.SubItems.forEach((function(t){e.push.apply(e,t.FullItems)})),e},Ql=function(){function t(){Object(o.a)(this,t),this.First_TitleColumn=0,this.First_TitleRow=0,this.First_ValueColumn=0,this.First_ValueRow=1}return Object(u.a)(t,[{key:"Table",get:function(){return this.Workbook.Table}},{key:"MainRows",get:function(){var t;return this.mainRows||(this.mainRows=(t=this).Table.MainRows.map((function(e){return Kl(e,t)}))),this.mainRows}},{key:"FullRows",get:function(){return this.fullRows||(this.fullRows=function(t){var e=[];return t.MainRows.forEach((function(t){e.push.apply(e,t.FullItems)})),e}(this)),this.fullRows}},{key:"ValueCells",get:function(){return this.valueCells||(this.valueCells=function(t){var e=[];return t.FullRows.forEach((function(t){e.push.apply(e,t.Cells)})),e}(this)),this.valueCells}},{key:"TitleCells",get:function(){return this.titleCells||(this.titleCells=function(t){var e=t.First_TitleColumn,n=t.First_TitleRow,i=[];return t.Table.Columns.forEach((function(t,s){var r=new Wl;r.Type=Cs,r.Value=t.Name,r.Column=s+e+1,r.Row=n,r.Style={font:{bold:!0}},i.push(r)})),i}(this)),this.titleCells}},{key:"AllCells",get:function(){return this.allCells||(this.allCells=this.TitleCells.concat(this.ValueCells)),this.allCells}},{key:"RangeName",get:function(){return function(t){var e=t.AllCells,n=e.reduce((function(t,e){var n=t.minRow,i=t.minCol,s=t.maxRow,r=t.maxCol;return{minRow:n<e.Row?n:e.Row,minCol:i<e.Column?i:e.Column,maxRow:s>e.Row?s:e.Row,maxCol:r>e.Column?r:e.Column}}),Object(Qe.a)({minRow:e[0].Row,minCol:e[0].Column,maxRow:e[0].Row},"maxRow",e[0].Column));return Ft(n.minRow,n.minCol,n.maxRow,n.maxCol)}(this)}},{key:"ResultData",get:function(){var t={"!ref":this.RangeName};return this.AllCells.forEach((function(e){t[e.Address]=e.ResultData})),t}}]),t}(),Jl=function(){function t(){Object(o.a)(this,t),this.InfoFields=[],this.First_TitleColumn=0,this.First_TitleRow=0,this.First_ValueColumn=0,this.First_ValueRow=1}return Object(u.a)(t,[{key:"Table",get:function(){return this.Workbook.Table}},{key:"DataRows",get:function(){return this.dataRows||(this.dataRows=this.Workbook.Data_WS.FullRows.filter((function(t){return 0===t.SubItems.length}))),this.dataRows}},{key:"TableRows",get:function(){return this.tableRows||(this.tableRows=this.DataRows.map((function(t){return t.Row}))),this.tableRows}},{key:"Records",get:function(){var t;return this.records||(this.records=(t=this).DataRows.map((function(e){e.Cells;var n=e.Row.ExportData,i=t.InfoFields;return n.Infos.map((function(t){return t.Key})).forEach((function(t){i.includes(t)||i.push(t)})),{Binding_DataRow:e,Value:n}}))),this.records}},{key:"ValueFields",get:function(){return this.valueFields||(this.valueFields=this.Table.Columns.map((function(t){return t.Name}))),this.valueFields}},{key:"ValueCells",get:function(){return this.valueCells||(this.valueCells=function(t){var e=t.First_ValueColumn,n=t.First_ValueRow,i=t.Records,s=[],r=t.InfoFields,a=r.length,c=t.ValueFields;return i.forEach((function(t,i){var o,u=t.Binding_DataRow.ValueCell_Dict,l=t.Value,h=i+n;l.Infos.forEach((function(t){(o=new Wl).Type=Cs,o.Value=t.Value,o.Column=r.indexOf(t.Key)+e,o.Row=h,s.push(o)})),l.Values.forEach((function(t){var n=t.Key,i=t.Value;(o=new Wl).Type="n",o.Value=i,o.Format="0.00",o.Column=c.indexOf(n)+e+a,o.Row=h,s.push(o);var r=u.findIndex((function(t){return t.Key===n})),l=u[r].Value;i&&(l.Formula="raw_data!".concat(o.Address))}))})),s}(this)),this.valueCells}},{key:"TitleCells",get:function(){return this.titleCells||(this.titleCells=function(t){t.Records;var e=t.First_TitleColumn,n=t.First_TitleRow,i=t.InfoFields.concat(t.ValueFields),s=[];return i.forEach((function(t,i){var r=new Wl;r.Type=Cs,r.Value=t,r.Column=i+e,r.Row=n,s.push(r)})),s}(this)),this.titleCells}},{key:"AllCells",get:function(){return this.allCells||(this.allCells=this.TitleCells.concat(this.ValueCells)),this.allCells}},{key:"RangeName",get:function(){return function(t){var e=t.AllCells,n=e.reduce((function(t,e){var n=t.minRow,i=t.minCol,s=t.maxRow,r=t.maxCol;return{minRow:n<e.Row?n:e.Row,minCol:i<e.Column?i:e.Column,maxRow:s>e.Row?s:e.Row,maxCol:r>e.Column?r:e.Column}}),Object(Qe.a)({minRow:e[0].Row,minCol:e[0].Column,maxRow:e[0].Row},"maxRow",e[0].Column));return Ft(n.minRow,n.minCol,n.maxRow,n.maxCol)}(this)}},{key:"ResultData",get:function(){var t={"!ref":this.RangeName};return this.AllCells.forEach((function(e){t[e.Address]=e.ResultData})),t}}]),t}(),Zl=function(){function t(){Object(o.a)(this,t)}return Object(u.a)(t,[{key:"All_WS",get:function(){return[this.RawData_WS,this.Data_WS]}},{key:"Data_WS",get:function(){return this.data_WS||(this.data_WS=$l(this)),this.data_WS}},{key:"RawData_WS",get:function(){return this.rawData_WS||(this.rawData_WS=th(this)),this.rawData_WS}},{key:"ResultData",get:function(){var t={Sheets:{},SheetNames:[]};return this.All_WS.forEach((function(e){t.Sheets[e.Title]=e.ResultData,t.SheetNames.push(e.Title)})),t}}]),t}(),$l=function(t){var e=new Ql;return e.Workbook=t,e.Title="data",e},th=function(t){var e=new Jl;return e.Workbook=t,e.Title="raw_data",e},eh=(n(399),n(460)),nh=(m.a.Option,function(t){Object(l.a)(n,t);var e=Object(h.a)(n);function n(t){var i;Object(o.a)(this,n);var s=(i=e.call(this,t)).props.store;return i.state=s||new Un,i}return Object(u.a)(n,[{key:"render",value:function(){var t,e=this.state;return Object(i.jsx)(i.Fragment,{children:Object(i.jsx)("td",{style:e.TDStyle,children:Object(i.jsx)("div",{className:"masscell__div",children:Object(i.jsxs)("div",{className:"masscell__value",children:[e.IsHaveWarning?Object(i.jsx)(Te.a,{trigger:"hover",content:Object(i.jsx)("div",{children:e.TLS_LevelGroup_Descriptions?e.TLS_LevelGroup_Descriptions.map((function(t){return Object(i.jsx)("span",{children:t},t)})):""}),children:Object(i.jsx)(Ge.a,{className:"masscell__warningicon"})}):"",Object(i.jsx)("div",{style:e.AStyle,children:null===(t=e.CurrentTotalValueItem)||void 0===t?void 0:t.ValueString}),Object(i.jsx)("a",{className:"masscell__linkdetail",onClick:e.ShowDetail,children:Object(i.jsx)(eh.a,{})})]})})})})}}]),n}(s.Component)),ih=Object(d.a)(nh),sh=(n(400),n(401),m.a.Option,function(t){Object(l.a)(n,t);var e=Object(h.a)(n);function n(t){var i;Object(o.a)(this,n);var s=(i=e.call(this,t)).props.store;return i.state=s||new Bn,i}return Object(u.a)(n,[{key:"render",value:function(){var t=this.state;return Object(i.jsx)(i.Fragment,{children:Object(i.jsx)("td",{className:"massrow__unit__td",onMouseEnter:t.OnMouseEnter,onMouseLeave:t.OnMouseLeave,children:t.MainView})})}}]),n}(s.Component)),rh=Object(d.a)(sh),ah=(m.a.Option,function(t){Object(l.a)(n,t);var e=Object(h.a)(n);function n(t){var i;Object(o.a)(this,n);var s=(i=e.call(this,t)).props.store;return i.state=s||new kn,i}return Object(u.a)(n,[{key:"render",value:function(){var t=this.state,e=t.IsHaveSub?Object(i.jsx)(p.a,{size:"small",style:{marginRight:5,minWidth:25},type:"primary",onClick:t.ToggleSub,children:Object(i.jsx)(Pn,{store:t.ToggleButtonContentVM})}):Object(i.jsx)("div",{style:{padding:"0 15.5px"}});return Object(i.jsxs)(i.Fragment,{children:[Object(i.jsxs)("tr",{children:[Object(i.jsx)("th",{scope:"row",children:Object(i.jsxs)("div",{className:"massrow__title__wrapper",style:t.Style,onMouseEnter:t.ShowHover,onMouseLeave:t.HideHover,children:[e,Object(i.jsxs)("div",{className:"f1 f-ac",children:[Object(i.jsx)("span",{onDoubleClick:t.EditTitle,children:Object(i.jsx)(Ca,{store:t.Editable_TitleVM})}),t.IsHave_Addition_Wrapper?Object(i.jsxs)("div",{className:"massrow__addition__wrapper",children:[t.AdditionInfomation_Element,t.RawValue_Element]}):""]}),Object(i.jsxs)("div",{className:"massrow__hover__wrapper",children:[t.HoverData.View,t.ModalElement]})]})}),t.Cells.map((function(t){return Object(i.jsx)(ih,{store:t},t.id)})),Object(i.jsx)(rh,{store:t.UnitData})]}),t.IsShowSub?t.SubItems.map((function(t,e){return Object(i.jsx)(n,{store:t},t.id)})):""]})}}]),n}(s.Component)),ch=Object(d.a)(ah),oh=function(){function t(){Object(o.a)(this,t),this.rows=[],Object(v.l)(this,{rows:v.m})}return Object(u.a)(t,[{key:"TempId",get:function(){return this.tempId||(this.tempId=Mt()),this.tempId}},{key:"id",get:function(){return this._id?this._id:this.TempId}},{key:"Rows",get:function(){return this.rows},set:function(t){this.rows=t}},{key:"View",get:function(){return Object(i.jsx)("tbody",{children:this.Rows?this.Rows.map((function(t,e){return Object(i.jsx)(ch,{store:t},t.id)})):Object(i.jsx)("tr",{})})}}]),t}(),uh=function(){return Gd.Instance},lh=function(){function t(){var e=this;Object(o.a)(this,t),this.IsValidTable=!1,this.columnField=Z,this.Columns=void 0,this.FullRows=void 0,this.MainRows=void 0,this.Cells=void 0,this.Init=function(){e.Columns=[],e.MainRows=[],e.FullRows=[],e.Cells=[],e.CreatedByUser_Rows=[],e.Handled_CreatedByUser_Rows=[]},this.GetColumn=function(t,n){var i=e.Columns,s=void 0,r=i.findIndex((function(e){return e.Name===t}));return-1===r?(s=function(t,e,n){var i=new Pt;return i.Name=t,i.Dict=e,i.Data=n,i}(t,e,n),i.push(s),s):i[r]},this.GetRow=function(t,n){var i=void 0,s=void 0,r=(i=n?n.SubItems:e.MainRows).findIndex((function(e){return e.Name===t}));return-1===r?((s=or(t,e)).SupItem=n,i.push(s),e.FullRows.push(s),s):i[r]},this.GetCell=function(t,n){var i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],s=e.Cells,r=void 0,a=s.findIndex((function(e){return e.Column===t&&e.Row===n}));if(-1===a){if(!i)return;return r=Fn(t,n),s.push(r),r}return s[a]},this.Build=function(){var t=function(){var t=e.ColumnField;t===$&&uh().MassResultComp.Phases.forEach((function(n){var i=jt(n,t),s=n;e.GetColumn(i,s)})),e.Items.forEach((function(n){switch(t){case $:n.ValidPhasesByInput.forEach((function(t){e.HandleItem(n,t)}));break;default:var i=n.GetValue(t).Value;e.HandleItem(n,i)}}))};e.MainMGI?t():wt(e.OnSet_MainMGI_Func,t)},this.IsOnSaveMassGroup=!1,this.HandledItems=[],this.HandledItemPhases=[],this.OnSetHandledRatio_Funcs=[],this.AddHandledItems=function(t){if(e.ColumnField!==$)e.HandledItems.push(t);else{var n=e.HandledItemPhases,i=n.findIndex((function(e){return e.Item===t})),s=void 0;-1===i?(s={Item:t,Count:0},n.push(s)):s=n[i],s.Count++,s.Count===t.ValidPhasesByInput.length&&e.HandledItems.push(t)}e.HandledRatio=e.HandledItems.length/e.Items.length,e.HandledItems.length===e.Items.length&&(e.UpdateData(),e.HandledItems=[])},this.UpdateData=function(){e.MainRows=function(t){if(0===t.length)return t;var e=t[0].OrderMGI;if(!e.IsHaveValueOrder)return t;var n=e.OrderValues;return t.sort((function(t,e){return n.indexOf(t.FullValue)-n.indexOf(e.FullValue)}))}(e.MainRows),e.MainRows.forEach((function(t){t.Update.Run({Section:gn,Data:{Sections:Sn}},pn)})),e.TBody.Rows=e.MainRows,e.IsUpdateDataDone=!0},this.OnIsUpdateDataDone_Funcs=[],this.HandleItem=function(t,n,i,s){var r=jt(n,e.ColumnField),a=n,c=e.GetColumn(r,a),o=s?[s]:[];i=i||e.MainMGC;e.HandleRowFieldIndex(t,c,o,i,0)},this.GetRow_Value_FieldIndex=function(t,n,i,s,r,a){var c=r.Items,o=c.length,u=c[a],l=0!==i.length?i[i.length-1]:void 0;u.AddSupRow(l);var h=u.Field;if(h){var d=jt(s,h),m=l?"".concat(l.FullValue,"__").concat(d):d;if(u.NotIncludeValues.includes(m))e.AddHandledItems(t);else{var f=function(t){return e.Handle_AddRow(m,t)},p=function(s){s.RawValue=d,s.MassGroupItem=u,i.push(s);var c=u.SubComponents,l=c.findIndex((function(t){return ee(t.Filter,m)}));-1!==l&&((r=c[l]).IsHaveMassItem=!0,a=-1,o=r.Items.length,s.SubMassGroupComponent=r),e.GetCell(n,s).Items.push(t),a===o-1?e.AddHandledItems(t):e.HandleRowFieldIndex(t,n,i,r,a+1)},_=u.GetItem(m,d),v=_.NewMGI;if(v){var I=_.SupValue;v.GetItem(m,d),l&&(l.Is_Original_SupRow=!0),e.Handle_ReplaceMGI(v,I,f,p,l,t)}else p(f(l))}}else e.AddHandledItems(t)},this.Handle_AddRow=function(t,n){var i=e.GetRow(t,n);return i.FullValue=t,i},this.Handle_ReplaceMGI=function(t,e,n,i,s,r){var a,c=function(){var r,c=function(){var n=t.SupRows,i=n.findIndex((function(t){return t.Name===e}));if(-1!==i)return a=!0,n[i]}();if(c){var o=function(e){var i=n(e);return i.ReplaceMGI=t,i}(c);(r=o).Original_SupRow=s,r.IsReplaced=!0,i(o)}};c(),wt(t.On_AddSupRow_Func_Dict,(function(){var n;a||(null===(n=t.NewRow)||void 0===n?void 0:n.Name)!==e||c()}),!1)},this.HandleRowFieldIndex=function(t,n,i,s,r){var a=s.Items[r].Field;if(a){var c=t.GetValue(a,(function(a){return e.GetRow_Value_FieldIndex(t,n,i,a,s,r,!0)}));if(!c.IsHandle){var o=c.Value;e.GetRow_Value_FieldIndex(t,n,i,o,s,r)}}else e.GetRow_Value_FieldIndex(t,n,i,void 0,s,r)},this.OnSet_MainMGI_Func=[],this.AddMainRow=function(){return br(void 0,e)},this.Export=function(){e.ExcelExport.Export()},this.Add_Handled_CreatedByUser_Row=function(t){e.Handled_CreatedByUser_Rows.push(t),e.CreatedByUser_Rows.length,e.Handled_CreatedByUser_Rows.length},this.tbody=void 0,Object(v.l)(this,{IsValidTable:v.m,Columns:v.m,MainRows:v.m,Cells:v.m,columnField:v.m,tbody:v.m})}return Object(u.a)(t,[{key:"TempId",get:function(){return this.tempId||(this.tempId=Mt()),this.tempId}},{key:"id",get:function(){return this._id?this._id:this.TempId}},{key:"Items",get:function(){return this.items},set:function(t){this.items=t,t&&0!==t.length?(this.Init(),this.Build(),this.IsValidTable=!0):this.IsValidTable=!1}},{key:"ColumnField",get:function(){return this.columnField},set:function(t){this.columnField=t}},{key:"AllRows",get:function(){return function(t){var e=[];return t.MainRows.forEach((function(t){e.push.apply(e,t.AllItems)})),e}(this)}},{key:"HandledRatio",get:function(){return this.handledRatio},set:function(t){this.handledRatio=t,this.OnSetHandledRatio_Funcs.forEach((function(e){return e(t)}))}},{key:"IsUpdateDataDone",set:function(t){this.OnIsUpdateDataDone_Funcs.forEach((function(t){return t()}))}},{key:"MassGroupSetting_DictVM",get:function(){return Ll.Instance.MassGroupSetting_Dict}},{key:"Mgs_Dict_Dict",get:function(){return uh().Mgs_Dict_Dict}},{key:"MainMGC",get:function(){return this.Mgs_Dict_Dict.Used_MassGroupComponent}},{key:"MainMGI",get:function(){return this.mainMGI||function(t){if(!t.IsGet_MainMGI){t.IsGet_MainMGI=!0;var e=function(e){var n=e;n.Table=t,t.MainMGI=n},n=t.Mgs_Dict_Dict;n.Used_MassGroupItem?e(n.Used_MassGroupItem):wt(n.OnSet_Used_MassGroupItem_Func,(function(){return e(n.Used_MassGroupItem)}))}}(this),this.mainMGI},set:function(t){var e=this;this.mainMGI=t,Tt(this.OnSet_MainMGI_Func,(function(t){return e.OnSet_MainMGI_Func=t}))}},{key:"ExportTitle",get:function(){var t,e=null===(t=uh().CurrentProject)||void 0===t?void 0:t.Name;e=e?e+"_":"",this.ColumnField===$&&(e+="phase_");var n=Ul()(Date.now()).format("YYMMDD");return e+="masstable_".concat(n)}},{key:"ExcelWorkbook",get:function(){return function(t){var e=new Zl;return e.Table=t,e}(this).ResultData}},{key:"ExcelExport",get:function(){var t=this;return this.excelExport||(this.excelExport=function(t,e,n,i){var s=new Hl;return s.FileName=t,s.Override_Get_FileName=n,s.Workbook=e,s.Override_Get_Workbook=i,s}(void 0,void 0,(function(){return t.ExportTitle}),(function(){return t.ExcelWorkbook}))),this.excelExport}},{key:"TBody",get:function(){this.tbody||((this.tbody=new oh).Dict=this);return this.tbody}},{key:"CommandDict",get:function(){return this.commandDict||(this.commandDict=Ur(this)),this.commandDict}}]),t}(),hh=function(t){var e=new lh;return e.OnIsUpdateDataDone_Funcs.push((function(){t.IsDataPending=!1})),e.OnSetHandledRatio_Funcs.push((function(e){t.HandledRatio=e})),e.Dict=t,e.Items=t.Items,e},dh=(n(402),n(210)),mh=function(){function t(){var e=this;Object(o.a)(this,t),this.data=[],this.Export=function(){var t={Sheets:{data:Al.utils.json_to_sheet(e.Data,e.Headers)},SheetNames:["data"]},n=Al.write(t,{bookType:"xlsx",type:"array"}),i=new Blob([n],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=UTF-8"});El.saveAs(i,e.FileName+".xlsx")},this.ExportTest=function(){var t={Name:"Title","!ref":"A1:E5",A1:{t:"n",v:100}},n={Name:"Raw Data","!ref":"A1:E5",B2:{t:"n",v:200},B3:{v:200,f:"B2"},C1:{v:300,f:"Title!A1"},C2:{v:300,f:"sum(Title!A1, B2)"}},i={Sheets:{},SheetNames:[t.Name,n.Name]};i.Sheets[t.Name]=t,i.Sheets[n.Name]=n;var s=Al.write(i,{bookType:"xlsx",type:"array"}),r=new Blob([s],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=UTF-8"});El.saveAs(r,e.FileName+".xlsx")}}return Object(u.a)(t,[{key:"Data",get:function(){return this.Override_Get_Data?this.Override_Get_Data():this.data},set:function(t){this.data=t}},{key:"FileName",get:function(){return this.Override_Get_FileName?this.Override_Get_FileName():this.fileName},set:function(t){this.fileName=t}}]),t}(),fh=function(t){Object(l.a)(n,t);var e=Object(h.a)(n);function n(t){var i;Object(o.a)(this,n),(i=e.call(this,t)).Test=function(t){};var s=i.props.store;return i.state=s||new mh,i}return Object(u.a)(n,[{key:"render",value:function(){var t=this.state;return Object(i.jsx)(i.Fragment,{children:Object(i.jsx)(dh.CSVLink,{data:t.Data,filename:t.FileName,headers:t.Headers,onClick:this.Test,children:t.Title})})}}]),n}(s.Component),ph=(Object(d.a)(fh),n(461)),_h=function(t){Object(l.a)(n,t);var e=Object(h.a)(n);function n(t){var i;Object(o.a)(this,n);var s=(i=e.call(this,t)).props.store;return i.state=s||new oh,i}return Object(u.a)(n,[{key:"render",value:function(){var t=this.state;return Object(i.jsx)(i.Fragment,{children:t.View})}}]),n}(s.Component),vh=Object(d.a)(_h),Ih=(m.a.Option,function(t){Object(l.a)(n,t);var e=Object(h.a)(n);function n(t){var i;Object(o.a)(this,n);var s=(i=e.call(this,t)).props.store;return i.state=s||new lh,i}return Object(u.a)(n,[{key:"render",value:function(){var t=this.state,e=t.Columns,n=e?e.map((function(t,e){return Object(i.jsx)("th",{scope:"col",className:"text-center masscell_th",children:t.Name},t.id)})):"";return Object(i.jsx)(i.Fragment,{children:t.IsValidTable?Object(i.jsxs)(i.Fragment,{children:[Object(i.jsxs)("div",{className:"masstable__title__wrapper",children:[Object(i.jsx)("h4",{className:"masstable__title",children:"B\u1ea2NG T\u1ed4NG H\u1ee2P KH\u1ed0I L\u01af\u1ee2NG"}),Object(i.jsxs)("div",{className:"masstable__title__tool",children:[Ll.Instance.Mgs_Dict_Dict.Save_MGS_View,Object(i.jsx)(p.a,{type:"primary",size:"small",onClick:t.Export,className:"masstable__export",children:Object(i.jsx)(ph.a,{})})]})]}),t.MassGroupSetting_DictVM.Save.MainView,Object(i.jsx)("div",{className:"f-jc",children:Object(i.jsxs)("div",{className:"f",children:[Object(i.jsx)("div",{className:"masstable__undo",children:t.CommandDict.ButtonView}),Object(i.jsxs)("table",{className:"table table-bordered table-sm masstable",children:[Object(i.jsx)("thead",{className:"thead-light",children:Object(i.jsxs)("tr",{children:[Object(i.jsx)("th",{scope:"col",className:"masstitle__th",children:Object(i.jsx)(p.a,{onClick:t.AddMainRow,type:"primary",size:"small",style:{backgroundColor:"#52c41a",border:"none"},children:"+"})}),n]})}),Object(i.jsx)(vh,{store:t.TBody},t.TBody.id)]})]})})]}):""})}}]),n}(s.Component)),gh=Object(d.a)(Ih),bh=function(){function t(){Object(o.a)(this,t),this.massTable=void 0,this.IsDataPending=!1,this.handledRatio=0,Object(v.l)(this,{massTable:v.m,IsDataPending:v.m})}return Object(u.a)(t,[{key:"Items",get:function(){return this.items},set:function(t){this.items=t,this.IsDataPending=!0,this.MassTable=hh(this)}},{key:"MassTable",get:function(){return this.massTable||(this.massTable=hh(this)),this.massTable},set:function(t){this.massTable=t}},{key:"MassTableView",get:function(){var t;return Object(i.jsx)(gh,{store:this.MassTable},null===(t=this.MassTable)||void 0===t?void 0:t.id)}},{key:"LoadingSpinTip",get:function(){return"loading data ... (".concat((100*this.HandledRatio).toFixed(1),"%)")}},{key:"LoadingSpinTipVM",get:function(){return this.loadingSpinTipVM||(this.loadingSpinTipVM=j(this.LoadingSpinTip)),this.loadingSpinTipVM}},{key:"HandledRatio",get:function(){return this.handledRatio},set:function(t){this.handledRatio=t,this.LoadingSpinTipVM.Content=this.LoadingSpinTip}}]),t}(),jh=function(){return Gd.Instance},Oh=function(){return Gd.Instance},yh=function(){function t(){var e=this;Object(o.a)(this,t),this.Projects=[],this.Phases=[],this.OnGetItemsDone_Funcs=[],this.isHavePhase=!1,this.GetMassData=function(){var t,n,i=Oh().Mgs_Dict_Dict;i.Used_MassGroupComponent=void 0,i.Used_MassGroupItem=void 0,e.MassItem_Dict.IsDataPending=!0,void 0===Oh().Is_First_Get_MassTable?Oh().Is_First_Get_MassTable=!0:Oh().Is_First_Get_MassTable=!1,t=e.ApiData,n=function(t){var n=e.MassItem_Dict;n.MassGroupSetting=e.MassGroupSetting?e.MassGroupSetting:void 0,n.Items=t,e.GetItemsDone=!0},L("https://api.bimdev.vn/api/hbmr/newlist",t,void 0,2e6).then((function(t){return t.data})).then((function(t){if(t){var e=t.map((function(t){return Us(t)}));n&&n(e)}else console.log("mass result undefined")}))}}return Object(u.a)(t,[{key:"ApiData",get:function(){return t=this,{projectIds:jh().CurrentProject?[jh().CurrentProject._id]:t.Projects.map((function(t){return t._id})),phaseIds:t.IsHavePhase?t.Phases.map((function(t){return t._id})):void 0,skip:void 0,take:void 0};var t}},{key:"MassItem_Dict",get:function(){return this.massItem_Dict||(this.massItem_Dict=function(t){var e=new bh;return e.Dict=t,e}(this)),this.massItem_Dict}},{key:"GetItemsDone",set:function(t){this.OnGetItemsDone_Funcs.forEach((function(t){return t()}))}},{key:"IsHavePhase",get:function(){return this.isHavePhase},set:function(t){this.isHavePhase=t,this.MassItem_Dict.MassTable.ColumnField=t?$:Z}}]),t}(),Sh=function t(){Object(o.a)(this,t)},Mh=function(){function t(){Object(o.a)(this,t)}return Object(u.a)(t,[{key:"Items",get:function(){return this.items||(this.items=function(t){var e=[],n=new Sh;n.Color="#1956c9";var i=new ne;return i.ValueType=Bt,i.NumberFilterType=Yt,i.Values=[.8],n.Filter=i,e.push(n),(n=new Sh).Color="#3f79d6",(i=new ne).ValueType=Bt,i.NumberFilterType=Jt,i.IsEqualLeft=!0,i.Values=[.8,.85],n.Filter=i,e.push(n),(n=new Sh).Color="#6f9fe9",(i=new ne).ValueType=Bt,i.NumberFilterType=Jt,i.IsEqualLeft=!0,i.Values=[.85,.9],n.Filter=i,e.push(n),(n=new Sh).Color="#a5c2f2",(i=new ne).ValueType=Bt,i.NumberFilterType=Jt,i.IsEqualLeft=!0,i.Values=[.9,.95],n.Filter=i,e.push(n),(n=new Sh).Color="#c9d9f6",(i=new ne).ValueType=Bt,i.NumberFilterType=Jt,i.IsEqualLeft=!0,i.Values=[.95,1],n.Filter=i,e.push(n),(n=new Sh).Color="#f3cccc",(i=new ne).ValueType=Bt,i.NumberFilterType=Jt,i.IsEqualRight=!0,i.Values=[1,1.05],n.Filter=i,e.push(n),(n=new Sh).Color="#e9999a",(i=new ne).ValueType=Bt,i.NumberFilterType=Jt,i.IsEqualRight=!0,i.Values=[1.05,1.1],n.Filter=i,e.push(n),(n=new Sh).Color="#de6568",(i=new ne).ValueType=Bt,i.NumberFilterType=Jt,i.IsEqualRight=!0,i.Values=[1.1,1.15],n.Filter=i,e.push(n),(n=new Sh).Color="#c90010",(i=new ne).ValueType=Bt,i.NumberFilterType=Jt,i.IsEqualRight=!0,i.Values=[1.15,1.2],n.Filter=i,e.push(n),(n=new Sh).Color="#980009",(i=new ne).ValueType=Bt,i.NumberFilterType=Qt,i.Values=[1.2],n.Filter=i,e.push(n),e}()),this.items}}]),t}(),Ch=function t(){Object(o.a)(this,t),this.Values=[],this.Count=0},kh=function t(){var e=this;Object(o.a)(this,t),this.Items=[],this.AddItem=function(t){var n=e.Items,i=void 0,s=n.findIndex((function(e){return kt(e.Values,t)}));return-1===s?((i=new Ch).Values=t,n.push(i)):i=n[s],i.Count++,i}},Vh=function(){return[st,rt,at,ot,ut,ft,lt,it,ht,_t,vt,dt,mt,pt,It,gt,nt,et].map((function(t){return{_id:t,Name:yt(t),Value:t}}))},Dh=function(){return[st,rt,at,ot,ut,ft,lt,it,ht,_t,vt,dt,mt,pt].map((function(t){return{_id:t,Name:yt(t),Value:t}}))},wh="https://api.bimdev.vn/api/hbs/md",Th=function(){function t(){Object(o.a)(this,t)}return Object(u.a)(t,[{key:"ApiData",get:function(){return{columns:this.Columns,mainMassType:this.MainMassType}}}]),t}(),xh=function(t){Object(l.a)(n,t);var e=Object(h.a)(n);function n(){var t;Object(o.a)(this,n);for(var i=arguments.length,s=new Array(i),r=0;r<i;r++)s[r]=arguments[r];return(t=e.call.apply(e,[this].concat(s))).SettingType=Ji,t.Url=wh,t}return n}(ji),Fh=function(){return Gd.Instance},Nh=function(t,e){e||(e=Fh().MassDetailSetting_Dict);var n=new xh;return n._id=t._id,n.Name=t.name,n.Description=t.description,n.SettingType=t.settingType,n.Data=function(t){var e=new Th;return e.Columns=t.columns,e.MainMassType=t.mainMassType,e}(t.data),n.Dict=e,n},Gh=function(){var t=new xh;return t.Dict=Fh().MassDetailSetting_Dict,t.Data=function(){var t=new Th;return t.Columns=[et,nt],t.MainMassType=P,t}(),t},Rh=function(t){var e=new xh;return e.Name=t.Name,e.Description=t.Description,e.SettingType=t.SettingType,e.Data=function(t){var e=new Th;return e.Columns=t.Columns,e.MainMassType=t.MainMassType,e}(t.Data),e.Dict=t.Dict,e},Lh=function(){function t(){Object(o.a)(this,t),this.OnGetItemsDone_Func_Dict=[]}return Object(u.a)(t,[{key:"Items",get:function(){return this.items},set:function(t){this.items=t,this.GetItemsDone=!0}},{key:"GetItemsDone",set:function(t){this.OnGetItemsDone_Func_Dict.forEach((function(t){return t.Value()}))}}]),t}(),Ph=function(){var t,e,n=new Lh;return t=n,e=function(t){n.Items=t},G("".concat(wh,"/list")).then((function(t){return t.data})).then((function(n){if(n){var i=n.map((function(e){return Nh(e,t)}));e&&e(i)}})),n},Uh=function(){function t(){var e=this;Object(o.a)(this,t),this.Get_Project=function(t){var n=e.Items,i=n.findIndex((function(e){return e._id===t._id}));if(-1===i){var s=Vs(t,e);return n.push(s),s}return n[i]}}return Object(u.a)(t,[{key:"Items",get:function(){return this.items||(this.items=[]),this.items},set:function(t){this.items=t,this.GetItemsDone=!0}},{key:"GetItemsDone",set:function(t){this.OnGetItemsDone&&this.OnGetItemsDone(t)}}]),t}(),Eh=function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],e=new Uh;return t&&Ds(e,(function(t){e.Items=t})),e},Ah=function(){function t(){Object(o.a)(this,t),this.OnSet_Used_MassGroupComponent_Func=[],this.OnSet_Used_MassGroupItem_Func=[]}return Object(u.a)(t,[{key:"Items",get:function(){return this.items||(this.items=od(this)),this.items}},{key:"Current_MGS",get:function(){return this.current_MGS},set:function(t){this.current_MGS=t,this.Used_MassGroupComponent=void 0,this.Used_MassGroupItem=void 0}},{key:"Used_MassGroupComponent",get:function(){return this.used_MassGroupComponent||ud(this),this.used_MassGroupComponent},set:function(t){var e=this;this.used_MassGroupComponent=t,Tt(this.OnSet_Used_MassGroupComponent_Func,(function(t){return e.OnSet_Used_MassGroupComponent_Func=t}))}},{key:"Used_MassGroupItem",get:function(){return this.used_MassGroupItem||ld(this),this.used_MassGroupItem},set:function(t){var e=this;this.used_MassGroupItem=t,Tt(this.OnSet_Used_MassGroupItem_Func,(function(t){return e.OnSet_Used_MassGroupItem_Func=t}))}}]),t}(),Hh=function(){function t(){var e=this;Object(o.a)(this,t),this.OnSet_id_Func_Dict=[],this.OnSet_Items_Func=[],this.AddItem=function(t){e.Items.push(t),e.OnAddItem&&e.OnAddItem(t)}}return Object(u.a)(t,[{key:"_id",get:function(){return this.__id},set:function(t){var e=this;this.__id=t,Tt(this.OnSet_id_Func_Dict,(function(t){return e.OnSet_id_Func_Dict=t}))}},{key:"TempId",get:function(){return this.tempId||(this.tempId=Mt()),this.tempId}},{key:"id",get:function(){return this._id?this._id:this.TempId}},{key:"Project",get:function(){return this.project},set:function(t){this.project!==t&&(this.project=t,id(this))}},{key:"Category",get:function(){return ad(this)}},{key:"CategoryName",get:function(){return cd(this)}},{key:"Items",get:function(){return this.items||sd(this),this.items},set:function(t){var e=this;this.items=t,Tt(this.OnSet_Items_Func,(function(t){return e.OnSet_Items_Func=t}))}},{key:"Main_CurrentItem",get:function(){return this.main_CurrentItem},set:function(t){this.main_CurrentItem=t,this.Used_MassGroupComponent=void 0,this.Used_MassGroupItem=void 0}},{key:"Save",get:function(){return this.save||(this.save=rd(this)),this.save}}]),t}(),Wh="https://api.bimdev.vn/api/hb_mgs",Bh=function(){function t(){var e=this;Object(o.a)(this,t),this.OnSet_id_Func_Dict=[],this.OnSet_Data_Func=[],this.SaveDatabase=function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=arguments.length>1?arguments[1]:void 0,i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(i){var s=function(){return e.Data.SaveDatabase(!1)};e._id?s():wt(e.OnSet_id_Func_Dict,s)}Nt(e,Wh,(function(){t&&w.b.success("save successfully!"),n&&n()}))},this.Delete=function(){e.CurrentList.splice(e.Index,1),e.DeleteDatabase(!0)},this.DeleteDatabase=function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=arguments.length>1?arguments[1]:void 0;Gt(e,Wh,(function(){t&&w.b.success("delete successflly!"),n&&n()}))}}return Object(u.a)(t,[{key:"_id",get:function(){return this.__id},set:function(t){var e=this;this.__id=t,Tt(this.OnSet_id_Func_Dict,(function(t){return e.OnSet_id_Func_Dict=t}))}},{key:"TempId",get:function(){return this.tempId||(this.tempId=Mt()),this.tempId}},{key:"id",get:function(){return this._id?this._id:this.TempId}},{key:"Data",get:function(){return this.data||qh(this),this.data},set:function(t){var e=this;this.data=t,Tt(this.OnSet_Data_Func,(function(t){return e.OnSet_Data_Func=t}))}},{key:"AddTemplate",get:function(){return this.addTemplate||(this.addTemplate=Xh(this)),this.addTemplate}},{key:"ApiData",get:function(){var t,e=this.Dict;return{_id:this._id,projectId:null===(t=e.Project)||void 0===t?void 0:t._id,useType:e.UseType,name:this.Name,description:this.Description}}},{key:"CurrentList",get:function(){return this.Dict.Items}},{key:"Index",get:function(){return this.CurrentList.indexOf(this)}}]),t}(),Kh=function(t){var e=t.Dict,n=Lt(Gd.Instance.Mgs_Dict_Dict.Items,(function(t){return t.UseType===_o})).Save;n.MassGroupSetting=e,n.Name=t.InputName,n.Run()},zh=function t(){var e=this;Object(o.a)(this,t),this.Run=function(){Kh(e)}},qh=function(t){if(!t.IsGet_Data){t.IsGet_Data=!0;var e,n,i=function(e){t.Data=function(t,e){var n=new me;return n.MainMassGroupComponent=fe(t.mainMassGroupComponent,n),n.Dict=e,n}(e[0],t)};e={dictId:t._id},n=function(t){i(t)},e=e||{},L("".concat(de,"/list"),e).then((function(t){return t.data})).then((function(t){n&&n(t)}))}},Xh=function(t){var e=new zh;return e.Dict=t,e},Yh=function(){function t(){var e=this;Object(o.a)(this,t),this.Run=function(){Zh(e)},this.OnSet_MassGroupComponent_Func=[],this.massGroupComponent=void 0,this.OnSet_Retrieve_MassGroupComponent_Func=[],this.Refresh=function(){$h(e)}}return Object(u.a)(t,[{key:"MassGroupSetting",get:function(){return this.massGroupSetting},set:function(t){this.massGroupSetting=t}},{key:"MassGroupComponent",get:function(){return this.massGroupComponent||Qh(this),this.massGroupComponent},set:function(t){var e=this;this.massGroupComponent=t,Tt(this.OnSet_MassGroupComponent_Func,(function(t){return e.OnSet_MassGroupComponent_Func=t}))}},{key:"Retrieve_MassGroupComponent",get:function(){return this.retrieve_MassGroupComponent||Jh(this),this.retrieve_MassGroupComponent},set:function(t){var e=this;this.retrieve_MassGroupComponent=t,Tt(this.OnSet_Retrieve_MassGroupComponent_Func,(function(t){return e.OnSet_Retrieve_MassGroupComponent_Func=t}))}}]),t}(),Qh=function(t){if(!t.IsGet_MassGroupComponent){t.IsGet_MassGroupComponent=!0;var e=function(){var e=t.Retrieve_MassGroupComponent,n=function(){t.MassGroupComponent=e.Get(),t.IsGet_MassGroupComponent=!1};e.Get()?n():wt(e.Func,n)};t.Retrieve_MassGroupComponent?e():wt(t.OnSet_Retrieve_MassGroupComponent_Func,e)}},Jh=function(t){if(!t.IsGet_Retrieve_MassGroupComponent){t.IsGet_Retrieve_MassGroupComponent=!0;var e=t.Dict,n=t.MassGroupSetting;!function(){var i,s,r;switch(e.UseType){case po:i=function(){return r.Used_MassGroupComponent},s=(r=Gd.Instance.Mgs_Dict_Dict).OnSet_Used_MassGroupComponent_Func;break;case _o:i=function(){var t;return pe(null===(t=r.Data)||void 0===t?void 0:t.MainMassGroupComponent,void 0,!0)},s=(r=n).OnSet_Data_Func}t.Retrieve_MassGroupComponent={Get:i,Func:s},t.IsGet_Retrieve_MassGroupComponent=!1}()}},Zh=function(t){var e=t.Dict,n=function(){var n=e.Items,i=t.Name,s=function(){var s=t.MassGroupComponent,r=Lt(n,(function(t){return t.Name===i}));r||((r=function(t){var e=new Bh;return e.Dict=t,e}(e)).Name=i,e.AddItem(r)),(r.Data=function(t){var e=new me;return e.Dict=t,e}(r)).MainMassGroupComponent=s,r.SaveDatabase(!0),$h(t)};t.MassGroupComponent?s():wt(t.OnSet_MassGroupComponent_Func,s)};e.Items?n():wt(e.OnSet_Items_Func,n)},$h=function(t){t.Retrieve_MassGroupComponent=void 0,t.MassGroupComponent=void 0},td="main",ed="template",nd=function(t,e){var n=new Hh;return n.UseType=t,n.Dict=e,n},id=function(t){t.IsGet_Items=!1,sd(t)},sd=function(t){if(!t.IsGet_Items){t.IsGet_Items=!0;var e=function(e){var n=!0;if(t.UseType===po){var i,s=null===(i=Gd.Instance.CurrentProject)||void 0===i?void 0:i._id;if(s)if(0!==e.length)n=e[0].projectId===s;else{var r=t.Items;r&&0!==r.length&&(n=r[0].projectId!==s)}}n&&(t.Items=e.map((function(e){return function(t,e){var n=new Bh;return n._id=t._id,n.projectId=t.projectId,n.Name=t.name,n.Description=t.description,n.Dict=e,n}(e,t)})),t.IsGet_Items=!1)};!function(){var n;!function(t,e){t=t||{},L("".concat(Wh,"/list"),t).then((function(t){return t.data})).then((function(t){e&&e(t)}))}({projectId:null===(n=t.Project)||void 0===n?void 0:n._id,useType:t.UseType},(function(t){e(t)}))}()}},rd=function(t){return function(t){var e=new Yh;return e.Dict=t,e}(t)},ad=function(t){switch(t.UseType){case po:return td;case _o:return ed}},cd=function(t){switch(t.Category){case td:return"Main";case ed:return"Template"}},od=function(t){return[nd(po,t),nd(_o,t)]},ud=function(t){if(!t.IsGet_Used_MassGroupComponent){t.IsGet_Used_MassGroupComponent=!0;var e=function(e){t.Used_MassGroupComponent=e?pe(e.MainMassGroupComponent):function(t){var e=new he,n=ve(st);return e.Items=[n],e}(),t.IsGet_Used_MassGroupComponent=!1},n=t.Current_MGS;n?n.Data?e(n.Data):wt(n.OnSet_Data_Func,(function(){return e(n.Data)})):e()}},ld=function(t){if(!t.IsGet_Used_MassGroupItem){t.IsGet_Used_MassGroupItem=!0;var e=function(e){t.Used_MassGroupItem=e.Items[0],t.IsGet_Used_MassGroupItem=!1},n=t;n.Used_MassGroupComponent?e(n.Used_MassGroupComponent):wt(n.OnSet_Used_MassGroupComponent_Func,(function(){return e(n.Used_MassGroupComponent)}))}},hd="userToken",dd=function(){function t(){Object(o.a)(this,t),this.OnSet_LoginUser_Func=[]}return Object(u.a)(t,[{key:"Token",get:function(){return this.token||(this.token=localStorage.getItem(hd)),this.token},set:function(t){this.token=t,t?localStorage.setItem(hd,t):localStorage.removeItem(hd)}},{key:"LoginUser",get:function(){return this.loginUser||md(this),this.loginUser},set:function(t){var e=this;this.loginUser=t,t||(this.Token=t),this.OnSet_LoginUser&&this.OnSet_LoginUser(t),Tt(this.OnSet_LoginUser_Func,(function(t){return e.OnSet_LoginUser_Func=t}))}},{key:"Config",get:function(){return{headers:{Authorization:"Bearer "+this.Token}}}}]),t}(),md=function(t){if(!t.IsGet_LoginUser){t.IsGet_LoginUser=!0;var e=function(e){t.LoginUser=e?iu(e,t):void 0,t.IsGet_LoginUser=!0};if(t.Token){L("".concat(t.Url,"/token"),{},t.Config).then((function(t){return t.data})).then((function(t){e(t)}))}else e()}},fd=function(){function t(){Object(o.a)(this,t),this.OnSet_Users_Func=[],this.OnSet_Projects_Func=[]}return Object(u.a)(t,[{key:"Users",get:function(){return this.users||Od(this),this.users},set:function(t){var e=this;this.users=t,Tt(this.OnSet_Users_Func,(function(t){return e.OnSet_Users_Func=t}))}},{key:"GetUser_Func",get:function(){return this.getUser_Func||(this.getUser_Func=jd(this)),this.getUser_Func}},{key:"Projects",get:function(){return this.projects||yd(this),this.projects},set:function(t){var e=this;this.projects=t,Tt(this.OnSet_Projects_Func,(function(t){return e.OnSet_Projects_Func=t}))}},{key:"UserManager_Dict",get:function(){return this.userManager_Dict||(this.userManager_Dict=Sd(this)),this.userManager_Dict}},{key:"ProjectCommand_Dict",get:function(){return this.projectCommand_Dict||(this.projectCommand_Dict=Md(this)),this.projectCommand_Dict}},{key:"ProjectGroupCommand_Dict",get:function(){return this.projectGroupCommand_Dict||(this.projectGroupCommand_Dict=Cd(this)),this.projectGroupCommand_Dict}}]),t}(),pd=function(){function t(){var e=this;Object(o.a)(this,t),this.OnSet_Items_Func=[],this.AddItem=function(t){e.Items.push(t),e.OnAddItem&&e.OnAddItem(t)},this.Save=function(){var t=e.Items,n=t.length;if(0===n)w.b.success("update data successfully!");else{var i=-1,s=function(){++i===n-1&&w.b.success("update data successfully!")};t.forEach((function(t){t.SaveDatabase(!1,s)}))}}}return Object(u.a)(t,[{key:"TempId",get:function(){return this.tempId||(this.tempId=Mt()),this.tempId}},{key:"id",get:function(){return this._id?this._id:this.TempId}},{key:"Items",get:function(){return this.items||_d(this),this.items},set:function(t){var e=this;this.items=t,Tt(this.OnSet_Items_Func,(function(t){return e.OnSet_Items_Func=t}))}}]),t}(),_d=function(t){if(!t.IsGet_Items){t.IsGet_Items=!0;var e=function(e){t.Items=e,t.IsGet_Items=!1},n=t.Dict;n.Users?e(n.Users):wt(n.OnSet_Users_Func,(function(){return e(n.Users)}))}},vd=function(){function t(){var e=this;Object(o.a)(this,t),this.OnSet_Items_Func=[],this.AddItem=function(t){e.Items.push(t),e.OnAddItem&&e.OnAddItem(t)},this.Save=function(){var t=e.Items,n=t.length;if(0===n)w.b.success("update data successfully!");else{var i=-1,s=function(){++i===n-1&&w.b.success("update data successfully!")};t.forEach((function(t){t.SaveDatabase(!1,s)}))}}}return Object(u.a)(t,[{key:"TempId",get:function(){return this.tempId||(this.tempId=Mt()),this.tempId}},{key:"id",get:function(){return this._id?this._id:this.TempId}},{key:"Items",get:function(){return this.items||Id(this),this.items},set:function(t){var e=this;this.items=t,Tt(this.OnSet_Items_Func,(function(t){return e.OnSet_Items_Func=t}))}}]),t}(),Id=function(t){if(!t.IsGet_Items){t.IsGet_Items=!0;var e,n,i=function(e){t.Items=e.map((function(e){return function(t,e){var n=Au(e);return n._id=t._id,n.projectId=t.projectId,n.userId=t.userId,n.Commands=t.commands,n}(e,t)})),t.IsGet_Items=!1};n=function(t){i(t)},e=(e={})||{},L("".concat(Uu,"/list"),e).then((function(t){return t.data})).then((function(t){n&&n(t)}))}},gd=function(){function t(){var e=this;Object(o.a)(this,t),this.OnSet_Items_Func=[],this.AddItem=function(t){e.Items.push(t),e.OnAddItem&&e.OnAddItem(t)},this.Save=function(){var t=e.Items,n=t.length;if(0===n)w.b.success("update data successfully!");else{var i=-1,s=function(){++i===n-1&&w.b.success("update data successfully!")};t.forEach((function(t){t.SaveDatabase(!1,s)}))}}}return Object(u.a)(t,[{key:"TempId",get:function(){return this.tempId||(this.tempId=Mt()),this.tempId}},{key:"id",get:function(){return this._id?this._id:this.TempId}},{key:"Items",get:function(){return this.items||bd(this),this.items},set:function(t){var e=this;this.items=t,Tt(this.OnSet_Items_Func,(function(t){return e.OnSet_Items_Func=t}))}}]),t}(),bd=function(t){if(!t.IsGet_Items){t.IsGet_Items=!0;var e,n,i=function(e){t.Items=e.map((function(e){return function(t,e){var n=dl(e);return n._id=t._id,n.userId=t.userId,n.Commands=t.commands,n}(e,t)})),t.IsGet_Items=!1};n=function(t){i(t)},e=(e={})||{},L("".concat(ll,"/list"),e).then((function(t){return t.data})).then((function(t){n&&n(t)}))}},jd=function(t){return function(e){var n=e?iu(e):su();return n.GetUrl_Func=function(){return"https://api.bimdev.vn/api/hbu"},n.GetApiData_Func=function(){return{_id:n._id,username:n.Username,name:n.Name,password:n.Password}},n.Dict=t.UserManager_Dict,n}},Od=function(t){if(!t.IsGet_Users){t.IsGet_Users=!0;ru("https://api.bimdev.vn/api/hbu",{},(function(e){return function(e){t.Users=e.map((function(e){return t.GetUser_Func(e)})),t.IsGet_Users=!1}(e)}))}},yd=function(t){if(!t.IsGet_Projects){t.IsGet_Projects=!0;var e=function(e){t.Projects=e.map((function(t){return function(t,e){if(t){var n=new ds;return n._id=t._id,n.Name=t.name,n.Code=t.code,n.Dict=e,n}}(t)})),t.IsGet_Projects=!1};!function(t,e){t=t||{},L("".concat("https://api.bimdev.vn/api/hbp","/list"),t).then((function(t){return t.data})).then((function(t){e&&e(t)}))}({},(function(t){return e(t)}))}},Sd=function(t){return function(t){var e=new pd;return e.Dict=t,e}(t)},Md=function(t){return function(t){var e=new vd;return e.Dict=t,e}(t)},Cd=function(t){return function(t){var e=new gd;return e.Dict=t,e}(t)},kd=function(t){return[st,rt,at,ot,it,ct]},Vd=function(){return bt().map((function(t){return{_id:t,Name:yt(t),Value:t}}))},Dd=function(){return mn().map((function(t){return{_id:t,Name:fn(t),Value:t}}))},wd=function(t){return new Ah},Td=function(t){var e=function(t,e){var n=new dd;return n.Url=t,n.Dict=e,n}("https://api.bimdev.vn/api/hbu",t);return e.OnSet_LoginUser=function(e){t.CurrentProject&&t.CurrentProject.Reset_Commands(),t.Reset_Commands(),t.Reset_AdminCommands()},e},xd=function(t){return function(t){var e=new fd;return e.Dict=t,e}(t)},Fd=function(t){if(!t.IsGet_Commands){t.IsGet_Commands=!0;var e=function(e,n){t.Commands="api"===n?e&&0!==e.length?e[0].commands:[]:e,t.IsGet_Commands=!1},n=t.CurrentProject;if(n)n.Commands?e(n.Commands):wt(n.OnSet_Commands_Func,(function(){e(n.Commands)}));else{var i=t.UserDict.LoginUser;if(i){var s={userId:i._id};L("".concat("https://api.bimdev.vn/api/hb_upgc","/list"),s).then((function(t){return t.data})).then((function(t){e(t,"api")}))}else e()}}},Nd=function(t){if(!t.IsGet_AdminCommands){t.IsGet_AdminCommands=!0;var e=function(e){t.AdminCommands=e&&0!==e.length?e[0].commands:[],t.IsGet_AdminCommands=!1},n=t.UserDict.LoginUser;if(n){var i={userId:n._id};L("".concat("https://api.bimdev.vn/api/hb_uc","/list"),i).then((function(t){return t.data})).then((function(t){e(t)}))}else e()}},Gd=function(){function t(){var e=this;Object(o.a)(this,t),this.massGroupSetting_Dict=void 0,this.DebugPoints=[],this.IsDebug=!1,this.OnSet_CurrentProject_Func_Dict=[],this.ApiUrl="https://api.bimdev.vn/api",this.UpdatedDate="28/06/2021",this.LoggingItems=[],this.OnSet_Commands_Func=[],this.Reset_Commands=function(){e.Commands=void 0,e.IsGet_Commands=!1,Fd(e)},this.OnSet_AdminCommands_Func=[],this.Reset_AdminCommands=function(){e.AdminCommands=void 0,e.IsGet_AdminCommands=!1,Nd(e)}}return Object(u.a)(t,[{key:"Project_Dict",get:function(){return this.project_Dict||(this.project_Dict=Eh(!0)),this.project_Dict}},{key:"Project_Dict_ForMassDetail",get:function(){return this.project_Dict_ForMassDetail||(this.project_Dict_ForMassDetail=Eh()),this.project_Dict_ForMassDetail}},{key:"CurrentProject",get:function(){return this.currentProject},set:function(t){this.currentProject=t,this.Reset_Commands(this),this.MassGroupSetting_Dict.Project=t}},{key:"Mgs_Dict_Dict",get:function(){return this.mgs_Dict_Dict||(this.mgs_Dict_Dict=wd()),this.mgs_Dict_Dict}},{key:"MassGroupSetting_Dict",get:function(){return this.massGroupSetting_Dict||(this.massGroupSetting_Dict=Lt(this.Mgs_Dict_Dict.Items,(function(t){return t.UseType===po}))),this.massGroupSetting_Dict}},{key:"Phase_Dict_ForMassDetail",get:function(){return this.phase_Dict_ForMassDetail||(this.phase_Dict_ForMassDetail=ls()),this.phase_Dict_ForMassDetail}},{key:"MassResultComp",get:function(){return this.massResultComp||(this.massResultComp=new yh),this.massResultComp},set:function(t){this.massResultComp=t}},{key:"MassItemFields",get:function(){return this.massItemFields||(this.massItemFields=kd()),this.massItemFields}},{key:"MIFs_ForMassGroup",get:function(){return this.mifs_ForMassGroup||(this.mifs_ForMassGroup=bt()),this.mifs_ForMassGroup}},{key:"MIF_Dict_ForMassGroup",get:function(){return this.mif_Dict_ForMassGroup||(this.mif_Dict_ForMassGroup=Vd()),this.mif_Dict_ForMassGroup}},{key:"MIF_Dict_ForDetail",get:function(){return this.mif_Dict_ForDetail||(this.mif_Dict_ForDetail=Vh()),this.mif_Dict_ForDetail}},{key:"MIF_Dict_ForInput",get:function(){return this.mif_Dict_ForInput||(this.mif_Dict_ForInput=Dh()),this.mif_Dict_ForInput}},{key:"MUT_Dict",get:function(){return this.mut_Dict||(this.mut_Dict=Dd()),this.mut_Dict}},{key:"VersionCompareSetting",get:function(){return this.versionCompareSetting||(this.versionCompareSetting=new Mh),this.versionCompareSetting}},{key:"MassDetailSetting_Dict",get:function(){return this.massDetailSetting_Dict||(this.massDetailSetting_Dict=Ph()),this.massDetailSetting_Dict}},{key:"Tracking",get:function(){return this.tracking||(this.tracking=new kh),this.tracking}},{key:"UserDict",get:function(){return this.userDict||(this.userDict=Td(this)),this.userDict}},{key:"Admin",get:function(){return this.admin||(this.admin=xd(this)),this.admin}},{key:"Commands",get:function(){return this.commands||Fd(this),this.commands},set:function(t){var e=this;this.commands=t,Tt(this.OnSet_Commands_Func,(function(t){return e.OnSet_Commands_Func=t}))}},{key:"AdminCommands",get:function(){return this.adminCommands||Nd(this),this.adminCommands},set:function(t){var e=this;this.adminCommands=t,Tt(this.OnSet_AdminCommands_Func,(function(t){return e.OnSet_AdminCommands_Func=t}))}}],[{key:"Instance",get:function(){return this.instance||(this.instance=new t),this.instance}}]),t}(),Rd=function(){function t(){var e=this;Object(o.a)(this,t),this.code=void 0,this.name=void 0,this.description=void 0,this.fullName=void 0,this.Delete=function(){e.Dict.WorkpackageVMs.splice(e.Index,1)},this.AsString=function(){console.log(e.Name,e.Code,e.Description)},Object(v.l)(this,{fullName:v.m})}return Object(u.a)(t,[{key:"_id",get:function(){return this.Workpackage._id}},{key:"Index",get:function(){return this.Dict.WorkpackageVMs.indexOf(this)}},{key:"M2VM",get:function(){return this.Workpackage.M2VM},set:function(t){this.Workpackage.M2VM=t}},{key:"SupItem",get:function(){return this.supItem||(this.supItem=Pd(this)),this.supItem}},{key:"Code",get:function(){return this.code||(this.code=this.Workpackage.Code),this.code},set:function(t){this.code=t,this.M2VM||(this.Workpackage.Code=t)}},{key:"Name",get:function(){return this.name||(this.name=this.Workpackage.Name),this.name},set:function(t){this.name=t,this.M2VM||(this.Workpackage.Name=t)}},{key:"Description",get:function(){return this.description||(this.description=this.Workpackage.Description),this.description},set:function(t){this.description=t,this.M2VM||(this.Workpackage.Description=t)}},{key:"FullName",get:function(){return this.fullName||(this.fullName=this.Workpackage.FullName),this.fullName},set:function(t){this.fullName=t}},{key:"SearchName",get:function(){return this.FullName}},{key:"DisplayContent",get:function(){return this.FullName}},{key:"CodeVM",get:function(){var t=this;this.codeVM||((this.codeVM=j(this.Code,"m\xe3 code")).onSetContent=function(e){return t.Code=e});return this.codeVM}},{key:"NameVM",get:function(){var t=this;this.nameVM||((this.nameVM=j(this.Name,"t\xean c\xf4ng t\xe1c")).onSetContent=function(e){return t.Name=e});return this.nameVM}},{key:"DescriptionVM",get:function(){var t=this;this.descriptionVM||((this.descriptionVM=j(this.Description,"m\xf4 t\u1ea3")).onSetContent=function(e){return t.Description=e});return this.descriptionVM}}]),t}(),Ld=function(t,e){var n=new Rd;return n.Workpackage=t,n.Dict=e,t.OnCodeChanged=function(e){t.M2VM&&(n.Code=e)},t.OnNameChanged=function(e){t.M2VM&&(n.Name=e)},t.OnDescriptionChanged=function(e){t.M2VM&&(n.Description=e)},t.OnFullNameChanged=function(e){t.M2VM&&(n.FullName=e)},t.OnDelete=function(){n.Delete()},n},Pd=function(t){var e=t.Workpackage.SupItem,n=Ll.Instance.Workpackage_DictVM.WorkpackageVMs,i=n.findIndex((function(t){return t.Workpackage===e}));return-1!==i?n[i]:void 0},Ud=function(){function t(){var e=this;Object(o.a)(this,t),this.code=void 0,this.name=void 0,this.description=void 0,this.supItem=void 0,this.workpackageVMStorageList=void 0,this.isNew=void 0,this.commandName=void 0,this.AsString=function(){return"".concat(e.Code," ").concat(e.Name," ").concat(e.Description," ").concat(e.IsNew)},this.AddDatabase=function(){e.WorkpackageInput.AddDatabase()},this.DeleteFunc=function(){e.WorkpackageVM.Workpackage.Delete(),e.WorkpackageVM=void 0},this.Clear=function(){e.CodeVM.Content=null,e.NameVM.Content=null,e.DescriptionVM.Content=null,e.IsNewVM.Ischecked=!0},Object(v.l)(this,{isNew:v.m})}return Object(u.a)(t,[{key:"Code",get:function(){return this.code||(this.code=this.WorkpackageInput.Code),this.code},set:function(t){this.code=t,this.WorkpackageInput.Code=t}},{key:"Name",get:function(){return this.name||(this.name=this.WorkpackageInput.Name),this.name},set:function(t){this.name=t,this.WorkpackageInput.Name=t}},{key:"Description",get:function(){return this.description||(this.description=this.WorkpackageInput.Description),this.description},set:function(t){this.description=t,this.WorkpackageInput.Description=t}},{key:"SupItem",get:function(){return this.supItem},set:function(t){this.supItem=t;var e=this.WorkpackageInput;e.SupItem=t?t.Workpackage:t}},{key:"WorkpackageVMStorageList",get:function(){return this.workpackageVMStorageList||(this.workpackageVMStorageList=Hd(this)),this.workpackageVMStorageList},set:function(t){this.workpackageVMStorageList=t;var e=this.SupItemSelectVM;e.Items=t,e.InitialItem=this.SupItem}},{key:"SupItemSelectVM",get:function(){var t=this;if(!this.supItemSelectVM){var e=this.supItemSelectVM=Re(this.WorkpackageVMStorageList,this.SupItem);e.Placeholder="c\xf4ng t\xe1c cha",e.CanClear=!0,e.OnSelectedItemChanged=function(e){return t.SupItem=e}}return this.supItemSelectVM}},{key:"IsNew",get:function(){return void 0===this.isNew&&(this.isNew=this.WorkpackageInput.IsNew),this.isNew},set:function(t){this.isNew=t,this.CommandVM.Content=Ad(this),this.WorkpackageInput.IsNew=t}},{key:"CommandName",get:function(){return this.commandName||(this.commandName=Ad(this)),this.commandName},set:function(t){this.commandName=t}},{key:"WorkpackageVM",get:function(){return this.workpackageVM},set:function(t){if(this.workpackageVM=t,t){this.WorkpackageInput.Workpackage=t.Workpackage;var e=t.Code,n=t.Name,i=t.Description,s=t.SupItem;this.CodeVM.Content=e,this.NameVM.Content=n,this.DescriptionVM.Content=i,this.SupItemSelectVM.InitialItem=s,this.IsNewVM.Ischecked=!1}else this.WorkpackageInput.Workpackage=t,this.IsNewVM.Ischecked=!0}},{key:"CodeVM",get:function(){var t=this;this.codeVM||((this.codeVM=j(this.Code,"m\xe3 code")).onSetContent=function(e){return t.Code=e});return this.codeVM}},{key:"NameVM",get:function(){var t=this;this.nameVM||((this.nameVM=j(this.Name,"t\xean c\xf4ng t\xe1c")).onSetContent=function(e){return t.Name=e});return this.nameVM}},{key:"DescriptionVM",get:function(){var t=this;this.descriptionVM||((this.descriptionVM=j(this.Description,"m\xf4 t\u1ea3")).onSetContent=function(e){return t.Description=e});return this.descriptionVM}},{key:"IsNewVM",get:function(){var t=this;if(!this.isNewVM){var e=this.isNewVM=Na("C\xf4ng t\xe1c m\u1edbi",this.IsNew);e.isDisable=!0,e.onCheckChange=function(n){t.IsNew=n,e.isDisable=!!n}}return this.isNewVM}},{key:"CommandVM",get:function(){var t=this;this.commandVM||((this.commandVM=j(this.CommandName)).onSetContent=function(e){return t.CommandName=e});return this.commandVM}},{key:"DeleteView",get:function(){return this.IsNew?"":Object(i.jsx)(p.a,{onClick:this.DeleteFunc,children:"Delete"})}}]),t}(),Ed=function(){return Ll.Instance},Ad=function(t){return t.IsNew?"Create":"Edit"},Hd=function(t){return Ed().Workpackage_DictVM.WorkpackageVMs},Wd=function(t){return function(t,e){var n=new Ud;return n.WorkpackageInput=t,n.Dict=e,Ed().Workpackage_DictVM.OnGetItemsDone_Funcs.push((function(){n.WorkpackageVMStorageList=Hd(n)})),t.OnAddDatabaseDone=function(t){var e=n.CommandName;w.b.success("".concat(e," workpackage successfully"))},e.OnAdd=function(t){n.WorkpackageVM=t},n}(t.Workpackage_Dict.WorkpackageInput,t)},Bd=function(){function t(){var e=this;Object(o.a)(this,t),this.OnGetItemsDone_Funcs=[],this.workpackageVMs=void 0,this.Add=function(t){e.WorkpackageVMs.push(t),e.OnAdd&&e.OnAdd(t)},Object(v.l)(this,{workpackageVMs:v.m})}return Object(u.a)(t,[{key:"GetItemsDone",set:function(t){this.OnGetItemsDone_Funcs.forEach((function(t){return t()}))}},{key:"M2VM",get:function(){return this.Workpackage_Dict.M2VM},set:function(t){this.Workpackage_Dict.M2VM=t}},{key:"WorkpackageVMs",get:function(){return this.workpackageVMs||(this.workpackageVMs=function(t){var e=t.Workpackage_Dict.Workpackages;if(e)return e.map((function(e){return Ld(e,t)}))}(this)),this.workpackageVMs}},{key:"CurrentWorkpackageVM",set:function(t){this.Workpackage_Dict=t,this.Workpackage_Dict.CurrentWorkpackage=t.Workpackage,this.WorkpackageInputVM.WorkpackageVM=t}},{key:"WorkpackageInputVM",get:function(){return this.workpackageInputVM||(this.workpackageInputVM=Wd(this)),this.workpackageInputVM}}]),t}(),Kd=m.a.Option,zd=function(t){Object(l.a)(n,t);var e=Object(h.a)(n);function n(t){var i;Object(o.a)(this,n),(i=e.call(this,t)).onValueChange=function(t){var e=i.state,n=e.WorkpackageVMs;e.CurrentWorkpackageVM=n[t]};var s=i.props.store;return i.state=s||new Bd,i}return Object(u.a)(n,[{key:"render",value:function(){var t=this.state,e=t.WorkpackageVMs,n=e?e.map((function(t,e){var n=t.SearchName;return Object(i.jsx)(Kd,{value:e,children:n},e)})):"",s=t.WorkpackageInputVM,r=s.CommandVM;return Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)(f.a,{orientation:"left",plain:!0,children:Object(i.jsx)("b",{children:"C\xf4ng t\xe1c"})}),Object(i.jsx)(m.a,{showSearch:!0,style:{width:"100%"},placeholder:"search c\xf4ng t\xe1c",optionFilterProp:"children",onChange:this.onValueChange,value:null,filterOption:function(t,e){return e.children.toLowerCase().indexOf(t.toLowerCase())>=0},children:n}),Object(i.jsxs)("div",{style:{marginTop:20},children:[Object(i.jsx)(y,{store:s.CodeVM}),Object(i.jsx)(y,{store:s.NameVM}),Object(i.jsx)(y,{store:s.DescriptionVM}),Object(i.jsx)(Be,{store:s.SupItemSelectVM}),Object(i.jsxs)("div",{children:[Object(i.jsx)(Ra,{store:s.IsNewVM}),Object(i.jsx)(p.a,{style:{margin:10},onClick:s.AddDatabase,children:r.Content}),s.DeleteView]})]})]})}}]),n}(s.Component),qd=(Object(d.a)(zd),function(t){Object(l.a)(n,t);var e=Object(h.a)(n);function n(){var t;Object(o.a)(this,n);for(var i=arguments.length,s=new Array(i),r=0;r<i;r++)s[r]=arguments[r];return(t=e.call.apply(e,[this].concat(s))).OnInitialSetDataVM=function(t){var e=t.CategoryFilterVM;e&&e.OnInitialData();var n=t.FamilyFilterVM;n&&n.OnInitialData()},t}return n}(Xr)),Xd=function(){function t(){var e=this;Object(o.a)(this,t),this.SetData=function(t){if(t){var n=t.ValueType,i=(t.NumberFilterType,t.StringFilterType),s=t.Values;e.ValueTypeSelectVM.InitialItem=n,e.StringFilterTypeSelectVM.InitialItem=i,e.ValuesSelectVM.InitialItems=s}},this.OnInitialData=function(){e.ValueType,e.NumberFilterType,e.StringFilterType,e.Values},Object(v.l)(this,{})}return Object(u.a)(t,[{key:"pmDataVM",get:function(){return Ll.Instance}},{key:"ValueType",get:function(){return this.valueType||(this.valueType=this.ModelItem.ValueType),this.valueType},set:function(t){this.valueType=t,this.ModelItem.ValueType=t}},{key:"NumberFilterType",get:function(){return this.numberFilterType||(this.numberFilterType=this.ModelItem.NumberFilterType),this.numberFilterType},set:function(t){this.numberFilterType=t,this.ModelItem.NumberFilterType=t}},{key:"StringFilterType",get:function(){return this.stringFilterType||(this.stringFilterType=this.ModelItem.StringFilterType),this.stringFilterType},set:function(t){this.stringFilterType=t,this.ModelItem.StringFilterType=t}},{key:"Values",get:function(){return this.values||(this.values=this.ModelItem.Values),this.values},set:function(t){this.values=t,this.ModelItem.Values=t}},{key:"ValueStorageList",get:function(){return this.valueStorageList||(this.valueStorageList=this.ModelItem.ValueStorageList),this.valueStorageList}},{key:"ValueTypeSelectVM",get:function(){var t=this;this.valueTypeSelectVM||((this.valueTypeSelectVM=Re(this.pmDataVM.FilterValueTypes,this.ValueType)).OnSelectedItemChanged=function(e){t.ValueType=e});return this.valueTypeSelectVM}},{key:"StringFilterTypeSelectVM",get:function(){var t=this;this.stringFilterTypeSelectVM||((this.stringFilterTypeSelectVM=Re(this.pmDataVM.StringFilterTypes,this.StringFilterType)).OnSelectedItemChanged=function(e){t.StringFilterType=e});return this.stringFilterTypeSelectVM}},{key:"ValuesSelectVM",get:function(){var t=this;if(!this.valuesSelectVM){var e=this.valuesSelectVM=ye(this.ValueStorageList,this.Values);this.ValueSelectPlaceholder&&(e.Placeholder=this.ValueSelectPlaceholder),e.OnSelectedItemChanged=function(e){t.Values=e}}return this.valuesSelectVM}}]),t}(),Yd=function(t){if(t){var e=new Xd;return e.ModelItem=t,e}},Qd=function(){function t(){var e=this;Object(o.a)(this,t),this.GetCategoryFilterVM=function(){var t=e.ModelItem.CategoryFilter;return Yd(t)},this.isHaveFamilyFilter=void 0,this.GetFamilyFilterVM=function(){var t=e.ModelItem.FamilyFilter;return Yd(t)},this.SetData=function(t){e.CategoryFilterVM.SetData(t.CategoryFilterVM);var n=!0===t.IsHaveFamilyFilter;e.IsHaveFamilyFilterVM.Ischecked=n,e.FamilyFilterVM.SetData(t.FamilyFilterVM)},Object(v.l)(this,{isHaveFamilyFilter:v.m})}return Object(u.a)(t,[{key:"CategoryFilterVM",get:function(){return!this.categoryFilterVM&&this.ModelItem&&(this.categoryFilterVM=this.GetCategoryFilterVM()),this.categoryFilterVM}},{key:"IsHaveFamilyFilter",get:function(){return this.isHaveFamilyFilter||(this.isHaveFamilyFilter=this.ModelItem.IsHaveFamilyFilter),this.isHaveFamilyFilter},set:function(t){this.isHaveFamilyFilter=t,this.ModelItem.IsHaveFamilyFilter=t}},{key:"FamilyFilterVM",get:function(){return!this.familyFilterVM&&this.ModelItem&&(this.familyFilterVM=this.GetFamilyFilterVM()),this.familyFilterVM}},{key:"IsHaveFamilyFilterVM",get:function(){var t=this;this.isHaveFamilyFilterVM||((this.isHaveFamilyFilterVM=Na("Thi\u1ebft l\u1eadp l\u1ecdc Family",this.IsHaveFamilyFilter)).onCheckChange=function(e){t.IsHaveFamilyFilter=e});return this.isHaveFamilyFilterVM}}]),t}(),Jd=function(t){var e=new Qd;return e.ModelItem=t,e},Zd=function(t,e){var n=new qd;return n.ModelItem=t,n.Dict=e,t.OnNameChanged=function(e){t.M2VM&&(n.Name=e)},t.OnDescriptionChanged=function(e){t.M2VM&&(n.Description=e)},t.OnDataChanged=function(e){t.M2VM&&(n.Data=e,n.DataVM=n.GetDataVM())},n.OnGetDataVM=function(){var e=t.Data;return Jd(e)},n},$d=function(t){return t.IsNew?"Create":"Edit"},tm=function(){function t(){var e=this;Object(o.a)(this,t),this.dataVM=void 0,this.GetDataVM=function(){if(e.OnGetDataVM)return e.OnGetDataVM()},this.isNew=void 0,this.commandName=void 0,this.DeleteFunc=function(){e.EditItem.ModelItem.Delete(),e.EditItem.Delete(),e.EditItem=void 0},this.AddDatabase=function(){e.ModelItem.AddDatabase()},Object(v.l)(this,{dataVM:v.m,isNew:v.m})}return Object(u.a)(t,[{key:"Name",get:function(){return this.name||(this.name=this.ModelItem.Name),this.name},set:function(t){this.name=t,this.ModelItem.Name=t}},{key:"Description",get:function(){return this.description||(this.description=this.ModelItem.Description),this.description},set:function(t){this.description=t,this.ModelItem.Description=t}},{key:"SettingType",get:function(){return this.settingType||(this.settingType=this.ModelItem.SettingType),this.settingType},set:function(t){this.settingType=t,this.ModelItem.SettingType=t}},{key:"SearchName",get:function(){return this.Name}},{key:"NameVM",get:function(){var t=this;this.nameVM||((this.nameVM=j(this.Name,"t\xean b\u1ed9 l\u1ecdc")).onSetContent=function(e){return t.Name=e});return this.nameVM}},{key:"DescriptionVM",get:function(){var t=this;this.descriptionVM||((this.descriptionVM=j(this.Description,"m\xf4 t\u1ea3")).onSetContent=function(e){return t.Description=e});return this.descriptionVM}},{key:"SettingTypeVM",get:function(){var t=this;this.settingTypeVM||((this.settingTypeVM=j(this.SettingType,"lo\u1ea1i thi\u1ebft l\u1eadp")).onSetContent=function(e){return t.SettingType=e});return this.settingTypeVM}},{key:"DataVM",get:function(){return this.dataVM||(this.dataVM=this.GetDataVM()),this.dataVM},set:function(t){this.DataVM.SetData&&this.DataVM.SetData(t)}},{key:"EditItem",get:function(){return this.editItem},set:function(t){this.editItem=t;var e=this.ModelItem;if(t){e.EditItem=t.ModelItem;var n=t.Name,i=t.Description,s=t.SettingType;this.NameVM.Content=n,this.DescriptionVM.Content=i,this.SettingTypeVM.Content=s,this.DataVM=t.DataVM,this.IsNewVM.Ischecked=!1}else e.EditItem=t,this.IsNewVM.Ischecked=!0}},{key:"IsNew",get:function(){return void 0===this.isNew&&(this.isNew=this.ModelItem.IsNew),this.isNew},set:function(t){this.isNew=t,this.CommandVM.Content=$d(this),this.ModelItem.IsNew=t}},{key:"IsNewVM",get:function(){var t=this;if(!this.isNewVM){var e=this.isNewVM=Na("Thi\u1ebft l\u1eadp m\u1edbi",this.IsNew);e.isDisable=!0,e.onCheckChange=function(n){t.IsNew=n,e.isDisable=!!n}}return this.isNewVM}},{key:"CommandName",get:function(){return this.commandName||(this.commandName=$d(this)),this.commandName},set:function(t){this.commandName=t}},{key:"CommandVM",get:function(){var t=this;this.commandVM||((this.commandVM=j(this.CommandName)).onSetContent=function(e){return t.CommandName=e});return this.commandVM}},{key:"DeleteView",get:function(){return this.IsNew?"":Object(i.jsx)(p.a,{onClick:this.DeleteFunc,children:"Delete"})}}]),t}(),em=function(t){Object(l.a)(n,t);var e=Object(h.a)(n);function n(){return Object(o.a)(this,n),e.apply(this,arguments)}return n}(tm),nm=function(t){return function(t,e){var n=new em;return n.ModelItem=t,n.Dict=e,t.OnAddDatabaseDone=function(t){var e=n.CommandName;w.b.success("".concat(e," element filter setting successfully"))},n.OnGetDataVM=function(){var e=t.Data;return Jd(e)},n}(t.ModelItem.Input,t)},im=function(){function t(){var e=this;Object(o.a)(this,t),this.items=void 0,this.Add=function(t){e.Items.push(t)},Object(v.l)(this,{items:v.m})}return Object(u.a)(t,[{key:"M2VM",get:function(){return this.ModelItem.M2VM},set:function(t){this.ModelItem.M2VM=t}},{key:"GetItemsDone",set:function(t){this.OnGetItemsDone&&this.OnGetItemsDone(t)}},{key:"Items",get:function(){return this.items||(this.items=function(t){var e=t.ModelItem.Items;if(e)return e.map((function(e){return Zd(e,t)}))}(this)),this.items}},{key:"CurrentItem",get:function(){return this.currentItem||(this.currentItem=this.ModelItem.CurrentItem),this.currentItem},set:function(t){this.currentItem=t,t?(this.ModelItem.CurrentItem=t.ModelItem,this.Input.EditItem=t):this.ModelItem.CurrentItem=t}},{key:"Input",get:function(){return this.input||(this.input=nm(this)),this.input}}]),t}(),sm=(m.a.Option,function(t){Object(l.a)(n,t);var e=Object(h.a)(n);function n(t){var i;Object(o.a)(this,n),(i=e.call(this,t)).test=function(){console.log("test button")},i.onValueChange=function(t){var e=i.state,n=e.ItemVMs;e.CurrentItemVM=n[t]};var s=i.props.store;return i.state=s||new Xd,i}return Object(u.a)(n,[{key:"render",value:function(){var t=this.state;return Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)("div",{children:Object(i.jsx)(Be,{store:t.ValueTypeSelectVM})}),Object(i.jsx)("div",{children:Object(i.jsx)(Be,{store:t.StringFilterTypeSelectVM})}),Object(i.jsx)("div",{children:Object(i.jsx)(ke,{store:t.ValuesSelectVM})})]})}}]),n}(s.Component)),rm=Object(d.a)(sm),am=(m.a.Option,function(t){Object(l.a)(n,t);var e=Object(h.a)(n);function n(t){var i;Object(o.a)(this,n);var s=(i=e.call(this,t)).props.store;return i.state=s||new Qd,i}return Object(u.a)(n,[{key:"render",value:function(){var t=this.state,e=t.IsHaveFamilyFilter;return Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)(f.a,{orientation:"left",plain:!0,children:"Thi\u1ebft l\u1eadp l\u1ecdc Category"}),Object(i.jsx)(rm,{store:t.CategoryFilterVM}),Object(i.jsx)(f.a,{orientation:"left",plain:!0,children:Object(i.jsx)(Ra,{store:t.IsHaveFamilyFilterVM})}),e?Object(i.jsx)(rm,{store:t.FamilyFilterVM}):""]})}}]),n}(s.Component)),cm=Object(d.a)(am),om=m.a.Option,um=function(t){Object(l.a)(n,t);var e=Object(h.a)(n);function n(t){var i;Object(o.a)(this,n),(i=e.call(this,t)).test=function(){console.log("test button")},i.onValueChange=function(t){var e=i.state,n=e.Items;e.CurrentItem=n[t]};var s=i.props.store;return i.state=s||new im,i}return Object(u.a)(n,[{key:"render",value:function(){var t=this.state,e=t.Items,n=e?e.map((function(t,e){var n=t.SearchName;return Object(i.jsx)(om,{value:e,children:n},e)})):"",s=t.Input;return Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)(f.a,{orientation:"left",plain:!0,children:Object(i.jsx)("b",{children:"B\u1ed9 l\u1ecdc \u0111\u1ed1i t\u01b0\u1ee3ng"})}),Object(i.jsx)(m.a,{showSearch:!0,style:{width:"100%"},placeholder:"search b\u1ed9 l\u1ecdc",optionFilterProp:"children",onChange:this.onValueChange,value:null,filterOption:function(t,e){return e.children.toLowerCase().indexOf(t.toLowerCase())>=0},children:n}),Object(i.jsxs)("div",{style:{marginTop:20},children:[Object(i.jsx)(y,{store:s.NameVM}),Object(i.jsx)(y,{store:s.DescriptionVM}),Object(i.jsx)(cm,{store:s.DataVM}),Object(i.jsx)(Ra,{store:s.IsNewVM}),Object(i.jsx)(p.a,{style:{margin:10},onClick:s.AddDatabase,children:s.CommandVM.Content}),s.DeleteView]})]})}}]),n}(s.Component),lm=(Object(d.a)(um),function(){function t(){var e=this;Object(o.a)(this,t),this.workpackageVMStorageList=void 0,this.Delete=function(){e.ModelItem.Delete(),e.Dict.ValueSettingVMs.splice(e.Index,1)},this.SetData=function(t){e.RetrieveTypeSelectVM.InitialItem=t.RetrieveType,e.ValueFilterVM.SetData(t.ValueFilterVM),e.WorkpackageSelectVM.InitialItem=t.WorkpackageVM,e.MassTypeSelectVM.InitialItem=t.MassType}}return Object(u.a)(t,[{key:"Index",get:function(){return this.Dict.ValueSettingVMs.indexOf(this)}},{key:"RetrieveType",get:function(){return this.retrieveType||(this.retrieveType=this.ModelItem.RetrieveType),this.retrieveType},set:function(t){this.retrieveType=t,this.ModelItem.RetrieveType=t}},{key:"RetrieveTypeStorageList",get:function(){return mm(this)}},{key:"RetrieveTypeSelectVM",get:function(){var t=this;this.retrieveTypeSelectVM||((this.retrieveTypeSelectVM=Re(this.RetrieveTypeStorageList,this.RetrieveType)).OnSelectedItemChanged=function(e){return t.RetrieveType=e});return this.retrieveTypeSelectVM}},{key:"ValueFilterVM",get:function(){this.valueFilterVM||((this.valueFilterVM=Yd(this.ModelItem.ValueFilter)).ValueSelectPlaceholder="gi\xe1 tr\u1ecb parameter");return this.valueFilterVM},set:function(t){this.valueFilterVM=t,this.ModelItem.ValueFilter=t?t.ModelItem:t}},{key:"WorkpackageVM",get:function(){return this.workpackageVM||(this.workpackageVM=fm(this)),this.workpackageVM},set:function(t){this.workpackageVM=t;var e=this.ModelItem;t?this.ModelItem.Workpackage=t.Workpackage:e.Workpackage=t}},{key:"WorkpackageVMStorageList",get:function(){return this.workpackageVMStorageList||(this.workpackageVMStorageList=pm(this)),this.workpackageVMStorageList},set:function(t){this.workpackageVMStorageList=t;var e=this.WorkpackageSelectVM;e.Items=t,e.SelectedIndex=-1}},{key:"WorkpackageSelectVM",get:function(){var t=this;if(!this.workpackageSelectVM){var e=this.WorkpackageVMStorageList?this.WorkpackageVMStorageList:[],n=this.workpackageSelectVM=Re(e,this.WorkpackageVM);n.Placeholder="ch\u1ecdn c\xf4ng t\xe1c",n.OnSelectedItemChanged=function(e){return t.WorkpackageVM=e}}return this.workpackageSelectVM}},{key:"MassType",get:function(){return this.massType||(this.massType=this.ModelItem.MassType),this.massType},set:function(t){this.massType=t,this.ModelItem.MassType=t}},{key:"MassTypeStorageList",get:function(){return _m(this)}},{key:"MassTypeSelectVM",get:function(){var t=this;if(!this.massTypeSelectVM){var e=this.massTypeSelectVM=Re(this.MassTypeStorageList,this.MassType);e.Placeholder="lo\u1ea1i kh\u1ed1i l\u01b0\u1ee3ng",e.OnSelectedItemChanged=function(e){return t.MassType=e}}return this.massTypeSelectVM}}]),t}()),hm=function(){return Ll.Instance},dm=function(t,e){var n=new lm;return n.ModelItem=t,n.Dict=e,hm().Workpackage_DictVM.OnGetItemsDone_Funcs.push((function(t){n.WorkpackageVMStorageList=pm(n)})),n},mm=function(t){return hm().ValueRetrieveTypes},fm=function(t){var e=t.ModelItem.Workpackage;if(e){var n=hm().Workpackage_DictVM.WorkpackageVMs;if(n){var i=n.findIndex((function(t){return t.Workpackage===e}));return-1!==i?n[i]:void 0}}},pm=function(t){return hm().Workpackage_DictVM.WorkpackageVMs},_m=function(t){return hm().MassTypes},vm=function(){function t(){var e=this;Object(o.a)(this,t),this.Delete=function(){e.Dict.ValueSettings.splice(e.Index,1)}}return Object(u.a)(t,[{key:"Index",get:function(){return this.Dict.ValueSettings.indexOf(this)}},{key:"Workpackage",get:function(){return this.workpackage||(this.workpackage=gm(this)),this.workpackage},set:function(t){this.workpackage=t,this.workpackageId=t?t._id:void 0}},{key:"ApiData",get:function(){return bm(this)}}]),t}(),Im=function(t,e){var n=new vm;return n.RetrieveType=t.RetrieveType,n.MassType=t.MassType,n.ValueFilter=t.ValueFilter,n.Workpackage=t.Workpackage,n.Dict=e,n},gm=function(t){var e=t.workpackageId;if(e){var n=Gd.Instance.Workpackage_Dict.Workpackages;if(n){var i=n.findIndex((function(t){return t._id===e}));return-1!==i?n[i]:void 0}}},bm=function(t){return{retrieveType:t.RetrieveType,massType:t.MassType,valueFilter:t.ValueFilter.ApiData,workpackageId:t.workpackageId}},jm=function(){function t(){var e=this;Object(o.a)(this,t),this.elementFilterVMStorageList=void 0,this.valueSettingVMs=void 0,this.AddNewValueSettingVM=function(){var t=e.ModelItem.AddNewValueSetting(),n=dm(t,e);return e.ValueSettingVMs.push(n),n},this.SetData=function(t){e.ElementFilterSelectVM.InitialItem=t.ElementFilterVM,e.ValueSettingVMs=t.ValueSettingVMs},Object(v.l)(this,{valueSettingVMs:v.m})}return Object(u.a)(t,[{key:"ElementFilterVM",get:function(){return this.elementFilterVM||(this.elementFilterVM=Sm(this)),this.elementFilterVM},set:function(t){this.elementFilterVM=t;var e=this.ModelItem;e.ElementFilter=t?t.ModelItem:t}},{key:"ElementFilterVMStorageList",get:function(){return this.elementFilterVMStorageList||(this.elementFilterVMStorageList=Mm(this)),this.elementFilterVMStorageList},set:function(t){this.elementFilterVMStorageList=t;var e=this.ElementFilterSelectVM;e.Items=t,e.SelectedIndex=0}},{key:"ElementFilterSelectVM",get:function(){var t=this;if(!this.elementFilterSelectVM){var e=this.ElementFilterVMStorageList?this.ElementFilterVMStorageList:[],n=this.elementFilterSelectVM=Re(e,this.ElementFilterVM);n.Placeholder="ch\u1ecdn b\u1ed9 l\u1ecdc",n.OnSelectedItemChanged=function(e){return t.ElementFilterVM=e}}return this.elementFilterSelectVM}},{key:"ValueSettingVMs",get:function(){return this.valueSettingVMs||(this.valueSettingVMs=Cm(this)),this.valueSettingVMs},set:function(t){var e=this.valueSettingVMs,n=this.ModelItem.ValueSettings,i=e.length,s=t.length;e.forEach((function(e,n){n>=s||e.SetData(t[n])}));var r=Math.abs(i-s);if(i>s)e.splice(s,r),n.splice(s,r);else if(i<s)for(var a=0;a<r;a++){var c=t[i+a],o=Im(c.ModelItem,this.ModelItem);n.push(o);var u=dm(o,this);e.push(u)}}}]),t}(),Om=function(){return Ll.Instance},ym=function(t){var e=new jm;return e.ModelItem=t,Om().ElementFilterSetting_DictVM.OnGetItemsDone=function(t){e.ElementFilterVMStorageList=Mm(e)},e},Sm=function(t){var e=t.ModelItem.ElementFilter;if(e){var n=Om().ElementFilterSetting_DictVM.Items;if(n){var i=n.findIndex((function(t){return t.ModelItem===e}));return-1!==i?n[i]:void 0}}},Mm=function(t){return Om().ElementFilterSetting_DictVM.Items},Cm=function(t){return t.ModelItem.ValueSettings.map((function(e){return dm(e,t)}))},km=function(t){Object(l.a)(n,t);var e=Object(h.a)(n);function n(){var t;Object(o.a)(this,n);for(var i=arguments.length,s=new Array(i),r=0;r<i;r++)s[r]=arguments[r];return(t=e.call.apply(e,[this].concat(s))).OnInitialSetDataVM=function(t){t.ValueSettingVMs},t}return n}(Xr),Vm=function(t,e){var n=new km;return n.ModelItem=t,n.Dict=e,t.OnNameChanged=function(e){t.M2VM&&(n.Name=e)},t.OnDescriptionChanged=function(e){t.M2VM&&(n.Description=e)},t.OnDataChanged=function(e){t.M2VM&&(n.Data=e,n.DataVM=n.GetDataVM())},n.OnGetDataVM=function(){var e=t.Data;return ym(e)},n},Dm=function(t){Object(l.a)(n,t);var e=Object(h.a)(n);function n(){return Object(o.a)(this,n),e.apply(this,arguments)}return n}(tm),wm=function(t){return function(t,e){var n=new Dm;return n.ModelItem=t,n.Dict=e,t.OnAddDatabaseDone=function(t){var e=n.CommandName;w.b.success("".concat(e," setting successfully"))},n.OnGetDataVM=function(){var e=t.Data;return ym(e)},n}(t.ModelItem.Input,t)},Tm=function(){function t(){var e=this;Object(o.a)(this,t),this.items=void 0,this.Add=function(t){e.Items.push(t)},Object(v.l)(this,{items:v.m})}return Object(u.a)(t,[{key:"Items",get:function(){return this.items||(this.items=function(t){var e=t.ModelItem.Items;if(e)return e.map((function(e){return Vm(e,t)}))}(this)),this.items}},{key:"CurrentItem",get:function(){return this.currentItem||(this.currentItem=this.ModelItem.CurrentItem),this.currentItem},set:function(t){this.currentItem=t,t?(this.ModelItem.CurrentItem=t.ModelItem,this.Input.EditItem=t):this.ModelItem.CurrentItem=t}},{key:"Input",get:function(){return this.input||(this.input=wm(this)),this.input}}]),t}(),xm=(m.a.Option,function(t){Object(l.a)(n,t);var e=Object(h.a)(n);function n(t){var i;Object(o.a)(this,n);var s=(i=e.call(this,t)).props.store;return i.state=s||new lm,i}return Object(u.a)(n,[{key:"render",value:function(){var t=this.state,e=Ue("top right");return e.wrapper=Object(i.jsx)(p.a,{size:"small",type:"primary",onClick:t.Delete,children:"x"}),Object(i.jsx)(i.Fragment,{children:Object(i.jsxs)("div",{style:{padding:"10px 35px 10px 10px",margin:"8px auto",border:"solid 0.5px",borderRadius:"10px",position:"relative"},children:[Object(i.jsx)(Ae,{store:e}),Object(i.jsx)(Be,{store:t.RetrieveTypeSelectVM}),Object(i.jsx)(Be,{store:t.MassTypeSelectVM}),Object(i.jsx)(rm,{store:t.ValueFilterVM}),Object(i.jsx)(Be,{store:t.WorkpackageSelectVM})]})})}}]),n}(s.Component)),Fm=Object(d.a)(xm),Nm=(m.a.Option,function(t){Object(l.a)(n,t);var e=Object(h.a)(n);function n(t){var i;Object(o.a)(this,n);var s=(i=e.call(this,t)).props.store;return i.state=s||new jm,i}return Object(u.a)(n,[{key:"render",value:function(){var t=this.state,e=t.ValueSettingVMs.map((function(t,e){return Object(i.jsx)(Fm,{store:t},e)}));return Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)(Be,{store:t.ElementFilterSelectVM}),Object(i.jsxs)(f.a,{orientation:"left",plain:!0,children:["Thi\u1ebft l\u1eadp gi\xe1 tr\u1ecb",Object(i.jsx)(p.a,{type:"primary",size:"small",onClick:t.AddNewValueSettingVM,style:{marginLeft:15},children:"+"})]}),e]})}}]),n}(s.Component)),Gm=Object(d.a)(Nm),Rm=m.a.Option,Lm=function(t){Object(l.a)(n,t);var e=Object(h.a)(n);function n(t){var i;Object(o.a)(this,n),(i=e.call(this,t)).onValueChange=function(t){var e=i.state,n=e.Items;e.CurrentItem=n[t]};var s=i.props.store;return i.state=s||new Tm,i}return Object(u.a)(n,[{key:"render",value:function(){var t=this.state,e=t.Items,n=e?e.map((function(t,e){var n=t.SearchName;return Object(i.jsx)(Rm,{value:e,children:n},e)})):"",s=t.Input;return Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)(f.a,{orientation:"left",plain:!0,children:Object(i.jsx)("b",{children:"Thi\u1ebft l\u1eadp xu\u1ea5t kh\u1ed1i l\u01b0\u1ee3ng"})}),Object(i.jsx)(m.a,{showSearch:!0,style:{width:"100%"},placeholder:"search thi\u1ebft l\u1eadp",optionFilterProp:"children",onChange:this.onValueChange,value:null,filterOption:function(t,e){return e.children.toLowerCase().indexOf(t.toLowerCase())>=0},children:n}),Object(i.jsxs)("div",{style:{marginTop:20},children:[Object(i.jsx)(y,{store:s.NameVM}),Object(i.jsx)(y,{store:s.DescriptionVM}),Object(i.jsx)(Gm,{store:s.DataVM}),Object(i.jsxs)("div",{children:[Object(i.jsx)(Ra,{store:s.IsNewVM}),Object(i.jsx)(p.a,{style:{margin:10},onClick:s.AddDatabase,children:s.CommandVM.Content}),s.DeleteView]})]})]})}}]),n}(s.Component),Pm=(Object(d.a)(Lm),n(444)),Um=function(t){Object(l.a)(n,t);var e=Object(h.a)(n);function n(t){var i;Object(o.a)(this,n);var s=(i=e.call(this,t)).props.store;return i.state=s||new bh,i}return Object(u.a)(n,[{key:"render",value:function(){var t=this.state;return Object(i.jsx)(i.Fragment,{children:t.IsDataPending?Object(i.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:Object(i.jsxs)("div",{children:[Object(i.jsx)(Pm.a,{}),Object(i.jsx)(Pn,{store:t.LoadingSpinTipVM})]})}):t.MassTableView})}}]),n}(s.Component),Em=Object(d.a)(Um),Am=(m.a.Option,function(){return Ll.Instance}),Hm=function(t){Object(l.a)(n,t);var e=Object(h.a)(n);function n(t){var i;Object(o.a)(this,n);var s=(i=e.call(this,t)).props.store;return i.state=s||Am().MassResultCompVM,i}return Object(u.a)(n,[{key:"render",value:function(){var t=this.state;return Object(i.jsxs)(i.Fragment,{children:[t.IsShowProjectSelect?Object(i.jsx)(ke,{store:t.ProjectSelectVM}):"",co([Qr,Jr])?Object(i.jsxs)(i.Fragment,{children:[t.CanHavePhase?Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)(Ra,{store:t.IsShowPhaseSelectVM}),t.IsHavePhase?Object(i.jsx)(ke,{store:t.PhaseSelectVM}):""]}):"",Object(i.jsxs)("div",{style:{marginTop:8},children:[Am().Mgs_Dict_Dict.Pick_MGS_View,Am().Mgs_Dict_Dict.ModalView]}),Object(i.jsx)(p.a,{style:{marginTop:8},onClick:t.GetMassData,size:"middle",type:"primary",children:"GET DATA"}),Object(i.jsx)("div",{style:{marginTop:15},children:Object(i.jsx)(Em,{store:t.MassItem_Dict})})]}):""]})}}]),n}(s.Component),Wm=Object(d.a)(Hm),Bm=(n(414),n(462)),Km=n(463),zm=(m.a.Option,function(t){Object(l.a)(n,t);var e=Object(h.a)(n);function n(t){var i;Object(o.a)(this,n),(i=e.call(this,t)).onValueChange=function(t){i.state.SelectedIndex=t};var s=i.props.store;return i.state=s||new Sa,i}return Object(u.a)(n,[{key:"render",value:function(){var t=this.state,e=t.Columns,n=this.props.className,s=this.props.style,r=t.Rows,a="";if(e&&r){var c=Object(i.jsx)("thead",{className:"thead-light",children:Object(i.jsx)("tr",{children:e.map((function(t){return Object(i.jsx)("th",{scope:"col",className:t.ClassName,children:Object(i.jsxs)("div",{className:"column__title__wrapper",onMouseEnter:t.Show_MoveCommand,onMouseLeave:t.Collapse_MoveCommand,children:[t.CanShow_MoveCommand?Object(i.jsx)("div",{className:"column__title__left",children:t.IsShow_MoveCommand?Object(i.jsx)(p.a,{type:"primary",size:"small",className:"column__title__move__button",onClick:t.MoveLeft,children:Object(i.jsx)(Bm.a,{})}):Object(i.jsx)("div",{className:"column__title__move__blank"})}):"",t.TitleRender(),t.CanShow_MoveCommand?Object(i.jsx)("div",{className:"column__title__right",children:t.IsShow_MoveCommand?Object(i.jsx)(p.a,{type:"primary",size:"small",className:"column__title__move__button right",onClick:t.MoveRight,children:Object(i.jsx)(Km.a,{})}):Object(i.jsx)("div",{className:"column__title__move__blank"})}):""]})},t.Key)}))})}),o=Object(i.jsx)("tbody",{children:r.map((function(t){return Object(i.jsx)("tr",{children:t.Cells.map((function(t){return Object(i.jsx)("td",{children:t.Render()},t.Key)}))},t.Key)}))});a=Object(i.jsxs)("table",{className:n,style:s,children:[c,o]})}return Object(i.jsx)(i.Fragment,{children:a})}}]),n}(s.Component)),qm=Object(d.a)(zm),Xm=function(t){Object(l.a)(n,t);var e=Object(h.a)(n);function n(){var t;Object(o.a)(this,n);for(var i=arguments.length,s=new Array(i),r=0;r<i;r++)s[r]=arguments[r];return(t=e.call.apply(e,[this].concat(s))).IsCategoryChecked=!0,t}return Object(u.a)(n,[{key:"CategoryCheckboxVM",get:function(){if(!this.categoryCheckboxVM)this.categoryCheckboxVM=Na(void 0,this.IsCategoryChecked);return this.categoryCheckboxVM}}]),n}(Xr),Ym=function t(){Object(o.a)(this,t),Object(v.l)(this,{})},Qm=function(t,e){var n=new Xm;return n.ModelItem=t,n.Dict=e,t.OnNameChanged=function(e){t.M2VM&&(n.Name=e)},t.OnDescriptionChanged=function(e){t.M2VM&&(n.Description=e)},t.OnDataChanged=function(e){t.M2VM&&(n.Data=e,n.DataVM=n.GetDataVM())},n.OnGetDataVM=function(){return function(t){var e=new Ym;return e.ModelItem=t,e}(t.Data)},n},Jm=function(t){Object(l.a)(n,t);var e=Object(h.a)(n);function n(){return Object(o.a)(this,n),e.apply(this,arguments)}return n}(ji),Zm=function(){function t(){Object(o.a)(this,t),this.items=void 0,Object(v.l)(this,{items:v.m})}return Object(u.a)(t,[{key:"Items",get:function(){return this.items||(this.items=[Qm(new Jm)]),this.items}},{key:"TableVM",get:function(){return this.tableVM||(this.tableVM=function(t){var e=new Sa;e.DataSource=t.Items;var n=va("T\xean thi\u1ebft l\u1eadp",["Name"],null,e),s=va("Category",null,[ua(sa,(function(t,e){return e.CategoryCheckboxVM,Object(i.jsx)(Ra,{store:e.CategoryCheckboxVM})}))],e),r=va("H\u1ea1ng m\u1ee5c ph\u1ee5",null,[ua(sa,(function(t,e){return Object(i.jsx)(Ra,{})}))],e);return e.Columns=[n,s,r,ga(e)],e.OnGetItemForAdd=function(){return new Xm},e}(this)),this.tableVM}}]),t}(),$m=(m.a.Option,function(t){Object(l.a)(n,t);var e=Object(h.a)(n);function n(t){var i;Object(o.a)(this,n);var s=(i=e.call(this,t)).props.store;return i.state=s||new Zm,i}return Object(u.a)(n,[{key:"render",value:function(){var t=this.state;return Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)(f.a,{orientation:"left",plain:!0,children:Object(i.jsx)("b",{children:"Thi\u1ebft l\u1eadp xu\u1ea5t h\u1ea1ng m\u1ee5c"})}),Object(i.jsx)(qm,{store:t.TableVM})]})}}]),n}(s.Component)),tf=(Object(d.a)($m),n(86)),ef=n(40),nf=(n(415),function(){function t(){Object(o.a)(this,t)}return Object(u.a)(t,[{key:"Items",get:function(){return this.items||(this.items=af(this)),this.items},set:function(t){this.items=t}},{key:"CurrentProject",get:function(){return this.currentProject},set:function(t){this.currentProject=t,this.Items=af(this)}}]),t}()),sf=function t(){Object(o.a)(this,t)},rf=function(t,e){var n=new sf;return n.Title=t,n.Value=e,n},af=function(t){return t.CurrentProject?[rf("MASS",wl),rf("LEVEL",Tl),rf("PHASE",xl),rf("INPUT DATA",Fl)]:[rf("MASS",wl),rf("MEP SETTING",Nl),rf("C\xd4NG T\xc1C",Rl),rf("DOCUMENT",Gl)]},cf=function(){return Ll.Instance},of=function(){return function(t){var e=new mf;return e.ModelItem=t,Dt(cf().OnSet_CurrentProject_Func_Dict,(function(){return e.CurrentProject=cf().CurrentProject}),!1),e}(function(){var t=new nf;return t.Title="HikariComplex",t}())},uf=function(t){return t.ModelItem.Items},lf=function(t){return t.CurrentProject?"D\u1ef0 \xc1N":"C\xc1C D\u1ef0 \xc1N"},hf=function(t){return t.CurrentProject?t.CurrentProject.Name:""},df=function(){return Ll.Instance},mf=function(){function t(){var e=this;Object(o.a)(this,t),this.preTitle=void 0,this.title=void 0,this.items=void 0,this.projectViewType=void 0,this.GetItemClass=function(t){return"leftnav__item ".concat(t.Value===e.ProjectViewType?"active":"")},this.SetView=function(t){e.ProjectViewType=t.Value},Object(v.l)(this,{projectViewType:v.m,items:v.m,title:v.m,preTitle:v.m})}return Object(u.a)(t,[{key:"PreTitle",get:function(){return this.preTitle||(this.preTitle=lf(this)),this.preTitle},set:function(t){this.preTitle=t}},{key:"Title",get:function(){return this.title||(this.title=hf(this)),this.title},set:function(t){this.title=t}},{key:"Items",get:function(){return this.items||(this.items=uf(this)),this.items},set:function(t){this.items=t}},{key:"CurrentProject",get:function(){return this.currentProject},set:function(t){this.currentProject=t,this.ModelItem.CurrentProject=null===t||void 0===t?void 0:t.ModelItem,this.Items=uf(this),this.PreTitle=lf(this),this.Title=hf(this)}},{key:"ProjectViewType",get:function(){return this.projectViewType||(this.projectViewType=df().ProjectViewType),this.projectViewType},set:function(t){this.projectViewType=df().ProjectViewType=t}},{key:"UpdatedDate",get:function(){return Ps().UpdatedDate}}]),t}(),ff=function(t){Object(l.a)(n,t);var e=Object(h.a)(n);function n(t){var i;Object(o.a)(this,n);var s=(i=e.call(this,t)).props.store;return i.state=s||of(),i}return Object(u.a)(n,[{key:"render",value:function(){var t=this.state;return Object(i.jsx)(i.Fragment,{children:Object(i.jsx)("nav",{className:"leftnav",children:Object(i.jsxs)("div",{className:"leftnav__wrapper",children:[Object(i.jsxs)("div",{className:"leftnav__body",children:[Object(i.jsxs)("span",{className:"leftnav__title",children:[Object(i.jsx)("span",{className:"leftnav__title__prefix",children:t.PreTitle}),Object(i.jsx)("span",{className:"leftnav__title__name",children:t.Title})]}),Object(i.jsx)("div",{className:"leftnav__items",children:t.Items.map((function(e){return Object(i.jsx)("a",{onClick:function(){return t.SetView(e)},className:t.GetItemClass(e),children:e.Title},e.Value)}))})]}),Object(i.jsxs)("div",{className:"leftnav__footer",children:[Object(i.jsx)("span",{children:"\xa9 Copyright"}),Object(i.jsx)("span",{children:"Updated Date: ".concat(t.UpdatedDate)})]})]})})})}}]),n}(s.Component),pf=Object(d.a)(ff),_f=function(){return Gd.Instance},vf=function(t){return t.SettingData.Columns},If=function(t){var e=t.InitialColumnNames;return _f().MIF_Dict_ForDetail.filter((function(t){return-1!==e.indexOf(t.Value)})).map((function(e){return Ia(e.Name,t.Table,e.Value)}))},gf=function(){function t(){var e=this;Object(o.a)(this,t),this.AddColumn=function(){e.Table.AddColumn()}}return Object(u.a)(t,[{key:"Data",get:function(){return this.data},set:function(t){this.data=t,this.Table.DataSource=t}},{key:"InitialColumnNames",get:function(){return this.initialColumnNames||(this.initialColumnNames=vf(this)),this.initialColumnNames},set:function(t){this.initialColumnNames=t,this.Columns=If(this)}},{key:"Columns",get:function(){return this.columns||(this.columns=If(this)),this.columns},set:function(t){this.columns=t,this.Table.Columns=t}},{key:"Table",get:function(){this.table||((this.table=function(t){var e=new Sa;return e.CanHandleItem=!1,e.AllColumnNames=_f().MIF_Dict_ForDetail,e.Column_InputType=pa,e.Override_Get_CellValue=function(t,e,n,i){var s=i.DataIndex[0];return t.GetValue(s,(function(t){e.ValueVM.Content=t})).Value},e.Column_Title_SelectWidth=150,e}()).Columns=this.Columns);return this.table}},{key:"ColumnNames",get:function(){return this.Table.Columns.filter((function(t){return!t.IsAction})).map((function(t){return t.Title}))}},{key:"SettingData",get:function(){var t;this.settingData||(this.settingData=null===(t=this.Dict.Setting)||void 0===t?void 0:t.Data);return this.settingData},set:function(t){this.settingData=t,this.InitialColumnNames=vf(this)}}]),t}(),bf="input",jf="select",Of=function(t){var e;return null===(e=t.Setting)||void 0===e?void 0:e.Name},yf=function(t){var e=function(e){return t.SettingStorageList=e},n=Gd.Instance.MassDetailSetting_Dict;n.Items?e(n.Items):Dt(n.OnGetItemsDone_Func_Dict,(function(){return e(n.Items)}))},Sf=function(t){return function(t){var e=new gf;return e.Dict=t,e.Table,e}(t)},Mf=function(){function t(){var e=this;Object(o.a)(this,t),this.items=void 0,this.IsGet_SettingStorageList_Done_Func_Dict=[],this.SettingOK=function(){var t=e.PreSetting;t?e.Setting=Rh(t):w.b.warning("B\u1ea1n ch\u01b0a ch\u1ecdn b\u1ed9 thi\u1ebft l\u1eadp")},this.IsOnSaveSetting=!1,this.SaveSetting=function(){var t=e.SettingSelectVM_ForInput,n=e.SettingSelectVM;n.Items=Object(S.a)(t.Items),n.InitialItem=t.SelectedItem,e.SettingInput_State=jf,e.IsOnSaveSetting=!0},this.SettingInput_State=void 0,this.Toggle_SettingInput_State=function(){switch(e.SettingInput_State){case jf:e.SettingInput_State=bf;break;case bf:e.SettingInput_State=jf}},this.settingName=void 0,this.SettingInputOK=function(){var t=e.SettingName,n=e.SettingInput_State;if(!t||0===t.length)switch(n){case jf:return void w.b.warning("Vui l\xf2ng ch\u1ecdn b\u1ed9 thi\u1ebft l\u1eadp!");case bf:return void w.b.warning("Vui l\xf2ng nh\u1eadp t\xean thi\u1ebft l\u1eadp!")}var i=!1,s=Gd.Instance.MassDetailSetting_Dict.Items,r=s.findIndex((function(e){return e.Name===t})),a=e.Setting;a.Name=t,-1!==r&&(a._id=s[r]._id,n===bf&&(i=!0));var c=function(){var t=a.Data;t.MainMassType=e.MainMassType,t.Columns=e.DetailTable.ColumnNames,a.SaveDatabase((function(t,n){var i=e.SettingSelectVM_ForInput,s=i.Items,a=Nh(t);console.log(a),n?(s.push(a),i.InitialItem=a):(s[r]=a,i.SelectedIndex===r&&(i.InitialItem=a)),e.IsOnSaveSetting=!1,w.b.success("".concat(n?"add":"edit"," setting successfully"))}))};i?(e.Override_Setting_Modal_OKFunc=function(){return c()},e.Is_Override_Setting_Modal_Open=!0):c()},this.Is_Override_Setting_Modal_Open=!1,this.SettingInputCancel=function(){e.IsOnSaveSetting=!1,e.SettingInputVM.Content=Of(e)},Object(v.l)(this,{IsOnSaveSetting:v.m,SettingInput_State:v.m,Is_Override_Setting_Modal_Open:v.m})}return Object(u.a)(t,[{key:"id",get:function(){return this._id},set:function(t){var e=this;this._id=t,function(t,e){var n="https://api.bimdev.vn/api/hbdv/massdetail?id=".concat(t);G(n).then((function(t){return t.data})).then((function(t){t.viewDetail;var n=t.masses,i=t.phase,s=n.map((function(t){return Us(t,!0,i)}));e&&e(s)}))}(t,(function(t){e.Items=t}))}},{key:"Items",get:function(){return this.items},set:function(t){this.items=t,this.MainMassType=function(t){var e=t.Items;return e&&0!==e.length?e[0].MassType:P}(this),function(t){var e=t.MainMassType,n=function(n){var i=n.findIndex((function(t){return t.Data.MainMassType===e}));if(-1!==i){var s=n[i];t.SettingSelectVM_ForInput.InitialItem=s,t.Setting=Rh(s)}},i=t.SettingStorageList;i?n(i):Dt(t.IsGet_SettingStorageList_Done_Func_Dict,(function(){return n(t.SettingStorageList)}),!0)}(this),this.DetailTable.Data=t}},{key:"DetailTable",get:function(){return this.detailTable||(this.detailTable=Sf(this)),this.detailTable}},{key:"SettingStorageList",get:function(){return this.settingStorageList||yf(this),this.settingStorageList},set:function(t){this.settingStorageList=t,this.SettingSelectVM_ForInput.Items=t,this.IsGet_SettingStorageList_Done_Func_Dict.forEach((function(t){return t.Value()}))}},{key:"SettingSelectVM_ForInput",get:function(){var t=this;if(!this.settingSelectVM_ForInput){var e=this.SettingStorageList?this.SettingStorageList:[],n=this.settingSelectVM_ForInput=Re(e);n.TitleRender=function(t){return t.Name},n.Placeholder="Ch\u1ecdn thi\u1ebft l\u1eadp",n.OnSelectedItemChanged=function(e){t.PreSetting=e}}return this.settingSelectVM_ForInput}},{key:"Setting",get:function(){return this.setting||(this.setting=Gh()),this.setting},set:function(t){this.setting=t,this.DetailTable.SettingData=t.Data}},{key:"SettingInput_Toggle_Classname",get:function(){switch(this.SettingInput_State){case jf:return"btn-warning";case bf:return"btn-success"}}},{key:"SettingInput_Toggle_Content",get:function(){switch(this.SettingInput_State){case jf:return"sel";case bf:return"inp"}}},{key:"SettingName",get:function(){return this.settingName||(this.settingName=Of(this)),this.settingName},set:function(t){this.settingName=t}},{key:"SettingInputVM",get:function(){var t=this;this.settingInputVM||((this.settingInputVM=j(this.SettingName,"T\xean thi\u1ebft l\u1eadp")).onSetContent=function(e){return t.SettingName=e});return this.settingInputVM}},{key:"SettingSelectVM",get:function(){var t=this;if(!this.settingSelectVM){var e=this.settingSelectVM=Re([],void 0);e.Placeholder="Ch\u1ecdn thi\u1ebft l\u1eadp",e.OnSelectedItemChanged=function(e){t.SettingName=null===e||void 0===e?void 0:e.Name}}return this.settingSelectVM}},{key:"SettingInput_Element",get:function(){var t=this;switch(this.SettingInput_State){case jf:var e=(s=this.SettingSelectVM).Items,n=e.findIndex((function(e){return e.Name===t.SettingName}));return s.InitialItem=-1!==n?e[n]:void 0,Object(i.jsx)(Be,{store:s});case bf:var s;return(s=this.SettingInputVM).Content=this.SettingName,Object(i.jsx)(y,{store:s})}}},{key:"Override_Setting_ModalElement",get:function(){var t=this;return Object(i.jsx)(Oe.a,{title:"C\u1ea3nh b\xe1o",visible:this.Is_Override_Setting_Modal_Open,onOk:function(){t.Is_Override_Setting_Modal_Open=!1,t.Override_Setting_Modal_OKFunc()},onCancel:function(){return t.Is_Override_Setting_Modal_Open=!1},children:"Thi\u1ebft l\u1eadp \u0111\xe3 c\xf3 s\u1eb5n, b\u1ea1n c\xf3 mu\u1ed1n ghi \u0111\xe8 kh\xf4ng?"})}}]),t}(),Cf=function(t){Object(l.a)(n,t);var e=Object(h.a)(n);function n(t){var i;Object(o.a)(this,n);var s=(i=e.call(this,t)).props.store;return i.state=s||new gf,i}return Object(u.a)(n,[{key:"render",value:function(){var t=this.state;return Object(i.jsx)(i.Fragment,{children:Object(i.jsxs)("div",{className:"massdetail__wrapper",children:[Object(i.jsx)(p.a,{type:"primary",size:"small",className:"massdetail__addcolumn",onClick:t.AddColumn,children:"+"}),Object(i.jsx)(qm,{className:"table table-sm table-bordered",store:t.Table})]})})}}]),n}(s.Component),kf=Object(d.a)(Cf),Vf=(n(416),function(t){Object(l.a)(n,t);var e=Object(h.a)(n);function n(t){var i;Object(o.a)(this,n);var s=(i=e.call(this,t)).props.store;return i.state=s||new Mf,i}return Object(u.a)(n,[{key:"componentDidMount",value:function(){var t=this.state,e=this.props.match.params.id;t.id=e,Ll.Instance.Main_Classname="massdetail__comp"}},{key:"render",value:function(){var t=this.state;return Object(i.jsxs)(i.Fragment,{children:[Object(i.jsxs)("div",{className:"massdetail__setting__wrapper",children:[Object(i.jsx)("b",{children:"B\u1ed9 thi\u1ebft l\u1eadp:"}),Object(i.jsx)(Be,{className:"massdetail__setting__select",store:t.SettingSelectVM_ForInput}),Object(i.jsx)(p.a,{type:"primary",size:"small",onClick:t.SettingOK,children:"ok"})]}),Object(i.jsxs)("div",{className:"massdetail__title__wrapper",children:[Object(i.jsx)("h4",{className:"massdetail__title",children:"B\u1ea2NG CHI TI\u1ebeT KH\u1ed0I L\u01af\u1ee2NG"}),Object(i.jsx)("div",{children:Object(i.jsx)(p.a,{type:"primary",size:"small",style:{marginLeft:15},disabled:t.IsOnSaveSetting,onClick:t.SaveSetting,children:Object(i.jsx)(fo.a,{})})})]}),t.IsOnSaveSetting?Object(i.jsx)("div",{className:"massdetail__groupname__wrapper",children:Object(i.jsxs)("div",{className:"massdetail__groupname__wrapper_dec",children:[Object(i.jsx)("div",{className:"massdetail__groupname__input",children:t.SettingInput_Element}),Object(i.jsxs)("div",{className:"massdetail__groupname__button_wrapper",children:[Object(i.jsx)(p.a,{type:"primary",size:"small",className:t.SettingInput_Toggle_Classname,onClick:t.Toggle_SettingInput_State,children:t.SettingInput_Toggle_Content}),Object(i.jsx)(p.a,{type:"primary",size:"small",onClick:t.SettingInputOK,children:"ok"}),Object(i.jsx)(p.a,{type:"default",size:"small",onClick:t.SettingInputCancel,children:"cancel"}),t.Override_Setting_ModalElement]})]})}):"",Object(i.jsx)(kf,{store:t.DetailTable})]})}}]),n}(s.Component)),Df=Object(ef.f)(Object(d.a)(Vf)),wf=(n(191),n(445)),Tf=n(464),xf=(n(418),function(t){Object(l.a)(n,t);var e=Object(h.a)(n);function n(t){var i;Object(o.a)(this,n);var s=(i=e.call(this,t)).props.store;return i.state=s||new La,i}return Object(u.a)(n,[{key:"render",value:function(){var t=this.state;return Object(i.jsx)(i.Fragment,{children:Object(i.jsxs)("div",{className:"levelgroup__container",children:[Object(i.jsx)(ke,{store:t.LevelSelectVM}),t.Commands.includes(Jr)?Object(i.jsx)(p.a,{size:"small",type:"text",className:"levelgroup__deletebutton",onClick:t.Delete,children:Object(i.jsx)(Tf.a,{className:"levelgroup__deleteicon"})}):""]})})}}]),n}(s.Component)),Ff=Object(d.a)(xf),Nf=(n(419),n(192),n(420),n(421),function(t){Object(l.a)(n,t);var e=Object(h.a)(n);function n(t){var i;Object(o.a)(this,n);var s=(i=e.call(this,t)).props.store;return i.state=s||new Aa,i}return Object(u.a)(n,[{key:"render",value:function(){var t=this.state;return Object(i.jsx)(i.Fragment,{children:Object(i.jsx)("div",{className:"tls_filter__value",children:t.Commands.includes(Jr)?Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)(Te.a,{trigger:t.PopoverState.Content,content:Object(i.jsx)(Ve.a,{unCheckedChildren:"inp",checkedChildren:"sel",checked:t.SwitchChecked_Funcs(),onChange:t.ToggleInputType}),children:Object(i.jsx)("span",{children:t.InputElement})}),Object(i.jsx)(p.a,{type:"primary",size:"small",onClick:t.Delete,className:"tls_filter__value__delete",children:"x"})]}):t.Value})})}}]),n}(s.Component)),Gf=Object(d.a)(Nf),Rf=function(t){Object(l.a)(n,t);var e=Object(h.a)(n);function n(t){var i;Object(o.a)(this,n);var s=(i=e.call(this,t)).props.store;return i.state=s||new Ba,i}return Object(u.a)(n,[{key:"render",value:function(){var t=this.state;return Object(i.jsx)(i.Fragment,{children:Object(i.jsxs)("div",{className:"tls_filter__div",children:[Object(i.jsx)(Be,{store:t.FieldSelectVM,className:"tls_filter_fieldselect"}),Object(i.jsxs)("div",{className:"tls_filter__valuediv__wrapper",children:[t.Commands.includes(Jr)?Object(i.jsx)(p.a,{type:"primary",size:"small",onClick:t.AddItem,className:"tls_filter__valuediv__addbutton",children:"+"}):"",Object(i.jsx)("div",{className:"tls_filter__valuediv",children:t.Items.map((function(t){return Object(i.jsx)(Gf,{store:t},t.id)}))})]}),t.Commands.includes(Jr)?Object(i.jsx)(p.a,{size:"small",type:"text",className:"tls_filter__deletebutton",onClick:t.Delete,children:Object(i.jsx)(Tf.a,{className:"tls_filter__deleteicon"})}):""]})})}}]),n}(s.Component),Lf=Object(d.a)(Rf),Pf=(wf.a.TabPane,function(t){Object(l.a)(n,t);var e=Object(h.a)(n);function n(t){var i;Object(o.a)(this,n);var s=(i=e.call(this,t)).props.store;return i.state=s||new qa,i}return Object(u.a)(n,[{key:"render",value:function(){var t=this.state;return Object(i.jsx)(i.Fragment,{children:Object(i.jsxs)("div",{className:"tls__pageitem__wrapper",children:[Object(i.jsxs)("div",{className:"typicallevel__list",children:[Object(i.jsxs)("div",{className:"typicallevel__list__1",children:[t.Commands.includes(Jr)?Object(i.jsx)(p.a,{type:"primary",size:"small",onClick:t.AddFilter,className:"typicallevel__addbutton",children:"+"}):"",Object(i.jsx)("span",{children:Object(i.jsx)("b",{children:"Thi\u1ebft l\u1eadp b\u1ed9 l\u1ecdc"})})]}),t.Filters.map((function(t){return Object(i.jsx)(Lf,{store:t},t.id)}))]}),Object(i.jsxs)("div",{className:"typicallevel__list",children:[Object(i.jsxs)("div",{className:"typicallevel__list__1",children:[t.Commands.includes(Jr)?Object(i.jsx)(p.a,{type:"primary",size:"small",onClick:t.AddLevelGroup,className:"typicallevel__addbutton",children:"+"}):"",Object(i.jsx)("span",{children:Object(i.jsx)("b",{children:"Thi\u1ebft l\u1eadp level"})})]}),t.LevelGroups.map((function(t){return Object(i.jsx)(Ff,{store:t},t.id)}))]})]})})}}]),n}(s.Component)),Uf=Object(d.a)(Pf),Ef=wf.a.TabPane,Af=function(t){Object(l.a)(n,t);var e=Object(h.a)(n);function n(t){var i;Object(o.a)(this,n),(i=e.call(this,t)).onKeyDown=function(t){t.stopPropagation()};var s=i.props.store;return i.state=s||new Za,i}return Object(u.a)(n,[{key:"render",value:function(){var t=this.state;return Object(i.jsx)(i.Fragment,{children:Object(i.jsxs)("div",{className:"tls",children:[t.Commands.includes(Jr)?Object(i.jsx)(p.a,{type:"primary",size:"small",className:"tls__save__button",onClick:t.Save,children:Object(i.jsx)(fo.a,{className:"tls__save"})}):"",Object(i.jsx)("div",{className:"tls__tabs__wrapper",children:Object(i.jsxs)("div",{className:"tls__tabs__div",children:[t.Commands.includes(Jr)?t.IsHaveAddCommandTab?"":Object(i.jsx)(p.a,{type:"primary",size:"small",onClick:t.AddPageItem,className:"tls__tabs__add__outside",children:"+"}):"",Object(i.jsx)(wf.a,{type:"card",className:"tls__tabs",onChange:t.ChangePageKey,activeKey:t.CurrentPageKey,onKeyDown:this.onKeyDown,children:t.AllTabs.map((function(t){return Object(i.jsx)(Ef,{tab:t.TitleElement,children:Object(i.jsx)(Uf,{store:t})},t.id)}))})]})})]})})}}]),n}(s.Component),Hf=Object(d.a)(Af),Wf=(n(427),n(428),function(t){Object(l.a)(n,t);var e=Object(h.a)(n);function n(t){var i;Object(o.a)(this,n);var s=(i=e.call(this,t)).props.store;return i.state=s||new na,i}return Object(u.a)(n,[{key:"render",value:function(){var t=this.state;return Object(i.jsx)(i.Fragment,{children:Object(i.jsxs)("div",{className:"ls__wrapper",children:[t.Commands.includes(Jr)?Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)(p.a,{type:"primary",size:"small",className:"ls__save__button",onClick:t.Update_LevelData,children:Object(i.jsx)(fo.a,{className:"tls__save"})}),Object(i.jsx)(p.a,{type:"primary",size:"small",className:"ls_add",onClick:t.AddItem,children:"+"})]}):"",Object(i.jsx)(qm,{className:"table table-bordered",store:t.Table})]})})}}]),n}(s.Component)),Bf=Object(d.a)(Wf),Kf=function(t){Object(l.a)(n,t);var e=Object(h.a)(n);function n(t){var i;Object(o.a)(this,n);var s=(i=e.call(this,t)).props.store;return i.state=s||new sc,i}return Object(u.a)(n,[{key:"render",value:function(){var t=this.state;return Object(i.jsxs)(i.Fragment,{children:[Object(i.jsxs)("div",{className:"projectcomp__level",children:[Object(i.jsx)("div",{className:"projectcomp__title",children:Object(i.jsx)("h3",{children:"THI\xca\u0301T L\xc2\u0323P T\xc2\u0300NG"})}),Object(i.jsx)(Bf,{store:t.DataVM.Binding})]}),Object(i.jsx)("hr",{}),Object(i.jsxs)("div",{className:"projectcomp__typicallevel",children:[Object(i.jsx)("div",{className:"projectcomp__title",children:Object(i.jsx)("h3",{children:"THI\xca\u0301T L\xc2\u0323P T\xc2\u0300NG \u0110I\xca\u0309N HI\u0300NH"})}),Object(i.jsx)(Hf,{store:t.DataVM.Typical})]})]})}}]),n}(s.Component),zf=Object(d.a)(Kf),qf=(m.a.Option,function(t){Object(l.a)(n,t);var e=Object(h.a)(n);function n(t){var i;Object(o.a)(this,n);var s=(i=e.call(this,t)).props.store;return i.state=s||new Wr,i}return Object(u.a)(n,[{key:"render",value:function(){var t=this.state,e=t.Input,n=t.State;return Object(i.jsx)(i.Fragment,{children:Object(i.jsx)("div",{children:t.Commands.includes(Jr)?Object(i.jsxs)(i.Fragment,{children:[Object(i.jsxs)(p.a,{type:"primary",size:"middle",onClick:t.AddVersion,disabled:n===Hr,children:[Object(i.jsx)(Lc.a,{})," L\u01afU K\u1ebeT QU\u1ea2 HI\u1ec6N T\u1ea0I"]}),n===Hr?Object(i.jsxs)("div",{className:"mt-3",children:[Object(i.jsx)(y,{store:e.NameVM}),Object(i.jsx)(y,{store:e.DescriptionVM}),Object(i.jsxs)("div",{className:"mt-2",children:[Object(i.jsx)(p.a,{type:"primary",size:"small",onClick:t.OK,children:"OK"}),Object(i.jsx)(p.a,{type:"default",size:"small",onClick:t.Cancel,children:"Cancel"})]})]}):""]}):Ll.Instance.UnAuthorized_View})})}}]),n}(s.Component)),Xf=Object(d.a)(qf),Yf=function(t){var e=new Sa;return e.DataSource=t.Items,e.Columns=[va("T\xean c\u1ea5u ki\u1ec7n",["Info","elementName"],[ua(sa,(function(t,e){return e.Info.elementName}))],e),va("H\u1ea1ng m\u1ee5c",["Info","workItem"],[ua(sa,(function(t,e){return e.Info.workItem}))],e),va("\u0110\u01b0\u1eddng k\xednh",["Info","diameter"],[ua(sa,(function(t,e){return e.Info.diameter}))],e),va("Kh\u1ed1i l\u01b0\u1ee3ng",["Value"],null,e),ga(e)],e.OnGetItemForAdd=function(){return function(t){var e=new Ks;e.Unit="kg",e.MassType=U,e.Info={},e.projectId=t._id;var n=function(t){e.exportSetId=t._id;var n=t.CurrentVersion;n?e.exportSetVersionId=n._id:t.OnGetCurrentVersionDone_Func.push((function(){n=t.CurrentVersion,e.exportSetVersionId=n._id}))},i=t.InputExportSet;return i?n(i):t.OnGetInputExportSetDone_Funcs.push((function(){i=t.InputExportSet,n(i)})),e}(t.Project)},e.OnEditItem=function(t){t.AddDatabase()},e.OnDeleteItem=function(t){t.DeleteDatabase()},e},Qf=function(){function t(){Object(o.a)(this,t),this.items=[]}return Object(u.a)(t,[{key:"Project",get:function(){return this.project},set:function(t){this.project=t,this.projectId=t._id}},{key:"Items",get:function(){return this.items},set:function(t){this.items=t,this.TableVM.DataSource=t}},{key:"TableVM",get:function(){return this.tableVM||(this.tableVM=Yf(this)),this.tableVM}}]),t}(),Jf=(m.a.Option,function(t){Object(l.a)(n,t);var e=Object(h.a)(n);function n(t){var i;Object(o.a)(this,n);var s=(i=e.call(this,t)).props.store;return i.state=s||new Qf,i}return Object(u.a)(n,[{key:"render",value:function(){var t=this.state;return Object(i.jsx)(i.Fragment,{children:Object(i.jsx)(qm,{store:t.TableVM})})}}]),n}(s.Component)),Zf=(Object(d.a)(Jf),n(429),function(t){Object(l.a)(n,t);var e=Object(h.a)(n);function n(t){var i;Object(o.a)(this,n);var s=(i=e.call(this,t)).props.store;return i.state=s||new Rc,i}return Object(u.a)(n,[{key:"render",value:function(){var t=this.state;return Object(i.jsx)(i.Fragment,{children:Object(i.jsxs)("div",{className:"es__wrapper",children:[Object(i.jsxs)("div",{className:"es__pick__wrapper",children:[Object(i.jsx)("div",{className:"f",children:t.PickView}),t.ModalView]}),Object(i.jsx)("div",{className:"es__render__wrapper",children:t.CurrentItem&&t.CurrentItem.MassItems_Table?t.CurrentItem.MassItems_Table.WrapperView:""})]})})}}]),n}(s.Component)),$f=Object(d.a)(Zf),tp=function(){return Ll.Instance},ep=function(){function t(){Object(o.a)(this,t),this.projectVM=void 0,this.projectViewType=void 0,Object(v.l)(this,{projectVM:v.m,projectViewType:v.m})}return Object(u.a)(t,[{key:"id",get:function(){return this._id},set:function(t){var e=this;this._id=t,function(t,e){if(t){var n="https://api.bimdev.vn/api/hbp/get?id=".concat(t);G(n).then((function(t){return t.data})).then((function(t){var n=Vs(t);e&&e(n)}))}}(t,(function(t){e.ProjectVM=Hc(t)}))}},{key:"ProjectVM",get:function(){return this.projectVM},set:function(t){this.projectVM=t,tp().CurrentProject=t;var e=[t];tp().Project_DictVM.Items=e,Gd.Instance.Phase_Dict=t.ModelItem.Phase_Dict;var n=this.MassResultCompVM;n.ProjectVMStorageList=e,n.ProjectSelectVM.InitialItems=e;var i=function(){return n.PhaseVMStorageList=s.Items},s=t.Phase_DictVM;s.Items?i():s.OnGetItemsDone_Funcs.push((function(){i()}))}},{key:"MassResultCompVM",get:function(){if(!this.massResultCompVM){var t=this.massResultCompVM=ip(this);tp().MassResultCompVM=t}return this.massResultCompVM}},{key:"ProjectViewType",get:function(){return this.projectViewType||(this.projectViewType=tp().ProjectViewType),this.projectViewType},set:function(t){this.projectViewType=t}},{key:"ViewElement",get:function(){if(this.ProjectVM){var t=tp().Commands;if(t&&(t.includes("view")||t.includes("edit")))switch(this.ProjectViewType){case wl:return Object(i.jsx)("div",{className:"massresult__comp__wrapper",children:Object(i.jsx)(Wm,{store:this.MassResultCompVM})});case Tl:return Object(i.jsx)(i.Fragment,{children:this.ProjectVM.TypicalLevelSetting_ForEdit?Object(i.jsx)(zf,{store:this.ProjectVM.TypicalLevelSetting_ForEdit}):""});case xl:return Object(i.jsx)("div",{className:"phase__comp__wrapper",children:Object(i.jsx)(Xf,{store:this.ProjectVM.Phase_DictVM})});case Fl:return Object(i.jsx)($f,{store:this.ProjectVM.ExportSet_Dict})}return tp().UnAuthorized_View}}}]),t}(),np=function(){return Ll.Instance},ip=function(t){var e=to(new yh,!1);return e.IsShowProjectSelect=!1,e.CanHavePhase=!0,e},sp=function(t){Object(l.a)(n,t);var e=Object(h.a)(n);function n(t){var i;Object(o.a)(this,n);var s=(i=e.call(this,t)).props.store;return i.state=s||function(){var t=new ep;return Dt(np().OnSet_ProjectViewType_Func_Dict,(function(){return t.ProjectViewType=np().ProjectViewType}),!1),t}(),i}return Object(u.a)(n,[{key:"componentDidMount",value:function(){var t=this.state,e=this.props.match.params.id;t.id=e}},{key:"render",value:function(){var t=this.state,e=t.ProjectVM;return Object(i.jsx)(i.Fragment,{children:e?t.ViewElement:""})}}]),n}(s.Component),rp=Object(ef.f)(Object(d.a)(sp)),ap=(n(430),function(){return Ll.Instance}),cp=function(t){Object(l.a)(n,t);var e=Object(h.a)(n);function n(t){var i;Object(o.a)(this,n);var s=(i=e.call(this,t)).props.store;return i.state=s||ap().Admin,i}return Object(u.a)(n,[{key:"render",value:function(){var t=this.state;return Object(i.jsx)(i.Fragment,{children:Object(i.jsx)("div",{className:"admin__wrapper",children:co("admin")?Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)("div",{children:t.UserManager_Dict.MainView}),Object(i.jsx)("div",{className:"notfirst",children:t.ProjectCommand_Dict.MainView}),Object(i.jsx)("div",{className:"notfirst",children:t.ProjectGroupCommand_Dict.MainView})]}):ap().UnAuthorized_View})})}}]),n}(s.Component),op=Object(d.a)(cp),up=function(t){Object(l.a)(n,t);var e=Object(h.a)(n);function n(){return Object(o.a)(this,n),e.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){var t=Ll.Instance;return Object(i.jsx)(i.Fragment,{children:Object(i.jsxs)("div",{className:"projectcomp",children:[Object(i.jsx)(pf,{}),Object(i.jsxs)("div",{className:"projectcomp__main__wrapper",children:[t.UserDict.View,Object(i.jsxs)("div",{className:"projectcomp__main__dec",children:[Object(i.jsx)("div",{className:t.Main_Classname,children:Object(i.jsx)(tf.a,{basename:"/BIM_Database",children:Object(i.jsxs)(ef.c,{children:[Object(i.jsx)(ef.a,{exact:!0,path:"/",component:Jp}),Object(i.jsx)(ef.a,{exact:!0,path:"/massdetail/:id",component:Df}),Object(i.jsx)(ef.a,{exact:!0,path:"/project/:id",component:rp}),Object(i.jsx)(ef.a,{exact:!0,path:"/admin",component:op})]})})}),Object(i.jsx)("div",{className:"projectcomp__main__bottom"})]})]})]})})}}]),n}(s.Component),lp=Object(d.a)(up),hp=function t(){Object(o.a)(this,t)},dp=function t(){Object(o.a)(this,t),this.SubItems=[]},mp="project",fp="element",pp="element-info",_p="element-info-identify",vp="element-info-locate",Ip=function t(e,n){var i=new dp;switch(i.Title=n||e,e){case fp:i.SubItems=[t("guid"),t("projectId"),t("exportSetId"),t(pp,"info")];break;case mp:i.SubItems=[];break;case pp:i.SubItems=[t(_p,"identify"),t(vp,"locate"),t("element-info-geometry","geometry"),t("element-info-specification","specification"),t("element-info-material","material")];break;case _p:i.SubItems=[t("category"),t("typename"),t("elementName"),t("typemark"),t("typecomment"),t("description"),t("model"),t("manufacturer"),t("keynote"),t("assemblycode"),t("systemtype"),t("systemclassification"),t("workItem")];break;case vp:i.SubItems=[t("level"),t("baseLevel"),t("topLevel"),t("block"),t("zone")];break;default:i.SubItems=[]}return i},gp=function(){function t(){var e=this;Object(o.a)(this,t),this.subItems=void 0,this.isOpenSub=!1,this.ToggleSub=function(){e.IsOpenSub=!e.IsOpenSub,e.ToggleSubContentVM.Content=Op(e)},Object(v.l)(this,{subItems:v.m,isOpenSub:v.m})}return Object(u.a)(t,[{key:"Title",get:function(){return this.ModelItem.Title}},{key:"IsHaveButton",get:function(){return 0!==this.SubItems.length}},{key:"SubItems",get:function(){return this.subItems||(this.subItems=jp(this)),this.subItems}},{key:"IsOpenSub",get:function(){return this.isOpenSub},set:function(t){this.isOpenSub=t}},{key:"ToggleSubContentVM",get:function(){return this.toggleSubContentVM||(this.toggleSubContentVM=j(Op(this))),this.toggleSubContentVM}}]),t}(),bp=function(t){var e=new gp;return e.ModelItem=t,e},jp=function(t){return t.ModelItem.SubItems.map((function(t){return bp(t)}))},Op=function(t){return t.IsOpenSub?"-":"+"},yp=function(){return function(t){var e=new Sp;return e.ModelItem=t,e}(function(){var t=new hp;return t.Items=[Ip(mp),Ip(fp)],t}())},Sp=function(){function t(){Object(o.a)(this,t),this.items=void 0,Object(v.l)(this,{items:v.m})}return Object(u.a)(t,[{key:"Items",get:function(){return this.items||(this.items=this.ModelItem.Items.map((function(t){return bp(t)}))),this.items}}]),t}(),Mp=(n(193),function(t){Object(l.a)(n,t);var e=Object(h.a)(n);function n(t){var i;Object(o.a)(this,n);var s=(i=e.call(this,t)).props.store;return i.state=s||new gp,i}return Object(u.a)(n,[{key:"render",value:function(){var t=this.state;return Object(i.jsx)(i.Fragment,{children:Object(i.jsxs)("span",{className:"doelement",children:[t.Title,t.IsHaveButton?Object(i.jsx)(p.a,{className:"doelement__button",type:"primary",size:"small",onClick:t.ToggleSub,children:t.ToggleSubContentVM.Content}):"",t.IsOpenSub?Object(i.jsx)("div",{className:"doelement__dict",children:t.SubItems.map((function(t){return Object(i.jsx)(n,{store:t},t.Title)}))}):""]})})}}]),n}(s.Component)),Cp=Object(d.a)(Mp),kp=(m.a.Option,function(t){Object(l.a)(n,t);var e=Object(h.a)(n);function n(t){var i;Object(o.a)(this,n);var s=(i=e.call(this,t)).props.store;return i.state=s||yp(),i}return Object(u.a)(n,[{key:"render",value:function(){var t=this.state;return Object(i.jsx)(i.Fragment,{children:Object(i.jsx)("div",{className:"doelement__dict",children:t.Items?t.Items.map((function(t){return Object(i.jsx)(Cp,{store:t},t.Title)})):""})})}}]),n}(s.Component)),Vp=Object(d.a)(kp),Dp=(n(194),function(){function t(){var e=this;Object(o.a)(this,t),this.Is_ShowValue_Delete=void 0,this.ShowValue_Delete=function(){e.Is_ShowValue_Delete=!0},this.HideValue_Delete=function(){e.Is_ShowValue_Delete=!1},this.Delete=function(){e.ModelItem.Delete();var t=e.Dict;t.ItemCategories.splice(e.Index,1),t.TableCategory.DeleteItem(e)},Object(v.l)(this,{Is_ShowValue_Delete:v.m})}return Object(u.a)(t,[{key:"id",get:function(){return this.ModelItem.id}},{key:"Name",get:function(){return this.ModelItem.Name},set:function(t){this.ModelItem.Name=t}},{key:"NameVM",get:function(){var t=this;if(!this.nameVM){var e=this.nameVM=Re(["Stair","Roof","Celling","Door","Window","Furniture","Lighting Fixture","Plumbing Fixture","Railing","Wall Sweep"],this.Name);e.Placeholder="Cho\u0323n Category",e.OnSelectedItemChanged=function(e){return t.Name=e}}return this.nameVM}},{key:"ValueVM",get:function(){var t=this;if(!this.valueVM){var e=this.valueVM=Re(["STAIRCASE","ROOFING","CEILING","DOOR","WINDOW","FURNITURE","LIGHTING FIXTURE","PLUMBING FIXTURE","RAILING","SKIRTING"],this.Values);e.Placeholder="Cho\u0323n masstype t\u01b0\u01a1ng \u1ee9ng",e.OnSelectedItemChanged=function(e){return t.Values=e}}return this.valueVM}},{key:"Name_Element",get:function(){return Object(i.jsx)(i.Fragment,{children:Object(i.jsx)("div",{className:"ls_item__value__wrapper",children:Object(i.jsx)(Be,{store:this.NameVM})})})}},{key:"Value_Element",get:function(){return Object(i.jsx)(i.Fragment,{children:Object(i.jsxs)("div",{className:"ls_item__value__wrapper",onMouseEnter:this.ShowValue_Delete,onMouseLeave:this.HideValue_Delete,children:[Object(i.jsx)(Be,{store:this.ValueVM}),Object(i.jsx)("div",{className:"ls_item__value__delete",children:this.Is_ShowValue_Delete?Object(i.jsx)(p.a,{type:"primary",size:"small",onClick:this.Delete,children:"x"}):Object(i.jsx)("div",{})})]})})}},{key:"Index",get:function(){return this.Dict.ItemCategories.indexOf(this)}},{key:"IsLast",get:function(){return this.Dict.ItemCategories.length-1===this.Index}}]),t}()),wp=function(t,e){var n=new Dp;return n.ModelItem=t,n.Dict=e,n},Tp=function(){function t(){var e=this;Object(o.a)(this,t),this.Is_ShowValue_Delete=void 0,this.ShowValue_Delete=function(){e.Is_ShowValue_Delete=!0},this.HideValue_Delete=function(){e.Is_ShowValue_Delete=!1},this.Delete=function(){e.ModelItem.Delete();var t=e.Dict;t.itemMEPs.splice(e.Index,1),t.TableMEP.DeleteItem(e)},Object(v.l)(this,{Is_ShowValue_Delete:v.m})}return Object(u.a)(t,[{key:"id",get:function(){return this.ModelItem.id}},{key:"Name",get:function(){return this.ModelItem.Name},set:function(t){this.ModelItem.Name=t}},{key:"NameVM",get:function(){var t=this;if(!this.nameVM){var e=this.nameVM=Re(["HVAC","Electrical","Plumbing","Firefighter"],this.name);e.Placeholder="Cho\u0323n masstype",e.OnSelectedItemChanged=function(e){return t.name=e}}return this.nameVM}},{key:"SystemClassificationVM",get:function(){var t=this;if(!this.systemClassificationVM){var e=this.systemClassificationVM=Re(["Supply Air","Exhause Air","Return Air","Hydronic Return","Sanitary","Power","Telecom","Lighting","Lightning Protection","Domestic Cold Water","Domestic Hot Water","Other","Sanitary","Vent","Fire Protection Wet","Fire Protection Dry","Fire Protection Pre-Action","Fire Protection Other","Sanitary","Telecom"],this.systemClassification);e.Placeholder="System Classification",e.OnSelectedItemChanged=function(e){return t.systemClassification=e}}return this.systemClassificationVM}},{key:"ValueVM",get:function(){var t=this;if(!this.valueVM){var e=this.valueVM=Re(["M-Supply Air","M-Fresh Air","M-Pre Cooled Air","M-Kitchen Fresh Air","M-Lobby Pressurization Air","M-Stair Pressurization Air","M-Exhause Air","M-Kitchen Exhaust Air","M-Smoke Exhaust Air","M-Smoke Exhaust Generator","M-Toilet Exhaust Air","M-Return Air","M-Chilled Water Supply","M-Condenser Water Supply","M-Steam Supply Piping","M-Brine Supply Pipe","M-Oil Supply Pipe","M-Refrigerant Pipe","M-Humidification Water","M-Chilled Water Return","M-Condenser Water Return","M-Steam Return","M-Brine Return","M-Oil Return","M-Drain Steam","M-Drain AC","E-Busway","E-Electrical Medium Voltage","E-Electrical Low Voltage","E-Electrical Extra Low Voltage","E-Electrical Lighting","E-Electrical Earthing and Lightning","P-Clean Water","P-General Service Water","P-Well Water","P-Industrial Water","P-Filtration Supply","P-Filtration Return","P-Hot Water Supply","P-Hot Water Return","P-Expansion","P-Gas","P-Soil Water","P-Waste Water","P-Waste Kitchen Water","P-Storm Water","P-Pump Up","P-Ventilation","F-Drencher","F-Sprinkler","F-Low Pressure","F-High Pressure","F-Hosereel","F-Indoor Fire Hydrant","F-Dry Riser","F-Pre Action","F-Foam","F-CO2 Fire Extinguishing","F-Drain Pipe","F-Electrical Fire Alarm"],this.Values);e.Placeholder="Cho\u0323n SystemType t\u01b0\u01a1ng \u1ee9ng",e.OnSelectedItemChanged=function(e){return t.Values=e}}return this.valueVM}},{key:"Value_Element",get:function(){return Object(i.jsx)(i.Fragment,{children:Object(i.jsxs)("div",{className:"ls_item__value__wrapper",onMouseEnter:this.ShowValue_Delete,onMouseLeave:this.HideValue_Delete,children:[Object(i.jsx)(Be,{store:this.ValueVM}),Object(i.jsx)("div",{className:"ls_item__value__delete",children:this.Is_ShowValue_Delete?Object(i.jsx)(p.a,{type:"primary",size:"small",onClick:this.Delete,children:"x"}):Object(i.jsx)("div",{})})]})})}},{key:"Name_Element",get:function(){return Object(i.jsx)(i.Fragment,{children:Object(i.jsx)("div",{className:"ls_item__value__wrapper",children:Object(i.jsx)(Be,{store:this.NameVM})})})}},{key:"SystemClassification_Element",get:function(){return Object(i.jsx)(i.Fragment,{children:Object(i.jsx)("div",{className:"ls_item__value__wrapper",children:Object(i.jsx)(Be,{store:this.SystemClassificationVM})})})}},{key:"Index",get:function(){return this.Dict.itemMEPs.indexOf(this)}},{key:"IsLast",get:function(){return this.Dict.Items.length-1===this.Index}}]),t}(),xp=function(t,e){var n=new Tp;return n.ModelItem=t,n.Dict=e,n},Fp=function(){function t(){var e=this;Object(o.a)(this,t),this.Is_ShowValue_Delete=void 0,this.ShowValue_Delete=function(){e.Is_ShowValue_Delete=!0},this.HideValue_Delete=function(){e.Is_ShowValue_Delete=!1},this.Delete=function(){e.ModelItem.Delete();var t=e.Dict;t.Items.splice(e.Index,1),t.Table.DeleteItem(e)},Object(v.l)(this,{Is_ShowValue_Delete:v.m})}return Object(u.a)(t,[{key:"id",get:function(){return this.ModelItem.id}},{key:"Name",get:function(){return this.ModelItem.Name},set:function(t){this.ModelItem.Name=t}},{key:"NameVM",get:function(){var t=this;if(!this.nameVM){var e=this.nameVM=tr(this.Name);Dt(e.OnSet_RenderState_Func_Dict,(function(){e.RenderState===Ut&&(t.Name=e.Content)}),!1)}return this.nameVM}},{key:"ValueVM",get:function(){var t=this;if(!this.valueVM){var e=this.valueVM=Re(["ARC","CARPET","CEILINGFINISH","FLOORFINISH","GYPSUM","MASONRY","METAL","MOSAIC","OTHER","PAINTING","PLASTER","PLASTIC","ROOFING","SCREED","SITEWORK","SKIRTING","TILING&PAVING","VINYL","WALLFINISH","WOODEN"],this.Values);e.Placeholder="Cho\u0323n masstype t\u01b0\u01a1ng \u1ee9ng",e.OnSelectedItemChanged=function(e){return t.Values=e}}return this.valueVM}},{key:"Value_Element",get:function(){return Object(i.jsx)(i.Fragment,{children:Object(i.jsxs)("div",{className:"ls_item__value__wrapper",onMouseEnter:this.ShowValue_Delete,onMouseLeave:this.HideValue_Delete,children:[Object(i.jsx)(Be,{store:this.ValueVM}),Object(i.jsx)("div",{className:"ls_item__value__delete",children:this.Is_ShowValue_Delete?Object(i.jsx)(p.a,{type:"primary",size:"small",onClick:this.Delete,children:"x"}):Object(i.jsx)("div",{})})]})})}},{key:"Index",get:function(){return this.Dict.Items.indexOf(this)}},{key:"IsLast",get:function(){return this.Dict.Items.length-1===this.Index}}]),t}(),Np=function(t,e){var n=new Fp;return n.ModelItem=t,n.Dict=e,n},Gp=function(){function t(){var e=this;Object(o.a)(this,t),this.items=void 0,this.itemCategories=void 0,this.itemMEPs=void 0,this.AddItem=function(){var t=Np(e.ModelItem.AddItem(),e);return t.NameVM.RenderState=Et,e.Items.push(t),e.Table.AddItem(t),t},this.AddItemCategory=function(){var t=wp(e.ModelItem.AddItem(),e);return e.ItemCategories.push(t),e.TableCategory.AddItem(t),t},this.AddItemMEP=function(){var t=xp(e.ModelItem.AddItem(),e);return e.ItemMEPs.push(t),e.TableMEP.AddItem(t),t},this.Update_MasstypeData=function(){e.ModelItem.Update_MasstypeData(),w.b.success("save successfully!")},Object(v.k)(this,{items:v.m,itemCategories:v.m,itemMEPs:v.m})}return Object(u.a)(t,[{key:"Items",get:function(){return this.items||(this.items=Rp(this)),this.items},set:function(t){this.items=t}},{key:"ItemCategories",get:function(){var t;return this.itemCategories||(this.itemCategories=(t=this).ModelItem.Items.map((function(e){return wp(e,t)}))),this.itemCategories},set:function(t){this.itemCategories=t}},{key:"ItemMEPs",get:function(){var t;return this.itemMEPs||(this.itemMEPs=(t=this).ModelItem.Items.map((function(e){return xp(e,t)}))),this.itemMEPs},set:function(t){this.itemMEPs=t}},{key:"Table",get:function(){return this.table||(this.table=Lp(this)),this.table}},{key:"TableCategory",get:function(){return this.tableCategory||(this.tableCategory=function(t){var e=new Sa,n=new ba;n.Title="Category",n.DataIndex=["name"],n.Key=St(),n.Table=e,n.ClassName="ls__title-column";var i=new ba;return i.Title="T\u01b0\u01a1ng \u0111\u01b0\u01a1ng v\u01a1\u0301i MassType",i.DataIndex=["value"],i.Key=St(),i.Table=e,i.ClassName="ls__value-column",e.Columns=[n,i],e.CanShow_MoveCommand=!1,e.CanHandleColumn=!1,e.Override_Get_CellRender=function(t,e,n,i,s,r){switch(r.DataIndex[0]){case"name":return e.Name_Element;case"value":return e.Value_Element}},e.DataSource=Object(S.a)(t.ItemCategories),e}(this)),this.tableCategory}},{key:"TableMEP",get:function(){return this.tableMEP||(this.tableMEP=function(t){var e=new Sa,n=new ba;n.Title="MassType",n.DataIndex=["name"],n.Key=St(),n.Table=e,n.ClassName="ls__title-column";var i=new ba;i.Title="System Classification",i.DataIndex=["systemClassification"],i.Key=St(),i.Table=e,i.ClassName="ls__title-column";var s=new ba;return s.Title="T\u01b0\u01a1ng \u0111\u01b0\u01a1ng v\u01a1\u0301i System Type",s.DataIndex=["value"],s.Key=St(),s.Table=e,s.ClassName="ls__value-column",e.Columns=[n,i,s],e.CanShow_MoveCommand=!1,e.CanHandleColumn=!1,e.Override_Get_CellRender=function(t,e,n,i,s,r){switch(r.DataIndex[0]){case"name":return e.Name_Element;case"systemClassification":return e.SystemClassification_Element;case"value":return e.Value_Element}},e.DataSource=Object(S.a)(t.ItemCategories),e}(this)),this.tableMEP}}]),t}(),Rp=function(t){return t.ModelItem.Items.map((function(e){return Np(e,t)}))},Lp=function(t){var e=new Sa,n=new ba;n.Title="Material",n.DataIndex=["name"],n.Key=St(),n.Table=e,n.ClassName="ls__title-column";var s=new ba;return s.Title="T\u01b0\u01a1ng \u0111\u01b0\u01a1ng v\u01a1\u0301i MassType",s.DataIndex=["value"],s.Key=St(),s.Table=e,s.ClassName="ls__value-column",e.Columns=[n,s],e.CanShow_MoveCommand=!1,e.CanHandleColumn=!1,e.Override_Get_CellRender=function(t,e,n,s,r,a){switch(a.DataIndex[0]){case"name":return Object(i.jsx)(Ca,{store:e.NameVM});case"value":return e.Value_Element}},e.DataSource=Object(S.a)(t.Items),e},Pp=function(t){Object(l.a)(n,t);var e=Object(h.a)(n);function n(){var t;Object(o.a)(this,n);for(var i=arguments.length,s=new Array(i),r=0;r<i;r++)s[r]=arguments[r];return(t=e.call.apply(e,[this].concat(s))).Save=function(){t.ModelItem.Save()},t}return Object(u.a)(n,[{key:"MassTypeStorageList",get:function(){return this.ModelItem.MassTypeStorageList}},{key:"FieldFilterStorageList",get:function(){return this.ModelItem.FieldFilterStorageList}}]),n}(Xr),Up=function(t){Object(l.a)(n,t);var e=Object(h.a)(n);function n(){var t;Object(o.a)(this,n);for(var i=arguments.length,s=new Array(i),r=0;r<i;r++)s[r]=arguments[r];return(t=e.call.apply(e,[this].concat(s))).SettingType=Zi,t}return n}(ji),Ep=function(){function t(){var e=this;Object(o.a)(this,t),this.Delete=function(){e.Dict.Items.splice(e.Index,1)},this.Name="",this.Values=[]}return Object(u.a)(t,[{key:"TempId",get:function(){return this.tempId||(this.tempId=Mt()),this.tempId}},{key:"id",get:function(){return this._id?this._id:this.tempId}},{key:"Index",get:function(){return this.Dict.Items.indexOf(this)}},{key:"ApiData",get:function(){return{name:this.Name,values:this.Values}}}]),t}(),Ap=function(){function t(){var e=this;Object(o.a)(this,t),this.Delete=function(){e.Dict.Items.splice(e.Index,1)},this.Name="",this.Values=[]}return Object(u.a)(t,[{key:"TempId",get:function(){return this.tempId||(this.tempId=Mt()),this.tempId}},{key:"id",get:function(){return this._id?this._id:this.tempId}},{key:"Index",get:function(){return this.Dict.Items.indexOf(this)}},{key:"ApiData",get:function(){return{name:this.Name,values:this.Values}}}]),t}(),Hp=function(){function t(){var e=this;Object(o.a)(this,t),this.Items=[],this.AddItem=function(){var t=function(t){var e=new Ep;return e.Dict=t,e}(e);return e.Items.push(t),t},this.Update_MasstypeData=function(){e.masstypeStorageList=Wp(e)},this.OnSet_MassTypeStorageList_Func_Dict=[],this.AddItemCategory=function(){var t=function(t){var e=new Ap;return e.Dict=t,e}(e);return e.Items.push(t),t}}return Object(u.a)(t,[{key:"masstypeStorageList",get:function(){return this.masstypeStorageList||(this.masstypeStorageList=Wp(this)),this.masstypeStorageList},set:function(t){var e=this;this.masstypeStorageList=t,Tt(this.OnSet_MassTypeStorageList_Func_Dict,(function(t){return e.OnSet_MassTypeStorageList_Func_Dict=t}))}},{key:"ApiData",get:function(){return{items:this.Items.map((function(t){return t.ApiData}))}}}]),t}(),Wp=function(t){return t.Items.map((function(t){return t.Name}))},Bp=function(){var t=new Up;return t.Name="Thi\u1ebft l\u1eadp c\xf4ng t\xe1c",t.Description="M\xf4 t\u1ea3 thi\u1ebft l\u1eadp",t.Data=function(t){var e=new Hp;return e.Items=[],e}(),t},Kp=function(t){if(t){var e=new Pp;return e.ModelItem=t,t.OnNameChanged=function(n){t.M2VM&&(e.Name=n)},t.OnDescriptionChanged=function(n){t.M2VM&&(e.Description=n)},t.OnDataChanged=function(n){t.M2VM&&(e.Data=n,e.DataVM=e.GetDataVM())},e.OnGetDataVM=function(){return function(t,e){var n=new Gp;return n.ModelItem=t,n.Dict=e,n}(t.Data,e)},e}},zp=function(t){Object(l.a)(n,t);var e=Object(h.a)(n);function n(t){var i;Object(o.a)(this,n);var s=(i=e.call(this,t)).props.store;return i.state=s||new Gp,i}return Object(u.a)(n,[{key:"render",value:function(){var t=this.state;return Object(i.jsxs)(i.Fragment,{children:[Object(i.jsxs)("div",{className:"tls__wrapper",children:[Object(i.jsx)(p.a,{type:"primary",size:"small",className:"tls__save__button",onClick:t.Update_MasstypeData,children:Object(i.jsx)(fo.a,{className:"tls__save"})}),Object(i.jsx)(p.a,{type:"primary",size:"small",className:"tls__save__button",onClick:t.AddItem,children:"+"}),Object(i.jsx)(qm,{store:t.Table})]}),Object(i.jsx)("hr",{}),Object(i.jsxs)("div",{className:"tls__wrapper",children:[Object(i.jsx)(p.a,{type:"primary",size:"small",className:"tls__save__button",onClick:t.Update_MasstypeData,children:Object(i.jsx)(fo.a,{className:"tls__save"})}),Object(i.jsx)(p.a,{type:"primary",size:"small",className:"tls__save__button",onClick:t.AddItemCategory,children:"+"}),Object(i.jsx)(qm,{store:t.TableCategory})]}),Object(i.jsx)("hr",{}),Object(i.jsxs)("div",{className:"tls__wrapper",children:[Object(i.jsx)(p.a,{type:"primary",size:"small",className:"tls__save__button",onClick:t.Update_MasstypeData,children:Object(i.jsx)(fo.a,{className:"tls__save"})}),Object(i.jsx)(p.a,{type:"primary",size:"small",className:"tls__save__button",onClick:t.AddItemMEP,children:"+"}),Object(i.jsx)(qm,{store:t.TableMEP})]})]})}}]),n}(s.Component),qp=Object(d.a)(zp),Xp=function(t){Object(l.a)(n,t);var e=Object(h.a)(n);function n(t){var i;Object(o.a)(this,n);var s=(i=e.call(this,t)).props.store;return i.state=s||Kp(Bp()),i}return Object(u.a)(n,[{key:"render",value:function(){var t=this.state;return Object(i.jsx)(i.Fragment,{children:Object(i.jsxs)("div",{children:[Object(i.jsx)("div",{className:"tls__name",children:Object(i.jsx)("h3",{children:t.Name})}),Object(i.jsx)("div",{children:t.Description}),Object(i.jsx)(qp,{store:t.DataVM})]})})}}]),n}(s.Component),Yp=Object(d.a)(Xp),Qp=function(t){Object(l.a)(n,t);var e=Object(h.a)(n);function n(){return Object(o.a)(this,n),e.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){var t=Ll.Instance,e="";switch(t.ProjectViewType){case wl:e=Object(i.jsx)("div",{className:"massresult__comp__wrapper",children:Object(i.jsx)(Wm,{store:t.MassResultCompVM})});break;case Nl:e="MEP Setting";break;case Gl:e=Object(i.jsx)(Vp,{});break;case Rl:e=Object(i.jsx)(Yp,{})}return Object(i.jsx)(i.Fragment,{children:e})}}]),n}(s.Component),Jp=Object(d.a)(Qp),Zp=function(t){Object(l.a)(n,t);var e=Object(h.a)(n);function n(){return Object(o.a)(this,n),e.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){return Object(i.jsx)(lp,{})}}]),n}(s.Component),$p=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,465)).then((function(e){var n=e.getCLS,i=e.getFID,s=e.getFCP,r=e.getLCP,a=e.getTTFB;n(t),i(t),s(t),r(t),a(t)}))};c.a.render(Object(i.jsx)(Zp,{}),document.getElementById("root")),$p()}},[[431,1,2]]]);
//# sourceMappingURL=main.8aad4e2a.chunk.js.map
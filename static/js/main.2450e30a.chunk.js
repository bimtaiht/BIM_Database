(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{135:function(t,e,n){},136:function(t,e,n){},185:function(t,e){},198:function(t,e,n){"use strict";n.r(e);var i=n(1),s=n(0),r=n(26),a=n.n(r),c=(n(135),n(2)),o=n(3),u=n(8),h=n(7),l=(n(136),n(137),n(12)),p=n(207),f=n(208),d=n(203),m=n(202),g=n(127),k=n(204),I=n(4),v=function(){function t(){Object(c.a)(this,t),this.content=void 0,this.placeholder="n\u1ed9i dung input",Object(I.k)(this,{content:I.l,placeholder:I.l})}return Object(o.a)(t,[{key:"Content",get:function(){return this.content},set:function(t){this.content=t,this.onSetContent&&this.onSetContent(t)}},{key:"Placeholder",set:function(t){this.placeholder=t}},{key:"Style",get:function(){return this.style||(this.style=this.inputStyle?this.inputStyle:{},this.wrapper&&(this.style.position="relative")),this.style}}]),t}(),M=function(t,e){var n=new v;return n.content=t,n.placeholder=e,n},j=function(t){Object(u.a)(n,t);var e=Object(h.a)(n);function n(t){var i;Object(c.a)(this,n),(i=e.call(this,t)).onChange=function(t){var e=t.target.value;i.state.Content=e};var s=i.props.store;if(s)i.state=s;else{i.state=M("N\u1ed9i dung input")}return i}return Object(o.a)(n,[{key:"render",value:function(){var t=this.state,e=t.content,n=t.placeholder;return Object(i.jsx)(i.Fragment,{children:Object(i.jsx)(k.a,{value:e,onChange:this.onChange,placeholder:n})})}}]),n}(s.Component),y=Object(l.a)(j),b=n(128),V=n(31),O=n.n(V),D=n(54),S=n(110),C=n.n(S),w=n(205),F=C.a.create({baseURL:"https://api.bimdev.vn/api",Accept:"application/json","Content-Type":"application/json",timeout:2e4}),x=function(t){return{success:t.status>=200&&t.status<300,data:t.data,message:t.statusText}},N=function(){var t=Object(D.a)(O.a.mark((function t(e){var n;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e;case 3:return n=t.sent,t.abrupt("return",x(n));case 7:return t.prev=7,t.t0=t.catch(0),t.abrupt("return",(i=t.t0,w.b.error("Error sending request: ".concat(i)),{success:!1}));case 10:return t.prev=10,t.finish(10);case 12:case"end":return t.stop()}var i}),t,null,[[0,7,10,12]])})));return function(e){return t.apply(this,arguments)}}(),T=function(){var t=Object(D.a)(O.a.mark((function t(e,n){return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",N(F.get(e,n)));case 1:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),_=function(){var t=Object(D.a)(O.a.mark((function t(e,n,i){var s;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,N(F.put(e,n,i));case 2:return s=t.sent,t.abrupt("return",s);case 4:case"end":return t.stop()}}),t)})));return function(e,n,i){return t.apply(this,arguments)}}(),G=function(){var t=Object(D.a)(O.a.mark((function t(e,n,i){var s;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,N(F.post(e,n,i));case 2:return s=t.sent,t.abrupt("return",s);case 4:case"end":return t.stop()}}),t)})));return function(e,n,i){return t.apply(this,arguments)}}(),W="Project",P="Phase",L="Workpackage",E="Value",A="Unit",R="elementName",H=function(){return[R]},B=function(t,e){switch(e){case W:case P:return t.Name;case L:return t.FullName;default:return t}},U=(new Intl.DateTimeFormat("en-GB"),function(){return Math.random().toString(36).substr(2,9)}),q=function(t,e){t.M2VM=!0,e(),t.M2VM=!1},z=function(){function t(){Object(c.a)(this,t),this.Cells=[]}return Object(o.a)(t,[{key:"id",get:function(){return this._id||(this._id=U()),this._id}},{key:"Index",get:function(){return this.Dict.Columns.indexOf(this)}}]),t}(),K=function(t){Object(u.a)(n,t);var e=Object(h.a)(n);function n(t){var i;Object(c.a)(this,n),(i=e.call(this,t)).getWrapperContent=function(){var t=i.state.wrapper;return t||""};var s=i.props.store;return i.state=s||{content:"N\u1ed9i dung"},i}return Object(o.a)(n,[{key:"render",value:function(){var t=this.state.content;return Object(i.jsxs)(i.Fragment,{children:[t,this.getWrapperContent()]})}}]),n}(s.Component),J=Object(l.a)(K),Q=function(){function t(){var e=this;Object(c.a)(this,t),this.SubItems=[],this.Cells=[],this.isShowSub=!0,this.rank=void 0,this.isHaveSub=void 0,this.GetCellByColumn=function(t){var n=e.Cells.findIndex((function(e){return e.Column===t}));return-1!==n?e.Cells[n]:void 0},this.UpdateData=function(){e.Rank=X(e),e.IsHaveSub=Z(e)},this.ToggleSub=function(){e.IsShowSub=!e.IsShowSub},Object(I.k)(this,{rank:I.l,isShowSub:I.l,isHaveSub:I.l})}return Object(o.a)(t,[{key:"id",get:function(){return this._id||(this._id=U()),this._id}},{key:"Index",get:function(){return this.Dict.FullRows.indexOf(this)}},{key:"IsShowSub",get:function(){return this.isShowSub},set:function(t){this.isShowSub=t,this.ToggleButtonContentVM.Content=$(this)}},{key:"ToggleButtonContent",get:function(){return this.toggleButtonContent||(this.toggleButtonContent=$(this)),this.toggleButtonContent},set:function(t){this.toggleButtonContent=t}},{key:"ToggleButtonContentVM",get:function(){var t=this;this.toggleButtonContentVM||((this.toggleButtonContentVM=M(this.ToggleButtonContent)).OnSetContent=function(e){return t.ToggleButtonContent=e});return this.toggleButtonContentVM}},{key:"Rank",get:function(){return void 0===this.rank&&(this.rank=X(this)),this.rank},set:function(t){this.rank=t}},{key:"IsHaveSub",get:function(){return this.isHaveSub||(this.isHaveSub=Z(this)),this.isHaveSub},set:function(t){this.isHaveSub=t}},{key:"Style",get:function(){return Y(this)}}]),t}(),X=function(t){return t.SupItem?t.SupItem.Rank+1:0},Y=function(t){return{display:"flex",marginLeft:20*t.Rank}},Z=function(t){return 0!==t.SubItems.length},$=function(t){return t.IsShowSub?"-":"+"},tt=function(){function t(){var e=this;Object(c.a)(this,t),this.items=[],this.GetUnit=function(){if(e.SubCells){var t=void 0;return e.SubCells.forEach((function(e){e.Unit&&(t=e.Unit)})),t}return e.Items&&0!==e.Items.length?e.Items[0].Unit:void 0},this.totalValue=void 0,this.GetTotalValue=function(){return e.SubCells?e.SubCells.reduce((function(t,e){return t+e.TotalValue}),0):e.Items.reduce((function(t,e){return t+e.Value}),0)},this.GetSubCells=function(){var t=e.Row.SubItems;if(t&&0!==t.length){var n=e.Column;return t.map((function(t){return t.GetCellByColumn(n)})).filter((function(t){return void 0!==t}))}},this.GetMassType=function(){return e.SubCells?e.SubCells[0].MassType:e.Items[0].MassType},this.AsString=function(){console.log("".concat(e.Column.Name," - ").concat(e.Row.Name," - ").concat(e.TotalValue))},this.UpdateData=function(){e.SubCells=e.GetSubCells(),e.TotalValue=e.GetTotalValue(),e.Unit=e.GetUnit(),e.ContentVM.Content=e.ValueString,e.MassType=e.GetMassType(),e.IsHaveVCS_Item=It(e),e.IsHaveVCS_Item&&(e.VCS_Item=jt(e)),e.ValueColor=vt(e),e.TDBgColor=Mt(e)},this.ShowDetail=function(){e.viewDetailId?window.open("".concat("/BIM_Database","/massdetail/").concat(e.viewDetailId),"_blank"):e.GetViewDetailId((function(t){var n=e.viewDetailId=t._id;console.log("/BIM_Database"),window.open("".concat("/BIM_Database","/massdetail/").concat(n),"_blank")}))},this.valueColor=void 0,this.tdBgColor=void 0,this.ApiData=function(){var t=e.AllItems.map((function(t){return t._id}));return{massType:e.MassType,massIds:t}},this.GetViewDetailId=function(t){var n=e.ApiData();_("https://api.bimdev.vn/api/hbdv/updatemass",n).then((function(t){return t.data})).then((function(e){return t(e)}))},Object(I.k)(this,{valueColor:I.l,tdBgColor:I.l})}return Object(o.a)(t,[{key:"id",get:function(){return this._id||(this._id=U()),this._id}},{key:"ColumnIndex",get:function(){return this.Column.Index}},{key:"Items",get:function(){return this.items},set:function(t){this.items=t}},{key:"Unit",get:function(){return this.unit||(this.unit=this.GetUnit()),this.unit},set:function(t){this.unit=t}},{key:"UnitVM",get:function(){var t=this;return this.unitVM||(this.unitVM=M(this.Unit),this.unitVM.OnSetContent=function(e){return t.Unit=e}),this.unitVM}},{key:"TotalValue",get:function(){return this.totalValue||(this.totalValue=this.GetTotalValue()),this.totalValue},set:function(t){this.totalValue=t}},{key:"ContentVM",get:function(){return this.contentVM||(this.contentVM=M(this.ValueString)),this.contentVM}},{key:"ValueString",get:function(){var t=this.Unit?this.Unit:"";return"".concat(this.TotalValue.toFixed(2)," ").concat(t)}},{key:"SubCells",get:function(){return this.subCells||(this.subCells=this.GetSubCells()),this.subCells},set:function(t){this.subCells=t}},{key:"MassType",get:function(){return this.massType||(this.massType=this.GetMassType()),this.massType},set:function(t){this.massType=t}},{key:"AllItems",get:function(){return this.SubCells?this.SubCells.map((function(t){return t.Items})).reduce((function(t,e){return t.concat(e)}),[]):this.Items}},{key:"IsHaveVCS_Item",get:function(){return this.isHaveVCS_Item||(this.isHaveVCS_Item=It(this)),this.isHaveVCS_Item},set:function(t){this.isHaveVCS_Item=t}},{key:"VCS_Item",get:function(){return this.vcs_Item||(this.vcs_Item=jt(this)),this.vcs_Item},set:function(t){this.vcs_Item=t}},{key:"ValueColor",get:function(){return this.valueColor||(this.valueColor=vt(this)),this.valueColor},set:function(t){this.valueColor=t}},{key:"TDBgColor",get:function(){return this.tdBgColor||(this.tdBgColor=Mt(this)),this.tdBgColor},set:function(t){this.tdBgColor=t}},{key:"AStyle",get:function(){return{color:this.ValueColor,"font-weight":"bold"}}},{key:"TDStyle",get:function(){return{"background-color":this.TDBgColor}}}]),t}(),et=function(){function t(){Object(c.a)(this,t)}return Object(o.a)(t,[{key:"CategoryNames",get:function(){return this.categoryNames||(this.categoryNames=["Floors","Structural Framing","Walls","Structural Columns"]),this.categoryNames}}],[{key:"Instance",get:function(){return this.instance||(this.instance=new t),this.instance}}]),t}(),nt=function(){function t(){Object(c.a)(this,t)}return Object(o.a)(t,[{key:"Values",get:function(){return this.values},set:function(t){this.values=t}},{key:"ValueStorageList",get:function(){return this.valueStorageList||(this.valueStorageList=mt(this)),this.valueStorageList}},{key:"ApiData",get:function(){return gt(this)}}]),t}(),it="category",st="family",rt="parameter",at="bystring",ct="bynumber",ot="byequal",ut="bycontain",ht="byequal",lt="bysmaller",pt="bybigger",ft="bybetween",dt=function(t,e){var n=new nt;return n.ValueType=t.valueType,n.NumberFilterType=t.numberFilterType,n.StringFilterType=t.stringFilterType,n.Values=t.values,n.CategoryType=e,n},mt=function(t){var e=[];switch(t.CategoryType){case it:e=et.Instance.CategoryNames;break;case rt:e=Ee.Instance.ParameterNames}return e},gt=function(t){return{valueType:t.ValueType,numberFilterType:t.NumberFilterType,stringFilterType:t.StringFilterType,values:t.Values}},kt=function(){return Ee.Instance},It=function(t){return t.Dict.ColumnField===P&&2===kt().MassResultComp.Phases.length&&1===t.ColumnIndex},vt=function(t){return t.IsHaveVCS_Item&&t.VCS_Item?"#FFFFFF":"#1890ff"},Mt=function(t){return t.IsHaveVCS_Item&&t.VCS_Item?t.VCS_Item.Color:"#FFFFFF"},jt=function(t){var e=kt().VersionCompareSetting.Items,n=t.Row.Cells,i=n.findIndex((function(t){return 0===t.ColumnIndex})),s=n[i],r=t.TotalValue/s.TotalValue,a=e.findIndex((function(t){return function(t,e){if(void 0===e||null===e)return!1;var n=!1,i=t.Values;switch(t.ValueType){case at:if("string"===typeof e)switch(t.StringFilterType){case ot:i.forEach((function(t){n||t!==e||(n=!0)}));break;case ut:var s=e.toLowerCase();i.forEach((function(t){!n&&s.includes(t.toLowerCase())&&(n=!0)}))}break;case ct:if(!isNaN(e))switch(t.NumberFilterType){case ht:return e===i[0];case lt:return e<i[0];case"bysmallerorequal":return e<=i[0];case pt:return e>i[0];case"bybiggerorequal":return e>=i[0];case ft:var r=i[0],a=i[1];return t.IsEqualLeft&&r===e||r<e&&e<a||t.IsEqualRight&&e===a}}return n}(t.Filter,r)}));return-1!==a?e[a]:void 0},yt=(n(185),function(){function t(){var e=this;Object(c.a)(this,t),this.IsValidTable=!1,this.ColumnField=W,this.RowField=L,this.Columns=void 0,this.MainRows=void 0,this.FullRows=void 0,this.Cells=void 0,this.GetColumn=function(t){var n=e.Columns,i=void 0,s=n.findIndex((function(e){return e.Name===t}));return-1===s?(i=function(t,e){var n=new z;return n.Name=t,n.Dict=e,n}(t,e),n.push(i),i):n[s]},this.GetRowWithCheckField=function(t,n){var i=void 0;switch(n){case L:var s=t;i=e.InputWorkpackages.includes(s)?void 0:e.GetRow(B(s.SupItem,n))}return e.GetRow(B(t,n),i)},this.GetRow=function(t,n){var i=e.FullRows,s=e.MainRows,r=void 0,a=i.findIndex((function(e){return e.Name===t}));return-1===a?(r=function(t,e){var n=new Q;return n.Name=t,n.Dict=e,n}(t,e),i.push(r),n?(n.SubItems.push(r),r.SupItem=n):s.push(r),r):i[a]},this.GetCell=function(t,n){var i=e.Cells,s=void 0,r=i.findIndex((function(e){return e.Column===t&&e.Row===n}));return-1===r?(s=function(t,e,n){var i=new tt;return i.Column=t,i.Row=e,i.Dict=n,t.Cells.push(i),e.Cells.push(i),i}(t,n,e),i.push(s),s):i[r]},this.Build=function(){e.Columns=[],e.MainRows=[],e.FullRows=[],e.Cells=[];var t=e.ColumnField,n=e.RowField;t===P&&Ee.Instance.MassResultComp.Phases.forEach((function(n){e.GetColumn(B(n,t))}));var i=function(i,s){var r=e.GetColumn(B(s,t)),a=e.GetRowWithCheckField(i[n],n);e.GetCell(r,a).Items.push(i)};e.Items.forEach((function(e){switch(t){case P:e.ValidPhasesByInput.forEach((function(t){i(e,t)}));break;default:i(e,e[t])}})),e.FullRows.forEach((function(t){return t.UpdateData()})),e.Cells.forEach((function(t){return t.UpdateData()}))},Object(I.k)(this,{IsValidTable:I.l,Columns:I.l,MainRows:I.l,Cells:I.l,ColumnField:I.l})}return Object(o.a)(t,[{key:"Items",get:function(){return this.items},set:function(t){this.items=t,t&&0!==t.length?(this.Build(),this.IsValidTable=!0):this.IsValidTable=!1}},{key:"InputWorkpackages",get:function(){return this.inputWorkpackages},set:function(t){this.inputWorkpackages=t}}]),t}()),bt=function(){function t(){Object(c.a)(this,t)}return Object(o.a)(t,[{key:"Items",get:function(){return this.items},set:function(t){this.items=t,this.MassTable.Items=t}},{key:"InputWorkpackages",get:function(){return this.inputWorkpackages},set:function(t){this.inputWorkpackages=t,this.MassTable.InputWorkpackages=t}},{key:"MassTable",get:function(){return this.massTable||(this.massTable=new yt),this.massTable}}]),t}(),Vt=function(){function t(){var e=this;Object(c.a)(this,t),this.OnGetElementDone_Funcs=[],this.GetValue=function(t){var n=null;if([W,L,E,A].includes(t))n=e[t];else if(H().includes(t)){if(e.Element)n=e.Element.info.identify[t]}else n=e.Info[t];return n}}return Object(o.a)(t,[{key:"Project",get:function(){return this.project||(this.project=xt(this)),this.project}},{key:"Workpackage",get:function(){return this.workpackage||(this.workpackage=Nt(this)),this.workpackage}},{key:"Phases",get:function(){return this.phases||(this.phases=Tt(this)),this.phases}},{key:"ValidPhasesByInput",get:function(){return _t(this)}},{key:"GetElementDone",set:function(t){this.OnGetElementDone_Funcs.forEach((function(t){return t()}))}}]),t}(),Ot=function(t,e){var n="https://api.bimdev.vn/api/hbe/get?id=".concat(t);T(n).then((function(t){return t.data})).then((function(t){e&&e(t)}))},Dt="concrete",St="formwork",Ct="rebar",wt=function(){return Ee.Instance},Ft=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=new Vt;return n._id=t._id,n.Value=t.value,n.Unit=t.unit,n.MassType=t.massType,n.Info=t.info,n.projectId=t.projectId,n.workpackageId=t.workpackageId,n.exportSetVersionId=t.exportSetVersionId,e&&t.elementId&&Ot(t.elementId,(function(t){n.Element=t,n.GetElementDone=!0})),n},xt=function(t){var e=wt().Project_Dict.Items,n=t.projectId,i=e.findIndex((function(t){return t._id===n}));return-1!==i?e[i]:void 0},Nt=function(t){var e=wt().Workpackage_Dict.Workpackages,n=t.workpackageId,i=e.findIndex((function(t){return t._id===n}));return-1!==i?e[i]:void 0},Tt=function(t){var e=[],n=wt().Phase_Dict.Items,i=t.exportSetVersionId;return n.forEach((function(t){t.exportSetVersionIds.includes(i)&&e.push(t)})),e},_t=function(t){var e=wt().MassResultComp.Phases,n=t.Phases,i=[];return n.forEach((function(t){e.includes(t)&&i.push(t)})),i},Gt=function(t,e){var n="https://api.bimdev.vn/api/hbdv/massdetail?id=".concat(t);T(n).then((function(t){return t.data})).then((function(t){var n,i=t.viewDetail,s=t.masses,r=(n=i.massType)===Dt||n===St,a=s.map((function(t){return Ft(t,r)}));e&&e(a)}))},Wt=function(){function t(){var e=this;Object(c.a)(this,t),this.Projects=[],this.Workpackages=[],this.Phases=[],this.OnGetItemsDone_Funcs=[],this.isHavePhase=!1,this.GetRefinedWorkpackages=function(t){var e=[];return t.forEach((function(t,n,i){0===i.filter((function(e){return e!==t&&e.LowerList.includes(t)})).length&&e.push(t)})),e},this.GetMassData=function(){var t,n,i=Ee.Instance.Workpackage_Dict;i.IsDataChanged&&i.RefreshData(),e.Workpackages=e.GetRefinedWorkpackages(e.Workpackages),t=e.ApiData,n=function(t){e.MassItem_Dict.InputWorkpackages=e.Workpackages,e.MassItem_Dict.Items=t,e.GetItemsDone=!0},G("https://api.bimdev.vn/api/hbmr/list",t).then((function(t){return t.data})).then((function(t){var e=t.map((function(t){return Ft(t)}));n&&n(e)}))}}return Object(o.a)(t,[{key:"ApiData",get:function(){return function(t){var e=[];return t.Workpackages.forEach((function(t,n){return e.push.apply(e,t.LowerIds)})),e=e.filter((function(t,e,n){return n.indexOf(t)===e})),{projectIds:t.Projects.map((function(t){return t._id})),workpackageIds:e,phaseIds:t.IsHavePhase?t.Phases.map((function(t){return t._id})):void 0}}(this)}},{key:"MassItem_Dict",get:function(){return this.massItem_Dict||(this.massItem_Dict=new bt),this.massItem_Dict}},{key:"GetItemsDone",set:function(t){this.OnGetItemsDone_Funcs.forEach((function(t){return t()}))}},{key:"IsHavePhase",get:function(){return this.isHavePhase},set:function(t){this.isHavePhase=t,this.MassItem_Dict.MassTable.ColumnField=t?P:W}}]),t}(),Pt=function(){function t(){Object(c.a)(this,t),this.OnGetExportSetVersions_Func=[]}return Object(o.a)(t,[{key:"ExportSetVersions",get:function(){return this.exportSetVersions},set:function(t){this.exportSetVersions=t,this.exportSetVersionIds=t.map((function(t){return t._id}))}},{key:"GetExportSetVersions",set:function(t){this.OnGetExportSetVersions_Func.forEach((function(t){return t()}))}}]),t}(),Lt=function(t,e){if(t){var n=new Pt;return n._id=t._id,n.Name=t.name,n.Description=t.description,n.Dict=e,Et(t._id,(function(t){n.ExportSetVersions=t,n.GetExportSetVersions=!0})),n}},Et=function(t,e){var n="https://api.bimdev.vn/api/hbesv/byphase?phaseId=".concat(t);T(n).then((function(t){return t.data})).then((function(t){e&&e(t)}))},At=function(){function t(){var e=this;Object(c.a)(this,t),this.OnGetItemsDone_Funcs=[],this.Add=function(t){e.Items.push(t),e.OnAdd&&e.OnAdd(t)},this.AddMassVersion=function(){var t=e.Input.ApiData;_("".concat("https://api.bimdev.vn/api/hbphase","/mass/add"),t).then((function(t){return t.data})).then((function(t){var n=Lt(t,e);e.Add(n),w.b.success("create version successfully!")}))}}return Object(o.a)(t,[{key:"GetItemsDone",set:function(t){this.OnGetItemsDone_Funcs.forEach((function(t){return t()}))}},{key:"Input",get:function(){return this.input||(this.input=Bt(this)),this.input}}]),t}(),Rt=function(){function t(){Object(c.a)(this,t)}return Object(o.a)(t,[{key:"ApiData",get:function(){return{projectId:this.Dict.Dict._id,name:this.Name,description:this.Description}}}]),t}(),Ht=function(t){var e=new At;return e.Dict=t,function(t,e){var n="https://api.bimdev.vn/api/hbphase/list?projectId=".concat(t);T(n).then((function(t){return t.data})).then((function(t){e&&e(t)}))}(t._id,(function(t){e.Items=t.map((function(t){return Lt(t,e)})),e.GetItemsDone=!0})),e},Bt=function(t){return function(t){var e=new Rt;return e.Dict=t,e.Name="Version 1",e.Description="m\xf4 t\u1ea3 phi\xean b\u1ea3n",e}(t)},Ut=function(){function t(){Object(c.a)(this,t)}return Object(o.a)(t,[{key:"Phase_Dict",get:function(){return this.phase_Dict||(this.phase_Dict=Ht(this)),this.phase_Dict}}]),t}(),qt=function(t,e){if(t){var n=new Ut;return n._id=t._id,n.Name=t.name,n.Code=t.code,n.Dict=e,n}},zt=function(){function t(){var e,n,i=this;Object(c.a)(this,t),e=this,n=function(t){i.Items=t,i.GetItemsDone=!0},T("https://api.bimdev.vn/api/hbp/list").then((function(t){return t.data})).then((function(t){var i=t.map((function(t){return qt(t,e)}));n&&n(i)}))}return Object(o.a)(t,[{key:"GetItemsDone",set:function(t){this.OnGetItemsDone&&this.OnGetItemsDone(t)}}]),t}(),Kt=function(){function t(){var e=this;Object(c.a)(this,t),this.Delete=function(){var t=e._id;_("https://api.bimdev.vn/api/hbs/delete",{_id:t}).then((function(t){return t.data})).then((function(t){return w.b.success("Delete setting successfully")})),e.Dict.Items.splice(e.Index,1),e.OnDelete&&e.OnDelete(),e.Dict.Input.EditItemId=void 0}}return Object(o.a)(t,[{key:"Name",get:function(){return this.name},set:function(t){this.name=t,this.OnNameChanged&&this.OnNameChanged(t)}},{key:"Description",get:function(){return this.description},set:function(t){this.description=t,this.OnDescriptionChanged&&this.OnDescriptionChanged(t)}},{key:"Data",get:function(){return this.data},set:function(t){this.data=t,this.OnDataChanged&&this.OnDataChanged(t)}},{key:"Index",get:function(){return this.Dict.Items.indexOf(this)}}]),t}(),Jt=function(t){Object(u.a)(n,t);var e=Object(h.a)(n);function n(){return Object(c.a)(this,n),e.apply(this,arguments)}return n}(Kt),Qt=function(){function t(){Object(c.a)(this,t)}return Object(o.a)(t,[{key:"ApiData",get:function(){return Xt(this)}}]),t}(),Xt=function(t){return{categoryFilter:t.CategoryFilter.ApiData,familyFilter:t.IsHaveFamilyFilter?t.FamilyFilter.ApiData:void 0}},Yt=function(t,e){var n=new Jt;return n._id=t._id,n.Name=t.name,n.Description=t.description,n.SettingType=t.settingType,n.Data=function(t){var e=new Qt;return e.CategoryFilter=dt(t.categoryFilter),e}(t.data),n.Dict=e,n},Zt="elementfilter",$t="massexport",te="massgroup",ee=function(){function t(){var e=this;Object(c.a)(this,t),this.GetData=function(){if(e.OnGetData)return e.OnGetData()},this.isNew=!0,this.AddDatabase=function(){var t=e.EditItemId,n=e.Name,i=e.Description,s=e.SettingType,r=e.Data.ApiData,a=e.UrlPrefix,c={_id:t,name:n,description:i,settingType:s,data:r},o="https://api.bimdev.vn/api/hbs/".concat(a);(t?_("".concat(o,"/edit"),c):G("".concat(o,"/add"),c)).then((function(t){return t.data})).then((function(t){e.AddDatabaseDone=!0,e.NewItem=e.GetEditItem(t,e.Dict),e.Dict.Update()}))}}return Object(o.a)(t,[{key:"Data",get:function(){return this.data||(this.data=this.GetData()),this.data},set:function(t){this.data=t}},{key:"EditItem",get:function(){return this.editItem},set:function(t){this.editItem=t,this.EditItemId=t?t._id:void 0}},{key:"IsNew",get:function(){return this.isNew},set:function(t){this.isNew=t,t&&(this.EditItem=void 0)}},{key:"UrlPrefix",get:function(){return this.urlPrefix||(this.urlPrefix=function(t){var e=void 0;switch(t.SettingType){case Zt:e="ef";break;case $t:e="me";break;case te:e="mg"}return e}(this)),this.urlPrefix}},{key:"AddDatabaseDone",set:function(t){this.OnAddDatabaseDone&&this.OnAddDatabaseDone(t)}}]),t}(),ne=function(t){Object(u.a)(n,t);var e=Object(h.a)(n);function n(){var t;Object(c.a)(this,n);for(var i=arguments.length,s=new Array(i),r=0;r<i;r++)s[r]=arguments[r];return(t=e.call.apply(e,[this].concat(s))).GetEditItem=function(t,e){return Yt(t,e)},t}return n}(ee),ie=function(t){var e=new ne;return e.Dict=t,e.Name="B\u1ed9 l\u1ecdc c\u1ed9t",e.Description="m\xf4 t\u1ea3 b\u1ed9 l\u1ecdc",e.SettingType=Zt,e.OnGetData=function(){return function(){var t=new Qt,e=new nt;e.CategoryType=it,e.ValueType=at,e.StringFilterType=ot,e.Values=["Floors"],t.CategoryFilter=e,t.IsHaveFamilyFilter=!1;var n=new nt;return n.CategoryType=st,n.ValueType=at,n.StringFilterType=ot,n.Values=[],t.FamilyFilter=n,t}()},e},se=function(){function t(){var e,n,i=this;Object(c.a)(this,t),this.Add=function(t){i.Items.push(t),i.OnAdd&&i.OnAdd(t)},this.Update=function(){var t=i.Input;if(t.IsNew)i.Add(t.NewItem);else{var e=t.EditItem;q(e,(function(){e.Name=t.Name,e.Description=t.Description,e.Data=t.Data}))}},e=this,n=function(t){i.Items=t,i.GetItemsDone=!0},T("https://api.bimdev.vn/api/hbs/ef/list").then((function(t){return t.data})).then((function(t){var i=t.map((function(t){return Yt(t,e)}));n&&n(i)}))}return Object(o.a)(t,[{key:"GetInput",value:function(){return ie(this)}},{key:"GetItemsDone",set:function(t){this.OnGetItemsDone&&this.OnGetItemsDone(t)}},{key:"Input",get:function(){return this.input||(this.input=this.GetInput()),this.input}}]),t}(),re=function(){function t(){var e=this;Object(c.a)(this,t),this.Delete=function(){e.Dict.ValueSettings.splice(e.Index,1)}}return Object(o.a)(t,[{key:"Index",get:function(){return this.Dict.ValueSettings.indexOf(this)}},{key:"Workpackage",get:function(){return this.workpackage||(this.workpackage=ue(this)),this.workpackage},set:function(t){this.workpackage=t,this.workpackageId=t?t._id:void 0}},{key:"ApiData",get:function(){return he(this)}}]),t}(),ae="byparameter",ce=function(t,e){var n=new re;return n.RetrieveType=t.RetrieveType,n.MassType=t.MassType,n.ValueFilter=t.ValueFilter,n.Workpackage=t.Workpackage,n.Dict=e,n},oe=function(t){var e=new re;e.RetrieveType=ae,e.Dict=t;var n=new nt;return n.CategoryType=rt,n.ValueType=at,n.StringFilterType=ot,n.Values=["Volume"],e.ValueFilter=n,e},ue=function(t){var e=t.workpackageId;if(e){var n=Ee.Instance.Workpackage_Dict.Workpackages;if(n){var i=n.findIndex((function(t){return t._id===e}));return-1!==i?n[i]:void 0}}},he=function(t){return{retrieveType:t.RetrieveType,massType:t.MassType,valueFilter:t.ValueFilter.ApiData,workpackageId:t.workpackageId}},le=function(){function t(){var e=this;Object(c.a)(this,t),this.AddNewValueSetting=function(){var t=e.ValueSettings,n=oe(e);return t.push(n),n}}return Object(o.a)(t,[{key:"ElementFilter",get:function(){return this.elementFilter||(this.elementFilter=fe(this)),this.elementFilter},set:function(t){this.elementFilter=t,this.elementFilterId=t?t._id:void 0}},{key:"ValueSettings",get:function(){return this.valueSettings||(this.valueSettings=de(this)),this.valueSettings},set:function(t){this.valueSettings=t}},{key:"ApiData",get:function(){return me(this)}}]),t}(),pe=function(t){var e=new le;return e.elementFilterId=t.elementFilterId,e.ValueSettings=t.exportSettings.map((function(t){return function(t,e){var n=new re;return n.RetrieveType=t.retrieveType,n.MassType=t.massType,n.ValueFilter=dt(t.valueFilter,rt),n.workpackageId=t.workpackageId,n.Dict=e,n}(t,e)})),e},fe=function(t){var e=t.elementFilterId;if(e){var n=Ee.Instance.ElementFilterSetting_Dict.Items;if(n){var i=n.findIndex((function(t){return t._id===e}));return-1!==i?n[i]:void 0}}},de=function(t){return[oe(t)]},me=function(t){return{elementFilterId:t.elementFilterId,exportSettings:t.ValueSettings.map((function(t){return t.ApiData}))}},ge=function(t){Object(u.a)(n,t);var e=Object(h.a)(n);function n(){return Object(c.a)(this,n),e.apply(this,arguments)}return n}(Kt),ke=function(t,e){var n=new ge;return n._id=t._id,n.Name=t.name,n.Description=t.description,n.SettingType=t.settingType,n.Data=pe(t.data),n.Dict=e,n},Ie=function(t){Object(u.a)(n,t);var e=Object(h.a)(n);function n(){var t;Object(c.a)(this,n);for(var i=arguments.length,s=new Array(i),r=0;r<i;r++)s[r]=arguments[r];return(t=e.call.apply(e,[this].concat(s))).GetEditItem=function(t,e){return ke(t,e)},t}return n}(ee),ve=function(t){var e=new Ie;return e.Dict=t,e.Name="B\xeat\xf4ng s\xe0n",e.Description="m\xf4 t\u1ea3 thi\u1ebft l\u1eadp",e.SettingType=$t,e.OnGetData=function(){return new le},e},Me=function(){function t(){var e,n,i=this;Object(c.a)(this,t),this.Add=function(t){i.Items.push(t),i.OnAdd&&i.OnAdd(t)},this.Update=function(){var t=i.Input;if(t.IsNew)i.Add(t.NewItem);else{var e=t.EditItem;q(e,(function(){e.Name=t.Name,e.Description=t.Description,e.Data=t.Data}))}},e=this,n=function(t){i.Items=t,i.GetItemsDone=!0},T("https://api.bimdev.vn/api/hbs/me/list").then((function(t){return t.data})).then((function(t){var i=t.map((function(t){return ke(t,e)}));n&&n(i)}))}return Object(o.a)(t,[{key:"GetInput",value:function(){return ve(this)}},{key:"GetItemsDone",set:function(t){this.OnGetItemsDone&&this.OnGetItemsDone(t)}},{key:"Input",get:function(){return this.input||(this.input=this.GetInput()),this.input}}]),t}(),je=function(){function t(){var e=this;Object(c.a)(this,t),this.AddNewField=function(){var t=Ee.Instance.MassPropertyNames[0];return e.Fields.push(t),t}}return Object(o.a)(t,[{key:"Fields",get:function(){return this.fields||(this.fields=be(this)),this.fields},set:function(t){this.fields=t}},{key:"ApiData",get:function(){return Ve(this)}}]),t}(),ye="Category",be=function(){return[ye]},Ve=function(t){return{fields:t.Fields}},Oe=function(t){Object(u.a)(n,t);var e=Object(h.a)(n);function n(){return Object(c.a)(this,n),e.apply(this,arguments)}return n}(Kt),De=function(t,e){var n=new Oe;return n._id=t._id,n.Name=t.name,n.Description=t.description,n.SettingType=t.settingType,n.Data=function(t){var e=new je;return e.Fields=t.fields,e}(t.data),n.Dict=e,n},Se=function(t){Object(u.a)(n,t);var e=Object(h.a)(n);function n(){var t;Object(c.a)(this,n);for(var i=arguments.length,s=new Array(i),r=0;r<i;r++)s[r]=arguments[r];return(t=e.call.apply(e,[this].concat(s))).GetEditItem=function(t,e){return De(t,e)},t}return n}(ee),Ce=function(t){var e=new Se;return e.Dict=t,e.Name="Nh\xf3m kl Ki\u1ebfn tr\xfac",e.Description="m\xf4 t\u1ea3 nh\xf3m kh\u1ed1i l\u01b0\u1ee3ng",e.SettingType=te,e.OnGetData=function(){return new je},e},we=function(){function t(){var e,n,i=this;Object(c.a)(this,t),this.Add=function(t){i.Items.push(t),i.OnAdd&&i.OnAdd(t)},this.Update=function(){var t=i.Input;if(t.IsNew)i.Add(t.NewItem);else{var e=t.EditItem;q(e,(function(){e.Name=t.Name,e.Description=t.Description,e.Data=t.Data}))}},e=this,n=function(t){i.Items=t,i.GetItemsDone=!0},T("https://api.bimdev.vn/api/hbs/mg/list").then((function(t){return t.data})).then((function(t){var i=t.map((function(t){return De(t,e)}));n&&n(i)}))}return Object(o.a)(t,[{key:"GetInput",value:function(){return Ce(this)}},{key:"GetItemsDone",set:function(t){this.OnGetItemsDone&&this.OnGetItemsDone(t)}},{key:"Input",get:function(){return this.input||(this.input=this.GetInput()),this.input}}]),t}(),Fe=function t(){Object(c.a)(this,t)},xe=function(){function t(){Object(c.a)(this,t)}return Object(o.a)(t,[{key:"Items",get:function(){return this.items||(this.items=function(t){var e=[],n=new Fe;n.Color="#1956c9";var i=new nt;return i.ValueType=ct,i.NumberFilterType=lt,i.Values=[.8],n.Filter=i,e.push(n),(n=new Fe).Color="#3f79d6",(i=new nt).ValueType=ct,i.NumberFilterType=ft,i.IsEqualLeft=!0,i.Values=[.8,.85],n.Filter=i,e.push(n),(n=new Fe).Color="#6f9fe9",(i=new nt).ValueType=ct,i.NumberFilterType=ft,i.IsEqualLeft=!0,i.Values=[.85,.9],n.Filter=i,e.push(n),(n=new Fe).Color="#a5c2f2",(i=new nt).ValueType=ct,i.NumberFilterType=ft,i.IsEqualLeft=!0,i.Values=[.9,.95],n.Filter=i,e.push(n),(n=new Fe).Color="#c9d9f6",(i=new nt).ValueType=ct,i.NumberFilterType=ft,i.IsEqualLeft=!0,i.Values=[.95,1],n.Filter=i,e.push(n),(n=new Fe).Color="#f3cccc",(i=new nt).ValueType=ct,i.NumberFilterType=ft,i.IsEqualRight=!0,i.Values=[1,1.05],n.Filter=i,e.push(n),(n=new Fe).Color="#e9999a",(i=new nt).ValueType=ct,i.NumberFilterType=ft,i.IsEqualRight=!0,i.Values=[1.05,1.1],n.Filter=i,e.push(n),(n=new Fe).Color="#de6568",(i=new nt).ValueType=ct,i.NumberFilterType=ft,i.IsEqualRight=!0,i.Values=[1.1,1.15],n.Filter=i,e.push(n),(n=new Fe).Color="#c90010",(i=new nt).ValueType=ct,i.NumberFilterType=ft,i.IsEqualRight=!0,i.Values=[1.15,1.2],n.Filter=i,e.push(n),(n=new Fe).Color="#980009",(i=new nt).ValueType=ct,i.NumberFilterType=pt,i.Values=[1.2],n.Filter=i,e.push(n),e}()),this.items}}]),t}(),Ne=function(){function t(){var e=this;Object(c.a)(this,t),this.Description="m\xf4 t\u1ea3 c\xf4ng t\xe1c",this.isNew=!0,this.AddDatabase=function(){var t=e.WorkpackageId,n=e.Code,i=e.Name,s=e.Description,r=e.SupId,a={_id:t,name:i,code:n,description:s,supId:r},c="https://api.bimdev.vn/api/hbwp";(t?_("".concat(c,"/edit"),a):G("".concat(c,"/add"),a)).then((function(t){return t.data})).then((function(t){e.AddDatabaseDone=!0,e.NewWorkpackage=He(t,e.Dict),e.Dict.Update()}))}}return Object(o.a)(t,[{key:"IsNew",get:function(){return this.isNew},set:function(t){this.isNew=t,t&&(this.Workpackage=void 0)}},{key:"Workpackage",get:function(){return this.workpackage},set:function(t){this.workpackage=t,this.WorkpackageId=t?t._id:void 0}},{key:"SupItem",get:function(){return this.supItem},set:function(t){this.supItem=t,this.SupId=t?t._id:void 0}},{key:"AddDatabaseDone",set:function(t){this.OnAddDatabaseDone&&this.OnAddDatabaseDone(t)}}]),t}(),Te=function(){function t(){var e=this;Object(c.a)(this,t),this.Add=function(t){e.Workpackages.push(t),e.OnAdd&&e.OnAdd(t)},this.Update=function(){var t=e.WorkpackageInput,n=t.Workpackage;if(t.IsNew)e.Add(t.NewWorkpackage);else{q(n,(function(){n.Code=t.Code,n.Name=t.Name,n.Description=t.Description,n.FullName=n.GetFullName()}))}e.IsDataChanged=!0},this.RefreshData=function(){e.Workpackages.forEach((function(t){t.SubItems=void 0,t.UpperList=void 0,t.LowerList=void 0,t.Rank=void 0})),e.IsDataChanged=!1},Je(this,(function(t){e.Workpackages=t,e.GetWorkpackagesDone=!0}))}return Object(o.a)(t,[{key:"GetWorkpackagesDone",set:function(t){this.OnGetWorkpackagesDone&&this.OnGetWorkpackagesDone(t)}},{key:"WorkpackageInput",get:function(){this.workpackageInput||((this.workpackageInput=new Ne).Dict=this);return this.workpackageInput}}]),t}(),_e=function(t){return[at,ct]},Ge=function(t){return[ot,ut,"bynotcontain"]},We=function(t){return[ae,"bymaterial","byrebar"]},Pe=function(t){return["Discipline",ye]},Le=function(t){return[Dt,St,Ct]},Ee=function(){function t(){Object(c.a)(this,t)}return Object(o.a)(t,[{key:"categoryData",get:function(){return et.Instance}},{key:"Workpackage_Dict",get:function(){return this.workpackage_Dict||(this.workpackage_Dict=new Te),this.workpackage_Dict}},{key:"ElementFilterSetting_Dict",get:function(){return this.elementFilterSetting_Dict||(this.elementFilterSetting_Dict=new se),this.elementFilterSetting_Dict}},{key:"MassExportSetting_Dict",get:function(){return this.massExportSetting_Dict||(this.massExportSetting_Dict=new Me),this.massExportSetting_Dict}},{key:"MassGroupSetting_Dict",get:function(){return this.massGroupSetting_Dict||(this.massGroupSetting_Dict=new we),this.massGroupSetting_Dict}},{key:"Project_Dict",get:function(){return this.project_Dict||(this.project_Dict=new zt),this.project_Dict}},{key:"MassResultComp",get:function(){return this.massResultComp||(this.massResultComp=new Wt),this.massResultComp},set:function(t){this.massResultComp=t}},{key:"FilterValueTypes",get:function(){return this.filterValueTypes||(this.filterValueTypes=_e()),this.filterValueTypes}},{key:"StringFilterTypes",get:function(){return this.stringFilterTypes||(this.stringFilterTypes=Ge()),this.stringFilterTypes}},{key:"ValueRetrieveTypes",get:function(){return this.valueRetrieveTypes||(this.valueRetrieveTypes=We()),this.valueRetrieveTypes}},{key:"CategoryNames",get:function(){return this.categoryNames||(this.categoryNames=this.categoryData.CategoryNames),this.categoryNames}},{key:"ParameterNames",get:function(){return this.parameterNames||(this.parameterNames=["Volume","HB_Formwork_Total"]),this.parameterNames}},{key:"MassPropertyNames",get:function(){return this.massPropertyNames||(this.massPropertyNames=Pe()),this.massPropertyNames}},{key:"MassTypes",get:function(){return this.massTypes||(this.massTypes=Le()),this.massTypes}},{key:"VersionCompareSetting",get:function(){return this.versionCompareSetting||(this.versionCompareSetting=new xe),this.versionCompareSetting}}],[{key:"Instance",get:function(){return this.instance||(this.instance=new t),this.instance}}]),t}(),Ae=function(){function t(){var e=this;Object(c.a)(this,t),this.GetFullName=function(){return"".concat(e.Code," - ").concat(e.Name)},this.Delete=function(){var t=e._id;_("https://api.bimdev.vn/api/hbwp/delete",{_id:t}).then((function(t){return t.data})).then((function(t){return w.b.success("Delete workpackage successfully")}));var n=e.Dict;n.Workpackages.splice(e.Index,1),e.OnDelete&&e.OnDelete(),n.IsDataChanged=!0}}return Object(o.a)(t,[{key:"Index",get:function(){return this.Dict.Workpackages.indexOf(this)}},{key:"SupItem",get:function(){return this.supItem||(this.supItem=Be(this)),this.supItem}},{key:"Code",get:function(){return this.code},set:function(t){this.code=t,this.OnCodeChanged&&this.OnCodeChanged(t)}},{key:"Name",get:function(){return this.name},set:function(t){this.name=t,this.OnNameChanged&&this.OnNameChanged(t)}},{key:"Description",get:function(){return this.description},set:function(t){this.description=t,this.OnDescriptionChanged&&this.OnDescriptionChanged(t)}},{key:"FullName",get:function(){return this.fullName||(this.fullName=this.GetFullName()),this.fullName},set:function(t){this.fullName=t,this.OnFullNameChanged&&this.OnFullNameChanged(t)}},{key:"SubItems",get:function(){return this.subItems||(this.subItems=Ue(this)),this.subItems},set:function(t){this.subItems=t}},{key:"UpperList",get:function(){return this.upperList||(this.upperList=qe(this)),this.upperList},set:function(t){this.upperList=t}},{key:"LowerList",get:function(){return this.lowerList||(this.lowerList=ze(this)),this.lowerList},set:function(t){this.lowerList=t}},{key:"Rank",get:function(){return this.rank||(this.rank=Ke(this)),this.rank},set:function(t){this.rank=t}},{key:"LowerIds",get:function(){return this.LowerList.map((function(t){return t._id}))}}]),t}(),Re=function(){return Ee.Instance},He=function(t,e){var n=t._id,i=t.name,s=t.code,r=t.description,a=t.supId,c=new Ae;return c._id=n,c.Name=i,c.Code=s,c.Description=r,c.SupId=a,c.Dict=e,c},Be=function(t){var e=t.SupId,n=Re().Workpackage_Dict.Workpackages,i=n.findIndex((function(t){return t._id===e}));return-1!==i?n[i]:void 0},Ue=function(t){var e=t._id;return Re().Workpackage_Dict.Workpackages.filter((function(n){return n!==t&&n.SupId===e}))},qe=function(t){var e=t.SupItem;if(e){var n=Object(b.a)(e.UpperList);return n.push(t),n}return[t]},ze=function(t){var e=[t];return t.SubItems.forEach((function(t,n){e.push.apply(e,t.LowerList)})),e},Ke=function(t){var e=t.SupItem;return e?e.Rank+1:0},Je=function(t,e){T("https://api.bimdev.vn/api/hbwp/list").then((function(t){return t.data})).then((function(n){var i=n.map((function(e){return He(e,t)}));e&&e(i)}))},Qe=function(){function t(){var e=this;Object(c.a)(this,t),this.code=void 0,this.name=void 0,this.description=void 0,this.fullName=void 0,this.Delete=function(){e.Dict.WorkpackageVMs.splice(e.Index,1)},this.AsString=function(){console.log(e.Name,e.Code,e.Description)},Object(I.k)(this,{fullName:I.l})}return Object(o.a)(t,[{key:"Index",get:function(){return this.Dict.WorkpackageVMs.indexOf(this)}},{key:"M2VM",get:function(){return this.Workpackage.M2VM},set:function(t){this.Workpackage.M2VM=t}},{key:"SupItem",get:function(){return this.supItem||(this.supItem=Mi(this)),this.supItem}},{key:"Code",get:function(){return this.code||(this.code=this.Workpackage.Code),this.code},set:function(t){this.code=t,this.M2VM||(this.Workpackage.Code=t)}},{key:"Name",get:function(){return this.name||(this.name=this.Workpackage.Name),this.name},set:function(t){this.name=t,this.M2VM||(this.Workpackage.Name=t)}},{key:"Description",get:function(){return this.description||(this.description=this.Workpackage.Description),this.description},set:function(t){this.description=t,this.M2VM||(this.Workpackage.Description=t)}},{key:"FullName",get:function(){return this.fullName||(this.fullName=this.Workpackage.FullName),this.fullName},set:function(t){this.fullName=t}},{key:"SearchName",get:function(){return this.FullName}},{key:"DisplayContent",get:function(){return this.FullName}},{key:"CodeVM",get:function(){var t=this;this.codeVM||((this.codeVM=M(this.Code,"m\xe3 code")).onSetContent=function(e){return t.Code=e});return this.codeVM}},{key:"NameVM",get:function(){var t=this;this.nameVM||((this.nameVM=M(this.Name,"t\xean c\xf4ng t\xe1c")).onSetContent=function(e){return t.Name=e});return this.nameVM}},{key:"DescriptionVM",get:function(){var t=this;this.descriptionVM||((this.descriptionVM=M(this.Description,"m\xf4 t\u1ea3")).onSetContent=function(e){return t.Description=e});return this.descriptionVM}}]),t}(),Xe=function(){function t(){var e=this;Object(c.a)(this,t),this.items=void 0,this.Add=function(t){e.Items.push(t)},Object(I.k)(this,{items:I.l})}return Object(o.a)(t,[{key:"M2VM",get:function(){return this.ModelItem.M2VM},set:function(t){this.ModelItem.M2VM=t}},{key:"GetItemsDone",set:function(t){this.OnGetItemsDone&&this.OnGetItemsDone(t)}},{key:"Items",get:function(){return this.items||(this.items=dn(this)),this.items}},{key:"CurrentItem",get:function(){return this.currentItem||(this.currentItem=this.ModelItem.CurrentItem),this.currentItem},set:function(t){this.currentItem=t,t?(this.ModelItem.CurrentItem=t.ModelItem,this.Input.EditItem=t):this.ModelItem.CurrentItem=t}},{key:"Input",get:function(){return this.input||(this.input=mn(this)),this.input}}]),t}(),Ye=function(){function t(){var e=this;Object(c.a)(this,t),this.name=void 0,this.GetDataVM=function(){if(e.OnGetDataVM)return e.OnGetDataVM()},this.Delete=function(){e.Dict.Items.splice(e.Index,1)},Object(I.k)(this,{name:I.l})}return Object(o.a)(t,[{key:"M2VM",get:function(){return this.ModelItem.M2VM},set:function(t){this.ModelItem.M2VM=t}},{key:"Name",get:function(){return this.name||(this.name=this.ModelItem.Name),this.name},set:function(t){this.name=t,this.M2VM||(this.ModelItem.Name=t)}},{key:"Description",get:function(){return this.description||(this.description=this.ModelItem.Description),this.description},set:function(t){this.description=t,this.M2VM||(this.ModelItem.Description=t)}},{key:"SettingType",get:function(){return this.settingType||(this.settingType=this.ModelItem.SettingType),this.settingType},set:function(t){this.settingType=t,this.ModelItem.SettingType=t}},{key:"SearchName",get:function(){return this.Name}},{key:"DisplayContent",get:function(){return this.Name}},{key:"Data",get:function(){return this.data||(this.data=this.ModelItem.Data),this.data},set:function(t){this.data=t,this.M2VM||(this.ModelItem.Data=t)}},{key:"DataVM",get:function(){return this.dataVM||(this.dataVM=this.GetDataVM()),this.dataVM},set:function(t){this.dataVM=t,t&&this.OnInitialSetDataVM&&this.OnInitialSetDataVM(t),this.M2VM||(this.Data=t?t.ModelItem:t)}},{key:"Index",get:function(){return this.Dict.Items.indexOf(this)}}]),t}(),Ze=function(t){Object(u.a)(n,t);var e=Object(h.a)(n);function n(){var t;Object(c.a)(this,n);for(var i=arguments.length,s=new Array(i),r=0;r<i;r++)s[r]=arguments[r];return(t=e.call.apply(e,[this].concat(s))).OnInitialSetDataVM=function(t){var e=t.CategoryFilterVM;e&&e.OnInitialData();var n=t.FamilyFilterVM;n&&n.OnInitialData()},t}return n}(Ye),$e=function(){function t(){var e=this;Object(c.a)(this,t),this.items=void 0,this.initialItem=void 0,this.GetInitialIndex=function(){var t=e.Items.indexOf(e.InitialItem);return-1!==t?t:null},this.selectedIndex=void 0,this.GetSelectedItem=function(){var t=e.SelectedIndex;if(-1!==t)return e.Items[t]},this.CanClear=!1,this.Clear=function(){e.SelectedIndex=null},Object(I.k)(this,{items:I.l,selectedIndex:I.l,CanClear:I.l})}return Object(o.a)(t,[{key:"Items",get:function(){return this.items||(this.items=[]),this.items},set:function(t){this.items=t}},{key:"InitialItem",get:function(){return this.initialItem},set:function(t){this.initialItem=t,this.InitialIndex=this.GetInitialIndex(),this.SelectedIndex=this.InitialIndex}},{key:"InitialIndex",get:function(){return this.initialIndex||(this.initialIndex=this.GetInitialIndex()),this.initialIndex},set:function(t){this.initialIndex=t}},{key:"SelectedIndex",get:function(){return this.selectedIndex},set:function(t){this.selectedIndex=t,this.SelectedItem=this.GetSelectedItem()}},{key:"SelectedItem",get:function(){return this.selectedItem||(this.selectedItem=this.GetSelectedItem()),this.selectedItem},set:function(t){this.selectedItem=t,this.OnSelectedItemChanged&&this.OnSelectedItemChanged(t)}},{key:"Placeholder",get:function(){return this.placeholder||(this.placeholder="ch\u1ecdn \u0111\u1ed1i t\u01b0\u1ee3ng ..."),this.placeholder},set:function(t){this.placeholder=t}},{key:"DivStyle",get:function(){return this.CanClear?{position:"relative",padding:"0 22px 0 0"}:{}}}]),t}(),tn=function(t,e){var n=new $e;return n.Items=t,n.InitialItem=e,n},en=function(){function t(){var e=this;Object(c.a)(this,t),this.items=void 0,this.GetInitialIndexs=function(){var t=e.InitialItems;return t?t.map((function(t){return e.Items.indexOf(t)})).filter((function(t){return-1!==t})):[]},this.selectedIndexs=[],this.GetSelectedItems=function(){return e.SelectedIndexs.map((function(t){return e.Items[t]}))},Object(I.k)(this,{items:I.l,selectedIndexs:I.l})}return Object(o.a)(t,[{key:"Items",get:function(){return this.items},set:function(t){this.items=t}},{key:"InitialItems",get:function(){return this.initialItems},set:function(t){this.initialItems=t,this.InitialIndexs=this.GetInitialIndexs(),this.SelectedIndexs=this.InitialIndexs}},{key:"InitialIndexs",get:function(){return this.initialIndexs||(this.initialIndexs=this.GetInitialIndexs()),this.initialIndexs},set:function(t){this.initialIndexs=t}},{key:"SelectedIndexs",get:function(){return this.selectedIndexs},set:function(t){this.selectedIndexs=t,this.SelectedItems=this.GetSelectedItems()}},{key:"SelectedItems",get:function(){return this.selectedItems||(this.selectedItems=this.GetSelectedItems()),this.selectedItems},set:function(t){this.selectedItems=t,this.OnSelectedItemChanged&&this.OnSelectedItemChanged(t)}},{key:"Placeholder",get:function(){return this.placeholder||(this.placeholder="ch\u1ecdn \u0111\u1ed1i t\u01b0\u1ee3ng ..."),this.placeholder},set:function(t){this.placeholder=t}}]),t}(),nn=function(t,e){var n=new en;return n.Items=t,n.InitialItems=e,n},sn=function(){function t(){var e=this;Object(c.a)(this,t),this.SetData=function(t){if(t){var n=t.ValueType,i=(t.NumberFilterType,t.StringFilterType),s=t.Values;e.ValueTypeSelectVM.InitialItem=n,e.StringFilterTypeSelectVM.InitialItem=i,e.ValuesSelectVM.InitialItems=s}},this.OnInitialData=function(){e.ValueType,e.NumberFilterType,e.StringFilterType,e.Values},Object(I.k)(this,{})}return Object(o.a)(t,[{key:"pmDataVM",get:function(){return Ii.Instance}},{key:"ValueType",get:function(){return this.valueType||(this.valueType=this.ModelItem.ValueType),this.valueType},set:function(t){this.valueType=t,this.ModelItem.ValueType=t}},{key:"NumberFilterType",get:function(){return this.numberFilterType||(this.numberFilterType=this.ModelItem.NumberFilterType),this.numberFilterType},set:function(t){this.numberFilterType=t,this.ModelItem.NumberFilterType=t}},{key:"StringFilterType",get:function(){return this.stringFilterType||(this.stringFilterType=this.ModelItem.StringFilterType),this.stringFilterType},set:function(t){this.stringFilterType=t,this.ModelItem.StringFilterType=t}},{key:"Values",get:function(){return this.values||(this.values=this.ModelItem.Values),this.values},set:function(t){this.values=t,this.ModelItem.Values=t}},{key:"ValueStorageList",get:function(){return this.valueStorageList||(this.valueStorageList=this.ModelItem.ValueStorageList),this.valueStorageList}},{key:"ValueTypeSelectVM",get:function(){var t=this;this.valueTypeSelectVM||((this.valueTypeSelectVM=tn(this.pmDataVM.FilterValueTypes,this.ValueType)).OnSelectedItemChanged=function(e){t.ValueType=e});return this.valueTypeSelectVM}},{key:"StringFilterTypeSelectVM",get:function(){var t=this;this.stringFilterTypeSelectVM||((this.stringFilterTypeSelectVM=tn(this.pmDataVM.StringFilterTypes,this.StringFilterType)).OnSelectedItemChanged=function(e){t.StringFilterType=e});return this.stringFilterTypeSelectVM}},{key:"ValuesSelectVM",get:function(){var t=this;if(!this.valuesSelectVM){var e=this.valuesSelectVM=nn(this.ValueStorageList,this.Values);this.ValueSelectPlaceholder&&(e.Placeholder=this.ValueSelectPlaceholder),e.OnSelectedItemChanged=function(e){t.Values=e}}return this.valuesSelectVM}}]),t}(),rn=function(t){if(t){var e=new sn;return e.ModelItem=t,e}},an=function(){function t(){Object(c.a)(this,t),this.ischecked=void 0,this.isDisable=!1,Object(I.k)(this,{ischecked:I.l,isDisable:I.l})}return Object(o.a)(t,[{key:"Ischecked",set:function(t){this.ischecked=t,this.onCheckChange&&this.onCheckChange(t)}}]),t}(),cn=function(t,e){var n=new an;return n.ischecked=e,n.name=t,n},on=function(){function t(){var e=this;Object(c.a)(this,t),this.GetCategoryFilterVM=function(){var t=e.ModelItem.CategoryFilter;return rn(t)},this.isHaveFamilyFilter=void 0,this.GetFamilyFilterVM=function(){var t=e.ModelItem.FamilyFilter;return rn(t)},this.SetData=function(t){e.CategoryFilterVM.SetData(t.CategoryFilterVM);var n=!0===t.IsHaveFamilyFilter;e.IsHaveFamilyFilterVM.Ischecked=n,e.FamilyFilterVM.SetData(t.FamilyFilterVM)},Object(I.k)(this,{isHaveFamilyFilter:I.l})}return Object(o.a)(t,[{key:"CategoryFilterVM",get:function(){return!this.categoryFilterVM&&this.ModelItem&&(this.categoryFilterVM=this.GetCategoryFilterVM()),this.categoryFilterVM}},{key:"IsHaveFamilyFilter",get:function(){return this.isHaveFamilyFilter||(this.isHaveFamilyFilter=this.ModelItem.IsHaveFamilyFilter),this.isHaveFamilyFilter},set:function(t){this.isHaveFamilyFilter=t,this.ModelItem.IsHaveFamilyFilter=t}},{key:"FamilyFilterVM",get:function(){return!this.familyFilterVM&&this.ModelItem&&(this.familyFilterVM=this.GetFamilyFilterVM()),this.familyFilterVM}},{key:"IsHaveFamilyFilterVM",get:function(){var t=this;this.isHaveFamilyFilterVM||((this.isHaveFamilyFilterVM=cn("Thi\u1ebft l\u1eadp l\u1ecdc Family",this.IsHaveFamilyFilter)).onCheckChange=function(e){t.IsHaveFamilyFilter=e});return this.isHaveFamilyFilterVM}}]),t}(),un=function(t){var e=new on;return e.ModelItem=t,e},hn=function(t,e){var n=new Ze;return n.ModelItem=t,n.Dict=e,t.OnNameChanged=function(e){t.M2VM&&(n.Name=e)},t.OnDescriptionChanged=function(e){t.M2VM&&(n.Description=e)},t.OnDataChanged=function(e){t.M2VM&&(n.Data=e,n.DataVM=n.GetDataVM())},n.OnGetDataVM=function(){var e=t.Data;return un(e)},n},ln=function(t){return t.IsNew?"Create":"Edit"},pn=function(){function t(){var e=this;Object(c.a)(this,t),this.dataVM=void 0,this.GetDataVM=function(){if(e.OnGetDataVM)return e.OnGetDataVM()},this.isNew=void 0,this.commandName=void 0,this.DeleteFunc=function(){e.EditItem.ModelItem.Delete(),e.EditItem.Delete(),e.EditItem=void 0},this.AddDatabase=function(){e.ModelItem.AddDatabase()},Object(I.k)(this,{dataVM:I.l,isNew:I.l})}return Object(o.a)(t,[{key:"Name",get:function(){return this.name||(this.name=this.ModelItem.Name),this.name},set:function(t){this.name=t,this.ModelItem.Name=t}},{key:"Description",get:function(){return this.description||(this.description=this.ModelItem.Description),this.description},set:function(t){this.description=t,this.ModelItem.Description=t}},{key:"SettingType",get:function(){return this.settingType||(this.settingType=this.ModelItem.SettingType),this.settingType},set:function(t){this.settingType=t,this.ModelItem.SettingType=t}},{key:"SearchName",get:function(){return this.Name}},{key:"NameVM",get:function(){var t=this;this.nameVM||((this.nameVM=M(this.Name,"t\xean b\u1ed9 l\u1ecdc")).onSetContent=function(e){return t.Name=e});return this.nameVM}},{key:"DescriptionVM",get:function(){var t=this;this.descriptionVM||((this.descriptionVM=M(this.Description,"m\xf4 t\u1ea3")).onSetContent=function(e){return t.Description=e});return this.descriptionVM}},{key:"SettingTypeVM",get:function(){var t=this;this.settingTypeVM||((this.settingTypeVM=M(this.SettingType,"lo\u1ea1i thi\u1ebft l\u1eadp")).onSetContent=function(e){return t.SettingType=e});return this.settingTypeVM}},{key:"DataVM",get:function(){return this.dataVM||(this.dataVM=this.GetDataVM()),this.dataVM},set:function(t){this.DataVM.SetData&&this.DataVM.SetData(t)}},{key:"EditItem",get:function(){return this.editItem},set:function(t){this.editItem=t;var e=this.ModelItem;if(t){e.EditItem=t.ModelItem;var n=t.Name,i=t.Description,s=t.SettingType;this.NameVM.Content=n,this.DescriptionVM.Content=i,this.SettingTypeVM.Content=s,this.DataVM=t.DataVM,this.IsNewVM.Ischecked=!1}else e.EditItem=t,this.IsNewVM.Ischecked=!0}},{key:"IsNew",get:function(){return void 0===this.isNew&&(this.isNew=this.ModelItem.IsNew),this.isNew},set:function(t){this.isNew=t,this.CommandVM.Content=ln(this),this.ModelItem.IsNew=t}},{key:"IsNewVM",get:function(){var t=this;if(!this.isNewVM){var e=this.isNewVM=cn("Thi\u1ebft l\u1eadp m\u1edbi",this.IsNew);e.isDisable=!0,e.onCheckChange=function(n){t.IsNew=n,e.isDisable=!!n}}return this.isNewVM}},{key:"CommandName",get:function(){return this.commandName||(this.commandName=ln(this)),this.commandName},set:function(t){this.commandName=t}},{key:"CommandVM",get:function(){var t=this;this.commandVM||((this.commandVM=M(this.CommandName)).onSetContent=function(e){return t.CommandName=e});return this.commandVM}},{key:"DeleteView",get:function(){return this.IsNew?"":Object(i.jsx)(g.a,{onClick:this.DeleteFunc,children:"Delete"})}}]),t}(),fn=function(t){Object(u.a)(n,t);var e=Object(h.a)(n);function n(){return Object(c.a)(this,n),e.apply(this,arguments)}return n}(pn),dn=function(t){var e=t.ModelItem.Items;if(e)return e.map((function(e){return hn(e,t)}))},mn=function(t){return function(t,e){var n=new fn;return n.ModelItem=t,n.Dict=e,t.OnAddDatabaseDone=function(t){var e=n.CommandName;w.b.success("".concat(e," element filter setting successfully"))},n.OnGetDataVM=function(){var e=t.Data;return un(e)},n}(t.ModelItem.Input,t)},gn=function(){function t(){var e=this;Object(c.a)(this,t),this.workpackageVMStorageList=void 0,this.Delete=function(){e.ModelItem.Delete(),e.Dict.ValueSettingVMs.splice(e.Index,1)},this.SetData=function(t){e.RetrieveTypeSelectVM.InitialItem=t.RetrieveType,e.ValueFilterVM.SetData(t.ValueFilterVM),e.WorkpackageSelectVM.InitialItem=t.WorkpackageVM,e.MassTypeSelectVM.InitialItem=t.MassType}}return Object(o.a)(t,[{key:"Index",get:function(){return this.Dict.ValueSettingVMs.indexOf(this)}},{key:"RetrieveType",get:function(){return this.retrieveType||(this.retrieveType=this.ModelItem.RetrieveType),this.retrieveType},set:function(t){this.retrieveType=t,this.ModelItem.RetrieveType=t}},{key:"RetrieveTypeStorageList",get:function(){return vn(this)}},{key:"RetrieveTypeSelectVM",get:function(){var t=this;this.retrieveTypeSelectVM||((this.retrieveTypeSelectVM=tn(this.RetrieveTypeStorageList,this.RetrieveType)).OnSelectedItemChanged=function(e){return t.RetrieveType=e});return this.retrieveTypeSelectVM}},{key:"ValueFilterVM",get:function(){this.valueFilterVM||((this.valueFilterVM=rn(this.ModelItem.ValueFilter)).ValueSelectPlaceholder="gi\xe1 tr\u1ecb parameter");return this.valueFilterVM},set:function(t){this.valueFilterVM=t,this.ModelItem.ValueFilter=t?t.ModelItem:t}},{key:"WorkpackageVM",get:function(){return this.workpackageVM||(this.workpackageVM=Mn(this)),this.workpackageVM},set:function(t){this.workpackageVM=t;var e=this.ModelItem;t?this.ModelItem.Workpackage=t.Workpackage:e.Workpackage=t}},{key:"WorkpackageVMStorageList",get:function(){return this.workpackageVMStorageList||(this.workpackageVMStorageList=jn(this)),this.workpackageVMStorageList},set:function(t){this.workpackageVMStorageList=t;var e=this.WorkpackageSelectVM;e.Items=t,e.SelectedIndex=-1}},{key:"WorkpackageSelectVM",get:function(){var t=this;if(!this.workpackageSelectVM){var e=this.WorkpackageVMStorageList?this.WorkpackageVMStorageList:[],n=this.workpackageSelectVM=tn(e,this.WorkpackageVM);n.Placeholder="ch\u1ecdn c\xf4ng t\xe1c",n.OnSelectedItemChanged=function(e){return t.WorkpackageVM=e}}return this.workpackageSelectVM}},{key:"MassType",get:function(){return this.massType||(this.massType=this.ModelItem.MassType),this.massType},set:function(t){this.massType=t,this.ModelItem.MassType=t}},{key:"MassTypeStorageList",get:function(){return yn(this)}},{key:"MassTypeSelectVM",get:function(){var t=this;if(!this.massTypeSelectVM){var e=this.massTypeSelectVM=tn(this.MassTypeStorageList,this.MassType);e.Placeholder="lo\u1ea1i kh\u1ed1i l\u01b0\u1ee3ng",e.OnSelectedItemChanged=function(e){return t.MassType=e}}return this.massTypeSelectVM}}]),t}(),kn=function(){return Ii.Instance},In=function(t,e){var n=new gn;return n.ModelItem=t,n.Dict=e,kn().Workpackage_DictVM.OnGetItemsDone_Funcs.push((function(t){n.WorkpackageVMStorageList=jn(n)})),n},vn=function(t){return kn().ValueRetrieveTypes},Mn=function(t){var e=t.ModelItem.Workpackage;if(e){var n=kn().Workpackage_DictVM.WorkpackageVMs;if(n){var i=n.findIndex((function(t){return t.Workpackage===e}));return-1!==i?n[i]:void 0}}},jn=function(t){return kn().Workpackage_DictVM.WorkpackageVMs},yn=function(t){return kn().MassTypes},bn=function(){function t(){var e=this;Object(c.a)(this,t),this.elementFilterVMStorageList=void 0,this.valueSettingVMs=void 0,this.AddNewValueSettingVM=function(){var t=e.ModelItem.AddNewValueSetting(),n=In(t,e);return e.ValueSettingVMs.push(n),n},this.SetData=function(t){e.ElementFilterSelectVM.InitialItem=t.ElementFilterVM,e.ValueSettingVMs=t.ValueSettingVMs},Object(I.k)(this,{valueSettingVMs:I.l})}return Object(o.a)(t,[{key:"ElementFilterVM",get:function(){return this.elementFilterVM||(this.elementFilterVM=Dn(this)),this.elementFilterVM},set:function(t){this.elementFilterVM=t;var e=this.ModelItem;e.ElementFilter=t?t.ModelItem:t}},{key:"ElementFilterVMStorageList",get:function(){return this.elementFilterVMStorageList||(this.elementFilterVMStorageList=Sn(this)),this.elementFilterVMStorageList},set:function(t){this.elementFilterVMStorageList=t;var e=this.ElementFilterSelectVM;e.Items=t,e.SelectedIndex=0}},{key:"ElementFilterSelectVM",get:function(){var t=this;if(!this.elementFilterSelectVM){var e=this.ElementFilterVMStorageList?this.ElementFilterVMStorageList:[],n=this.elementFilterSelectVM=tn(e,this.ElementFilterVM);n.Placeholder="ch\u1ecdn b\u1ed9 l\u1ecdc",n.OnSelectedItemChanged=function(e){return t.ElementFilterVM=e}}return this.elementFilterSelectVM}},{key:"ValueSettingVMs",get:function(){return this.valueSettingVMs||(this.valueSettingVMs=Cn(this)),this.valueSettingVMs},set:function(t){var e=this.valueSettingVMs,n=this.ModelItem.ValueSettings,i=e.length,s=t.length;e.forEach((function(e,n){n>=s||e.SetData(t[n])}));var r=Math.abs(i-s);if(i>s)e.splice(s,r),n.splice(s,r);else if(i<s)for(var a=0;a<r;a++){var c=t[i+a],o=ce(c.ModelItem,this.ModelItem);n.push(o);var u=In(o,this);e.push(u)}}}]),t}(),Vn=function(){return Ii.Instance},On=function(t){var e=new bn;return e.ModelItem=t,Vn().ElementFilterSetting_DictVM.OnGetItemsDone=function(t){e.ElementFilterVMStorageList=Sn(e)},e},Dn=function(t){var e=t.ModelItem.ElementFilter;if(e){var n=Vn().ElementFilterSetting_DictVM.Items;if(n){var i=n.findIndex((function(t){return t.ModelItem===e}));return-1!==i?n[i]:void 0}}},Sn=function(t){return Vn().ElementFilterSetting_DictVM.Items},Cn=function(t){return t.ModelItem.ValueSettings.map((function(e){return In(e,t)}))},wn=function(t){Object(u.a)(n,t);var e=Object(h.a)(n);function n(){var t;Object(c.a)(this,n);for(var i=arguments.length,s=new Array(i),r=0;r<i;r++)s[r]=arguments[r];return(t=e.call.apply(e,[this].concat(s))).OnInitialSetDataVM=function(t){t.ValueSettingVMs},t}return n}(Ye),Fn=function(t,e){var n=new wn;return n.ModelItem=t,n.Dict=e,t.OnNameChanged=function(e){t.M2VM&&(n.Name=e)},t.OnDescriptionChanged=function(e){t.M2VM&&(n.Description=e)},t.OnDataChanged=function(e){t.M2VM&&(n.Data=e,n.DataVM=n.GetDataVM())},n.OnGetDataVM=function(){var e=t.Data;return On(e)},n},xn=function(t){Object(u.a)(n,t);var e=Object(h.a)(n);function n(){return Object(c.a)(this,n),e.apply(this,arguments)}return n}(pn),Nn=function(){function t(){var e=this;Object(c.a)(this,t),this.items=void 0,this.Add=function(t){e.Items.push(t)},Object(I.k)(this,{items:I.l})}return Object(o.a)(t,[{key:"Items",get:function(){return this.items||(this.items=Tn(this)),this.items}},{key:"CurrentItem",get:function(){return this.currentItem||(this.currentItem=this.ModelItem.CurrentItem),this.currentItem},set:function(t){this.currentItem=t,t?(this.ModelItem.CurrentItem=t.ModelItem,this.Input.EditItem=t):this.ModelItem.CurrentItem=t}},{key:"Input",get:function(){return this.input||(this.input=_n(this)),this.input}}]),t}(),Tn=function(t){var e=t.ModelItem.Items;if(e)return e.map((function(e){return Fn(e,t)}))},_n=function(t){return function(t,e){var n=new xn;return n.ModelItem=t,n.Dict=e,t.OnAddDatabaseDone=function(t){var e=n.CommandName;w.b.success("".concat(e," setting successfully"))},n.OnGetDataVM=function(){var e=t.Data;return On(e)},n}(t.ModelItem.Input,t)},Gn=function(){function t(){var e=this;Object(c.a)(this,t),this.Delete=function(){var t=e.Index;e.Fields.splice(t,1),e.Dict.FieldVMs.splice(t,1)},this.SetData=function(t){e.FieldSelectVM.InitialItem=t.Field}}return Object(o.a)(t,[{key:"Index",get:function(){return this.Dict.FieldVMs.indexOf(this)}},{key:"Fields",get:function(){return this.Dict.ModelItem.Fields}},{key:"Field",get:function(){return this.Fields[this.Index]},set:function(t){this.Fields[this.Index]=t}},{key:"FieldStorageList",get:function(){return Pn()}},{key:"FieldSelectVM",get:function(){var t=this;this.fieldSelectVM||((this.fieldSelectVM=tn(this.FieldStorageList,this.Field)).OnSelectedItemChanged=function(e){return t.Field=e});return this.fieldSelectVM}}]),t}(),Wn=function(t,e){var n=new Gn;return n.Dict=e,n},Pn=function(){return Ii.Instance.MassPropertyNames},Ln=function(){function t(){var e=this;Object(c.a)(this,t),this.fieldVMs=void 0,this.AddNewFieldVM=function(){e.ModelItem.AddNewField();var t=Wn(0,e);return e.FieldVMs.push(t),t},this.SetData=function(t){e.FieldVMs=t.FieldVMs},Object(I.k)(this,{fieldVMs:I.l})}return Object(o.a)(t,[{key:"FieldVMs",get:function(){return this.fieldVMs||(this.fieldVMs=An(this)),this.fieldVMs},set:function(t){var e=this.fieldVMs,n=this.ModelItem.Fields,i=e.length,s=t.length;e.forEach((function(e,n){n>=s||e.SetData(t[n])}));var r=Math.abs(i-s);if(i>s)e.splice(s,r),n.splice(s,r);else if(i<s)for(var a=0;a<r;a++){var c=t[i+a].Field;n.push(c);var o=Wn(0,this);e.push(o)}}}]),t}(),En=(n(186),function(t){var e=new Ln;return e.ModelItem=t,e}),An=function(t){return t.ModelItem.Fields.map((function(e){return Wn(0,t)}))},Rn=function(t){Object(u.a)(n,t);var e=Object(h.a)(n);function n(){var t;Object(c.a)(this,n);for(var i=arguments.length,s=new Array(i),r=0;r<i;r++)s[r]=arguments[r];return(t=e.call.apply(e,[this].concat(s))).OnInitialSetDataVM=function(t){},t}return n}(Ye),Hn=function(t,e){var n=new Rn;return n.ModelItem=t,n.Dict=e,t.OnNameChanged=function(e){t.M2VM&&(n.Name=e)},t.OnDescriptionChanged=function(e){t.M2VM&&(n.Description=e)},t.OnDataChanged=function(e){t.M2VM&&(n.Data=e,n.DataVM=n.GetDataVM())},n.OnGetDataVM=function(){var e=t.Data;return En(e)},n},Bn=function(t){Object(u.a)(n,t);var e=Object(h.a)(n);function n(){return Object(c.a)(this,n),e.apply(this,arguments)}return n}(pn),Un=function(){function t(){var e=this;Object(c.a)(this,t),this.items=void 0,this.Add=function(t){e.Items.push(t)},Object(I.k)(this,{items:I.l})}return Object(o.a)(t,[{key:"Items",get:function(){return this.items||(this.items=qn(this)),this.items}},{key:"CurrentItem",get:function(){return this.currentItem||(this.currentItem=this.ModelItem.CurrentItem),this.currentItem},set:function(t){this.currentItem=t,t?(this.ModelItem.CurrentItem=t.ModelItem,this.Input.EditItem=t):this.ModelItem.CurrentItem=t}},{key:"Input",get:function(){return this.input||(this.input=zn(this)),this.input}}]),t}(),qn=function(t){var e=t.ModelItem.Items;if(e)return e.map((function(e){return Hn(e,t)}))},zn=function(t){return function(t,e){var n=new Bn;return n.ModelItem=t,n.Dict=e,t.OnAddDatabaseDone=function(t){var e=n.CommandName;w.b.success("".concat(e," setting successfully"))},n.OnGetDataVM=function(){var e=t.Data;return En(e)},n}(t.ModelItem.Input,t)},Kn=function(){function t(){Object(c.a)(this,t)}return Object(o.a)(t,[{key:"Name",get:function(){return this.name||(this.name=this.ModelItem.Name),this.name},set:function(t){this.name=t,this.ModelItem.Name=t}},{key:"Description",get:function(){return this.description||(this.description=this.ModelItem.Description),this.description},set:function(t){this.description=t,this.ModelItem.Description=t}},{key:"DisplayContent",get:function(){return"".concat(this.Name)}}]),t}(),Jn=function(t,e){if(t){var n=new Kn;return n.ModelItem=t,n.Dict=e,n}},Qn="addversion",Xn=function(){function t(){var e=this;Object(c.a)(this,t),this.items=void 0,this.OnGetItemsDone_Funcs=[],this.state=void 0,this.Add=function(t){e.Items.push(t)},this.AddVersion=function(){e.State=Qn},this.Cancel=function(){e.State=void 0},this.OK=function(){var t=e.Input.Name;-1===e.Items.findIndex((function(e){return e.Name===t}))?(e.State=void 0,e.ModelItem.AddMassVersion()):w.b.warning("version name already exists!")},Object(I.k)(this,{items:I.l,state:I.l})}return Object(o.a)(t,[{key:"Items",get:function(){return this.items||(this.items=Zn(this)),this.items}},{key:"GetItemsDone",set:function(t){this.OnGetItemsDone_Funcs.forEach((function(t){return t()}))}},{key:"Input",get:function(){return this.input||(this.input=$n(this)),this.input}},{key:"State",get:function(){return this.state},set:function(t){this.state=t}}]),t}(),Yn=function(){function t(){Object(c.a)(this,t),this.name=void 0}return Object(o.a)(t,[{key:"Name",get:function(){return this.name||(this.name=this.ModelItem.Name),this.name},set:function(t){this.name=t,this.ModelItem.Name=t}},{key:"Description",get:function(){return this.description||(this.description=this.ModelItem.Description),this.description},set:function(t){this.description=t,this.ModelItem.Description=t}},{key:"NameVM",get:function(){var t=this;this.nameVM||((this.nameVM=M(this.Name,"t\xean version")).onSetContent=function(e){return t.Name=e});return this.nameVM}},{key:"DescriptionVM",get:function(){var t=this;this.descriptionVM||((this.descriptionVM=M(this.Description,"m\xf4 t\u1ea3")).onSetContent=function(e){return t.Description=e});return this.descriptionVM}}]),t}(),Zn=function(t){var e=t.ModelItem.Items;if(e)return e.map((function(e){return Jn(e,t)}))},$n=function(t){return function(t,e){var n=new Yn;return n.ModelItem=t,n.Dict=e,n}(t.ModelItem.Input,t)},ti=function(){function t(){Object(c.a)(this,t)}return Object(o.a)(t,[{key:"Name",get:function(){return this.name||(this.name=this.ModelItem.Name),this.name},set:function(t){this.name=t,this.ModelItem.Name=t}},{key:"Code",get:function(){return this.code||(this.code=this.ModelItem.Code),this.code},set:function(t){this.code=t,this.ModelItem.Code=t}},{key:"Phase_DictVM",get:function(){return this.phase_DictVM||(this.phase_DictVM=ni(this)),this.phase_DictVM}},{key:"DisplayContent",get:function(){return"".concat(this.Code," - ").concat(this.Name)}}]),t}(),ei=function(t,e){if(t){var n=new ti;return n.ModelItem=t,n.Dict=e,n}},ni=function(t){return function(t){var e=new Xn;return e.ModelItem=t,t.OnGetItemsDone_Funcs.push((function(t){e.Items,e.GetItemsDone=!0})),t.OnAdd=function(t){e.Add(Jn(t,e))},e}(t.ModelItem.Phase_Dict)},ii=function(){function t(){Object(c.a)(this,t),this.items=void 0,Object(I.k)(this,{items:I.l})}return Object(o.a)(t,[{key:"Items",get:function(){return this.items||(this.items=si(this)),this.items},set:function(t){this.items=t,this.ModelItem.Items=t.map((function(t){return t.ModelItem}))}},{key:"GetItemsDone",set:function(t){this.OnGetItemsDone&&this.OnGetItemsDone(t)}}]),t}(),si=function(t){var e=t.ModelItem.Items;if(e)return e.map((function(e){return ei(e,t)}))},ri=function(){function t(){var e=this;Object(c.a)(this,t),this.IsShowProjectSelect=!0,this.CanHavePhase=!1,this.isHavePhase=void 0,this.GetMassData=function(){e.ModelItem.GetMassData()},Object(I.k)(this,{IsShowProjectSelect:I.l,CanHavePhase:I.l,isHavePhase:I.l})}return Object(o.a)(t,[{key:"Projects",get:function(){return this.projects||(this.projects=this.ModelItem.Projects),this.projects},set:function(t){this.projects=t,this.ModelItem.Projects=t}},{key:"ProjectVMs",get:function(){return this.projectVMs||(this.projectVMs=ui(this)),this.projectVMs},set:function(t){this.projectVMs=t,this.Projects=t.map((function(t){return t.ModelItem}))}},{key:"ProjectVMStorageList",get:function(){return this.projectVMStorageList||(this.projectVMStorageList=oi(this)),this.projectVMStorageList},set:function(t){this.projectVMStorageList=t,this.projectVMs=ui(this);var e=this.ProjectSelectVM;e.Items=t,e.InitialItems=this.projectVMs}},{key:"ProjectSelectVM",get:function(){var t=this;if(!this.projectSelectVM){var e=this.ProjectVMStorageList?this.ProjectVMStorageList:[],n=this.projectSelectVM=nn(e,this.ProjectVMs);n.Placeholder="ch\u1ecdn d\u1ef1 \xe1n",n.OnSelectedItemChanged=function(e){return t.ProjectVMs=e}}return this.projectSelectVM}},{key:"Workpackages",get:function(){return this.workpackages||(this.workpackages=this.ModelItem.Workpackages),this.workpackages},set:function(t){this.workpackages=t,this.ModelItem.Workpackages=t}},{key:"WorkpackageVMs",get:function(){return this.workpackageVMs||(this.workpackageVMs=li(this)),this.workpackageVMs},set:function(t){this.workpackageVMs=t,this.Workpackages=t.map((function(t){return t.Workpackage}))}},{key:"WorkpackageVMStorageList",get:function(){return this.workpackageVMStorageList||(this.workpackageVMStorageList=hi(this)),this.workpackageVMStorageList},set:function(t){this.workpackageVMStorageList=t,this.workpackageVMs=li(this);var e=this.WorkpackageSelectVM;e.Items=t,e.InitialItems=this.workpackageVMs}},{key:"WorkpackageSelectVM",get:function(){var t=this;if(!this.workpackageSelectVM){var e=this.WorkpackageVMStorageList?this.WorkpackageVMStorageList:[],n=this.workpackageSelectVM=nn(e,this.WorkpackageVMs);n.Placeholder="ch\u1ecdn c\xf4ng t\xe1c",n.OnSelectedItemChanged=function(e){return t.WorkpackageVMs=e}}return this.workpackageSelectVM}},{key:"Phases",get:function(){return this.phases||(this.phases=this.ModelItem.Phases),this.phases},set:function(t){this.phases=t,this.ModelItem.Phases=t}},{key:"PhaseVMs",get:function(){return this.phaseVMs||(this.phaseVMs=pi(this)),this.phaseVMs},set:function(t){this.phaseVMs=t,this.Phases=t.map((function(t){return t.ModelItem}))}},{key:"MassItem_Dict",get:function(){return this.massItem_Dict||(this.massItem_Dict=this.ModelItem.MassItem_Dict),this.massItem_Dict}},{key:"PhaseVMStorageList",get:function(){return this.phaseVMStorageList},set:function(t){this.phaseVMStorageList=t,this.phaseVMs=pi(this);var e=this.PhaseSelectVM;e.Items=t,e.InitialItems=this.phaseVMs}},{key:"PhaseSelectVM",get:function(){var t=this;if(!this.phaseSelectVM){var e=this.PhaseVMStorageList?this.PhaseVMStorageList:[],n=this.phaseSelectVM=nn(e,this.PhaseVMs);n.Placeholder="ch\u1ecdn version",n.OnSelectedItemChanged=function(e){return t.PhaseVMs=e}}return this.phaseSelectVM}},{key:"IsHavePhase",get:function(){return this.isHavePhase||(this.isHavePhase=this.ModelItem.IsHavePhase),this.isHavePhase},set:function(t){this.isHavePhase=t,this.ModelItem.IsHavePhase=t}},{key:"IsShowPhaseSelectVM",get:function(){var t=this;this.isShowPhaseSelectVM||((this.isShowPhaseSelectVM=cn("So s\xe1nh c\xe1c version",this.IsHavePhase)).onCheckChange=function(e){t.IsHavePhase=e});return this.isShowPhaseSelectVM}}]),t}(),ai=function(){return Ii.Instance},ci=function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=new ri;return n.ModelItem=t,e&&(ai().Project_DictVM.OnGetItemsDone=function(t){n.ProjectVMStorageList=oi(n)}),ai().Workpackage_DictVM.OnGetItemsDone_Funcs.push((function(t){n.WorkpackageVMStorageList=hi(n)})),t.OnGetItemsDone_Funcs.push((function(){w.b.success("get mass data successfully")})),n},oi=function(t){return ai().Project_DictVM.Items},ui=function(t){var e=t.ProjectVMStorageList;if(!e)return[];var n=[];return t.Projects.forEach((function(t){var i=e.findIndex((function(e){return e.ModelItem===t}));-1!==i&&n.push(e[i])})),n},hi=function(t){return ai().Workpackage_DictVM.WorkpackageVMs},li=function(t){var e=t.WorkpackageVMStorageList;if(!e)return[];var n=[];return t.Workpackages.forEach((function(t){var i=e.findIndex((function(e){return e.Workpackage===t}));-1!==i&&n.push(e[i])})),n},pi=function(t){var e=t.PhaseVMStorageList;if(!e)return[];var n=[];return t.Phases.forEach((function(t){var i=e.findIndex((function(e){return e.ModelItem===t}));-1!==i&&n.push(e[i])})),n},fi=function(){return Ee.Instance},di=function(t){return function(t){var e=new Xe;return e.ModelItem=t,t.OnGetItemsDone=function(t){e.Items,e.GetItemsDone=!0},t.OnAdd=function(t){e.Add(hn(t,e))},e}(fi().ElementFilterSetting_Dict)},mi=function(t){return function(t){var e=new Nn;return e.ModelItem=t,t.OnGetItemsDone=function(t){e.Items},t.OnAdd=function(t){e.Add(Fn(t,e))},e}(fi().MassExportSetting_Dict)},gi=function(t){return function(t){var e=new Un;return e.ModelItem=t,t.OnGetItemsDone=function(t){e.Items},t.OnAdd=function(t){e.Add(Hn(t,e))},e}(fi().MassGroupSetting_Dict)},ki=function(t){return function(t){var e=new ii;return e.ModelItem=t,t.OnGetItemsDone=function(t){e.Items,e.GetItemsDone=!0},e}(fi().Project_Dict)},Ii=function(){function t(){Object(c.a)(this,t)}return Object(o.a)(t,[{key:"pmData",get:function(){return Ee.Instance}},{key:"Workpackage_DictVM",get:function(){return this.workpackage_DictVM||(this.workpackage_DictVM=Oi(fi().Workpackage_Dict)),this.workpackage_DictVM}},{key:"ElementFilterSetting_DictVM",get:function(){return this.elementFilterSetting_DictVM||(this.elementFilterSetting_DictVM=di()),this.elementFilterSetting_DictVM}},{key:"MassExportSetting_DictVM",get:function(){return this.massExportSetting_DictVM||(this.massExportSetting_DictVM=mi()),this.massExportSetting_DictVM}},{key:"MassGroupSetting_DictVM",get:function(){return this.massGroupSetting_DictVM||(this.massGroupSetting_DictVM=gi()),this.massGroupSetting_DictVM}},{key:"Project_DictVM",get:function(){return this.project_DictVM||(this.project_DictVM=ki()),this.project_DictVM}},{key:"MassResultCompVM",get:function(){return this.massResultCompVM||(this.massResultCompVM=ci(fi().MassResultComp)),this.massResultCompVM},set:function(t){this.massResultCompVM=t,this.pmData.MassResultComp=t?t.ModelItem:t}},{key:"FilterValueTypes",get:function(){return this.filterValueTypes||(this.filterValueTypes=this.pmData.FilterValueTypes),this.filterValueTypes}},{key:"StringFilterTypes",get:function(){return this.stringFilterTypes||(this.stringFilterTypes=this.pmData.StringFilterTypes),this.stringFilterTypes}},{key:"CategoryNames",get:function(){return this.categoryNames||(this.categoryNames=this.pmData.CategoryNames),this.categoryNames}},{key:"ValueRetrieveTypes",get:function(){return this.valueRetrieveTypes||(this.valueRetrieveTypes=this.pmData.ValueRetrieveTypes),this.valueRetrieveTypes}},{key:"ParameterNames",get:function(){return this.parameterNames||(this.parameterNames=this.pmData.ParameterNames),this.parameterNames}},{key:"MassPropertyNames",get:function(){return this.massPropertyNames||(this.massPropertyNames=this.pmData.MassPropertyNames),this.massPropertyNames}},{key:"MassTypes",get:function(){return this.massTypes||(this.massTypes=this.pmData.MassTypes),this.massTypes}}],[{key:"Instance",get:function(){return this.instance||(this.instance=new t),this.instance}}]),t}(),vi=function(t,e){var n=new Qe;return n.Workpackage=t,n.Dict=e,t.OnCodeChanged=function(e){t.M2VM&&(n.Code=e)},t.OnNameChanged=function(e){t.M2VM&&(n.Name=e)},t.OnDescriptionChanged=function(e){t.M2VM&&(n.Description=e)},t.OnFullNameChanged=function(e){t.M2VM&&(n.FullName=e)},t.OnDelete=function(){n.Delete()},n},Mi=function(t){var e=t.Workpackage.SupItem,n=Ii.Instance.Workpackage_DictVM.WorkpackageVMs,i=n.findIndex((function(t){return t.Workpackage===e}));return-1!==i?n[i]:void 0},ji=function(){function t(){var e=this;Object(c.a)(this,t),this.code=void 0,this.name=void 0,this.description=void 0,this.supItem=void 0,this.workpackageVMStorageList=void 0,this.isNew=void 0,this.commandName=void 0,this.AsString=function(){return"".concat(e.Code," ").concat(e.Name," ").concat(e.Description," ").concat(e.IsNew)},this.AddDatabase=function(){e.WorkpackageInput.AddDatabase()},this.DeleteFunc=function(){e.WorkpackageVM.Workpackage.Delete(),e.WorkpackageVM=void 0},this.Clear=function(){e.CodeVM.Content=null,e.NameVM.Content=null,e.DescriptionVM.Content=null,e.IsNewVM.Ischecked=!0},Object(I.k)(this,{isNew:I.l})}return Object(o.a)(t,[{key:"Code",get:function(){return this.code||(this.code=this.WorkpackageInput.Code),this.code},set:function(t){this.code=t,this.WorkpackageInput.Code=t}},{key:"Name",get:function(){return this.name||(this.name=this.WorkpackageInput.Name),this.name},set:function(t){this.name=t,this.WorkpackageInput.Name=t}},{key:"Description",get:function(){return this.description||(this.description=this.WorkpackageInput.Description),this.description},set:function(t){this.description=t,this.WorkpackageInput.Description=t}},{key:"SupItem",get:function(){return this.supItem},set:function(t){this.supItem=t;var e=this.WorkpackageInput;e.SupItem=t?t.Workpackage:t}},{key:"WorkpackageVMStorageList",get:function(){return this.workpackageVMStorageList||(this.workpackageVMStorageList=Vi(this)),this.workpackageVMStorageList},set:function(t){this.workpackageVMStorageList=t;var e=this.SupItemSelectVM;e.Items=t,e.InitialItem=this.SupItem}},{key:"SupItemSelectVM",get:function(){var t=this;if(!this.supItemSelectVM){var e=this.supItemSelectVM=tn(this.WorkpackageVMStorageList,this.SupItem);e.Placeholder="c\xf4ng t\xe1c cha",e.CanClear=!0,e.OnSelectedItemChanged=function(e){return t.SupItem=e}}return this.supItemSelectVM}},{key:"IsNew",get:function(){return void 0===this.isNew&&(this.isNew=this.WorkpackageInput.IsNew),this.isNew},set:function(t){this.isNew=t,this.CommandVM.Content=bi(this),this.WorkpackageInput.IsNew=t}},{key:"CommandName",get:function(){return this.commandName||(this.commandName=bi(this)),this.commandName},set:function(t){this.commandName=t}},{key:"WorkpackageVM",get:function(){return this.workpackageVM},set:function(t){if(this.workpackageVM=t,t){this.WorkpackageInput.Workpackage=t.Workpackage;var e=t.Code,n=t.Name,i=t.Description,s=t.SupItem;this.CodeVM.Content=e,this.NameVM.Content=n,this.DescriptionVM.Content=i,this.SupItemSelectVM.InitialItem=s,this.IsNewVM.Ischecked=!1}else this.WorkpackageInput.Workpackage=t,this.IsNewVM.Ischecked=!0}},{key:"CodeVM",get:function(){var t=this;this.codeVM||((this.codeVM=M(this.Code,"m\xe3 code")).onSetContent=function(e){return t.Code=e});return this.codeVM}},{key:"NameVM",get:function(){var t=this;this.nameVM||((this.nameVM=M(this.Name,"t\xean c\xf4ng t\xe1c")).onSetContent=function(e){return t.Name=e});return this.nameVM}},{key:"DescriptionVM",get:function(){var t=this;this.descriptionVM||((this.descriptionVM=M(this.Description,"m\xf4 t\u1ea3")).onSetContent=function(e){return t.Description=e});return this.descriptionVM}},{key:"IsNewVM",get:function(){var t=this;if(!this.isNewVM){var e=this.isNewVM=cn("C\xf4ng t\xe1c m\u1edbi",this.IsNew);e.isDisable=!0,e.onCheckChange=function(n){t.IsNew=n,e.isDisable=!!n}}return this.isNewVM}},{key:"CommandVM",get:function(){var t=this;this.commandVM||((this.commandVM=M(this.CommandName)).onSetContent=function(e){return t.CommandName=e});return this.commandVM}},{key:"DeleteView",get:function(){return this.IsNew?"":Object(i.jsx)(g.a,{onClick:this.DeleteFunc,children:"Delete"})}}]),t}(),yi=function(){return Ii.Instance},bi=function(t){return t.IsNew?"Create":"Edit"},Vi=function(t){return yi().Workpackage_DictVM.WorkpackageVMs},Oi=function(t){var e=new Si;return e.Workpackage_Dict=t,t.OnGetWorkpackagesDone=function(t){e.WorkpackageVMs;e.GetItemsDone=!0},t.OnAdd=function(t){var n=vi(t,e);e.Add(n)},e},Di=function(t){return function(t,e){var n=new ji;return n.WorkpackageInput=t,n.Dict=e,yi().Workpackage_DictVM.OnGetItemsDone_Funcs.push((function(){n.WorkpackageVMStorageList=Vi(n)})),t.OnAddDatabaseDone=function(t){var e=n.CommandName;w.b.success("".concat(e," workpackage successfully"))},e.OnAdd=function(t){n.WorkpackageVM=t},n}(t.Workpackage_Dict.WorkpackageInput,t)},Si=function(){function t(){var e=this;Object(c.a)(this,t),this.OnGetItemsDone_Funcs=[],this.workpackageVMs=void 0,this.Add=function(t){e.WorkpackageVMs.push(t),e.OnAdd&&e.OnAdd(t)},Object(I.k)(this,{workpackageVMs:I.l})}return Object(o.a)(t,[{key:"GetItemsDone",set:function(t){this.OnGetItemsDone_Funcs.forEach((function(t){return t()}))}},{key:"M2VM",get:function(){return this.Workpackage_Dict.M2VM},set:function(t){this.Workpackage_Dict.M2VM=t}},{key:"WorkpackageVMs",get:function(){return this.workpackageVMs||(this.workpackageVMs=function(t){var e=t.Workpackage_Dict.Workpackages;if(e)return e.map((function(e){return vi(e,t)}))}(this)),this.workpackageVMs}},{key:"CurrentWorkpackageVM",set:function(t){this.Workpackage_Dict=t,this.Workpackage_Dict.CurrentWorkpackage=t.Workpackage,this.WorkpackageInputVM.WorkpackageVM=t}},{key:"WorkpackageInputVM",get:function(){return this.workpackageInputVM||(this.workpackageInputVM=Di(this)),this.workpackageInputVM}}]),t}(),Ci=function(t){Object(u.a)(n,t);var e=Object(h.a)(n);function n(t){var i;Object(c.a)(this,n),(i=e.call(this,t)).onCheckedChange=function(t){var e=t.target.checked;i.state.Ischecked=e};var s=i.props.store;return i.state=s||cn(!1),i}return Object(o.a)(n,[{key:"render",value:function(){var t=this.state,e=t.ischecked,n=t.name,s=t.isDisable;return Object(i.jsx)(i.Fragment,{children:Object(i.jsxs)("label",{children:[Object(i.jsx)("input",{type:"checkbox",checked:e,onChange:this.onCheckedChange,disabled:s}),n]})})}}]),n}(s.Component),wi=Object(l.a)(Ci),Fi=function t(){var e=this;Object(c.a)(this,t),this.getClassName=function(){return e.className||(e.className="float ".concat(e.location)),e.className}},xi=function(t){var e=new Fi;return e.location=t,e},Ni=function(t){Object(u.a)(n,t);var e=Object(h.a)(n);function n(t){var i;Object(c.a)(this,n),(i=e.call(this,t)).getWrapperContent=function(){var t=i.state.wrapper;return t||""};var s=i.props.store;return i.state=s||xi("top right"),i}return Object(o.a)(n,[{key:"render",value:function(){var t=this.state;return Object(i.jsx)(i.Fragment,{children:Object(i.jsx)("span",{className:t.getClassName(),children:this.getWrapperContent()})})}}]),n}(s.Component),Ti=Object(l.a)(Ni),_i=d.a.Option,Gi=function(t){Object(u.a)(n,t);var e=Object(h.a)(n);function n(t){var i;Object(c.a)(this,n),(i=e.call(this,t)).onValueChange=function(t){i.state.SelectedIndex=t};var s=i.props.store;return i.state=s||new $e,i}return Object(o.a)(n,[{key:"render",value:function(){var t=this.state,e=t.Placeholder,n=t.Items,s=t.SelectedIndex,r=t.InitialIndex;-1===s&&(s=r,t.InitialIndex=-1);var a=n?n.map((function(t,e){var n=t.DisplayContent?t.DisplayContent:"".concat(t);return Object(i.jsx)(_i,{value:e,children:n},e)})):"",c="";if(t.CanClear){var o=xi("right");o.wrapper=Object(i.jsx)(g.a,{size:"small",type:"primary",onClick:t.Clear,children:"x"}),c=Object(i.jsx)(Ti,{store:o})}return Object(i.jsx)(i.Fragment,{children:Object(i.jsxs)("div",{style:t.DivStyle,children:[c,Object(i.jsx)(d.a,{showSearch:!0,style:{width:"100%"},placeholder:e,optionFilterProp:"children",onChange:this.onValueChange,value:s,filterOption:function(t,e){return e.children.toLowerCase().indexOf(t.toLowerCase())>=0},children:a})]})})}}]),n}(s.Component),Wi=Object(l.a)(Gi),Pi=d.a.Option,Li=function(t){Object(u.a)(n,t);var e=Object(h.a)(n);function n(t){var i;Object(c.a)(this,n),(i=e.call(this,t)).onValueChange=function(t){var e=i.state,n=e.WorkpackageVMs;e.CurrentWorkpackageVM=n[t]};var s=i.props.store;return i.state=s||new Si,i}return Object(o.a)(n,[{key:"render",value:function(){var t=this.state,e=t.WorkpackageVMs,n=e?e.map((function(t,e){var n=t.SearchName;return Object(i.jsx)(Pi,{value:e,children:n},e)})):"",s=t.WorkpackageInputVM,r=s.CommandVM;return Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)(m.a,{orientation:"left",plain:!0,children:Object(i.jsx)("b",{children:"C\xf4ng t\xe1c"})}),Object(i.jsx)(d.a,{showSearch:!0,style:{width:"100%"},placeholder:"search c\xf4ng t\xe1c",optionFilterProp:"children",onChange:this.onValueChange,value:null,filterOption:function(t,e){return e.children.toLowerCase().indexOf(t.toLowerCase())>=0},children:n}),Object(i.jsxs)("div",{style:{marginTop:20},children:[Object(i.jsx)(y,{store:s.CodeVM}),Object(i.jsx)(y,{store:s.NameVM}),Object(i.jsx)(y,{store:s.DescriptionVM}),Object(i.jsx)(Wi,{store:s.SupItemSelectVM}),Object(i.jsxs)("div",{children:[Object(i.jsx)(wi,{store:s.IsNewVM}),Object(i.jsx)(g.a,{style:{margin:10},onClick:s.AddDatabase,children:r.Content}),s.DeleteView]})]})]})}}]),n}(s.Component),Ei=Object(l.a)(Li),Ai=d.a.Option,Ri=function(t){Object(u.a)(n,t);var e=Object(h.a)(n);function n(t){var i;Object(c.a)(this,n),(i=e.call(this,t)).onValueChange=function(t){i.state.SelectedIndexs=t};var s=i.props.store;return i.state=s||new en,i}return Object(o.a)(n,[{key:"render",value:function(){var t=this.state,e=t.Placeholder,n=t.Items,s=t.SelectedIndexs,r=t.InitialIndexs;0===s.length&&(s=r,t.InitialIndexs=[]);var a=n?n.map((function(t,e){var n=t.DisplayContent?t.DisplayContent:"".concat(t);return Object(i.jsx)(Ai,{value:e,children:n},e)})):"";return Object(i.jsx)(i.Fragment,{children:Object(i.jsx)(d.a,{mode:"multiple",style:{width:"100%"},placeholder:e,optionFilterProp:"children",onChange:this.onValueChange,value:s,filterOption:function(t,e){return e.children.toLowerCase().indexOf(t.toLowerCase())>=0},children:a})})}}]),n}(s.Component),Hi=Object(l.a)(Ri),Bi=(d.a.Option,function(t){Object(u.a)(n,t);var e=Object(h.a)(n);function n(t){var i;Object(c.a)(this,n),(i=e.call(this,t)).test=function(){console.log("test button")},i.onValueChange=function(t){var e=i.state,n=e.ItemVMs;e.CurrentItemVM=n[t]};var s=i.props.store;return i.state=s||new sn,i}return Object(o.a)(n,[{key:"render",value:function(){var t=this.state;return Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)("div",{children:Object(i.jsx)(Wi,{store:t.ValueTypeSelectVM})}),Object(i.jsx)("div",{children:Object(i.jsx)(Wi,{store:t.StringFilterTypeSelectVM})}),Object(i.jsx)("div",{children:Object(i.jsx)(Hi,{store:t.ValuesSelectVM})})]})}}]),n}(s.Component)),Ui=Object(l.a)(Bi),qi=(d.a.Option,function(t){Object(u.a)(n,t);var e=Object(h.a)(n);function n(t){var i;Object(c.a)(this,n);var s=(i=e.call(this,t)).props.store;return i.state=s||new on,i}return Object(o.a)(n,[{key:"render",value:function(){var t=this.state,e=t.IsHaveFamilyFilter;return Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)(m.a,{orientation:"left",plain:!0,children:"Thi\u1ebft l\u1eadp l\u1ecdc Category"}),Object(i.jsx)(Ui,{store:t.CategoryFilterVM}),Object(i.jsx)(m.a,{orientation:"left",plain:!0,children:Object(i.jsx)(wi,{store:t.IsHaveFamilyFilterVM})}),e?Object(i.jsx)(Ui,{store:t.FamilyFilterVM}):""]})}}]),n}(s.Component)),zi=Object(l.a)(qi),Ki=d.a.Option,Ji=function(t){Object(u.a)(n,t);var e=Object(h.a)(n);function n(t){var i;Object(c.a)(this,n),(i=e.call(this,t)).test=function(){console.log("test button")},i.onValueChange=function(t){var e=i.state,n=e.Items;e.CurrentItem=n[t]};var s=i.props.store;return i.state=s||new Xe,i}return Object(o.a)(n,[{key:"render",value:function(){var t=this.state,e=t.Items,n=e?e.map((function(t,e){var n=t.SearchName;return Object(i.jsx)(Ki,{value:e,children:n},e)})):"",s=t.Input;return Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)(m.a,{orientation:"left",plain:!0,children:Object(i.jsx)("b",{children:"B\u1ed9 l\u1ecdc \u0111\u1ed1i t\u01b0\u1ee3ng"})}),Object(i.jsx)(d.a,{showSearch:!0,style:{width:"100%"},placeholder:"search b\u1ed9 l\u1ecdc",optionFilterProp:"children",onChange:this.onValueChange,value:null,filterOption:function(t,e){return e.children.toLowerCase().indexOf(t.toLowerCase())>=0},children:n}),Object(i.jsxs)("div",{style:{marginTop:20},children:[Object(i.jsx)(y,{store:s.NameVM}),Object(i.jsx)(y,{store:s.DescriptionVM}),Object(i.jsx)(zi,{store:s.DataVM}),Object(i.jsx)(wi,{store:s.IsNewVM}),Object(i.jsx)(g.a,{style:{margin:10},onClick:s.AddDatabase,children:s.CommandVM.Content}),s.DeleteView]})]})}}]),n}(s.Component),Qi=Object(l.a)(Ji),Xi=(d.a.Option,function(t){Object(u.a)(n,t);var e=Object(h.a)(n);function n(t){var i;Object(c.a)(this,n);var s=(i=e.call(this,t)).props.store;return i.state=s||new gn,i}return Object(o.a)(n,[{key:"render",value:function(){var t=this.state,e=xi("top right");return e.wrapper=Object(i.jsx)(g.a,{size:"small",type:"primary",onClick:t.Delete,children:"x"}),Object(i.jsx)(i.Fragment,{children:Object(i.jsxs)("div",{style:{padding:"10px 35px 10px 10px",margin:"8px auto",border:"solid 0.5px",borderRadius:"10px",position:"relative"},children:[Object(i.jsx)(Ti,{store:e}),Object(i.jsx)(Wi,{store:t.RetrieveTypeSelectVM}),Object(i.jsx)(Wi,{store:t.MassTypeSelectVM}),Object(i.jsx)(Ui,{store:t.ValueFilterVM}),Object(i.jsx)(Wi,{store:t.WorkpackageSelectVM})]})})}}]),n}(s.Component)),Yi=Object(l.a)(Xi),Zi=(d.a.Option,function(t){Object(u.a)(n,t);var e=Object(h.a)(n);function n(t){var i;Object(c.a)(this,n);var s=(i=e.call(this,t)).props.store;return i.state=s||new bn,i}return Object(o.a)(n,[{key:"render",value:function(){var t=this.state,e=t.ValueSettingVMs.map((function(t,e){return Object(i.jsx)(Yi,{store:t},e)}));return Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)(Wi,{store:t.ElementFilterSelectVM}),Object(i.jsxs)(m.a,{orientation:"left",plain:!0,children:["Thi\u1ebft l\u1eadp gi\xe1 tr\u1ecb",Object(i.jsx)(g.a,{type:"primary",size:"small",onClick:t.AddNewValueSettingVM,style:{marginLeft:15},children:"+"})]}),e]})}}]),n}(s.Component)),$i=Object(l.a)(Zi),ts=d.a.Option,es=function(t){Object(u.a)(n,t);var e=Object(h.a)(n);function n(t){var i;Object(c.a)(this,n),(i=e.call(this,t)).onValueChange=function(t){var e=i.state,n=e.Items;e.CurrentItem=n[t]};var s=i.props.store;return i.state=s||new Nn,i}return Object(o.a)(n,[{key:"render",value:function(){var t=this.state,e=t.Items,n=e?e.map((function(t,e){var n=t.SearchName;return Object(i.jsx)(ts,{value:e,children:n},e)})):"",s=t.Input;return Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)(m.a,{orientation:"left",plain:!0,children:Object(i.jsx)("b",{children:"Thi\u1ebft l\u1eadp xu\u1ea5t kh\u1ed1i l\u01b0\u1ee3ng"})}),Object(i.jsx)(d.a,{showSearch:!0,style:{width:"100%"},placeholder:"search thi\u1ebft l\u1eadp",optionFilterProp:"children",onChange:this.onValueChange,value:null,filterOption:function(t,e){return e.children.toLowerCase().indexOf(t.toLowerCase())>=0},children:n}),Object(i.jsxs)("div",{style:{marginTop:20},children:[Object(i.jsx)(y,{store:s.NameVM}),Object(i.jsx)(y,{store:s.DescriptionVM}),Object(i.jsx)($i,{store:s.DataVM}),Object(i.jsxs)("div",{children:[Object(i.jsx)(wi,{store:s.IsNewVM}),Object(i.jsx)(g.a,{style:{margin:10},onClick:s.AddDatabase,children:s.CommandVM.Content}),s.DeleteView]})]})]})}}]),n}(s.Component),ns=Object(l.a)(es),is=(d.a.Option,function(t){Object(u.a)(n,t);var e=Object(h.a)(n);function n(t){var i;Object(c.a)(this,n);var s=(i=e.call(this,t)).props.store;return i.state=s||new Gn,i}return Object(o.a)(n,[{key:"render",value:function(){var t=this.state,e=xi("top right");return e.wrapper=Object(i.jsx)(g.a,{size:"small",type:"primary",onClick:t.Delete,children:"x"}),Object(i.jsx)(i.Fragment,{children:Object(i.jsxs)("div",{style:{padding:"0px 35px 0px 10px",margin:"3px auto",position:"relative"},children:[Object(i.jsx)(Ti,{store:e}),Object(i.jsx)(Wi,{store:t.FieldSelectVM})]})})}}]),n}(s.Component)),ss=Object(l.a)(is),rs=(d.a.Option,function(t){Object(u.a)(n,t);var e=Object(h.a)(n);function n(t){var i;Object(c.a)(this,n);var s=(i=e.call(this,t)).props.store;return i.state=s||new Ln,i}return Object(o.a)(n,[{key:"render",value:function(){var t=this.state,e=t.FieldVMs.map((function(t,e){return Object(i.jsx)(ss,{store:t},e)}));return Object(i.jsxs)(i.Fragment,{children:[Object(i.jsxs)(m.a,{orientation:"left",plain:!0,children:["Ph\xe2n c\u1ea5p th\xf4ng tin",Object(i.jsx)(g.a,{type:"primary",size:"small",onClick:t.AddNewFieldVM,style:{marginLeft:15},children:"+"})]}),e]})}}]),n}(s.Component)),as=Object(l.a)(rs),cs=d.a.Option,os=function(t){Object(u.a)(n,t);var e=Object(h.a)(n);function n(t){var i;Object(c.a)(this,n),(i=e.call(this,t)).onValueChange=function(t){var e=i.state,n=e.Items;e.CurrentItem=n[t]};var s=i.props.store;return i.state=s||new Un,i}return Object(o.a)(n,[{key:"render",value:function(){var t=this.state,e=t.Items,n=e?e.map((function(t,e){var n=t.SearchName;return Object(i.jsx)(cs,{value:e,children:n},e)})):"",s=t.Input;return Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)(m.a,{orientation:"left",plain:!0,children:Object(i.jsx)("b",{children:"Thi\u1ebft l\u1eadp nh\xf3m kh\u1ed1i l\u01b0\u1ee3ng"})}),Object(i.jsx)(d.a,{showSearch:!0,style:{width:"100%"},placeholder:"search thi\u1ebft l\u1eadp",optionFilterProp:"children",onChange:this.onValueChange,value:null,filterOption:function(t,e){return e.children.toLowerCase().indexOf(t.toLowerCase())>=0},children:n}),Object(i.jsxs)("div",{style:{marginTop:20},children:[Object(i.jsx)(y,{store:s.NameVM}),Object(i.jsx)(y,{store:s.DescriptionVM}),Object(i.jsx)(as,{store:s.DataVM}),Object(i.jsxs)("div",{children:[Object(i.jsx)(wi,{store:s.IsNewVM}),Object(i.jsx)(g.a,{style:{margin:10},onClick:s.AddDatabase,children:s.CommandVM.Content}),s.DeleteView]})]})]})}}]),n}(s.Component),us=Object(l.a)(os),hs=(d.a.Option,function(t){Object(u.a)(n,t);var e=Object(h.a)(n);function n(t){var i;Object(c.a)(this,n);var s=(i=e.call(this,t)).props.store;return i.state=s||new tt,i}return Object(o.a)(n,[{key:"render",value:function(){var t=this.state;return Object(i.jsx)(i.Fragment,{children:Object(i.jsx)("td",{className:"text-right",style:t.TDStyle,children:Object(i.jsx)("a",{style:t.AStyle,onClick:t.ShowDetail,children:Object(i.jsx)(J,{store:t.ContentVM})})})})}}]),n}(s.Component)),ls=Object(l.a)(hs),ps=(d.a.Option,function(t){Object(u.a)(n,t);var e=Object(h.a)(n);function n(t){var i;Object(c.a)(this,n);var s=(i=e.call(this,t)).props.store;return i.state=s||new Q,i}return Object(o.a)(n,[{key:"render",value:function(){var t=this.state,e=t.Dict,s=e.Columns,r=t.IsShowSub?t.SubItems.map((function(t,e){return Object(i.jsx)(n,{store:t},t.id)})):"",a=t.IsHaveSub?Object(i.jsx)(g.a,{size:"small",style:{marginRight:5,minWidth:25},type:"primary",onClick:t.ToggleSub,children:Object(i.jsx)(J,{store:t.ToggleButtonContentVM})}):Object(i.jsx)("div",{style:{padding:"0 15.5px"}});return Object(i.jsxs)(i.Fragment,{children:[Object(i.jsxs)("tr",{children:[Object(i.jsx)("th",{scope:"row",children:Object(i.jsxs)("div",{style:t.Style,children:[a,t.Name]})}),s.map((function(n,s){var r=e.GetCell(n,t);return Object(i.jsx)(ls,{store:r},r.id)}))]}),r]})}}]),n}(s.Component)),fs=Object(l.a)(ps),ds=(d.a.Option,function(t){Object(u.a)(n,t);var e=Object(h.a)(n);function n(t){var i;Object(c.a)(this,n);var s=(i=e.call(this,t)).props.store;return i.state=s||new yt,i}return Object(o.a)(n,[{key:"render",value:function(){var t=this.state,e=t.Columns,n=t.MainRows,s=e?e.map((function(t,e){return Object(i.jsx)("th",{scope:"col",className:"text-center",children:t.Name},t.id)})):"",r=n?n.map((function(t,e){return Object(i.jsx)(fs,{store:t},t.id)})):"";return Object(i.jsx)(i.Fragment,{children:t.IsValidTable?Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)("h4",{className:"text-center",children:"B\u1ea2NG T\u1ed4NG H\u1ee2P KH\u1ed0I L\u01af\u1ee2NG"}),Object(i.jsxs)("table",{className:"table table-bordered table-sm",children:[Object(i.jsx)("thead",{children:Object(i.jsxs)("tr",{children:[Object(i.jsx)("th",{scope:"col"}),s]})}),Object(i.jsx)("tbody",{children:r})]})]}):""})}}]),n}(s.Component)),ms=Object(l.a)(ds),gs=(d.a.Option,function(t){Object(u.a)(n,t);var e=Object(h.a)(n);function n(t){var i;Object(c.a)(this,n);var s=(i=e.call(this,t)).props.store;return i.state=s||new ri,i}return Object(o.a)(n,[{key:"render",value:function(){var t=this.state;return Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)(m.a,{orientation:"left",plain:!0,children:Object(i.jsx)("b",{children:"Th\xf4ng tin kh\u1ed1i l\u01b0\u1ee3ng"})}),t.IsShowProjectSelect?Object(i.jsx)(Hi,{store:t.ProjectSelectVM}):"",Object(i.jsx)("div",{style:{marginTop:10},children:Object(i.jsx)(Hi,{store:t.WorkpackageSelectVM})}),t.CanHavePhase?Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)(m.a,{orientation:"left",plain:!0,children:Object(i.jsx)(wi,{store:t.IsShowPhaseSelectVM})}),t.IsHavePhase?Object(i.jsx)(Hi,{store:t.PhaseSelectVM}):""]}):"",Object(i.jsx)(g.a,{style:{marginTop:8},onClick:t.GetMassData,size:"middle",type:"primary",children:"GET DATA"}),Object(i.jsx)("div",{style:{marginTop:15},children:Object(i.jsx)(ms,{store:t.MassItem_Dict.MassTable})})]})}}]),n}(s.Component)),ks=Object(l.a)(gs),Is=function(t){Object(u.a)(n,t);var e=Object(h.a)(n);function n(){return Object(c.a)(this,n),e.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){var t=this.pmDataVM;return Object(i.jsx)(i.Fragment,{children:Object(i.jsxs)(p.a,{gutter:15,style:{padding:15},children:[Object(i.jsxs)(f.a,{span:6,children:[Object(i.jsx)(Ei,{store:t.Workpackage_DictVM}),Object(i.jsx)(Qi,{store:t.ElementFilterSetting_DictVM}),Object(i.jsx)(ns,{store:t.MassExportSetting_DictVM}),Object(i.jsx)(us,{store:t.MassGroupSetting_DictVM})]}),Object(i.jsx)(f.a,{span:14,children:Object(i.jsx)(ks,{store:t.MassResultCompVM})})]})})}},{key:"pmDataVM",get:function(){return Ii.Instance}}]),n}(s.Component),vs=Object(l.a)(Is),Ms=function(t){Object(u.a)(n,t);var e=Object(h.a)(n);function n(){return Object(c.a)(this,n),e.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){return Object(i.jsx)(i.Fragment,{children:Object(i.jsx)(vs,{})})}}]),n}(s.Component),js=Object(l.a)(Ms),ys=n(73),bs=n(18),Vs=function(){function t(){var e=this;Object(c.a)(this,t),this.valueString=void 0,this.GetValueString=function(){return e.OnGetValueString()},Object(I.k)(this,{valueString:I.l})}return Object(o.a)(t,[{key:"Value",get:function(){return this.value},set:function(t){this.value=t,this.ValueString=this.GetValueString()}},{key:"ValueString",get:function(){return this.valueString||(this.valueString=this.GetValueString()),this.valueString},set:function(t){this.valueString=t}}]),t}(),Os=function t(){Object(c.a)(this,t),this.Cells=[]},Ds=function t(){Object(c.a)(this,t),this.Cells=[]},Ss=function(t){var e=t.Items;if(!e||0===e.length)return[];switch(e[0].MassType){case Ct:return["partition","rebarType",E,A];case Dt:case St:return[R,E,A];default:return[E,A]}return[]},Cs=function(t){return t.Fields.map((function(t){var e=new Os;return e.Name=t,e}))},ws=function(){function t(){var e=this;Object(c.a)(this,t),this.items=void 0,this.IsValidTable=!1,this.fields=void 0,this.columns=void 0,this.rows=void 0,this.GetRows=function(){var t=e.Items;if(!t)return[];var n=e.Fields;return t.map((function(t){var e=new Ds;return e.Cells=n.map((function(e){var n=new Vs;n.OnGetValueString=function(){var t=n.Value;return isNaN(t)?t:parseFloat(t).toFixed(2)};var i=function(){return n.Value=B(t.GetValue(e),e)};H().includes(e)&&!t.Element?t.OnGetElementDone_Funcs.push((function(){i()})):i();var s="text-center";switch(e){case E:s="text-right"}return n.className=s,n})),e}))},Object(I.k)(this,{items:I.l,rows:I.l})}return Object(o.a)(t,[{key:"Items",get:function(){return this.items},set:function(t){this.items=t,t&&0!==t.length?this.IsValidTable=!0:this.IsValidTable=!1,this.Fields=Ss(this),this.Rows=this.GetRows()}},{key:"Fields",get:function(){return this.fields||(this.fields=Ss(this)),this.fields},set:function(t){this.fields=t,this.Columns=Cs(this)}},{key:"Columns",get:function(){return this.columns||(this.columns=Cs(this)),this.columns},set:function(t){this.columns=t}},{key:"Rows",get:function(){return this.rows||(this.rows=this.GetRows()),this.rows},set:function(t){this.rows=t}}]),t}(),Fs=function(){function t(){Object(c.a)(this,t),this.items=void 0,Object(I.k)(this,{items:I.l})}return Object(o.a)(t,[{key:"id",get:function(){return this._id},set:function(t){var e=this;this._id=t,Gt(t,(function(t){e.Items=t}))}},{key:"Items",get:function(){return this.items},set:function(t){this.items=t,this.DetailTable.Items=t}},{key:"DetailTable",get:function(){return this.detailTable||(this.detailTable=new ws),this.detailTable}}]),t}(),xs=function(t){Object(u.a)(n,t);var e=Object(h.a)(n);function n(t){var i;Object(c.a)(this,n);var s=(i=e.call(this,t)).props.store;return i.state=s||new ws,i}return Object(o.a)(n,[{key:"render",value:function(){var t=this.state,e=t.Columns.map((function(t,e){return Object(i.jsx)("th",{scope:"col",className:"text-center",children:t.Name},e)})),n=t.Rows.map((function(t,e){var n=t.Cells.map((function(t,e){return Object(i.jsx)("td",{className:t.className,children:t.ValueString},e)}));return Object(i.jsx)("tr",{children:n},e)}));return Object(i.jsx)(i.Fragment,{children:Object(i.jsxs)("table",{className:"table table-bordered table-sm",children:[Object(i.jsx)("thead",{children:Object(i.jsx)("tr",{children:e})}),Object(i.jsx)("tbody",{children:n})]})})}}]),n}(s.Component),Ns=Object(l.a)(xs),Ts=function(t){Object(u.a)(n,t);var e=Object(h.a)(n);function n(t){var i;Object(c.a)(this,n);var s=(i=e.call(this,t)).props.store;return i.state=s||new Fs,i}return Object(o.a)(n,[{key:"componentDidMount",value:function(){var t=this.state,e=this.props.match.params.id;t.id=e}},{key:"render",value:function(){var t=this.state;return Object(i.jsx)(i.Fragment,{children:Object(i.jsx)(p.a,{gutter:10,style:{padding:15},children:Object(i.jsxs)(f.a,{span:8,children:[Object(i.jsx)("h4",{className:"text-center",children:"B\u1ea2NG CHI TI\u1ebeT KH\u1ed0I L\u01af\u1ee2NG"}),Object(i.jsx)("div",{children:Object(i.jsx)(Ns,{store:t.DetailTable})})]})})})}}]),n}(s.Component),_s=Object(bs.f)(Object(l.a)(Ts)),Gs=function(){return Ii.Instance},Ws=function(){function t(){Object(c.a)(this,t),this.projectVM=void 0,Object(I.k)(this,{projectVM:I.l})}return Object(o.a)(t,[{key:"id",get:function(){return this._id},set:function(t){var e=this;this._id=t,function(t,e){if(t){var n="https://api.bimdev.vn/api/hbp/get?id=".concat(t);T(n).then((function(t){return t.data})).then((function(t){var n=qt(t);e&&e(n)}))}}(t,(function(t){e.ProjectVM=ei(t)}))}},{key:"ProjectVM",get:function(){return this.projectVM},set:function(t){this.projectVM=t;var e=[t];Gs().Project_DictVM.Items=e,Ee.Instance.Phase_Dict=t.ModelItem.Phase_Dict;var n=this.MassResultCompVM;n.ProjectVMStorageList=e,n.ProjectSelectVM.InitialItems=e;var i=function(){return n.PhaseVMStorageList=s.Items},s=t.Phase_DictVM;s.Items?i():s.OnGetItemsDone_Funcs.push((function(){i()}))}},{key:"MassResultCompVM",get:function(){if(!this.massResultCompVM){var t=this.massResultCompVM=function(t){var e=ci(new Wt,!1);return e.IsShowProjectSelect=!1,e.CanHavePhase=!0,e}();Gs().MassResultCompVM=t}return this.massResultCompVM}}]),t}(),Ps=n(206),Ls=(d.a.Option,function(t){Object(u.a)(n,t);var e=Object(h.a)(n);function n(t){var i;Object(c.a)(this,n);var s=(i=e.call(this,t)).props.store;return i.state=s||new Xn,i}return Object(o.a)(n,[{key:"render",value:function(){var t=this.state,e=t.Input,n=t.State;return Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)(m.a,{orientation:"left",plain:!0,children:Object(i.jsx)("b",{children:"Phi\xean b\u1ea3n kh\u1ed1i l\u01b0\u1ee3ng"})}),Object(i.jsxs)("div",{children:[Object(i.jsxs)(g.a,{type:"primary",size:"middle",onClick:t.AddVersion,disabled:n===Qn,children:[Object(i.jsx)(Ps.a,{})," L\u01afU K\u1ebeT QU\u1ea2 HI\u1ec6N T\u1ea0I"]}),n===Qn?Object(i.jsxs)("div",{className:"mt-3",children:[Object(i.jsx)(y,{store:e.NameVM}),Object(i.jsx)(y,{store:e.DescriptionVM}),Object(i.jsxs)("div",{className:"mt-2",children:[Object(i.jsx)(g.a,{type:"primary",size:"small",onClick:t.OK,children:"OK"}),Object(i.jsx)(g.a,{type:"default",size:"small",onClick:t.Cancel,children:"Cancel"})]})]}):""]})]})}}]),n}(s.Component)),Es=Object(l.a)(Ls),As=function(t){Object(u.a)(n,t);var e=Object(h.a)(n);function n(t){var i;Object(c.a)(this,n);var s=(i=e.call(this,t)).props.store;return i.state=s||new Ws,i}return Object(o.a)(n,[{key:"componentDidMount",value:function(){var t=this.state,e=this.props.match.params.id;t.id=e}},{key:"render",value:function(){var t=this.state,e=t.ProjectVM;return Object(i.jsx)(i.Fragment,{children:Object(i.jsx)("div",{style:{padding:15},children:Object(i.jsxs)(p.a,{gutter:10,children:[Object(i.jsx)(f.a,{span:5}),Object(i.jsx)(f.a,{span:14,children:e?Object(i.jsxs)(i.Fragment,{children:[Object(i.jsxs)("h4",{className:"text-center",children:["D\u1ef1 \xe1n ",e.Name]}),Object(i.jsx)(Es,{store:e.Phase_DictVM}),Object(i.jsx)(ks,{store:t.MassResultCompVM})]}):""}),Object(i.jsx)(f.a,{span:5})]})})})}}]),n}(s.Component),Rs=Object(bs.f)(Object(l.a)(As)),Hs=function(t){Object(u.a)(n,t);var e=Object(h.a)(n);function n(){return Object(c.a)(this,n),e.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){return Object(i.jsx)(ys.a,{basename:"/BIM_Database",children:Object(i.jsxs)(bs.c,{children:[Object(i.jsx)(bs.a,{exact:!0,path:"/",component:js}),Object(i.jsx)(bs.a,{exact:!0,path:"/massdetail/:id",component:_s}),Object(i.jsx)(bs.a,{path:"/project/:id",component:Rs})]})})}}]),n}(s.Component),Bs=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,209)).then((function(e){var n=e.getCLS,i=e.getFID,s=e.getFCP,r=e.getLCP,a=e.getTTFB;n(t),i(t),s(t),r(t),a(t)}))};a.a.render(Object(i.jsx)(Hs,{}),document.getElementById("root")),Bs()}},[[198,1,2]]]);
//# sourceMappingURL=main.2450e30a.chunk.js.map